(window["canvasWebpackJsonp"]=window["canvasWebpackJsonp"]||[]).push([[592],{"5+Bo":function(t,e,n){"use strict"
n.r(e)
var r=n("71tw")
var o=n("9Uei")
var a=n.n(o)
n("Gtfj")
n("NhbT")
n("xw2z")
n("LCgA")
n("YTLx")
n("8MtL")
n("eYD6")
n("ujec")
n("I9W/")
n("Gy1R")
n("HF4P")
n("Xg8j")
n("a+My")
n("Rwab")
var i=n("Qirk")
tinymce.PluginManager.add("instructure-ui-icons",(function(t){const e={"align-center":i["A"],"align-left":i["E"],"align-right":i["D"],"list-bull-default":i["g"],"list-num-default":i["v"],bold:i["d"],image:i["n"],indent:i["o"],italic:i["p"],underline:i["H"],link:i["q"],video:i["b"],document:i["k"],"list-bull-circle":i["f"],"list-bull-square":i["i"],"list-num-upper-alpha":i["e"],"list-num-upper-roman":i["h"],"ordered-list":i["v"],lti:i["r"],outdent:i["w"],"remove-formatting":i["j"],"strike-through":i["z"],subscript:i["F"],superscript:i["G"],"text-color":{src:'<svg viewBox="7 7 1773 1920">\n      <g fill="none" fill-rule="evenodd">\n        <g fill="#2B3B46" fill-rule="nonzero">\n          <path id="tox-icon-text-color__color" d="M0 1920v-443.07692h1772.30769V1920z"/>\n          <path d="M736.526769.05907692h299.224611L1545.14215 1227.08677l-136.46769 56.56615-164.97231-397.587689H528.576L363.603692 1283.65292 227.136 1227.08677 736.526769.05907692zM835.332923 147.751385L589.868308 738.372923h592.541542L937.09292 147.751385H835.332923z" id="A"/>\n        </g>\n      </g>\n    </svg>'},"highlight-bg-color":{src:'<svg viewBox="0 0 1920 1920" version="1.1">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <path id="tox-icon-highlight-bg-color__color" fill="#2B3B46" d="M74 1918.14125 1841 1918.14125 1841 1469.14125 74 1469.14125z"/>\n          <path d="M1543.03014,312.225305 L1056.25966,861 L795,619.351719 L1335.45236,123.521776 C1343.65702,115.67377 1355.72958,114.736695 1363.23098,121.647625 L1541.15479,286.221467 C1548.53898,293.015262 1548.65619,305.19724 1543.03014,312.225305 L1543.03014,312.225305 Z M898.711011,994.448142 C836.706813,972.459128 767.201162,989.769628 721.489183,1038.89402 L701.094608,1061 L616,982.517932 L636.628996,960.294992 C681.989345,911.287561 694.179206,840.758966 667.220859,780.757027 C659.250565,762.627787 664.056183,740.638772 678.355828,726.95412 L708.830481,699 L979,948.481745 L952.393284,978.190307 C939.148531,994.565105 917.699064,1000.76414 898.711011,994.448142 L898.711011,994.448142 Z M598.157143,1171.267 L416,1171.618 L532.908571,1065.382 L621,1146.931 L598.157143,1171.267 Z M1620.96383,200.201811 L1443.1176,35.7209178 C1390.27923,-13.0965429 1307.56551,-11.4575874 1255.6644,38.0622828 L598.40662,641.080844 C547.442781,689.781237 532.212208,764.939054 560.330188,828.15591 C567.945475,845.013738 564.079252,866.203091 550.606054,880.602486 L492.261245,943.819342 L304.690887,1114.38778 C276.104274,1140.494 265.208557,1179.82894 276.221432,1216.8225 C287.234308,1253.93314 317.929769,1280.85884 365.37886,1287.6488 L649.136142,1288 L707.246634,1226.18796 L707.480951,1226.4221 L743.448533,1187.55544 L747.080439,1183.69219 L807.534096,1118.25104 C821.35877,1103.50044 842.09578,1098.23236 859.200884,1104.43698 C924.45803,1127.73356 998.267727,1106.77835 1041.49912,1053.98057 L1632.44533,387.979285 C1678.60569,331.43532 1673.56788,248.902203 1620.96383,200.201811 L1620.96383,200.201811 Z" id="Fill-1" fill="#2B3B46"/>\n        </g>\n      </svg>'},unlink:i["y"],"unordered-list":i["g"],ltr:i["B"],rtl:i["C"],"chevron-down":i["a"],fullscreen:i["m"],htmlview:{src:'<svg viewBox="0 0 24 24" font-size="16px" width="24" height="24" ">\n        <g role="presentation">\n          <text textAnchor="start" x="0" y="18px">\n            &lt;/&gt;\n          </text>\n        </g>\n      </svg>'},embed:{src:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.7647 5.21417C13.6694 5.21417 13.5773 5.23988 13.482 5.24631C12.8329 3.36281 11.0795 2 9 2C6.53506 2 4.52435 3.91029 4.28294 6.34234C4.09341 6.31127 3.90176 6.28556 3.70588 6.28556C1.66235 6.28556 0 7.96764 0 10.0354C0 12.1032 1.66235 13.7853 3.70588 13.7853L5 13.7853V12.7139L3.70588 12.7139C2.24682 12.7139 1.05882 11.5129 1.05882 10.0354C1.05882 8.55798 2.24682 7.35695 3.70588 7.35695C4.40259 7.35695 5.06012 7.62908 5.55882 8.12192L6.29894 7.35588C6.00565 7.0666 5.66788 6.84483 5.30894 6.66912C5.38941 4.67419 7.00835 3.07139 9 3.07139C11.0435 3.07139 12.7059 4.75347 12.7059 6.82126C12.7059 7.1491 12.6635 7.47266 12.582 7.78658L13.6059 8.06085C13.7107 7.65801 13.7647 7.24124 13.7647 6.82126C13.7647 6.64019 13.7308 6.4677 13.7118 6.29199C13.7298 6.29199 13.7467 6.28556 13.7647 6.28556C15.516 6.28556 16.9412 7.72765 16.9412 9.49973C16.9412 11.2718 15.516 12.7139 13.7647 12.7139L13 12.7139V13.7853L13.7647 13.7853C16.1005 13.7853 18 11.8632 18 9.49973C18 7.13624 16.1005 5.21417 13.7647 5.21417Z" fill="#2B3B46"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.72039 10.6479L8.3603 11.1813L6.75882 13.1025L8.36029 15.0239L7.72038 15.5573L5.6748 13.1024L7.72039 10.6479ZM10.2802 10.6479L12.3258 13.1024L10.2802 15.5573L9.64031 15.0239L11.2418 13.1025L9.6403 11.1813L10.2802 10.6479Z" fill="#2D3B45"/>\n      </svg>'}}
Object.keys(e).forEach(n=>{t.ui.registry.addIcon(n,e[n].src)})}))
var u=n("NFDp")
var c=function(t){const e=[{name:"alignleft",text:Object(u["a"])("Align left"),cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:Object(u["a"])("Align center"),cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:Object(u["a"])("Align right"),cmd:"JustifyRight",icon:"align-right"}]
const n=Object(u["a"])("Align")
t.ui.registry.addSplitButton("align",{tooltip:n,icon:"align-left",presets:"listpreview",columns:3,fetch:t=>{const n=e.map(t=>({type:"choiceitem",value:t.cmd,icon:t.icon,text:t.text}))
t(n)},onAction:()=>{const n=e.find(e=>t.formatter.match(e.name))
const r=n?n.cmd:"JustifyLeft"
t.execCommand(r)},onItemAction:(e,n)=>t.execCommand(n),select:n=>{const r=e.find(t=>t.cmd===n)
return t.formatter.match(r.name)},onSetup:r=>{const o=t.$(`.tox-split-button[aria-label="${n}"] .tox-icon`,document)
const a=t.ui.registry.getAll().icons
function i(){const n=e.find(e=>t.formatter.match(e.name))
const i=n?n.icon:"align-left"
const u=a[i]
r.setActive(!!n)
o.html(u)}i()
t.on("NodeChange",i)
return()=>t.off("NodeChange",i)}})}
var s=n("VTBJ")
function l(t){const e={tooltip:Object(u["a"])("Increase indent"),icon:"indent",onAction:()=>t.execCommand("indent")}
t.ui.registry.addButton("inst_indent",e)
t.ui.registry.addSplitButton("inst_outdent",Object(s["a"])(Object(s["a"])({},e),{},{presets:"listpreview",columns:3,fetch:t=>{t([{type:"choiceitem",icon:"outdent",text:Object(u["a"])("Decrease indent")}])},onItemAction:()=>t.execCommand("outdent"),onSetup:()=>{function n(n){t.$(`.tox-tbtn[aria-label="${e.tooltip}"]`,document)[n?"hide":"show"]()
t.$(`.tox-split-button[aria-label="${e.tooltip}"]`,document)[n?"show":"hide"]()}function r(){const e=t.queryCommandState("outdent")
n(e)}setTimeout(r)
t.on("NodeChange",r)
return()=>t.off("NodeChange",r)}}))}const f=function(t,e,n){const r="UL"===e?"InsertUnorderedList":"InsertOrderedList"
t.execCommand(r,false,false===n?null:{"list-style-type":n})}
var v={applyListFormat:f}
const d=(t,e)=>t.$.contains(t.getBody(),e)
const m=t=>t&&/^(TH|TD)$/.test(t.nodeName)
const g=t=>e=>e&&/^(OL|UL|DL)$/.test(e.nodeName)&&d(t,e)
const h=t=>{const e=t.dom.getParent(t.selection.getNode(),"ol,ul")
if(e)return{listType:e.nodeName,listStyleType:t.dom.getStyle(e,"listStyleType")}}
var p={isTableCellNode:m,isListNode:g,getSelectedStyleType:h}
const b={"unordered-default":{listType:"UL",icon:"list-bull-default",text:Object(u["a"])("default bulleted unordered list")},circle:{listType:"UL",icon:"list-bull-circle",text:Object(u["a"])("circle unordered list")},square:{listType:"UL",icon:"list-bull-square",text:Object(u["a"])("square unordered list")},"ordered-default":{listType:"OL",icon:"list-num-default",text:Object(u["a"])("default numerical ordered list")},"upper-alpha":{listType:"OL",icon:"list-num-upper-alpha",text:Object(u["a"])("uppercase alphabetic ordered list")},"upper-roman":{listType:"OL",icon:"list-num-upper-roman",text:Object(u["a"])("uppercase Roman numeral ordered list")}}
function y(t,e){const n=p.getSelectedStyleType(e)
return n&&t.find(t=>{if("OL"===n.listType&&"ordered-default"===t&&!n.listStyleType)return true
if("UL"===n.listType&&"unordered-default"===t&&!n.listStyleType)return true
return t===n.listStyleType})}const w=(t,e)=>{const n=Array.prototype.findIndex.call(e.parents,p.isTableCellNode)
const r=-1!==n?e.parents.slice(0,n):e.parents
const o=tinymce.grep(r,p.isListNode(t))
return o.length>0&&("UL"===o[0].nodeName||"OL"===o[0].nodeName)}
const x=Object(u["a"])("Ordered and Unordered Lists")
function C(t){t.ui.registry.addSplitButton("bullist",{tooltip:x,icon:"unordered-list",presets:"listpreview",columns:3,fetch:t=>{const e=Object.keys(b).map(t=>{const e=b[t],n=e.icon,r=e.text
return{type:"choiceitem",value:t,icon:n,text:r}})
t(e)},onAction:()=>{const e=b[y(Object.keys(b),t)]
const n=e&&"OL"==e.listType?"InsertOrderedList":"InsertUnorderedList"
t.execCommand(n)},onItemAction:(e,n)=>{const r=b[n]
const o="unordered-default"!==n&&"ordered-default"!==n&&n
v.applyListFormat(t,r.listType,o)},select:e=>!!y([e],t),onSetup:e=>{const n=t.$(`.tox-split-button[aria-label="${x}"] .tox-icon`,document)
const r=t.ui.registry.getAll().icons
const o=o=>{const a=w(t,o)
e.setActive(a)
let i=r["list-bull-default"]
if(a){var u
const e=y(Object.keys(b),t)
const n=r[null===(u=b[e])||void 0===u?void 0:u.icon]
void 0!==n&&(i=n)}n.html(i)}
o({parents:t.dom.getParents(t.selection.getNode(),"ol,ul")})
t.on("NodeChange",o)
return()=>t.off("NodeChange",o)}})}function S(t){const e={superscript:Object(u["a"])("Superscript"),subscript:Object(u["a"])("Subscript")}
Object.keys(e).forEach(n=>{const r="superscript"===n?"subscript":"superscript"
t.ui.registry.addSplitButton("inst_"+n,{presets:"listpreview",columns:3,tooltip:e[n],icon:n,fetch:t=>{t([{type:"choiceitem",icon:r,text:e[r]}])},onAction:()=>t.execCommand("mceToggleFormat",false,n),onItemAction:()=>t.execCommand("mceToggleFormat",false,r),onSetup(o){const a=t.$(`.tox-split-button[aria-label="${e[n]}"]`,document)
function i(){const e=t.formatter.match(n)
const i=e||"superscript"===n&&!t.formatter.match(r)
a[i?"show":"hide"]()
o.setActive(e)}i()
t.on("NodeChange",i)
return()=>t.off("NodeChange",i)}})})}var O=function(t){const e=[{name:"ltr",text:Object(u["a"])("Left-to-Right"),cmd:"mceDirectionLTR",icon:"ltr"},{name:"rtl",text:Object(u["a"])("Right-to-Left"),cmd:"mceDirectionRTL",icon:"rtl"}]
"rtl"===document.dir&&e.reverse()
t.ui.registry.addNestedMenuItem("directionality",{text:Object(u["a"])("Directionality"),getSubmenuItems:()=>[e[0].name,e[1].name]})
e.forEach(e=>{t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,onAction:()=>t.execCommand(e.cmd)})})}
tinymce.PluginManager.add("instructure_condensed_buttons",(function(t){[c,l,C,S,O].forEach(e=>e(t))}))
var k=n("dKDz")
var T=n.n(k)
var _=function(t,e){const n=e.createEvent("CustomEvent")
n.initCustomEvent("tinyRCE/initEquation",true,true,{ed:t})
e.dispatchEvent(n)}
tinymce.create("tinymce.plugins.InstructureEquation",{init(t){t.ui.registry.addIcon("equation",i["l"].src)
t.addCommand("instructureEquation",_.bind(this,t,document))
t.ui.registry.addMenuItem("instructure_equation",{text:Object(u["a"])("Equation"),icon:"equation",onAction:()=>t.execCommand("instructureEquation")})
t.ui.registry.addToggleButton("instructure_equation",{tooltip:T()(Object(u["a"])({default:"Insert Math Equation",description:"Title for RCE button to insert a math equation"})),onAction:()=>t.execCommand("instructureEquation"),icon:"equation",onSetup(e){const n=t=>{e.setActive("IMG"===t.element.nodeName.toLowerCase()&&"equation_image"===t.element.className)}
t.on("NodeChange",n)
return()=>t.off("NodeChange",n)}})
t.ui.registry.addButton("instructure-equation-options",{onAction(){t.execCommand("instructureEquation")},text:Object(u["a"])("Edit Equation")})
t.ui.registry.addContextToolbar("instructure-equation-toolbar",{items:"instructure-equation-options",position:"node",predicate:function(t){return"IMG"===t.tagName&&t.classList.contains("equation_image")||t.classList.contains("math_equation_latex")},scope:"node"})}})
tinymce.PluginManager.add("instructure_equation",tinymce.plugins.InstructureEquation)
var z=n("QV6e")
var M=n("WRSb")
var E=n("DWdj")
var D=n("q1tI")
var A=n.n(D)
var R=n("i8i4")
var H=n.n(R)
var B=n("b5/e")
var I=n("ODXe")
var L=n("17x9")
var P=n("f0TT")
var V=n("cW++")
var F=n("cY3j")
var N=n("Ci/e")
var j=n("hlkS")
var W=n("Mesd")
var U=n("587I")
var q=n("z7I/")
function G(t){const e=t.imageOptions,n=t.onEntered,r=t.onExited,o=t.onRequestClose,a=t.onSave,i=t.open
const c=e.naturalHeight,s=e.naturalWidth,l=e.isLinked
const f=e.appliedHeight||c
const v=e.appliedWidth||s
const d=Object(D["useState"])(e.altText),m=Object(I["a"])(d,2),g=m[0],h=m[1]
const p=Object(D["useState"])(e.isDecorativeImage),b=Object(I["a"])(p,2),y=b[0],w=b[1]
const x=Object(D["useState"])("embed"),C=Object(I["a"])(x,2),S=C[0],O=C[1]
const k=Object(D["useState"])(e.imageSize),T=Object(I["a"])(k,2),_=T[0],z=T[1]
const M=Object(D["useState"])(f),E=Object(I["a"])(M,2),R=E[0],H=E[1]
const B=Object(D["useState"])(v),L=Object(I["a"])(B,2),G=L[0],J=L[1]
const X=Object(W["b"])(e,{minHeight:j["b"],minWidth:j["c"]})
const $=[]
_!==j["a"]&&$.push({text:Object(u["a"])("{width} x {height}px",{height:R,width:G}),type:"hint"})
return A.a.createElement(N["a"],{"data-mce-component":true,label:Object(u["a"])("Image Options Tray"),onDismiss:o,onEntered:n,onExited:r,open:i,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},A.a.createElement(F["a"],{direction:"column",height:Object(q["a"])()},A.a.createElement(F["a"].Item,{as:"header",padding:"medium"},A.a.createElement(F["a"],{direction:"row"},A.a.createElement(F["a"].Item,{grow:true,shrink:true},A.a.createElement(V["a"],{as:"h2"},Object(u["a"])("Image Options"))),A.a.createElement(F["a"].Item,null,A.a.createElement(P["a"],{placemet:"static",variant:"icon",onClick:o},Object(u["a"])("Close"))))),A.a.createElement(F["a"].Item,{as:"form",grow:true,margin:"none",shrink:true},A.a.createElement(U["a"],{id:"image-options-form",imageSize:_,displayAs:S,isDecorativeImage:y,altText:g,isLinked:l,dimensionsState:X,handleAltTextChange:function(t){h(t.target.value)},handleIsDecorativeChange:function(t){w(t.target.checked)},handleDisplayAsChange:function(t){O(t.target.value)},handleImageSizeChange:function(t,e){z(e.value)
if(e.value===j["a"]){H(f)
J(v)}else{const t=Object(j["i"])(e.value,s,c),n=t.height,r=t.width
H(n)
J(r)}},messagesForSize:$,handleSave:function(t){t.preventDefault()
const e=y?g||" ":g
let n=R
let r=G
if(_===j["a"]){n=X.height
r=X.width}a({altText:e,appliedHeight:n,appliedWidth:r,displayAs:S,isDecorativeImage:y})},flexHeight:"100%"}))))}G.propTypes={imageOptions:Object(L["shape"])({altText:L["string"].isRequired,appliedHeight:L["number"],appliedWidth:L["number"],isDecorativeImage:L["bool"].isRequired,isLinked:L["bool"],naturalHeight:L["number"].isRequired,naturalWidth:L["number"].isRequired}).isRequired,onEntered:L["func"],onExited:L["func"],onRequestClose:L["func"].isRequired,onSave:L["func"].isRequired,open:L["bool"].isRequired}
G.defaultProps={onEntered:null,onExited:null}
const J="instructure-image-options-tray-container"
class X{constructor(){this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let t=document.getElementById(J)
if(null==t){t=document.createElement("div")
t.id=J
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showTrayForEditor(t){this._editor=t
this.$img=t.selection.getNode()
this._shouldOpen=true
z["a"].focusedEditor&&z["a"].hideTrays()
this._renderTray()}hideTrayForEditor(t){this._editor===t&&this._dismissTray()}_applyImageOptions(t){const e=this._editor
const n=this.$img
if("embed"===t.displayAs){e.dom.setAttribs(n,{alt:t.altText,role:t.isDecorativeImage?"presentation":null,width:t.appliedWidth,height:t.appliedHeight,"data-decorative":!!t.isDecorativeImage||null})
e.fire("ObjectResized",{target:n,width:t.appliedWidth,height:t.appliedHeight})}else{const r=Object(B["c"])({href:n.src,text:t.altText||n.src,target:"_blank"})
e.selection.setContent(r)}this._dismissTray()
e.focus()}_dismissTray(){this._shouldOpen=false
this._renderTray()
this.$img=null
this._editor=null}_renderTray(){this._shouldOpen&&this._renderId++
const t=Object(M["d"])(this.$img)
t.isLinked="A"===this._editor.selection.getSel().anchorNode.tagName
const e=A.a.createElement(G,{key:this._renderId,imageOptions:t,onEntered:()=>{this._isOpen=true},onExited:()=>{z["a"].focusActiveEditor(false)
this._isOpen=false},onSave:t=>{this._applyImageOptions(t)},onRequestClose:()=>this._dismissTray(),open:this._shouldOpen})
H.a.render(e,this.$container)}}var $=function(t,e,r){return n.e(161).then(n.bind(null,"ErcB")).then(({UploadFile:n})=>{let o=e.querySelector(".canvas-rce-upload-container")
if(!o){o=e.createElement("div")
o.className="canvas-rce-upload-container"
e.body.appendChild(o)}const a=()=>{H.a.unmountComponentAtNode(o)
t.focus(false)}
H.a.render(A.a.createElement(n,{accept:"image/*",editor:t,label:Object(u["a"])("Upload Image"),panels:["COMPUTER","UNSPLASH","URL"],onDismiss:a,trayProps:r}),o)})}
const K="course_images"
const Y="user_images"
const Q="group_images"
const Z=new X
function tt(t){const e=t.settings.canvas_rce_user_context.type
const n=[{text:Object(u["a"])("Upload Image"),value:"instructure_upload_image"}]
"course"===e?n.push({text:Object(u["a"])("Course Images"),value:"instructure_course_image"}):"group"===e&&n.push({text:Object(u["a"])("Group Images"),value:"instructure_group_image"})
n.push({text:Object(u["a"])("User Images"),value:"instructure_user_image"})
return n}function et(t,e){switch(e){case"instructure_upload_image":t.execCommand("mceInstructureImage")
break
case"instructure_course_image":t.focus(true)
t.execCommand("instructureTrayForImages",false,K)
break
case"instructure_group_image":t.focus(true)
t.execCommand("instructureTrayForImages",false,Q)
break
case"instructure_user_image":t.focus(true)
t.execCommand("instructureTrayForImages",false,Y)}}tinymce.create("tinymce.plugins.InstructureImagePlugin",{init(t){t.addCommand("mceInstructureImage",$.bind(this,t,document))
t.addCommand("instructureTrayForImages",(e,n)=>{z["a"].showTrayForPlugin(n,t.id)})
t.ui.registry.addNestedMenuItem("instructure_image",{text:Object(u["a"])("Image"),icon:"image",getSubmenuItems:()=>tt(t).map(e=>({type:"menuitem",text:e.text,onAction:()=>et(t,e.value),onSetup:e=>{e.setDisabled(!Object(E["d"])(t.selection.getContent()))
return()=>{}}}))})
t.ui.registry.addSplitButton("instructure_image",{tooltip:Object(u["a"])("Images"),icon:"image",fetch(e){const n=tt(t).map(t=>({type:"choiceitem",text:t.text,value:t.value}))
e(n)},onAction(e){e.isDisabled()||et(t,"instructure_upload_image")},onItemAction:(e,n)=>et(t,n),onSetup(e){function n(){e.setDisabled(!Object(E["d"])(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})
const e=Object(u["a"])("Show image options")
t.ui.registry.addButton("instructure-image-options",{onAction(){Z.showTrayForEditor(t)},text:Object(u["a"])("Image Options"),tooltip:e})
t.ui.registry.addContextToolbar("instructure-image-toolbar",{items:"instructure-image-options",position:"node",predicate:function(t){return!t.classList.contains("equation_image")&&Object(M["i"])(t)},scope:"node"})},remove(t){Z.hideTrayForEditor(t)}})
tinymce.PluginManager.add("instructure_image",tinymce.plugins.InstructureImagePlugin)
var nt=function(t,e,n){const r=e.createEvent("CustomEvent")
r.initCustomEvent("tinyRCE/initExternalTools",true,true,{ed:t,url:n})
e.dispatchEvent(r)}
function rt(t,e){return n.e(245).then(n.bind(null,"DiQt")).then(({LtiToolsModal:n})=>{let r=document.querySelector(".canvas-rce-upload-container")
if(!r){r=document.createElement("div")
r.className="canvas-rce-upload-container"
document.body.appendChild(r)}const o=()=>{H.a.unmountComponentAtNode(r)
t.focus()}
H.a.render(A.a.createElement(n,{editor:t,onDismiss:o,ltiButtons:e}),r)})}tinymce.create("tinymce.plugins.InstructureExternalTools",{init(t,e){document.addEventListener("tinyRCE/onExternalTools",e=>{rt(t,e.detail.ltiButtons)})
t.ui.registry.addIcon("lti",i["r"].src)
nt(t,document,e)},icon:"lti"})
tinymce.PluginManager.add("instructure_external_tools",tinymce.plugins.InstructureExternalTools)
var ot=n("eHui")
var at=n("f2i8")
var it=function(t,e){return Promise.all([n.e(111),n.e(633)]).then(n.bind(null,"JobW")).then(n=>{const r=n.default
let o=e.querySelector(".canvas-rce-media-upload")
if(!o){o=e.createElement("div")
o.className="canvas-rce-media-upload"
e.body.appendChild(o)}const a=()=>{H.a.unmountComponentAtNode(o)
t.focus(false)}
let i=null
const c=e=>{var n
z["a"].focusEditor(t.rceWrapper)
const r=z["a"].activeEditor()
i=null===r||void 0===r||null===(n=r.editor)||void 0===n?void 0:n.selection.getBookmark(2,true)
z["a"].insertImagePlaceholder(e)
a()}
const s=(t,e,n)=>{var r
let o=t&&z["a"].uploadMediaTranslations.UploadMediaStrings.UPLOADING_ERROR;(null===t||void 0===t||null===(r=t.file)||void 0===r?void 0:r.size)>1024*(null===t||void 0===t?void 0:t.maxFileSize)*1024&&(o=Object(u["a"])("Size of {file} is greater than the maximum {max} MB allowed file size.",{file:t.file.name,max:t.maxFileSize}))
const a=z["a"].activeEditor()
let c
if(i){c=a.editor.selection.getBookmark(2,true)
a.editor.selection.moveToBookmark(i)}n(o,e)
c&&a.editor.selection.moveToBookmark(c)}
const l=z["a"].trayProps.get(t)
H.a.render(A.a.createElement(ot["a"],l,n=>A.a.createElement(r,{rcsConfig:{contextType:t.settings.canvas_rce_user_context.type,contextId:t.settings.canvas_rce_user_context.id,origin:Object(at["c"])(n.host),headers:Object(at["b"])(n.jwt)},languages:z["a"].languages,open:true,liveRegion:()=>e.getElementById("flash_screenreader_holder"),onStartUpload:t=>c(t),onUploadComplete:(t,e)=>s(t,e,n.mediaUploadComplete),onDismiss:a,tabs:{record:true,upload:true},uploadMediaTranslations:z["a"].uploadMediaTranslations})),o)})}
var ut=n("G1G5")
const ct=new ut["c"]
const st="course_media"
const lt="user_media"
const ft="group_media"
function vt(t){const e=t.settings.canvas_rce_user_context.type
const n=[]
t.getParam("show_media_upload")&&n.push({text:Object(u["a"])("Upload/Record Media"),value:"instructure_upload_media"})
"course"===e?n.push({text:Object(u["a"])("Course Media"),value:"instructure_course_media"}):"group"===e&&n.push({text:Object(u["a"])("Group Media"),value:"instructure_group_media"})
n.push({text:Object(u["a"])("User Media"),value:"instructure_user_media"})
return n}function dt(t,e){switch(e){case"instructure_upload_media":t.execCommand("instructureRecord")
break
case"instructure_course_media":t.focus(true)
t.execCommand("instructureTrayForMedia",false,st)
break
case"instructure_group_media":t.focus(true)
t.execCommand("instructureTrayForMedia",false,ft)
break
case"instructure_user_media":t.focus(true)
t.execCommand("instructureTrayForMedia",false,lt)}}tinymce.create("tinymce.plugins.InstructureRecord",{init(t){t.addCommand("instructureRecord",it.bind(this,t,document))
t.addCommand("instructureTrayForMedia",(e,n)=>{z["a"].showTrayForPlugin(n,t.id)})
t.ui.registry.addNestedMenuItem("instructure_media",{text:Object(u["a"])("Media"),icon:"video",getSubmenuItems:()=>vt(t).map(e=>({type:"menuitem",text:e.text,onAction:()=>dt(t,e.value),onSetup:e=>{e.setDisabled(!Object(E["d"])(t.selection.getContent()))
return()=>{}}}))})
t.ui.registry.addSplitButton("instructure_record",{tooltip:Object(u["a"])("Record/Upload Media"),icon:"video",fetch(e){const n=vt(t).map(t=>({type:"choiceitem",text:t.text,value:t.value}))
e(n)},onAction(e){if(!e.isDisabled()){const e=vt(t)[0].value
dt(t,e)}},onItemAction:(e,n)=>dt(t,n),onSetup(e){function n(){e.setDisabled(!Object(E["d"])(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})
const e=Object(u["a"])("Show video options")
t.ui.registry.addButton("instructure-video-options",{onAction(){ct.showTrayForEditor(t)},text:Object(u["a"])("Video Options"),tooltip:e})
t.ui.registry.addContextToolbar("instructure-video-toolbar",{items:"instructure-video-options",position:"node",predicate:M["j"],scope:"node"})},remove(t){ct.hideTrayForEditor(t)}})
tinymce.PluginManager.add("instructure_record",tinymce.plugins.InstructureRecord)
var mt=n("gj0F")
var gt=n("I4Df")
var ht=n("UUvk")
var pt=n("01yy")
var bt=n("l0Pw")
var yt=n("CxY0")
const wt=["ftp:","http:","https:","mailto:","tel:","skype:"]
function xt(t){const e=t.trim()
const n=Object(yt["parse"])(e,false,true)
const r=n.protocol
if(r){if(r){if(!wt.includes(r))throw new Error(Object(u["a"])("{p} is not a valid protocol which must be ftp, http, https, mailto, skype, tel or may be omitted",{p:r.replace(/:$/,"")}))
if(/(?:ftp|http|https):\/\/.+/.test(e))return true
if(/(?:mailto|skype|tel):(\/\/)?[^/].*/.test(e))return true
if(/^(?:ftp|http|https):\/{0,1}[^/]/.test(e))throw new Error(Object(u["a"])("Invalid URL"))
return false}}else{if(":"===n.href[0])throw new Error(Object(u["a"])("Protocol must be ftp, http, https, mailto, skype, tel or may be omitted"))
if(/^\/\/$/.test(e))return false}return true}const Ct="create"
function St(t){const e=Object(D["useState"])(t.text||""),n=Object(I["a"])(e,2),r=n[0],o=n[1]
const a=Object(D["useState"])(t.url||""),i=Object(I["a"])(a,2),c=i[0],s=i[1]
const l=Object(D["useState"])(null),f=Object(I["a"])(l,2),v=f[0],d=f[1]
const m=Object(D["useState"])(false),g=Object(I["a"])(m,2),h=g[0],p=g[1]
Object(D["useEffect"])(()=>{try{const t=xt(c)
p(t)
d(null)}catch(t){p(false)
d(t.message)}},[c])
function b(e){e.preventDefault()
if(!c)return
const n=r.trim()||c
t.onSave({text:n,target:"_blank",href:c,userText:t.showText,class:"inline_disabled"})}const y=t.operation===Ct?Object(u["a"])("Insert Link"):Object(u["a"])("Edit Link")
return A.a.createElement(pt["a"],{"data-testid":"RCELinkOptionsDialog","data-mce-component":true,as:"form",label:y,onDismiss:t.onRequestClose,onEntered:t.onEntered,onExited:t.onExited,onSubmit:b,open:t.open,shouldCloseOnDocumentClick:true,shouldReturnFocus:false,size:"medium"},A.a.createElement(pt["a"].Header,null,A.a.createElement(P["a"],{offset:"medium",placement:"end",variant:"icon",onClick:t.onRequestClose},Object(u["a"])("Close")),A.a.createElement(V["a"],null,y)),A.a.createElement(pt["a"].Body,null,t.showText&&A.a.createElement(bt["a"],{as:"div",margin:"small"},A.a.createElement(ht["a"],{renderLabel:Object(u["a"])("Text"),name:"linktext",onChange:function(t){o(t.target.value)},value:r})),A.a.createElement(bt["a"],{as:"div",margin:"small"},A.a.createElement(ht["a"],{renderLabel:Object(u["a"])("Link"),name:"linklink",onChange:function(t){s(t.target.value)},value:c})),v&&A.a.createElement(bt["a"],{as:"div",margin:"small","data-testid":"url-error"},A.a.createElement(mt["a"],{variant:"error"},v))),A.a.createElement(pt["a"].Footer,null,A.a.createElement("input",{type:"submit",style:{display:"none"}}),A.a.createElement(gt["a"],{variant:"default",onClick:t.onRequestClose,margin:"0 small"},Object(u["a"])("Close")),A.a.createElement(gt["a"],{disabled:!(c&&h),onClick:b,variant:"primary"},Object(u["a"])("Done"))))}St.propTypes={text:L["string"],url:L["string"],operation:Object(L["oneOf"])(["create","edit"]),onEntered:L["func"],onExited:L["func"],onRequestClose:L["func"].isRequired,onSave:L["func"].isRequired,open:L["bool"].isRequired,showText:L["bool"]}
St.defaultProps={onEntered:null,onExited:null,showText:true}
const Ot="instructure-link-options-tray-container"
const kt="create"
const Tt="edit"
class _t{constructor(){this._dismissDialog=()=>{this._shouldOpen=false
this._renderDialog()}
this._hasClosed=()=>{z["a"].focusActiveEditor(false)
this._isOpen=false
this._editor.focus(false)
this._editor=null}
this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let t=document.getElementById(Ot)
if(null==t){t=document.createElement("div")
t.id=Ot
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showDialogForEditor(t,e){this._editor=t
this._shouldOpen=true
this._op=e
this._renderDialog()}hideDialog(){this._dismissDialog()}_applyLinkOptions(t){this._dismissDialog()
z["a"].insertLink(t)}_renderDialog(){let t,e,n,r,o
if(this._shouldOpen){var a
t=this._editor.selection.getContent()
e=Object(E["e"])(t)
o=e&&this._editor.selection.getContent({format:"text"})
n=Object(E["b"])(this._editor,this._editor.selection.getNode())
r=null===(a=n)||void 0===a?void 0:a.getAttribute("href")
this._renderId++}const i=A.a.createElement(St,{key:this._renderId,size:"medium",showText:e,text:o,url:r,operation:this._op,onEntered:()=>{this._isOpen=true},onExited:this._hasClosed,onRequestClose:this._dismissDialog,onSave:t=>{z["a"].focusEditor(this._editor.rceWrapper)
this._applyLinkOptions(t)},open:this._shouldOpen})
H.a.render(i,this.$container)}}const zt=new _t
var Mt=function(t,e){zt.showDialogForEditor(t,e)}
var Et=n("lYvi")
var Dt=n("IpHG")
var At=n("t4gF")
var Rt=n("mSKL")
function Ht(t){var e,n,r
const o=t.content||{}
const a=o.text||""
const i=o.onlyTextSelected
const c=Object(D["useState"])(a||""),s=Object(I["a"])(c,2),l=s[0],f=s[1]
const v=Object(D["useState"])(o.url||""),d=Object(I["a"])(v,2),m=d[0],g=d[1]
const h=Object(D["useState"])(null),p=Object(I["a"])(h,2),b=p[0],y=p[1]
const w=Object(D["useState"])(false),x=Object(I["a"])(w,2),C=x[0],S=x[1]
const O=Object(D["useState"])(o.displayAs===M["a"]),k=Object(I["a"])(O,2),T=k[0],_=k[1]
const z=Object(D["useState"])(o.displayAs===M["b"]),E=Object(I["a"])(z,2),R=E[0],H=E[1]
const B=Object(D["useState"])(!!(null!==(e=window)&&void 0!==e&&null!==(n=e.ENV)&&void 0!==n&&null!==(r=n.FEATURES)&&void 0!==r&&r.rce_better_file_previewing)),L=Object(I["a"])(B,1),j=L[0]
Object(D["useEffect"])(()=>{try{const t=xt(m)
S(t)
y(null)}catch(t){S(false)
y(t.message)}},[m])
function W(e){e.preventDefault()
const n=o.isPreviewable?"scribd":null
const r={embed:n?{type:n,autoOpenPreview:T&&!R,disablePreview:R}:null,text:l,target:"_blank",href:m,id:o.id||null,class:n?void 0:"inline_disabled"}
t.onSave(r)}function U(t){H(t.target.checked)}function G(t){_(t.target.checked)}function J(t,e){H("overlay"===e)}function X(){return A.a.createElement(Et["b"],{description:Object(u["a"])("Display Options"),layout:"stacked",rowSpacing:"small"},A.a.createElement(Dt["a"],{label:Object(u["a"])("Disable in-line preview."),name:"disable-preview",onChange:U,checked:R}),!R&&A.a.createElement(Dt["a"],{label:Object(u["a"])("Automatically open an in-line preview. (Preview displays only after saving)"),name:"auto-preview",onChange:G,checked:T}))}return A.a.createElement(N["a"],{"data-testid":"RCELinkOptionsTray","data-mce-component":true,label:Object(u["a"])("Link Options"),onDismiss:t.onRequestClose,onEntered:t.onEntered,onExited:t.onExited,open:t.open,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},A.a.createElement(F["a"],{direction:"column",height:Object(q["a"])()},A.a.createElement(F["a"].Item,{as:"header",padding:"medium"},A.a.createElement(F["a"],{direction:"row"},A.a.createElement(F["a"].Item,{grow:true,shrink:true},A.a.createElement(V["a"],{as:"h2"},Object(u["a"])("Link Options"))),A.a.createElement(F["a"].Item,null,A.a.createElement(P["a"],{placement:"static",variant:"icon",onClick:t.onRequestClose},Object(u["a"])("Close"))))),A.a.createElement(F["a"].Item,{as:"form",grow:true,margin:"none",shrink:true,onSubmit:W},A.a.createElement(F["a"],{justifyItems:"space-between",direction:"column",height:"100%"},A.a.createElement(F["a"].Item,{grow:true,padding:"small",shrink:true},A.a.createElement("input",{type:"submit",style:{display:"none"}}),A.a.createElement(F["a"],{direction:"column"},i&&A.a.createElement(F["a"].Item,{padding:"small"},A.a.createElement(ht["a"],{renderLabel:()=>Object(u["a"])("Text"),onChange:function(t){f(t.target.value)},value:l})),A.a.createElement(F["a"].Item,{padding:"small"},A.a.createElement(ht["a"],{renderLabel:()=>Object(u["a"])("Link"),onChange:function(t){g(t.target.value)},value:m})),b&&A.a.createElement(F["a"].Item,{padding:"small","data-testid":"url-error"},A.a.createElement(mt["a"],{variant:"error"},b)),o.isPreviewable&&A.a.createElement(F["a"].Item,{margin:"small none none none",padding:"small"},j?A.a.createElement(Et["b"],{description:Object(u["a"])("Display Options"),layout:"stacked",rowSpacing:"small"},A.a.createElement(At["a"],{description:" ",name:"preview_option",onChange:J,value:R?"overlay":"inline"},A.a.createElement(Rt["a"],{key:"overlay",value:"overlay",label:Object(u["a"])("Preview in overlay")}),A.a.createElement(Rt["a"],{key:"inline",value:"inline",label:Object(u["a"])("Preview inline")})),!R&&A.a.createElement(bt["a"],{as:"div",margin:"0 0 0 small"},A.a.createElement(Dt["a"],{label:Object(u["a"])("Expand preview by Default"),name:"auto-preview",onChange:G,checked:T}))):X()))),A.a.createElement(F["a"].Item,{background:"light",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},A.a.createElement(gt["a"],{disabled:i&&!l||!(m&&C),onClick:W,variant:"primary"},Object(u["a"])("Done")))))))}Ht.propTypes={content:t=>{t.open&&Object(L["checkPropTypes"])({content:Object(L["shape"])({$element:L["object"],dispalyAs:Object(L["oneOf"])([M["c"],M["a"]]),isPreviewable:L["bool"],text:L["string"],url:L["string"]}).isRequired},t,"content","LinkOptionsTray")},onEntered:L["func"],onExited:L["func"],onRequestClose:L["func"].isRequired,onSave:L["func"].isRequired,open:L["bool"].isRequired}
Ht.defaultProps={onEntered:null,onExited:null}
const Bt="instructure-link-options-tray-container"
class It{constructor(){this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let t=document.getElementById(Bt)
if(null==t){t=document.createElement("div")
t.id=Bt
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showTrayForEditor(t){this._editor=t
this._shouldOpen=true
const e=t.selection.getNode()
if(t.selection.isCollapsed()&&"A"===e.nodeName)t.selection.select(t.selection.getNode())
else{const n=Object(E["b"])(t,e)
t.selection.select(n)}z["a"].focusedEditor&&z["a"].hideTrays()
this._renderTray()}hideTrayForEditor(t){this._editor===t&&this._dismissTray()}_applyLinkOptions(t){this._dismissTray()
z["a"].insertLink(Object(s["a"])(Object(s["a"])({},t),{},{userText:true}))}_dismissTray(){this._shouldOpen=false
this._renderTray()
this._editor=null}_renderTray(){let t={}
if(this._shouldOpen){t=Object(M["g"])(this._editor)
this._renderId++}const e=A.a.createElement(Ht,{content:t,key:this._renderId,onEntered:()=>{this._isOpen=true},onExited:()=>{z["a"].focusActiveEditor(false)
this._isOpen=false},onSave:t=>{this._applyLinkOptions(t)},onRequestClose:()=>this._dismissTray(),open:this._shouldOpen})
H.a.render(e,this.$container)}}const Lt=new It
const Pt="course_links"
const Vt="group_links"
function Ft(t){return t.selection.getRng().cloneContents().querySelectorAll("a").length}function Nt(t){var e
const n=null===(e=t.settings.canvas_rce_containing_context)||void 0===e?void 0:e.type
const r=t.selection.isCollapsed()?0:Ft(t)
let o
if(Object(E["b"])(t,t.selection.getNode()))o=[{text:Object(u["a"])("Edit Link"),value:"instructureTrayToEditLink"},{text:Object(u["a"])("Remove Link"),value:"instructureUnlink"}]
else{o=[{text:Object(u["a"])("External Links"),value:"instructureLinkCreate"}]
"course"===n?o.push({text:Object(u["a"])("Course Links"),value:"instructure_course_links"}):"group"===n&&o.push({text:Object(u["a"])("Group Links"),value:"instructure_group_links"})
r>0&&o.push({text:u["a"].plural(r,{one:"Remove Link",other:"Remove Links"}),value:"instructureUnlinkAll"})}return o}function jt(t,e){switch(e){case"instructureTrayToEditLink":case"instructureLinkCreate":t.execCommand(e)
break
case"instructureUnlink":{const e=t.selection.getNode()
const n=Object(E["b"])(t,e)
t.selection.select(n)
t.undoManager.add()
t.execCommand("unlink")}break
case"instructureUnlinkAll":t.undoManager.add()
t.execCommand("unlink")
break
case"instructure_course_links":t.focus(true)
t.execCommand("instructureTrayForLinks",false,Pt)
break
case"instructure_group_links":t.focus(true)
t.execCommand("instructureTrayForLinks",false,Vt)}}tinymce.create("tinymce.plugins.InstructureLinksPlugin",{init(t){t.addCommand("instructureLinkCreate",Mt.bind(this,t,kt))
t.addCommand("instructureLinkEdit",Mt.bind(this,t,Tt))
t.addCommand("instructureTrayForLinks",(e,n)=>{z["a"].showTrayForPlugin(n,t.id)})
t.addCommand("instructureTrayToEditLink",()=>{Lt.showTrayForEditor(t)})
t.addShortcut("Meta+K","","instructureLinkCreate")
t.ui.registry.addNestedMenuItem("instructure_links",{text:Object(u["a"])("Link"),icon:"link",getSubmenuItems:()=>Nt(t).map(e=>({type:"menuitem",text:e.text,onAction:()=>jt(t,e.value),onSetup:e=>{e.setDisabled(!Object(E["d"])(t.selection.getContent()))
return()=>{}}}))})
t.ui.registry.addSplitButton("instructure_links",{tooltip:Object(u["a"])("Links"),icon:"link",fetch(e){const n=Nt(t).map(t=>({type:"choiceitem",text:t.text,value:t.value}))
e(n)},onAction(e){e.isDisabled()||(Object(E["b"])(t,t.selection.getNode())?jt(t,"instructureTrayToEditLink"):jt(t,"instructureLinkCreate"))},onItemAction:(e,n)=>jt(t,n),onSetup(e){function n(n){null!==n&&e.setActive(!!Object(E["b"])(t,n.element))
e.setDisabled(!Object(E["d"])(t.selection.getContent()))}function r(){let e
if("A"===t.selection.getNode().tagName)e=t.selection.getNode()
else{var n,r
const o=t.selection.getRng()
o.commonAncestorContainer===o.endContainer&&"A"===(null===(n=o.endContainer.nextSibling)||void 0===n?void 0:n.tagName)?e=o.endContainer.nextSibling:"A"===(null===(r=o.nextSibling)||void 0===r?void 0:r.tagName)&&(e=o.nextSibling)}if(e){var o
if(e.firstElementChild)return
const n=null===(o=e.textContent)||void 0===o?void 0:o.trim()
0===n.length&&t.execCommand("Unlink")}}setTimeout(n,0,null)
t.on("NodeChange",n)
t.on("Change",r)
return()=>{t.off("NodeChange",n)
t.off("Change",r)}}})
t.ui.registry.addButton("instructure-link-options",{onAction(){t.execCommand("instructureTrayToEditLink",false,t)},text:Object(u["a"])("Link Options"),tooltip:Object(u["a"])("Show link options")})
const e=Object(u["a"])("Remove Link")
t.ui.registry.addButton("instructureUnlink",{onAction(){t.undoManager.add()
t.execCommand("Unlink")},text:e})
t.ui.registry.addContextToolbar("instructure-link-toolbar",{items:"instructure-link-options instructureUnlink",position:"node",predicate:e=>!!Object(E["b"])(t,e),scope:"node"})}})
tinymce.PluginManager.add("instructure_links",tinymce.plugins.InstructureLinksPlugin)
var Wt=function(t,e){return n.e(161).then(n.bind(null,"ErcB")).then(({UploadFile:n})=>{let r=e.querySelector(".canvas-rce-upload-container")
if(!r){r=e.createElement("div")
r.className="canvas-rce-upload-container"
e.body.appendChild(r)}const o=()=>{H.a.unmountComponentAtNode(r)
t.focus()}
H.a.render(A.a.createElement(n,{accept:void 0,editor:t,label:Object(u["a"])("Upload File"),panels:["COMPUTER"],onDismiss:o}),r)})}
const Ut="course_documents"
const qt="user_documents"
const Gt="group_documents"
function Jt(t){const e=t.settings.canvas_rce_user_context.type
const n=[{text:Object(u["a"])("Upload Document"),value:"instructure_upload_document"}]
"course"===e?n.push({text:Object(u["a"])("Course Documents"),value:"instructure_course_document"}):"group"===e&&n.push({text:Object(u["a"])("Group Documents"),value:"instructure_group_document"})
n.push({text:Object(u["a"])("User Documents"),value:"instructure_user_document"})
return n}function Xt(t,e){switch(e){case"instructure_upload_document":t.execCommand("mceInstructureDocuments")
break
case"instructure_course_document":t.focus(true)
t.execCommand("instructureTrayForDocuments",false,Ut)
break
case"instructure_user_document":t.focus(true)
t.execCommand("instructureTrayForDocuments",false,qt)
break
case"instructure_group_document":t.focus(true)
t.execCommand("instructureTrayForDocuments",false,Gt)}}tinymce.create("tinymce.plugins.InstructureDocumentsPlugin",{init(t){t.addCommand("mceInstructureDocuments",Wt.bind(this,t,document))
t.addCommand("instructureTrayForDocuments",(e,n)=>{z["a"].showTrayForPlugin(n,t.id)})
t.ui.registry.addNestedMenuItem("instructure_document",{text:Object(u["a"])("Document"),icon:"document",getSubmenuItems:()=>Jt(t).map(e=>({type:"menuitem",text:e.text,onAction:()=>Xt(t,e.value),onSetup:e=>{e.setDisabled(!Object(E["d"])(t.selection.getContent()))
return()=>{}}}))})
t.ui.registry.addSplitButton("instructure_documents",{tooltip:Object(u["a"])("Documents"),icon:"document",fetch(e){const n=Jt(t).map(t=>({type:"choiceitem",text:t.text,value:t.value}))
e(n)},onAction(e){e.isDisabled()||Xt(t,"instructure_upload_document")},onItemAction:(e,n)=>Xt(t,n),onSetup(e){function n(){e.setDisabled(!Object(E["d"])(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})}})
tinymce.PluginManager.add("instructure_documents",tinymce.plugins.InstructureDocumentsPlugin)
var $t=function(){z["a"].activeEditor().toggleView()}
tinymce.create("tinymce.plugins.InstructureHtmlView",{init(t){t.addCommand("instructureHtmlView",$t.bind(this,t,document))
t.ui.registry.addMenuItem("instructure_html_view",{text:Object(u["a"])("HTML Editor"),icon:"htmlview",onAction:()=>t.execCommand("instructureHtmlView"),onSetup(e){const n=!("requestFullscreen"in document.body)&&!t.rceWrapper.props.use_rce_pretty_html_editor&&t.rceWrapper.state.fullscreenState.isTinyFullscreen
e.setDisabled(n)}})}})
tinymce.PluginManager.add("instructure_html_view",tinymce.plugins.InstructureHtmlView)
var Kt=function(t,e){return n.e(714).then(n.bind(null,"msS2")).then(({Embed:n})=>{let r=e.querySelector(".canvas-rce-embed-container")
if(!r){r=e.createElement("div")
r.className="canvas-rce-embed-container"
e.body.appendChild(r)}const o=()=>{H.a.unmountComponentAtNode(r)
t.focus(false)}
H.a.render(A.a.createElement(n,{onSubmit:t=>{z["a"].insertEmbedCode(t)},onDismiss:o}),r)})}
tinymce.create("tinymce.plugins.InstructureMediaEmbed",{init(t){t.addCommand("instructureMediaEmbed",Kt.bind(this,t,document))
t.ui.registry.addMenuItem("instructure_media_embed",{text:Object(u["a"])("Embed"),icon:"embed",onAction:()=>t.execCommand("instructureMediaEmbed")})
t.ui.registry.addButton("instructure_media_embed",{tooltip:Object(u["a"])("Embed"),icon:"embed",onAction:()=>t.execCommand("instructureMediaEmbed")})}})
tinymce.PluginManager.add("instructure_media_embed",tinymce.plugins.InstructureMediaEmbed)
n("OS/W")
const Yt=a.a.ScriptLoader.add
a.a.ScriptLoader.add=function(t){"none"!==t&&Yt.apply(a.a.ScriptLoader,arguments)}
r["c"](a.a)
e["default"]=a.a},"587I":function(t,e,n){"use strict"
var r=n("q1tI")
var o=n.n(r)
var a=n("qqWp")
var i=n("I4Df")
var u=n("2zZe")
var c=n("t4gF")
var s=n("mSKL")
var l=n("1F2O")
var f=n("IpHG")
var v=n("gW/U")
var d=n("cY3j")
var m=n("l0Pw")
var g=n("dC4u")
var h=n("hlkS")
var p=n("NFDp")
var b=n("Mesd")
const y=({imageSize:t,displayAs:e,isDecorativeImage:n,altText:r,isLinked:y,dimensionsState:w,handleAltTextChange:x,handleIsDecorativeChange:C,handleDisplayAsChange:S,handleImageSizeChange:O,messagesForSize:k,handleSave:T,hideDimensions:_,flexHeight:z,id:M="image-options-form"})=>{const E=Object(p["a"])("Used by screen readers to describe the content of an image")
const D=o.a.createElement(d["a"],{alignItems:"center"},o.a.createElement(d["a"].Item,null,Object(p["a"])("Alt Text")),o.a.createElement(d["a"].Item,{margin:"0 0 0 xx-small"},o.a.createElement(g["a"],{on:["hover","focus"],placement:"top",tip:o.a.createElement(m["a"],{display:"block",id:"alt-text-label-tooltip",maxWidth:"14rem"},E)},o.a.createElement(i["a"],{icon:v["a"],size:"small",variant:"icon"},o.a.createElement(a["a"],null,E)))))
const A="embed"===e&&(!n&&""===r||t===h["a"]&&!(null!==w&&void 0!==w&&w.isValid))
return o.a.createElement(d["a"],{justifyItems:"space-between",direction:"column",height:z},o.a.createElement(d["a"],{direction:"column"},o.a.createElement(d["a"].Item,{padding:"small"},o.a.createElement(l["a"],{disabled:n,"aria-describedby":"alt-text-label-tooltip",height:"4rem",label:D,onChange:x,placeholder:Object(p["a"])("(Describe the image)"),resize:"vertical",value:r})),o.a.createElement(d["a"].Item,{padding:"small"},o.a.createElement(f["a"],{checked:n,disabled:"link"===e,label:Object(p["a"])("Decorative Image"),onChange:C})),o.a.createElement(d["a"].Item,{margin:"small none none none",padding:"small"},o.a.createElement(c["a"],{description:Object(p["a"])("Display Options"),disabled:y,name:"display-image-as",onChange:S,value:e},o.a.createElement(s["a"],{label:Object(p["a"])("Embed Image"),value:"embed"}),o.a.createElement(s["a"],{disabled:n,label:Object(p["a"])("Display Text Link (Opens in a new tab)"),value:"link"}))),!_&&o.a.createElement(d["a"].Item,{margin:"small none xx-small none"},o.a.createElement(m["a"],{as:"div",padding:"small small xx-small small"},o.a.createElement(u["a"],{id:M+"-size",disabled:"embed"!==e,renderLabel:Object(p["a"])("Size"),messages:k,assistiveText:Object(p["a"])("Use arrow keys to navigate options."),onChange:O,value:t},h["g"].map(t=>o.a.createElement(u["a"].Option,{id:`${M}-size-${t}`,key:t,value:t},Object(h["h"])(t))))),t===h["a"]&&o.a.createElement(m["a"],{as:"div",padding:"xx-small small"},o.a.createElement(b["a"],{dimensionsState:w,disabled:"embed"!==e,minHeight:h["b"],minWidth:h["c"]})))),T&&o.a.createElement(d["a"].Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},o.a.createElement(i["a"],{disabled:A,onClick:T,variant:"primary"},Object(p["a"])("Done"))))}
e["a"]=y},"71tw":function(t,e,n){"use strict"
n.d(e,"c",(function(){return a}))
n.d(e,"b",(function(){return u}))
n.d(e,"a",(function(){return c}))
let r=false
let o=false
function a(t){i(t.Env)}function i(t){r=!!t.ie
o=r&&!!(t.edge||12==t.ie)}function u(){return r}function c(){return o}},"8MtL":function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.util.Tools")
var n=function(t){return t.getParam("noneditable_noneditable_class","mceNonEditable")}
var r=function(t){return t.getParam("noneditable_editable_class","mceEditable")}
var o=function(t){var e=t.getParam("noneditable_regexp",[])
return e&&e.constructor===RegExp?[e]:e}
var a=function(t){return function(e){return-1!==(" "+e.attr("class")+" ").indexOf(t)}}
var i=function(t,e,n){return function(r){var o=arguments,a=o[o.length-2]
var i=a>0?e.charAt(a-1):""
if('"'===i)return r
if(">"===i){var u=e.lastIndexOf("<",a)
if(-1!==u){var c=e.substring(u,a)
if(-1!==c.indexOf('contenteditable="false"'))return r}}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(o[0])+'">'+t.dom.encode("string"===typeof o[1]?o[1]:o[0])+"</span>"}}
var u=function(t,e,r){var o=e.length,a=r.content
if("raw"===r.format)return
while(o--)a=a.replace(e[o],i(t,a,n(t)))
r.content=a}
var c=function(t){var i="contenteditable"
var c=" "+e.trim(r(t))+" "
var s=" "+e.trim(n(t))+" "
var l=a(c)
var f=a(s)
var v=o(t)
t.on("PreInit",(function(){v.length>0&&t.on("BeforeSetContent",(function(e){u(t,v,e)}))
t.parser.addAttributeFilter("class",(function(t){var e,n=t.length
while(n--){e=t[n]
l(e)?e.attr(i,"true"):f(e)&&e.attr(i,"false")}}))
t.serializer.addAttributeFilter(i,(function(t){var e,n=t.length
while(n--){e=t[n]
if(!l(e)&&!f(e))continue
if(v.length>0&&e.attr("data-mce-content")){e.name="#text"
e.type=3
e.raw=true
e.value=e.attr("data-mce-content")}else e.attr(i,null)}}))}))}
function s(){t.add("noneditable",(function(t){c(t)}))}s()})()},Gtfj:function(t,e,n){(function(t){(function(){"use strict"
var e=function(){}
var n=function(t){return function(){return t()}}
var r=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t(e.apply(null,n))}}
var o=function(t,e){return function(n){return t(e(n))}}
var a=function(t){return function(){return t}}
var i=function(t){return t}
function u(t){var e=[]
for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=e.concat(n)
return t.apply(null,o)}}var c=function(t){return function(e){return!t(e)}}
var s=function(t){return function(){throw new Error(t)}}
var l=a(false)
var f=a(true)
var v=tinymce.util.Tools.resolve("tinymce.ThemeManager")
var d=function(){d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return d.apply(this,arguments)}
function m(t,e){var n={}
for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r])
if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0
for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var h=function(){return p}
var p=function(){var t=function(t){return t.isNone()}
var n=function(t){return t()}
var r=function(t){return t}
var o={fold:function(t,e){return t()},is:l,isSome:l,isNone:f,getOr:r,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:r,orThunk:n,map:h,each:e,bind:h,exists:l,forall:f,filter:h,equals:t,equals_:t,toArray:function(){return[]},toString:a("none()")}
return o}()
var b=function(t){var e=a(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:f,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return b(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:p},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}}
return o}
var y=function(t){return null===t||void 0===t?p:b(t)}
var w={some:b,none:h,from:y}
var x=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var C=function(t){return function(e){return x(e)===t}}
var S=function(t){return function(e){return typeof e===t}}
var O=function(t){return function(e){return t===e}}
var k=C("string")
var T=C("object")
var _=C("array")
var z=S("boolean")
var M=O(void 0)
var E=function(t){return null===t||void 0===t}
var D=function(t){return!E(t)}
var A=S("function")
var R=S("number")
var H=function(t,e){if(_(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return false
return true}return false}
var B=Array.prototype.slice
var I=Array.prototype.indexOf
var L=Array.prototype.push
var P=function(t,e){return I.call(t,e)}
var V=function(t,e){var n=P(t,e)
return-1===n?w.none():w.some(n)}
var F=function(t,e){return P(t,e)>-1}
var N=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return true}return false}
var j=function(t,e){var n=[]
for(var r=0;r<t;r++)n.push(e(r))
return n}
var W=function(t,e){var n=[]
for(var r=0;r<t.length;r+=e){var o=B.call(t,r,r+e)
n.push(o)}return n}
var U=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var q=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var G=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n]
e(r,n)}}
var J=function(t,e){var n=[]
var r=[]
for(var o=0,a=t.length;o<a;o++){var i=t[o]
var u=e(i,o)?n:r
u.push(i)}return{pass:n,fail:r}}
var X=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var $=function(t,e,n){G(t,(function(t){n=e(n,t)}))
return n}
var K=function(t,e,n){q(t,(function(t){n=e(n,t)}))
return n}
var Y=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return w.some(a)
if(n(a,r))break}return w.none()}
var Q=function(t,e){return Y(t,e,l)}
var Z=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return w.some(n)}return w.none()}
var tt=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!_(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
L.apply(e,t[n])}return e}
var et=function(t,e){return tt(U(t,e))}
var nt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n]
if(true!==e(o,n))return false}return true}
var rt=function(t){var e=B.call(t,0)
e.reverse()
return e}
var ot=function(t,e){return X(t,(function(t){return!F(e,t)}))}
var at=function(t,e){var n={}
for(var r=0,o=t.length;r<o;r++){var a=t[r]
n[String(a)]=e(a,r)}return n}
var it=function(t,e){var n=B.call(t,0)
n.sort(e)
return n}
var ut=function(t,e){return e>=0&&e<t.length?w.some(t[e]):w.none()}
var ct=function(t){return ut(t,0)}
var st=function(t){return ut(t,t.length-1)}
var lt=A(Array.from)?Array.from:function(t){return B.call(t)}
var ft=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n)
if(r.isSome())return r}return w.none()}
var vt=function(t){var e=function(e){return t===e}
var n=function(e){return vt(t)}
var r=function(e){return vt(t)}
var o=function(e){return vt(e(t))}
var i=function(e){return vt(t)}
var u=function(e){e(t)}
var c=function(e){return e(t)}
var s=function(e,n){return n(t)}
var v=function(e){return e(t)}
var d=function(e){return e(t)}
var m=function(){return w.some(t)}
return{is:e,isValue:f,isError:l,getOr:a(t),getOrThunk:a(t),getOrDie:a(t),or:n,orThunk:r,fold:s,map:o,mapError:i,each:u,bind:c,exists:v,forall:d,toOptional:m}}
var dt=function(t){var n=function(t){return t()}
var r=function(){return s(String(t))()}
var o=function(t){return t}
var a=function(t){return t()}
var u=function(e){return dt(t)}
var c=function(e){return dt(e(t))}
var v=function(e){return dt(t)}
var d=function(e,n){return e(t)}
return{is:l,isValue:l,isError:f,getOr:i,getOrThunk:n,getOrDie:r,or:o,orThunk:a,fold:d,map:u,mapError:c,each:e,bind:v,exists:l,forall:f,toOptional:w.none}}
var mt=function(t,e){return t.fold((function(){return dt(e)}),vt)}
var gt={value:vt,error:dt,fromOption:mt}
var ht;(function(t){t[t["Error"]=0]="Error"
t[t["Value"]=1]="Value"})(ht||(ht={}))
var pt=function(t,e,n){return t.stype===ht.Error?e(t.serror):n(t.svalue)}
var bt=function(t){var e=[]
var n=[]
q(t,(function(t){pt(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))}))
return{values:e,errors:n}}
var yt=function(t,e){return t.stype===ht.Error?{stype:ht.Error,serror:e(t.serror)}:t}
var wt=function(t,e){return t.stype===ht.Value?{stype:ht.Value,svalue:e(t.svalue)}:t}
var xt=function(t,e){return t.stype===ht.Value?e(t.svalue):t}
var Ct=function(t,e){return t.stype===ht.Error?e(t.serror):t}
var St=function(t){return{stype:ht.Value,svalue:t}}
var Ot=function(t){return{stype:ht.Error,serror:t}}
var kt=function(t){return pt(t,gt.error,gt.value)}
var Tt=function(t){return t.fold(Ot,St)}
var _t={fromResult:Tt,toResult:kt,svalue:St,partition:bt,serror:Ot,bind:xt,bindError:Ct,map:wt,mapError:yt,fold:pt}
var zt=Object.keys
var Mt=Object.hasOwnProperty
var Et=function(t,e){var n=zt(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var Dt=function(t,e){return At(t,(function(t,n){return{k:n,v:e(t,n)}}))}
var At=function(t,e){var n={}
Et(t,(function(t,r){var o=e(t,r)
n[o.k]=o.v}))
return n}
var Rt=function(t){return function(e,n){t[n]=e}}
var Ht=function(t,e,n,r){var o={}
Et(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var Bt=function(t,n){var r={}
Ht(t,n,Rt(r),e)
return r}
var It=function(t,e){var n=[]
Et(t,(function(t,r){n.push(e(t,r))}))
return n}
var Lt=function(t,e){var n=zt(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
if(e(i,a,t))return w.some(i)}return w.none()}
var Pt=function(t){return It(t,(function(t){return t}))}
var Vt=function(t,e){return Ft(t,e)?w.from(t[e]):w.none()}
var Ft=function(t,e){return Mt.call(t,e)}
var Nt=function(t,e){return Ft(t,e)&&void 0!==t[e]&&null!==t[e]}
var jt=function(t){if(!_(t))throw new Error("cases must be an array")
if(0===t.length)throw new Error("there must be at least one case")
var e=[]
var n={}
q(t,(function(r,o){var a=zt(r)
if(1!==a.length)throw new Error("one and only one name per case")
var i=a[0]
var u=r[i]
if(void 0!==n[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!_(u))throw new Error("case arguments must be an array")
e.push(i)
n[i]=function(){var n=arguments.length
if(n!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+n)
var r=new Array(n)
for(var a=0;a<r.length;a++)r[a]=arguments[a]
var c=function(t){var n=zt(t)
if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","))
var o=nt(e,(function(t){return F(n,t)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "))
return t[i].apply(null,r)}
return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length)
var e=arguments[o]
return e.apply(null,r)},match:c,log:function(t){console.log(t,{constructors:e,constructor:i,params:r})}}}}))
return n}
var Wt={generate:jt}
var Ut=Object.prototype.hasOwnProperty
var qt=function(t,e){return e}
var Gt=function(t,e){var n=T(t)&&T(e)
return n?Xt(t,e):e}
var Jt=function(t){return function(){var e=new Array(arguments.length)
for(var n=0;n<e.length;n++)e[n]=arguments[n]
if(0===e.length)throw new Error("Can't merge zero objects")
var r={}
for(var o=0;o<e.length;o++){var a=e[o]
for(var i in a)Ut.call(a,i)&&(r[i]=t(r[i],a[i]))}return r}}
var Xt=Jt(Gt)
var $t=Jt(qt)
var Kt=function(t){var e=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!e){e=true
n=t.apply(null,r)}return n}}
var Yt=Wt.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}])
var Qt=function(t){return Yt.defaultedThunk(a(t))}
var Zt=function(t){return Yt.mergeWithThunk(a(t))}
var te=Yt.strict
var ee=Yt.asOption
var ne=Yt.defaultedThunk
Yt.asDefaultedOptionThunk
var re=Yt.mergeWithThunk
Wt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var oe=function(t){var e=[]
var n=[]
q(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))}))
return{errors:e,values:n}}
var ae=function(t,e){var n={}
Et(t,(function(t,r){F(e,r)||(n[r]=t)}))
return n}
var ie=function(t,e){var n
return n={},n[t]=e,n}
var ue=function(t){var e={}
q(t,(function(t){e[t.key]=t.value}))
return e}
var ce=function(t,e){return ae(t,e)}
var se=function(t,e){return ie(t,e)}
var le=function(t){return ue(t)}
var fe=function(t,e){return 0===t.length?gt.value(e):gt.value(Xt(e,$t.apply(void 0,t)))}
var ve=function(t){return gt.error(tt(t))}
var de=function(t,e){var n=oe(t)
return n.errors.length>0?ve(n.errors):fe(n.values,e)}
var me=function(t,e){return t.length>0?_t.svalue(Xt(e,$t.apply(void 0,t))):_t.svalue(e)}
var ge=function(t){return r(_t.serror,tt)(t)}
var he=function(t,e){var n=_t.partition(t)
return n.errors.length>0?ge(n.errors):me(n.values,e)}
var pe=function(t){var e=_t.partition(t)
return e.errors.length>0?ge(e.errors):_t.svalue(e.values)}
var be={consolidateObj:he,consolidateArr:pe}
var ye=function(t){return T(t)&&zt(t).length>100?" removed due to size":JSON.stringify(t,null,2)}
var we=function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t
return U(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))}
var xe=function(t,e){return _t.serror([{path:t,getErrorInfo:e}])}
var Ce=function(t,e,n){return xe(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+ye(n)}))}
var Se=function(t,e){return xe(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}
var Oe=function(t,e,n){return xe(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+ye(e)}))}
var ke=function(t,e){return xe(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))}
var Te=function(t,e){return xe(t,(function(){return e}))}
var _e=Wt.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}])
var ze=function(t,e,n){return Vt(e,n).fold((function(){return Ce(t,n,e)}),_t.svalue)}
var Me=function(t,e,n){var r=Vt(t,e).fold((function(){return n(t)}),i)
return _t.svalue(r)}
var Ee=function(t,e){return _t.svalue(Vt(t,e))}
var De=function(t,e,n){var r=Vt(t,e).map((function(e){return true===e?n(t):e}))
return _t.svalue(r)}
var Ae=function(t,e,n,r){return n.fold((function(n,o,i,u){var c=function(e){var a=u.extract(t.concat([n]),r,e)
return _t.map(a,(function(t){return ie(o,r(t))}))}
var s=function(e){return e.fold((function(){var t=ie(o,r(w.none()))
return _t.svalue(t)}),(function(e){var a=u.extract(t.concat([n]),r,e)
return _t.map(a,(function(t){return ie(o,r(w.some(t)))}))}))}
return i.fold((function(){return _t.bind(ze(t,e,n),c)}),(function(t){return _t.bind(Me(e,n,t),c)}),(function(){return _t.bind(Ee(e,n),s)}),(function(t){return _t.bind(De(e,n,t),s)}),(function(t){var r=t(e)
var o=_t.map(Me(e,n,a({})),(function(t){return Xt(r,t)}))
return _t.bind(o,c)}))}),(function(t,n){var o=n(e)
return _t.svalue(ie(t,r(o)))}))}
var Re=function(t,e,n,r){var o=U(n,(function(n){return Ae(t,e,n,r)}))
return be.consolidateObj(o,{})}
var He=function(t){var e=function(e,n,r){return t().extract(e,n,r)}
var n=function(){return t().toString()}
return{extract:e,toString:n}}
var Be=function(t){var e=function(e,n,r){return _t.bindError(t(r,n),(function(t){return Te(e,t)}))}
var n=function(){return"val"}
return{extract:e,toString:n}}
var Ie=function(t){return zt(Bt(t,(function(t){return void 0!==t&&null!==t})))}
var Le=function(t){var e=Pe(t)
var n=$(t,(function(t,e){return e.fold((function(e){return Xt(t,se(e,true))}),a(t))}),{})
var r=function(t,r,o){var a=z(o)?[]:Ie(o)
var i=X(a,(function(t){return!Nt(n,t)}))
return 0===i.length?e.extract(t,r,o):ke(t,i)}
return{extract:r,toString:e.toString}}
var Pe=function(t){var e=function(e,n,r){return Re(e,r,t,n)}
var n=function(){var e=U(t,(function(t){return t.fold((function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))}))
return"obj{\n"+e.join("\n")+"}"}
return{extract:e,toString:n}}
var Ve=function(t){var e=function(e,n,r){var o=U(r,(function(r,o){return t.extract(e.concat(["["+o+"]"]),n,r)}))
return be.consolidateArr(o)}
var n=function(){return"array("+t.toString()+")"}
return{extract:e,toString:n}}
var Fe=function(t){var e=function(e,n,r){var o=[]
for(var a=0,i=t;a<i.length;a++){var u=i[a]
var c=u.extract(e,n,r)
if(c.stype===ht.Value)return c
o.push(c)}return be.consolidateArr(o)}
var n=function(){return"oneOf("+U(t,(function(t){return t.toString()})).join(", ")+")"}
return{extract:e,toString:n}}
var Ne=function(t,e){var n=function(e,n){return Ve(Be(t)).extract(e,i,n)}
var r=function(t,r,o){var a=zt(o)
var i=n(t,a)
return _t.bind(i,(function(n){var a=U(n,(function(t){return _e.field(t,t,te(),e)}))
return Pe(a).extract(t,r,o)}))}
var o=function(){return"setOf("+e.toString()+")"}
return{extract:r,toString:o}}
var je=function(t,e){var n=Kt((function(){return e()}))
var r=function(t,e,r){return n().extract(t,e,r)}
var o=function(){return n().toString()}
return{extract:r,toString:o}}
var We=a(Be(_t.svalue))
var Ue=r(Ve,Pe)
var qe=_e.state
var Ge=_e.field
var Je=function(t,e,n,r,o){var a=Vt(r,o)
return a.fold((function(){return Oe(t,r,o)}),(function(r){return r.extract(t.concat(["branch: "+o]),e,n)}))}
var Xe=function(t,e){var n=function(n,r,o){var a=Vt(o,t)
return a.fold((function(){return Se(n,t)}),(function(t){return Je(n,r,o,e,t)}))}
var r=function(){return"chooseOn("+t+"). Possible values: "+zt(e)}
return{extract:n,toString:r}}
var $e=Be(_t.svalue)
var Ke=function(t){return Ue(t)}
var Ye=function(){return Ve($e)}
var Qe=He
var Ze=function(t){return Be((function(e){return t(e).fold(_t.serror,_t.svalue)}))}
var tn=function(t,e){return Ne((function(e){return _t.fromResult(t(e))}),e)}
var en=function(t,e,n,r){var o=e.extract([t],n,r)
return _t.mapError(o,(function(t){return{input:r,errors:t}}))}
var nn=function(t,e,n){return _t.toResult(en(t,e,i,n))}
var rn=function(t){return t.fold((function(t){throw new Error(an(t))}),i)}
var on=function(t,e,n){return rn(nn(t,e,n))}
var an=function(t){return"Errors: \n"+we(t.errors).join("\n")+"\n\nInput object: "+ye(t.input)}
var un=function(t,e){return Xe(t,e)}
var cn=function(t,e){return Xe(t,Dt(e,Pe))}
var sn=function(t,e){return je(t,e)}
var ln=a($e)
var fn=function(t,e){return Be((function(n){var r=typeof n
return t(n)?_t.svalue(n):_t.serror("Expected type: "+e+" but got: "+r)}))}
var vn=fn(R,"number")
var dn=fn(k,"string")
var mn=fn(z,"boolean")
var gn=fn(A,"function")
var hn=function(t){var e=function(t,e){var n=t.next()
while(!n.done){if(!e(n.value))return false
n=t.next()}return true}
if(Object(t)!==t)return true
switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return true
case"Array":case"Object":return Object.keys(t).every((function(e){return hn(t[e])}))
case"Map":return e(t.keys(),hn)&&e(t.values(),hn)
case"Set":return e(t.keys(),hn)
default:return false}}
var pn=Be((function(t){return hn(t)?_t.svalue(t):_t.serror("Expected value to be acceptable for sending via postMessage")}))
var bn=function(t){return Ze((function(e){return F(t,e)?gt.value(e):gt.error('Unsupported value: "'+e+'", choose one of "'+t.join(", ")+'".')}))}
var yn=function(t){return Ge(t,t,te(),We())}
var wn=function(t,e){return Ge(t,t,te(),e)}
var xn=function(t){return wn(t,vn)}
var Cn=function(t){return wn(t,dn)}
var Sn=function(t,e){return Ge(t,t,te(),bn(e))}
var On=function(t){return wn(t,mn)}
var kn=function(t){return wn(t,gn)}
var Tn=function(t,e){return Ge(t,t,ee(),Be((function(n){return _t.serror("The field: "+t+" is forbidden. "+e)})))}
var _n=function(t,e){return Ge(t,t,te(),Pe(e))}
var zn=function(t,e){return Ge(t,t,te(),Ue(e))}
var Mn=function(t,e){return Ge(t,t,te(),Ve(e))}
var En=function(t){return Ge(t,t,ee(),We())}
var Dn=function(t,e){return Ge(t,t,ee(),e)}
var An=function(t){return Dn(t,vn)}
var Rn=function(t){return Dn(t,dn)}
var Hn=function(t){return Dn(t,gn)}
var Bn=function(t,e){return Dn(t,Ve(e))}
var In=function(t,e){return Dn(t,Pe(e))}
var Ln=function(t,e){return Dn(t,Le(e))}
var Pn=function(t,e){return Ge(t,t,Qt(e),We())}
var Vn=function(t,e,n){return Ge(t,t,Qt(e),n)}
var Fn=function(t,e){return Vn(t,e,vn)}
var Nn=function(t,e){return Vn(t,e,dn)}
var jn=function(t,e,n){return Vn(t,e,bn(n))}
var Wn=function(t,e){return Vn(t,e,mn)}
var Un=function(t,e){return Vn(t,e,gn)}
var qn=function(t,e){return Vn(t,e,pn)}
var Gn=function(t,e,n){return Vn(t,e,Ve(n))}
var Jn=function(t,e,n){return Vn(t,e,Pe(n))}
var Xn=function(t,e){return qe(t,e)}
var $n=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var Kn=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return Zn(r.childNodes[0])}
var Yn=function(t,e){var n=e||document
var r=n.createElement(t)
return Zn(r)}
var Qn=function(t,e){var n=e||document
var r=n.createTextNode(t)
return Zn(r)}
var Zn=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var tr=function(t,e,n){return w.from(t.dom.elementFromPoint(e,n)).map(Zn)}
var er={fromHtml:Kn,fromTag:Yn,fromText:Qn,fromDom:Zn,fromPoint:tr}
var nr=function(t,e,n,r){var o=t.isiOS()&&true===/ipad/i.test(n)
var i=t.isiOS()&&!o
var u=t.isiOS()||t.isAndroid()
var c=u||r("(pointer:coarse)")
var s=o||!i&&u&&r("(min-device-width:768px)")
var l=i||u&&!s
var f=e.isSafari()&&t.isiOS()&&false===/safari/i.test(n)
var v=!l&&!s&&!f
return{isiPad:a(o),isiPhone:a(i),isTablet:a(s),isPhone:a(l),isTouch:a(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:a(f),isDesktop:a(v)}}
var rr=function(t,e){for(var n=0;n<t.length;n++){var r=t[n]
if(r.test(e))return r}return}
var or=function(t,e){var n=rr(t,e)
if(!n)return{major:0,minor:0}
var r=function(t){return Number(e.replace(n,"$"+t))}
return ur(r(1),r(2))}
var ar=function(t,e){var n=String(e).toLowerCase()
if(0===t.length)return ir()
return or(t,n)}
var ir=function(){return ur(0,0)}
var ur=function(t,e){return{major:t,minor:e}}
var cr={nu:ur,detect:ar,unknown:ir}
var sr=function(t,e){var n=String(e).toLowerCase()
return Q(t,(function(t){return t.search(n)}))}
var lr=function(t,e){return sr(t,e).map((function(t){var n=cr.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var fr=function(t,e){return sr(t,e).map((function(t){var n=cr.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var vr={detectBrowser:lr,detectOs:fr}
var dr=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var mr=function(t,e){return-1!==t.indexOf(e)}
var gr=function(t,e){return dr(t,e,t.length-e.length)}
var hr=function(t){return function(e){return e.replace(t,"")}}
var pr=hr(/^\s+|\s+$/g)
var br=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var yr=function(t){return function(e){return mr(e,t)}}
var wr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return mr(t,"edge/")&&mr(t,"chrome")&&mr(t,"safari")&&mr(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,br],search:function(t){return mr(t,"chrome")&&!mr(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return mr(t,"msie")||mr(t,"trident")}},{name:"Opera",versionRegexes:[br,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yr("firefox")},{name:"Safari",versionRegexes:[br,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(mr(t,"safari")||mr(t,"mobile/"))&&mr(t,"applewebkit")}}]
var xr=[{name:"Windows",search:yr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return mr(t,"iphone")||mr(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yr("linux"),versionRegexes:[]},{name:"Solaris",search:yr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var Cr={browsers:a(wr),oses:a(xr)}
var Sr="Edge"
var Or="Chrome"
var kr="IE"
var Tr="Opera"
var _r="Firefox"
var zr="Safari"
var Mr=function(){return Er({current:void 0,version:cr.unknown()})}
var Er=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isEdge:r(Sr),isChrome:r(Or),isIE:r(kr),isOpera:r(Tr),isFirefox:r(_r),isSafari:r(zr)}}
var Dr={unknown:Mr,nu:Er,edge:a(Sr),chrome:a(Or),ie:a(kr),opera:a(Tr),firefox:a(_r),safari:a(zr)}
var Ar="Windows"
var Rr="iOS"
var Hr="Android"
var Br="Linux"
var Ir="OSX"
var Lr="Solaris"
var Pr="FreeBSD"
var Vr="ChromeOS"
var Fr=function(){return Nr({current:void 0,version:cr.unknown()})}
var Nr=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isWindows:r(Ar),isiOS:r(Rr),isAndroid:r(Hr),isOSX:r(Ir),isLinux:r(Br),isSolaris:r(Lr),isFreeBSD:r(Pr),isChromeOS:r(Vr)}}
var jr={unknown:Fr,nu:Nr,windows:a(Ar),ios:a(Rr),android:a(Hr),linux:a(Br),osx:a(Ir),solaris:a(Lr),freebsd:a(Pr),chromeos:a(Vr)}
var Wr=function(t,e){var n=Cr.browsers()
var r=Cr.oses()
var o=vr.detectBrowser(n,t).fold(Dr.unknown,Dr.nu)
var a=vr.detectOs(r,t).fold(jr.unknown,jr.nu)
var i=nr(a,o,t,e)
return{browser:o,os:a,deviceType:i}}
var Ur={detect:Wr}
var qr=function(t){return window.matchMedia(t).matches}
var Gr=Kt((function(){return Ur.detect(navigator.userAgent,qr)}))
var Jr=function(){return Gr()}
var Xr=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)}
var $r=function(t,e){return Xr(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Kr=9
var Yr=11
var Qr=1
var Zr=3
var to=function(t,e){var n=t.dom
if(n.nodeType!==Qr)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var eo=function(t){return t.nodeType!==Qr&&t.nodeType!==Kr&&t.nodeType!==Yr||0===t.childElementCount}
var no=function(t,e){var n=void 0===e?document:e.dom
return eo(n)?[]:U(n.querySelectorAll(t),er.fromDom)}
var ro=function(t,e){var n=void 0===e?document:e.dom
return eo(n)?w.none():w.from(n.querySelector(t)).map(er.fromDom)}
var oo=function(t,e){return t.dom===e.dom}
var ao=function(t,e){var n=t.dom
var r=e.dom
return n!==r&&n.contains(r)}
var io=function(t,e){return $r(t.dom,e.dom)}
var uo=function(t,e){return Jr().browser.isIE()?io(t,e):ao(t,e)}
var co=function(t){return A(t)?t:l}
var so=function(t,e,n){var r=t.dom
var o=co(n)
while(r.parentNode){r=r.parentNode
var a=er.fromDom(r)
var i=e(a)
if(i.isSome())return i
if(o(a))break}return w.none()}
var lo=function(t,e,n){var r=e(t)
var o=co(n)
return r.orThunk((function(){return o(t)?w.none():so(t,e,o)}))}
var fo=function(t,e){return oo(t.element,e.event.target)}
var vo=function(t){if(!Nt(t,"can")&&!Nt(t,"abort")&&!Nt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!")
return on("Extracting event.handler",Le([Pn("can",f),Pn("abort",l),Pn("run",e)]),t)}
var mo=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return K(t,(function(t,r){return t&&e(r).apply(void 0,n)}),true)}}
var go=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return K(t,(function(t,r){return t||e(r).apply(void 0,n)}),false)}}
var ho=function(t){return A(t)?{can:a(true),abort:a(false),run:t}:t}
var po=function(t){var e=mo(t,(function(t){return t.can}))
var n=go(t,(function(t){return t.abort}))
var r=function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
q(t,(function(t){t.run.apply(void 0,e)}))}
return vo({can:e,abort:n,run:r})}
var bo=a
var yo=bo("touchstart")
var wo=bo("touchmove")
var xo=bo("touchend")
var Co=bo("touchcancel")
var So=bo("mousedown")
var Oo=bo("mousemove")
var ko=bo("mouseout")
var To=bo("mouseup")
var _o=bo("mouseover")
var zo=bo("focusin")
var Mo=bo("focusout")
var Eo=bo("keydown")
var Do=bo("keyup")
var Ao=bo("input")
var Ro=bo("change")
var Ho=bo("click")
var Bo=bo("transitionend")
var Io=bo("selectstart")
var Lo=function(t){return a("alloy."+t)}
var Po={tap:Lo("tap")}
var Vo=Lo("focus")
var Fo=Lo("blur.post")
var No=Lo("paste.post")
var jo=Lo("receive")
var Wo=Lo("execute")
var Uo=Lo("focus.item")
var qo=Po.tap
var Go=Lo("longpress")
var Jo=Lo("sandbox.close")
var Xo=Lo("typeahead.cancel")
var $o=Lo("system.init")
var Ko=Lo("system.touchmove")
var Yo=Lo("system.touchend")
var Qo=Lo("system.scroll")
var Zo=Lo("system.resize")
var ta=Lo("system.attached")
var ea=Lo("system.detached")
var na=Lo("system.dismissRequested")
var ra=Lo("system.repositionRequested")
var oa=Lo("focusmanager.shifted")
var aa=Lo("slotcontainer.visibility")
var ia=Lo("change.tab")
var ua=Lo("dismiss.tab")
var ca=Lo("highlight")
var sa=Lo("dehighlight")
var la=function(t,e){ma(t,t.element,e,{})}
var fa=function(t,e,n){ma(t,t.element,e,n)}
var va=function(t){la(t,Wo())}
var da=function(t,e,n){ma(t,e,n,{})}
var ma=function(t,e,n,r){var o=d({target:e},r)
t.getSystem().triggerEvent(n,e,o)}
var ga=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event)}
var ha=function(t){return le(t)}
var pa=function(t,e){return{key:t,value:vo({abort:e})}}
var ba=function(t,e){return{key:t,value:vo({can:e})}}
var ya=function(t){return{key:t,value:vo({run:function(t,e){e.event.prevent()}})}}
var wa=function(t,e){return{key:t,value:vo({run:e})}}
var xa=function(t,e,n){return{key:t,value:vo({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}}
var Ca=function(t){return function(e){return wa(t,e)}}
var Sa=function(t){return function(e){return{key:t,value:vo({run:function(t,n){fo(t,n)&&e(t,n)}})}}}
var Oa=function(t,e){return wa(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){ga(e,e.element,t,r)}))}))}
var ka=function(t,e,n){var r=e.partUids[n]
return Oa(t,r)}
var Ta=function(t,e){return wa(t,(function(t,n){var r=n.event
var o=t.getSystem().getByDom(r.target).fold((function(){var e=lo(r.target,(function(e){return t.getSystem().getByDom(e).toOptional()}),l)
return e.getOr(t)}),(function(t){return t}))
e(t,o,n)}))}
var _a=function(t){return wa(t,(function(t,e){e.cut()}))}
var za=function(t){return wa(t,(function(t,e){e.stop()}))}
var Ma=function(t,e){return Sa(t)(e)}
var Ea=Sa(ta())
var Da=Sa(ea())
var Aa=Sa($o())
var Ra=Ca(Wo())
"undefined"!==typeof window?window:Function("return this;")()
var Ha=function(t){var e=t.dom.nodeName
return e.toLowerCase()}
var Ba=function(t){return t.dom.nodeType}
var Ia=function(t){return function(e){return Ba(e)===t}}
var La=Ia(Qr)
var Pa=Ia(Zr)
var Va=Ia(Kr)
var Fa=Ia(Yr)
var Na=function(t){return er.fromDom(t.dom.ownerDocument)}
var ja=function(t){return Va(t)?t:Na(t)}
var Wa=function(t){return er.fromDom(ja(t).dom.documentElement)}
var Ua=function(t){return er.fromDom(ja(t).dom.defaultView)}
var qa=function(t){return w.from(t.dom.parentNode).map(er.fromDom)}
var Ga=function(t){return qa(t)}
var Ja=function(t){return w.from(t.dom.offsetParent).map(er.fromDom)}
var Xa=function(t){return w.from(t.dom.nextSibling).map(er.fromDom)}
var $a=function(t){return U(t.dom.childNodes,er.fromDom)}
var Ka=function(t,e){var n=t.dom.childNodes
return w.from(n[e]).map(er.fromDom)}
var Ya=function(t){return Ka(t,0)}
var Qa=function(t,e){var n=qa(t)
n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))}
var Za=function(t,e){var n=Xa(t)
n.fold((function(){var n=qa(t)
n.each((function(t){ei(t,e)}))}),(function(t){Qa(t,e)}))}
var ti=function(t,e){var n=Ya(t)
n.fold((function(){ei(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))}
var ei=function(t,e){t.dom.appendChild(e.dom)}
var ni=function(t,e,n){Ka(t,n).fold((function(){ei(t,e)}),(function(t){Qa(t,e)}))}
var ri=function(t,e){q(e,(function(e){Qa(t,e)}))}
var oi=function(t,e){q(e,(function(e){ei(t,e)}))}
var ai=function(t){t.dom.textContent=""
q($a(t),(function(t){ii(t)}))}
var ii=function(t){var e=t.dom
null!==e.parentNode&&e.parentNode.removeChild(e)}
var ui=function(t){var e=$a(t)
e.length>0&&ri(t,e)
ii(t)}
var ci=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
return $a(er.fromDom(r))}
var si=function(t){return t.dom.innerHTML}
var li=function(t,e){var n=Na(t)
var r=n.dom
var o=er.fromDom(r.createDocumentFragment())
var a=ci(e,r)
oi(o,a)
ai(t)
ei(t,o)}
var fi=function(t){var e=er.fromTag("div")
var n=er.fromDom(t.dom.cloneNode(true))
ei(e,n)
return si(e)}
var vi=function(t,e,n){if(!(k(n)||z(n)||R(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var di=function(t,e,n){vi(t.dom,e,n)}
var mi=function(t,e){var n=t.dom
Et(e,(function(t,e){vi(n,e,t)}))}
var gi=function(t,e){var n=t.dom.getAttribute(e)
return null===n?void 0:n}
var hi=function(t,e){return w.from(gi(t,e))}
var pi=function(t,e){var n=t.dom
return!(!n||!n.hasAttribute)&&n.hasAttribute(e)}
var bi=function(t,e){t.dom.removeAttribute(e)}
var yi=function(t,e){return er.fromDom(t.dom.cloneNode(e))}
var wi=function(t){return yi(t,false)}
var xi=function(t){var e=wi(t)
return fi(e)}
var Ci=function(t){return xi(t)}
var Si=function(t,e,n){return oo(e,t.element)&&!oo(e,n)}
var Oi=ha([ba(Vo(),(function(t,e){var n=e.event
var r=n.originator
var o=n.target
if(Si(t,r,o)){console.warn(Vo()+" did not get interpreted by the desired target. \nOriginator: "+Ci(r)+"\nTarget: "+Ci(o)+"\nCheck the "+Vo()+" event handlers")
return false}return true}))])
var ki=Object.freeze({__proto__:null,events:Oi})
var Ti=0
var _i=function(t){var e=new Date
var n=e.getTime()
var r=Math.floor(1e9*Math.random())
Ti++
return t+"_"+r+Ti+String(n)}
var zi=a("alloy-id-")
var Mi=a("data-alloy-id")
var Ei=zi()
var Di=Mi()
var Ai=function(t,e){var n=_i(Ei+t)
Ri(e,n)
return n}
var Ri=function(t,e){Object.defineProperty(t.dom,Di,{value:e,writable:true})}
var Hi=function(t){var e=La(t)?t.dom[Di]:null
return w.from(e)}
var Bi=function(t){return _i(t)}
var Ii=i
var Li=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+Ci(t().element)+" is not in context.":""))}}
return{debugInfo:a("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:l}}
var Pi=Li()
var Vi=function(t,e,n){var r=n.toString()
var o=r.indexOf(")")+1
var a=r.indexOf("(")
var i=r.substring(a+1,o-1).split(/,\s*/)
t.toFunctionAnnotation=function(){return{name:e,parameters:Fi(i.slice(0,1).concat(i.slice(3)))}}
return t}
var Fi=function(t){return U(t,(function(t){return gr(t,"/*")?t.substring(0,t.length-"/*".length):t}))}
var Ni=function(t,e){var n=t.toString()
var r=n.indexOf(")")+1
var o=n.indexOf("(")
var a=n.substring(o+1,r-1).split(/,\s*/)
t.toFunctionAnnotation=function(){return{name:e,parameters:Fi(a)}}
return t}
var ji=function(t,e){var n=e.toString()
var r=n.indexOf(")")+1
var o=n.indexOf("(")
var a=n.substring(o+1,r-1).split(/,\s*/)
t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Fi(a.slice(1))}}
return t}
var Wi=_i("alloy-premade")
var Ui=function(t){return se(Wi,t)}
var qi=function(t){return Vt(t,Wi)}
var Gi=function(t){return ji((function(e){var n=[]
for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r]
return t.apply(void 0,g([e.getApis(),e],n))}),t)}
var Ji={init:function(){return Xi({readState:function(){return"No State required"}})}}
var Xi=function(t){return t}
var $i=function(t,e){var n=U(e,(function(t){return In(t.name(),[yn("config"),Pn("state",Ji)])}))
var r=nn("component.behaviours",Pe(n),t.behaviours).fold((function(e){throw new Error(an(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}))
return{list:e,data:Dt(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}))
return function(){return e}}))}}
var Ki=function(t){return t.list}
var Yi=function(t){return t.data}
var Qi=function(t,e){var n={}
Et(t,(function(t,r){Et(t,(function(t,o){var a=Vt(n,o).getOr([])
n[o]=a.concat([e(r,t)])}))}))
return n}
var Zi=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}}
var tu=function(t,e){return d(d({},t),{attributes:d(d({},t.attributes),e.attributes),styles:d(d({},t.styles),e.styles),classes:t.classes.concat(e.classes)})}
var eu=function(t,e,n,r){var o=d({},e)
q(n,(function(e){o[e.name()]=e.exhibit(t,r)}))
var a=Qi(o,(function(t,e){return{name:t,modification:e}}))
var i=function(t){return $(t,(function(t,e){return d(d({},e.modification),t)}),{})}
var u=$(a.classes,(function(t,e){return e.modification.concat(t)}),[])
var c=i(a.attributes)
var s=i(a.styles)
return Zi({classes:u,attributes:c,styles:s})}
var nu=function(t,e,n,r){try{var o=it(n,(function(n,o){var a=n[e]
var i=o[e]
var u=r.indexOf(a)
var c=r.indexOf(i)
if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2))
if(-1===c)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2))
return u<c?-1:c<u?1:0}))
return gt.value(o)}catch(t){return gt.error([t])}}
var ru=function(t,e){return{handler:t,purpose:e}}
var ou=function(t,e){return{cHandler:t,purpose:e}}
var au=function(t,e){return ou(u.apply(void 0,[t.handler].concat(e)),t.purpose)}
var iu=function(t){return t.cHandler}
var uu=function(t,e){return{name:t,handler:e}}
var cu=function(t,e){var n={}
q(t,(function(t){n[t.name()]=t.handlers(e)}))
return n}
var su=function(t,e,n){var r=d(d({},n),cu(e,t))
return Qi(r,uu)}
var lu=function(t,e,n,r){var o=su(t,n,r)
return mu(o,e)}
var fu=function(t){var e=ho(t)
return function(t,n){var r=[]
for(var o=2;o<arguments.length;o++)r[o-2]=arguments[o]
var a=[t,n].concat(r)
e.abort.apply(void 0,a)?n.stop():e.can.apply(void 0,a)&&e.run.apply(void 0,a)}}
var vu=function(t,e){return gt.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(U(e,(function(t){return t.name})),null,2)])}
var du=function(t,e,n){var r=e[n]
return r?nu("Event: "+n,"name",t,r).map((function(t){var e=U(t,(function(t){return t.handler}))
return po(e)})):vu(n,t)}
var mu=function(t,e){var n=It(t,(function(t,n){var r=1===t.length?gt.value(t[0].handler):du(t,e,n)
return r.map((function(r){var o=fu(r)
var a=t.length>1?X(e[n],(function(e){return N(t,(function(t){return t.name===e}))})).join(" > "):t[0].name
return se(n,ru(o,a))}))}))
return de(n,{})}
var gu="alloy.base.behaviour"
var hu=function(t){var e
return nn("custom.definition",Pe([Ge("dom","dom",te(),Pe([yn("tag"),Pn("styles",{}),Pn("classes",[]),Pn("attributes",{}),En("value"),En("innerHtml")])),yn("components"),yn("uid"),Pn("events",{}),Pn("apis",{}),Ge("eventOrder","eventOrder",Zt((e={},e[Wo()]=["disabling",gu,"toggling","typeaheadevents"],e[Vo()]=[gu,"focusing","keying"],e[$o()]=[gu,"disabling","toggling","representing"],e[Ao()]=[gu,"representing","streaming","invalidating"],e[ea()]=[gu,"representing","item-events","tooltipping"],e[So()]=["focusing",gu,"item-type-events"],e[yo()]=["focusing",gu,"item-type-events"],e[_o()]=["item-type-events","tooltipping"],e[jo()]=["receiving","reflecting","tooltipping"],e)),ln()),En("domModification")]),t)}
var pu=function(t){return d(d({},t.dom),{uid:t.uid,domChildren:U(t.components,(function(t){return t.element}))})}
var bu=function(t){return t.domModification.fold((function(){return Zi({})}),Zi)}
var yu=function(t){return t.events}
var wu=function(t,e){var n=gi(t,e)
return void 0===n||""===n?[]:n.split(" ")}
var xu=function(t,e,n){var r=wu(t,e)
var o=r.concat([n])
di(t,e,o.join(" "))
return true}
var Cu=function(t,e,n){var r=X(wu(t,e),(function(t){return t!==n}))
r.length>0?di(t,e,r.join(" ")):bi(t,e)
return false}
var Su=function(t){return void 0!==t.dom.classList}
var Ou=function(t){return wu(t,"class")}
var ku=function(t,e){return xu(t,"class",e)}
var Tu=function(t,e){return Cu(t,"class",e)}
var _u=function(t,e){Su(t)?t.dom.classList.add(e):ku(t,e)}
var zu=function(t){var e=Su(t)?t.dom.classList:Ou(t)
0===e.length&&bi(t,"class")}
var Mu=function(t,e){if(Su(t)){var n=t.dom.classList
n.remove(e)}else Tu(t,e)
zu(t)}
var Eu=function(t,e){return Su(t)&&t.dom.classList.contains(e)}
var Du=function(t,e){q(e,(function(e){_u(t,e)}))}
var Au=function(t,e){q(e,(function(e){Mu(t,e)}))}
var Ru=function(t){return void 0!==t.style&&A(t.style.getPropertyValue)}
var Hu=function(t){return Fa(t)}
var Bu=A(Element.prototype.attachShadow)&&A(Node.prototype.getRootNode)
var Iu=a(Bu)
var Lu=Bu?function(t){return er.fromDom(t.dom.getRootNode())}:ja
var Pu=function(t){return Hu(t)?t:er.fromDom(ja(t).dom.body)}
var Vu=function(t){return Fu(t).isSome()}
var Fu=function(t){var e=Lu(t)
return Hu(e)?w.some(e):w.none()}
var Nu=function(t){return er.fromDom(t.dom.host)}
var ju=function(t){if(Iu()&&D(t.target)){var e=er.fromDom(t.target)
if(La(e)&&Wu(e)&&t.composed&&t.composedPath){var n=t.composedPath()
if(n)return ct(n)}}return w.from(t.target)}
var Wu=function(t){return D(t.dom.shadowRoot)}
var Uu=function(t){var e=Pa(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return Fu(er.fromDom(e)).fold((function(){return n.body.contains(e)}),o(Uu,Nu))}
var qu=function(){return Gu(er.fromDom(document))}
var Gu=function(t){var e=t.dom.body
if(null===e||void 0===e)throw new Error("Body is not available yet")
return er.fromDom(e)}
var Ju=function(t,e,n){if(!k(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}Ru(t)&&t.style.setProperty(e,n)}
var Xu=function(t,e){Ru(t)&&t.style.removeProperty(e)}
var $u=function(t,e,n){var r=t.dom
Ju(r,e,n)}
var Ku=function(t,e){var n=t.dom
Et(e,(function(t,e){Ju(n,e,t)}))}
var Yu=function(t,e){var n=t.dom
Et(e,(function(t,e){t.fold((function(){Xu(n,e)}),(function(t){Ju(n,e,t)}))}))}
var Qu=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||Uu(t)?o:Zu(n,e)}
var Zu=function(t,e){return Ru(t)?t.style.getPropertyValue(e):""}
var tc=function(t,e){var n=t.dom
var r=Zu(n,e)
return w.from(r).filter((function(t){return t.length>0}))}
var ec=function(t){var e={}
var n=t.dom
if(Ru(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r)
e[o]=n.style[o]}return e}
var nc=function(t,e,n){var r=er.fromTag(t)
$u(r,e,n)
var o=tc(r,e)
return o.isSome()}
var rc=function(t,e){var n=t.dom
Xu(n,e)
hi(t,"style").map(pr).is("")&&bi(t,"style")}
var oc=function(t){return t.dom.offsetWidth}
var ac=function(t){return t.dom.value}
var ic=function(t,e){if(void 0===e)throw new Error("Value.set was undefined")
t.dom.value=e}
var uc=function(t){var e=er.fromTag(t.tag)
mi(e,t.attributes)
Du(e,t.classes)
Ku(e,t.styles)
t.innerHtml.each((function(t){return li(e,t)}))
var n=t.domChildren
oi(e,n)
t.value.each((function(t){ic(e,t)}))
t.uid
Ri(e,t.uid)
return e}
var cc=function(t){var e=Vt(t,"behaviours").getOr({})
var n=X(zt(e),(function(t){return void 0!==e[t]}))
return U(n,(function(t){return e[t].me}))}
var sc=function(t,e){return $i(t,e)}
var lc=function(t){var e=cc(t)
return sc(t,e)}
var fc=function(t,e,n){var r=pu(t)
var o=bu(t)
var a={"alloy.base.modification":o}
var i=e.length>0?eu(n,a,e,r):o
return tu(r,i)}
var vc=function(t,e,n){var r={"alloy.base.behaviour":yu(t)}
return lu(n,t.eventOrder,e,r).getOrDie()}
var dc=function(t){var e=function(){return b}
var n=$n(Pi)
var r=rn(hu(t))
var o=lc(t)
var a=Ki(o)
var i=Yi(o)
var u=fc(r,a,i)
var c=uc(u)
var s=vc(r,a,i)
var l=$n(r.components)
var f=function(t){n.set(t)}
var v=function(){n.set(Li(e))}
var d=function(){var t=$a(c)
var e=et(t,(function(t){return n.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}))
l.set(e)}
var m=function(e){var n=i
var r=A(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))}
return r()}
var g=function(t){return A(i[t.name()])}
var h=function(){return r.apis}
var p=function(t){return i[t]().map((function(t){return t.state.readState()})).getOr("not enabled")}
var b={getSystem:n.get,config:m,hasConfigured:g,spec:t,readState:p,getApis:h,connect:f,disconnect:v,element:c,syncComponents:d,components:l.get,events:s}
return b}
var mc=function(t){var e=Vt(t,"components").getOr([])
return U(e,yc)}
var gc=function(t){var e=Ii(t),n=e.events,r=m(e,["events"])
var o=mc(r)
var a=d(d({},r),{events:d(d({},ki),n),components:o})
return gt.value(dc(a))}
var hc=function(t){var e=er.fromText(t)
return pc({element:e})}
var pc=function(t){var n=on("external.component",Le([yn("element"),En("uid")]),t)
var r=$n(Li())
var o=function(t){r.set(t)}
var i=function(){r.set(Li((function(){return u})))}
n.uid.each((function(t){Ri(n.element,t)}))
var u={getSystem:r.get,config:w.none,hasConfigured:l,connect:o,disconnect:i,getApis:function(){return{}},element:n.element,spec:t,readState:a("No state"),syncComponents:e,components:a([]),events:{}}
return Ui(u)}
var bc=Bi
var yc=function(t){return qi(t).fold((function(){var e=t.hasOwnProperty("uid")?t:d({uid:bc("")},t)
return gc(e).getOrDie()}),(function(t){return t}))}
var wc=Ui
function xc(t,e){var n=function(e,n){if(!R(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n)
var r=e.dom
Ru(r)&&(r.style[t]=n+"px")}
var r=function(n){var r=e(n)
if(r<=0||null===r){var o=Qu(n,t)
return parseFloat(o)||0}return r}
var o=r
var a=function(t,e){return K(e,(function(e,n){var r=Qu(t,n)
var o=void 0===r?0:parseInt(r,10)
return isNaN(o)?e:e+o}),0)}
var i=function(t,e,n){var r=a(t,n)
var o=e>r?e-r:0
return o}
return{set:n,get:r,getOuter:o,aggregate:a,max:i}}var Cc=xc("height",(function(t){var e=t.dom
return Uu(t)?e.getBoundingClientRect().height:e.offsetHeight}))
var Sc=function(t){return Cc.get(t)}
var Oc=function(t){return Cc.getOuter(t)}
var kc=function(t,e){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]
var r=Cc.max(t,e,n)
$u(t,"max-height",r+"px")}
var Tc=function(t,e){var n=function(n,r){return Tc(t+n,e+r)}
return{left:t,top:e,translate:n}}
var _c=Tc
var zc=function(t){var e=t.getBoundingClientRect()
return _c(e.left,e.top)}
var Mc=function(t,e){return void 0!==t?t:void 0!==e?e:0}
var Ec=function(t){var e=t.dom.ownerDocument
var n=e.body
var r=e.defaultView
var o=e.documentElement
if(n===t.dom)return _c(n.offsetLeft,n.offsetTop)
var a=Mc(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop)
var i=Mc(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft)
var u=Mc(o.clientTop,n.clientTop)
var c=Mc(o.clientLeft,n.clientLeft)
return Dc(t).translate(i-c,a-u)}
var Dc=function(t){var e=t.dom
var n=e.ownerDocument
var r=n.body
if(r===e)return _c(r.offsetLeft,r.offsetTop)
if(!Uu(t))return _c(0,0)
return zc(e)}
var Ac=xc("width",(function(t){return t.dom.offsetWidth}))
var Rc=function(t,e){return Ac.set(t,e)}
var Hc=function(t){return Ac.get(t)}
var Bc=function(t){return Ac.getOuter(t)}
var Ic=function(t,e){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]
var r=Ac.max(t,e,n)
$u(t,"max-width",r+"px")}
var Lc=function(t,e,n,r,o,a,i){return{target:t,x:e,y:n,stop:r,prevent:o,kill:a,raw:i}}
var Pc=function(t){var e=er.fromDom(ju(t).getOr(t.target))
var n=function(){return t.stopPropagation()}
var o=function(){return t.preventDefault()}
var a=r(o,n)
return Lc(e,t.clientX,t.clientY,n,o,a,t)}
var Vc=function(t,e){return function(n){t(n)&&e(Pc(n))}}
var Fc=function(t,e,n,r,o){var a=Vc(n,r)
t.dom.addEventListener(e,a,o)
return{unbind:u(Wc,t,e,a,o)}}
var Nc=function(t,e,n,r){return Fc(t,e,n,r,false)}
var jc=function(t,e,n,r){return Fc(t,e,n,r,true)}
var Wc=function(t,e,n,r){t.dom.removeEventListener(e,n,r)}
var Uc=function(t){var e=void 0!==t?t.dom:document
var n=e.body.scrollLeft||e.documentElement.scrollLeft
var r=e.body.scrollTop||e.documentElement.scrollTop
return _c(n,r)}
var qc=function(t,e,n){var r=void 0!==n?n.dom:document
var o=r.defaultView
o&&o.scrollTo(t,e)}
var Gc=function(t){var e=void 0===t?window:t
return w.from(e["visualViewport"])}
var Jc=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}
var Xc=function(t){var e=void 0===t?window:t
var n=e.document
var r=Uc(er.fromDom(n))
return Gc(e).fold((function(){var t=e.document.documentElement
var n=t.clientWidth
var o=t.clientHeight
return Jc(r.left,r.top,n,o)}),(function(t){return Jc(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))}
var $c=function(t,e){var n=t.view(e)
return n.fold(a([]),(function(e){var n=t.owner(e)
var r=$c(t,n)
return[e].concat(r)}))}
var Kc=function(t,e){var n=e.owner(t)
var r=$c(e,n)
return w.some(r)}
var Yc=function(t){var e
var n=t.dom===document?w.none():w.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement)
return n.map(er.fromDom)}
var Qc=function(t){return Na(t)}
var Zc=Object.freeze({__proto__:null,view:Yc,owner:Qc})
var ts=function(t){var e=er.fromDom(document)
var n=Uc(e)
var r=Kc(t,Zc)
return r.fold(u(Ec,t),(function(e){var r=Dc(t)
var o=$(e,(function(t,e){var n=Dc(e)
return{left:t.left+n.left,top:t.top+n.top}}),{left:0,top:0})
return _c(o.left+r.left+n.left,o.top+r.top+n.top)}))}
var es=function(t,e,n){return{point:t,width:e,height:n}}
var ns=function(t,e,n,r){return{x:t,y:e,width:n,height:r}}
var rs=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}
var os=function(t){var e=Ec(t)
var n=Bc(t)
var r=Oc(t)
return rs(e.left,e.top,n,r)}
var as=function(t){var e=ts(t)
var n=Bc(t)
var r=Oc(t)
return rs(e.left,e.top,n,r)}
var is=function(){return Xc(window)}
function us(t,e,n,r,o){return t(n,r)?w.some(n):A(o)&&o(n)?w.none():e(n,r,o)}var cs=function(t,e,n){var r=t.dom
var o=A(n)?n:l
while(r.parentNode){r=r.parentNode
var a=er.fromDom(r)
if(e(a))return w.some(a)
if(o(a))break}return w.none()}
var ss=function(t,e,n){var r=function(t,e){return e(t)}
return us(r,cs,t,e,n)}
var ls=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=er.fromDom(t.childNodes[r])
if(e(o))return w.some(o)
var a=n(t.childNodes[r])
if(a.isSome())return a}return w.none()}
return n(t.dom)}
var fs=function(t,e,n){return ss(t,e,n).isSome()}
var vs=function(t,e,n){return cs(t,(function(t){return to(t,e)}),n)}
var ds=function(t,e){return ro(e,t)}
var ms=function(t,e,n){var r=function(t,e){return to(t,e)}
return us(r,vs,t,e,n)}
var gs=function(t){var e=ss(t,(function(t){if(!La(t))return false
var e=gi(t,"id")
return void 0!==e&&e.indexOf("aria-owns")>-1}))
return e.bind((function(t){var e=gi(t,"id")
var n=Lu(t)
return ds(n,'[aria-owns="'+e+'"]')}))}
var hs=function(){var t=_i("aria-owns")
var e=function(e){di(e,"aria-owns",t)}
var n=function(t){bi(t,"aria-owns")}
return{id:t,link:e,unlink:n}}
var ps=function(t,e){return gs(e).exists((function(e){return bs(t,e)}))}
var bs=function(t,e){return fs(e,(function(e){return oo(e,t.element)}),l)||ps(t,e)}
var ys="unknown"
var ws;(function(t){t[t["STOP"]=0]="STOP"
t[t["NORMAL"]=1]="NORMAL"
t[t["LOGGING"]=2]="LOGGING"})(ws||(ws={}))
var xs=$n({})
var Cs=function(t,e){var n=[]
var r=(new Date).getTime()
return{logEventCut:function(t,e,r){n.push({outcome:"cut",target:e,purpose:r})},logEventStopped:function(t,e,r){n.push({outcome:"stopped",target:e,purpose:r})},logNoParent:function(t,e,r){n.push({outcome:"no-parent",target:e,purpose:r})},logEventNoHandlers:function(t,e){n.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,r){n.push({outcome:"response",purpose:r,target:e})},write:function(){var o=(new Date).getTime()
if(F(["mousemove","mouseover","mouseout",$o()],t))return
console.log(t,{event:t,time:o-r,target:e.dom,sequence:U(n,(function(t){return F(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Ci(t.target)+")":t.outcome}))})}}}
var Ss=function(t,e,n){var r=Vt(xs.get(),t).orThunk((function(){var e=zt(xs.get())
return ft(e,(function(e){return t.indexOf(e)>-1?w.some(xs.get()[e]):w.none()}))})).getOr(ws.NORMAL)
switch(r){case ws.NORMAL:return n(zs())
case ws.LOGGING:var o=Cs(t,e)
var a=n(o)
o.write()
return a
case ws.STOP:return true}}
var Os=["alloy/data/Fields","alloy/debugging/Debugging"]
var ks=function(){var t=new Error
if(void 0!==t.stack){var e=t.stack.split("\n")
return Q(e,(function(t){return t.indexOf("alloy")>0&&!N(Os,(function(e){return t.indexOf(e)>-1}))})).getOr(ys)}return ys}
var Ts={logEventCut:e,logEventStopped:e,logNoParent:e,logEventNoHandlers:e,logEventResponse:e,write:e}
var _s=function(t,e,n){return Ss(t,e,n)}
var zs=a(Ts)
var Ms=a([yn("menu"),yn("selectedMenu")])
var Es=a([yn("item"),yn("selectedItem")])
a(Pe(Es().concat(Ms())))
var Ds=a(Pe(Es()))
var As=_n("initSize",[yn("numColumns"),yn("numRows")])
var Rs=function(){return wn("markers",Ds())}
var Hs=function(){return _n("markers",[yn("backgroundMenu")].concat(Ms()).concat(Es()))}
var Bs=function(t){return _n("markers",U(t,yn))}
var Is=function(t,e,n){ks()
return Ge(e,e,n,Ze((function(t){return gt.value((function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
return t.apply(void 0,e)}))})))}
var Ls=function(t){return Is("onHandler",t,Qt(e))}
var Ps=function(t){return Is("onKeyboardHandler",t,Qt(w.none))}
var Vs=function(t){return Is("onHandler",t,te())}
var Fs=function(t){return Is("onKeyboardHandler",t,te())}
var Ns=function(t,e){return Xn(t,a(e))}
var js=function(t){return Xn(t,i)}
var Ws=a(As)
var Us=function(t,e,n,r,o,a){return{x:t,y:e,bubble:n,direction:r,boundsRestriction:o,label:a}}
var qs=Wt.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}])
var Gs=function(t,e,n,r,o,a,i,u,c){return t.fold(e,n,r,o,a,i,u,c)}
var Js=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)}
var Xs=function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)}
var $s=qs.southeast
var Ks=qs.southwest
var Ys=qs.northeast
var Qs=qs.northwest
var Zs=qs.south
var tl=qs.north
var el=qs.east
var nl=qs.west
var rl=function(t,e){switch(e){case 1:return t.x
case 0:return t.x+t.width
case 2:return t.y
case 3:return t.y+t.height}}
var ol=function(t,e){return at(["left","right","top","bottom"],(function(n){return Vt(e,n).map((function(e){return rl(t,e)}))}))}
var al=function(t,e,n){var r=function(t,r){var o="top"===t||"bottom"===t?n.top:n.left
return Vt(e,t).bind(i).bind((function(e){return"left"===t||"top"===t?e>=r?w.some(e):w.none():e<=r?w.some(e):w.none()})).map((function(t){return t+o})).getOr(r)}
var o=r("left",t.x)
var a=r("top",t.y)
var u=r("right",t.right)
var c=r("bottom",t.bottom)
return rs(o,a,u-o,c-a)}
var il=function(t){return t.x}
var ul=function(t,e){return t.x+t.width/2-e.width/2}
var cl=function(t,e){return t.x+t.width-e.width}
var sl=function(t,e){return t.y-e.height}
var ll=function(t){return t.y+t.height}
var fl=function(t,e){return t.y+t.height/2-e.height/2}
var vl=function(t){return t.x+t.width}
var dl=function(t,e){return t.x-e.width}
var ml=function(t,e,n){return Us(il(t),ll(t),n.southeast(),$s(),ol(t,{left:1,top:3}),"layout-se")}
var gl=function(t,e,n){return Us(cl(t,e),ll(t),n.southwest(),Ks(),ol(t,{right:0,top:3}),"layout-sw")}
var hl=function(t,e,n){return Us(il(t),sl(t,e),n.northeast(),Ys(),ol(t,{left:1,bottom:2}),"layout-ne")}
var pl=function(t,e,n){return Us(cl(t,e),sl(t,e),n.northwest(),Qs(),ol(t,{right:0,bottom:2}),"layout-nw")}
var bl=function(t,e,n){return Us(ul(t,e),sl(t,e),n.north(),tl(),ol(t,{bottom:2}),"layout-n")}
var yl=function(t,e,n){return Us(ul(t,e),ll(t),n.south(),Zs(),ol(t,{top:3}),"layout-s")}
var wl=function(t,e,n){return Us(vl(t),fl(t,e),n.east(),el(),ol(t,{left:0}),"layout-e")}
var xl=function(t,e,n){return Us(dl(t,e),fl(t,e),n.west(),nl(),ol(t,{right:1}),"layout-w")}
var Cl=function(){return[ml,gl,hl,pl,yl,bl,wl,xl]}
var Sl=function(){return[gl,ml,pl,hl,yl,bl,wl,xl]}
var Ol=function(){return[hl,pl,ml,gl,bl,yl]}
var kl=function(){return[pl,hl,gl,ml,bl,yl]}
var Tl=function(){return[ml,gl,hl,pl,yl,bl]}
var _l=function(){return[gl,ml,pl,hl,yl,bl]}
var zl=function(t,e){return e.universal?t:X(t,(function(t){return F(e.channels,t)}))}
var Ml=function(t){return ha([wa(jo(),(function(e,n){var r=t.channels
var o=zt(r)
var a=n
var i=zl(o,a)
q(i,(function(t){var n=r[t]
var o=n.schema
var i=on("channel["+t+"] data\nReceiver: "+Ci(e.element),o,a.data)
n.onReceive(e,i)}))}))])}
var El=Object.freeze({__proto__:null,events:Ml})
var Dl=[wn("channels",tn(gt.value,Le([Vs("onReceive"),Pn("schema",ln())])))]
var Al=function(t,e,n){return Ra((function(r){n(r,t,e)}))}
var Rl=function(t,e,n){return Aa((function(r,o){n(r,t,e)}))}
var Hl=function(t,e,n,r,o,a){var i=Le(t)
var u=In(e,[Ln("config",t)])
return Pl(i,u,e,n,r,o,a)}
var Bl=function(t,e,n,r,o,a){var i=t
var u=In(e,[Dn("config",t)])
return Pl(i,u,e,n,r,o,a)}
var Il=function(t,e,n){var r=function(r){var o=[]
for(var i=1;i<arguments.length;i++)o[i-1]=arguments[i]
var u=[r].concat(o)
return r.config({name:a(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(u,1)
return e.apply(void 0,[r,t.config,t.state].concat(n))}))}
return Vi(r,n,e)}
var Ll=function(t){return{key:t,value:void 0}}
var Pl=function(t,e,n,r,o,a,i){var c=function(t){return Nt(t,n)?t[n]():w.none()}
var s=Dt(o,(function(t,e){return Il(n,t,e)}))
var l=Dt(a,(function(t,e){return Ni(t,e)}))
var f=d(d(d({},l),s),{revoke:u(Ll,n),config:function(e){var r=on(n+"-config",t,e)
return{key:n,value:{config:r,me:f,configAsRaw:Kt((function(){return on(n+"-config",t,e)})),initialConfig:e,state:i}}},schema:function(){return e},exhibit:function(t,e){return c(t).bind((function(t){return Vt(r,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(Zi({}))},name:function(){return n},handlers:function(t){return c(t).map((function(t){var e=Vt(r,"events").getOr((function(){return{}}))
return e(t.config,t.state)})).getOr({})}})
return f}
var Vl=function(t){return le(t)}
var Fl=Le([yn("fields"),yn("name"),Pn("active",{}),Pn("apis",{}),Pn("state",Ji),Pn("extra",{})])
var Nl=function(t){var e=on("Creating behaviour: "+t.name,Fl,t)
return Hl(e.fields,e.name,e.active,e.apis,e.extra,e.state)}
var jl=Le([yn("branchKey"),yn("branches"),yn("name"),Pn("active",{}),Pn("apis",{}),Pn("state",Ji),Pn("extra",{})])
var Wl=function(t){var e=on("Creating behaviour: "+t.name,jl,t)
return Bl(cn(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)}
var Ul=a(void 0)
var ql=Nl({fields:Dl,name:"receiving",active:El})
var Gl=function(t,e){return Zi({classes:[],styles:e.useFixed()?{}:{position:"relative"}})}
var Jl=Object.freeze({__proto__:null,exhibit:Gl})
var Xl=function(){return er.fromDom(document)}
var $l=function(t){return t.dom.focus()}
var Kl=function(t){return t.dom.blur()}
var Yl=function(t){var e=Lu(t).dom
return t.dom===e.activeElement}
var Ql=function(t){void 0===t&&(t=Xl())
return w.from(t.dom.activeElement).map(er.fromDom)}
var Zl=function(t){return Ql(Lu(t)).filter((function(e){return t.dom.contains(e.dom)}))}
var tf=function(t,n){var r=Lu(n)
var o=Ql(r).bind((function(t){var e=function(e){return oo(t,e)}
return e(n)?w.some(n):ls(n,e)}))
var a=t(n)
o.each((function(t){Ql(r).filter((function(e){return oo(e,t)})).fold((function(){$l(t)}),e)}))
return a}
var ef=function(t,e,n,r,o){return{position:t,left:e,top:n,right:r,bottom:o}}
var nf=function(t,e){var n=function(t){return t+"px"}
Yu(t,{position:w.some(e.position),left:e.left.map(n),top:e.top.map(n),right:e.right.map(n),bottom:e.bottom.map(n)})}
var rf=Wt.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}])
var of=function(t,e,n,r,o,a){var i=e.x-n
var u=e.y-r
var c=e.width
var s=e.height
var l=o-(i+c)
var f=a-(u+s)
var v=w.some(i)
var d=w.some(u)
var m=w.some(l)
var g=w.some(f)
var h=w.none()
return Gs(e.direction,(function(){return ef(t,v,d,h,h)}),(function(){return ef(t,h,d,m,h)}),(function(){return ef(t,v,h,h,g)}),(function(){return ef(t,h,h,m,g)}),(function(){return ef(t,v,d,h,h)}),(function(){return ef(t,v,h,h,g)}),(function(){return ef(t,v,d,h,h)}),(function(){return ef(t,h,d,m,h)}))}
var af=function(t,e){return t.fold((function(){return ef("absolute",w.some(e.x),w.some(e.y),w.none(),w.none())}),(function(t,n,r,o){return of("absolute",e,t,n,r,o)}),(function(t,n,r,o){return of("fixed",e,t,n,r,o)}))}
var uf=function(t,e){var n=u(ts,e)
var r=t.fold(n,n,(function(){var t=Uc()
return ts(e).translate(-t.left,-t.top)}))
var o=Bc(e)
var a=Oc(e)
return rs(r.left,r.top,o,a)}
var cf=function(t,e){return e.fold((function(){return t.fold(is,is,rs)}),(function(e){return t.fold(e,e,(function(){var n=e()
var r=sf(t,n.x,n.y)
return rs(r.left,r.top,n.width,n.height)}))}))}
var sf=function(t,e,n){var r=_c(e,n)
var o=function(){var t=Uc()
return r.translate(-t.left,-t.top)}
return t.fold(a(r),a(r),o)}
var lf=function(t,e,n,r){return t.fold(e,n,r)}
rf.none
var ff=rf.relative
var vf=rf.fixed
var df=function(t,e){return{anchorBox:t,origin:e}}
var mf=function(t,e){return df(t,e)}
var gf=function(t,e,n,r){var o=t+e
return o>r?n:o<n?r:o}
var hf=function(t,e,n){return Math.min(Math.max(t,e),n)}
var pf=Wt.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}])
var bf=function(t,e,n,r,o){var a=o.x
var i=o.y
var u=o.width
var c=o.height
var s=t>=a
var l=e>=i
var f=s&&l
var v=t+n<=a+u
var d=e+r<=i+c
var m=v&&d
var g=Math.abs(Math.min(n,s?a+u-t:a-(t+n)))
var h=Math.abs(Math.min(r,l?i+c-e:i-(e+r)))
var p=Math.max(o.x,o.right-n)
var b=Math.max(o.y,o.bottom-r)
var y=hf(t,o.x,p)
var w=hf(e,o.y,b)
return{originInBounds:f,sizeInBounds:m,limitX:y,limitY:w,deltaW:g,deltaH:h}}
var yf=function(t,e,n,r){var o=t.x
var i=t.y
var u=t.bubble.offset
var c=u.left
var s=u.top
var l=al(r,t.boundsRestriction,u)
var f=l.y
var v=l.bottom
var d=l.x
var m=l.right
var g=o+c
var h=i+s
var p=bf(g,h,e,n,l),b=p.originInBounds,y=p.sizeInBounds,w=p.limitX,x=p.limitY,C=p.deltaW,S=p.deltaH
var O=a(x+S-f)
var k=a(v-x)
var T=Js(t.direction,k,k,O)
var _=a(w+C-d)
var z=a(m-w)
var M=Xs(t.direction,z,z,_)
var E={x:w,y:x,width:C,height:S,maxHeight:T,maxWidth:M,direction:t.direction,classes:{on:t.bubble.classesOn,off:t.bubble.classesOff},label:t.label,candidateYforTest:h}
return b&&y?pf.fit(E):pf.nofit(E,C,S)}
var wf=function(t,e,n,r,o){var a=n.width
var c=n.height
var s=function(t,i,u,s){var l=t(e,n,r)
var f=yf(l,a,c,o)
return f.fold(pf.fit,(function(t,e,n){var r=n>s||e>u
return r?pf.nofit(t,e,n):pf.nofit(i,u,s)}))}
var l=K(t,(function(t,e){var n=u(s,e)
return t.fold(pf.fit,n)}),pf.nofit({x:e.x,y:e.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:$s(),classes:{on:[],off:[]},label:"none",candidateYforTest:e.y},-1,-1))
return l.fold(i,i)}
var xf=function(t){return{width:Bc(t),height:Oc(t)}}
var Cf=function(t,e,n,r){rc(e,"max-height")
rc(e,"max-width")
var o=xf(e)
return wf(r.preference,t,o,n,r.bounds)}
var Sf=function(t,e){var n=e.classes
Au(t,n.off)
Du(t,n.on)}
var Of=function(t,e,n){var r=n.maxHeightFunction
r(t,e.maxHeight)}
var kf=function(t,e,n){var r=n.maxWidthFunction
r(t,e.maxWidth)}
var Tf=function(t,e,n){nf(t,af(n.origin,e))}
var _f=function(t,e){kc(t,Math.floor(e))}
var zf=a((function(t,e){_f(t,e)
Ku(t,{"overflow-x":"hidden","overflow-y":"auto"})}))
var Mf=a((function(t,e){_f(t,e)}))
var Ef=function(t,e,n){return void 0===t[e]?n:t[e]}
var Df=function(t,n,r,o,a,i){var u=Ef(i,"maxHeightFunction",zf())
var c=Ef(i,"maxWidthFunction",e)
var s=t.anchorBox
var l=t.origin
var f={bounds:cf(l,a),origin:l,preference:o,maxHeightFunction:u,maxWidthFunction:c}
Af(s,n,r,f)}
var Af=function(t,e,n,r){var o=Cf(t,e,n,r)
Tf(e,o,r)
Sf(e,o)
Of(e,o,r)
kf(e,o,r)}
var Rf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"]
var Hf=function(t,e,n){var r=function(t){return Vt(n,t).getOr([])}
var o=function(t,e,n){var o=ot(Rf,n)
return{offset:_c(t,e),classesOn:et(n,r),classesOff:et(o,r)}}
return{southeast:function(){return o(-t,e,["top","alignLeft"])},southwest:function(){return o(t,e,["top","alignRight"])},south:function(){return o(-t/2,e,["top","alignCentre"])},northeast:function(){return o(-t,-e,["bottom","alignLeft"])},northwest:function(){return o(t,-e,["bottom","alignRight"])},north:function(){return o(-t/2,-e,["bottom","alignCentre"])},east:function(){return o(t,-e/2,["valignCentre","left"])},west:function(){return o(-t,-e/2,["valignCentre","right"])},innerNorthwest:function(){return o(-t,e,["top","alignRight"])},innerNortheast:function(){return o(t,e,["top","alignLeft"])},innerNorth:function(){return o(-t/2,e,["top","alignCentre"])},innerSouthwest:function(){return o(-t,-e,["bottom","alignRight"])},innerSoutheast:function(){return o(t,-e,["bottom","alignLeft"])},innerSouth:function(){return o(-t/2,-e,["bottom","alignCentre"])},innerWest:function(){return o(t,-e/2,["valignCentre","right"])},innerEast:function(){return o(-t,-e/2,["valignCentre","left"])}}}
var Bf=function(){return Hf(0,0,{})}
var If=function(t){return t}
var Lf=function(t,e){return function(n){return"rtl"===Pf(n)?e:t}}
var Pf=function(t){return"rtl"===Qu(t,"direction")?"rtl":"ltr"}
var Vf;(function(t){t["TopToBottom"]="toptobottom"
t["BottomToTop"]="bottomtotop"})(Vf||(Vf={}))
var Ff="data-alloy-vertical-dir"
var Nf=function(t){return fs(t,(function(t){return La(t)&&gi(t,"data-alloy-vertical-dir")===Vf.BottomToTop}))}
var jf=function(){return In("layouts",[yn("onLtr"),yn("onRtl"),En("onBottomLtr"),En("onBottomRtl")])}
var Wf=function(t,e,n,r,o,a,i){var u=i.map(Nf).getOr(false)
var c=e.layouts.map((function(e){return e.onLtr(t)}))
var s=e.layouts.map((function(e){return e.onRtl(t)}))
var l=u?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(c).getOr(o):c.getOr(n)
var f=u?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(s).getOr(a):s.getOr(r)
var v=Lf(l,f)
return v(t)}
var Uf=function(t,e,n){var r=e.hotspot
var o=uf(n,r.element)
var a=Wf(t.element,e,Tl(),_l(),Ol(),kl(),w.some(e.hotspot.element))
return w.some(If({anchorBox:o,bubble:e.bubble.getOr(Bf()),overrides:e.overrides,layouts:a,placer:w.none()}))}
var qf=[yn("hotspot"),En("bubble"),Pn("overrides",{}),jf(),Ns("placement",Uf)]
var Gf=function(t,e,n){var r=sf(n,e.x,e.y)
var o=rs(r.left,r.top,e.width,e.height)
var a=Wf(t.element,e,Cl(),Sl(),Cl(),Sl(),w.none())
return w.some(If({anchorBox:o,bubble:e.bubble,overrides:e.overrides,layouts:a,placer:w.none()}))}
var Jf=[yn("x"),yn("y"),Pn("height",0),Pn("width",0),Pn("bubble",Bf()),Pn("overrides",{}),jf(),Ns("placement",Gf)]
var Xf="\ufeff"
var $f=""
var Kf=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}}
var Yf={create:Kf}
var Qf=Wt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var Zf=function(t,e,n,r){return t.fold(e,n,r)}
var tv=function(t){return t.fold(i,i,i)}
var ev=Qf.before
var nv=Qf.on
var rv=Qf.after
var ov={before:ev,on:nv,after:rv,cata:Zf,getStart:tv}
var av=Wt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var iv=function(t){return av.exact(t.start,t.soffset,t.finish,t.foffset)}
var uv=function(t){return t.match({domRange:function(t){return er.fromDom(t.startContainer)},relative:function(t,e){return ov.getStart(t)},exact:function(t,e,n,r){return t}})}
var cv=av.domRange
var sv=av.relative
var lv=av.exact
var fv=function(t){var e=uv(t)
return Ua(e)}
var vv=Yf.create
var dv={domRange:cv,relative:sv,exact:lv,exactFromRange:iv,getWin:fv,range:vv}
var mv=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))}
var gv=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))}
var hv=function(t,e,n){var r=t.document.createRange()
mv(r,e)
gv(r,n)
return r}
var pv=function(t,e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a}
var bv=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}}
var yv=function(t){var e=t.getClientRects()
var n=e.length>0?e[0]:t.getBoundingClientRect()
return n.width>0||n.height>0?w.some(n).map(bv):w.none()}
var wv=Wt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}])
var xv=function(t,e,n){return e(er.fromDom(n.startContainer),n.startOffset,er.fromDom(n.endContainer),n.endOffset)}
var Cv=function(t,e){return e.match({domRange:function(t){return{ltr:a(t),rtl:w.none}},relative:function(e,n){return{ltr:Kt((function(){return hv(t,e,n)})),rtl:Kt((function(){return w.some(hv(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:Kt((function(){return pv(t,e,n,r,o)})),rtl:Kt((function(){return w.some(pv(t,r,o,e,n))}))}}})}
var Sv=function(t,e){var n=e.ltr()
if(n.collapsed){var r=e.rtl().filter((function(t){return false===t.collapsed}))
return r.map((function(t){return wv.rtl(er.fromDom(t.endContainer),t.endOffset,er.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return xv(t,wv.ltr,n)}))}return xv(t,wv.ltr,n)}
var Ov=function(t,e){var n=Cv(t,e)
return Sv(t,n)}
var kv=function(t,e){var n=Ov(t,e)
return n.match({ltr:function(e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a},rtl:function(e,n,r,o){var a=t.document.createRange()
a.setStart(r.dom,o)
a.setEnd(e.dom,n)
return a}})}
wv.ltr
wv.rtl
function Tv(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node")
return r(n).getOr("")}
var r=function(e){return t(e)?w.from(e.dom.nodeValue):w.none()}
var o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node")
n.dom.nodeValue=r}
return{get:n,getOption:r,set:o}}var _v=Tv(Pa,"text")
var zv=function(t){return _v.get(t)}
var Mv=function(t){return _v.getOption(t)}
var Ev=function(t){return"img"===Ha(t)?1:Mv(t).fold((function(){return $a(t).length}),(function(t){return t.length}))}
var Dv=function(t){return Mv(t).filter((function(t){return 0!==t.trim().length||t.indexOf($f)>-1})).isSome()}
var Av=["img","br"]
var Rv=function(t){var e=Dv(t)
return e||F(Av,Ha(t))}
var Hv=function(t){return Bv(t,Rv)}
var Bv=function(t,e){var n=function(t){var r=$a(t)
for(var o=r.length-1;o>=0;o--){var a=r[o]
if(e(a))return w.some(a)
var i=n(a)
if(i.isSome())return i}return w.none()}
return n(t)}
var Iv=function(t,e){return no(e,t)}
var Lv=function(t,e,n,r){var o=Na(t)
var a=o.dom.createRange()
a.setStart(t.dom,e)
a.setEnd(n.dom,r)
return a}
var Pv=function(t,e,n,r){var o=Lv(t,e,n,r)
var a=oo(t,n)&&e===r
return o.collapsed&&!a}
var Vv=function(t){return w.from(t.getSelection())}
var Fv=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0)
var n=t.getRangeAt(t.rangeCount-1)
return w.some(Yf.create(er.fromDom(e.startContainer),e.startOffset,er.fromDom(n.endContainer),n.endOffset))}return w.none()}
var Nv=function(t){if(null===t.anchorNode||null===t.focusNode)return Fv(t)
var e=er.fromDom(t.anchorNode)
var n=er.fromDom(t.focusNode)
return Pv(e,t.anchorOffset,n,t.focusOffset)?w.some(Yf.create(e,t.anchorOffset,n,t.focusOffset)):Fv(t)}
var jv=function(t){return Vv(t).filter((function(t){return t.rangeCount>0})).bind(Nv)}
var Wv=function(t,e){var n=kv(t,e)
return yv(n)}
var Uv=function(t,e){return{element:t,offset:e}}
var qv=function(t,e){var n=$a(t)
if(0===n.length)return Uv(t,e)
if(e<n.length)return Uv(n[e],0)
var r=n[n.length-1]
var o=Pa(r)?zv(r).length:$a(r).length
return Uv(r,o)}
var Gv=Wt.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}])
var Jv=function(t){return t.fold(i,(function(t,e,n){return t.translate(-e,-n)}))}
var Xv=function(t){return t.fold(i,i)}
var $v=function(t){return K(t,(function(t,e){return t.translate(e.left,e.top)}),_c(0,0))}
var Kv=function(t){var e=U(t,Jv)
return $v(e)}
var Yv=function(t){var e=U(t,Xv)
return $v(e)}
var Qv=Gv.screen
var Zv=Gv.absolute
var td=function(t,e,n){var r=Ua(n.root).dom
var o=function(e){var n=Na(e)
var r=Na(t.element)
return oo(n,r)}
return w.from(r.frameElement).map(er.fromDom).filter(o).map(Ec)}
var ed=function(t,e,n){var r=Na(t.element)
var o=Uc(r)
var a=td(t,e,n).getOr(o)
return Zv(a,o.left,o.top)}
var nd=function(t,e,n,r){var o=t,a=e,i=n,u=r
if(t<0){o=0
i=n+t}if(e<0){a=0
u=r+e}var c=Qv(_c(o,a))
return w.some(es(c,i,u))}
var rd=function(t,e,n,r,o){return t.map((function(t){var a=[e,t.point]
var i=lf(r,(function(){return Yv(a)}),(function(){return Yv(a)}),(function(){return Kv(a)}))
var u=ns(i.left,i.top,t.width,t.height)
var c=n.showAbove?Ol():Tl()
var s=n.showAbove?kl():_l()
var l=Wf(o,n,c,s,c,s,w.none())
return If({anchorBox:u,bubble:n.bubble.getOr(Bf()),overrides:n.overrides,layouts:l,placer:w.none()})}))}
var od=function(t,e){return Pa(t)?Uv(t,e):qv(t,e)}
var ad=function(t,e){var n=e.getSelection.getOrThunk((function(){return function(){return jv(t)}}))
return n().map((function(t){var e=od(t.start,t.soffset)
var n=od(t.finish,t.foffset)
return dv.range(e.element,e.offset,n.element,n.offset)}))}
var id=function(t,e,n){var r=Ua(e.root).dom
var o=ed(t,n,e)
var a=ad(r,e).bind((function(t){var e=Wv(r,dv.exactFromRange(t)).orThunk((function(){var e=er.fromText(Xf)
Qa(t.start,e)
return Wv(r,dv.exact(e,0,e,1)).map((function(t){ii(e)
return t}))}))
return e.bind((function(t){return nd(t.left,t.top,t.width,t.height)}))}))
var i=ad(r,e).bind((function(t){return La(t.start)?w.some(t.start):Ga(t.start)}))
var u=i.getOr(t.element)
return rd(a,o,e,n,u)}
var ud=[En("getSelection"),yn("root"),En("bubble"),jf(),Pn("overrides",{}),Pn("showAbove",false),Ns("placement",id)]
var cd=function(t,e,n){var r=ed(t,n,e)
return e.node.bind((function(o){var a=o.dom.getBoundingClientRect()
var i=nd(a.left,a.top,a.width,a.height)
var u=e.node.getOr(t.element)
return rd(i,r,e,n,u)}))}
var sd=[yn("node"),yn("root"),En("bubble"),jf(),Pn("overrides",{}),Pn("showAbove",false),Ns("placement",cd)]
var ld=function(t){return t.x+t.width}
var fd=function(t,e){return t.x-e.width}
var vd=function(t,e){return t.y-e.height+t.height}
var dd=function(t){return t.y}
var md=function(t,e,n){return Us(ld(t),dd(t),n.southeast(),$s(),ol(t,{left:0,top:2}),"link-layout-se")}
var gd=function(t,e,n){return Us(fd(t,e),dd(t),n.southwest(),Ks(),ol(t,{right:1,top:2}),"link-layout-sw")}
var hd=function(t,e,n){return Us(ld(t),vd(t,e),n.northeast(),Ys(),ol(t,{left:0,bottom:3}),"link-layout-ne")}
var pd=function(t,e,n){return Us(fd(t,e),vd(t,e),n.northwest(),Qs(),ol(t,{right:1,bottom:3}),"link-layout-nw")}
var bd=function(){return[md,gd,hd,pd]}
var yd=function(){return[gd,md,pd,hd]}
var wd=function(t,e,n){var r=uf(n,e.item.element)
var o=Wf(t.element,e,bd(),yd(),bd(),yd(),w.none())
return w.some(If({anchorBox:r,bubble:Bf(),overrides:e.overrides,layouts:o,placer:w.none()}))}
var xd=[yn("item"),jf(),Pn("overrides",{}),Ns("placement",wd)]
var Cd=cn("anchor",{selection:ud,node:sd,hotspot:qf,submenu:xd,makeshift:Jf})
var Sd=function(){var t=document.documentElement
return vf(0,0,t.clientWidth,t.clientHeight)}
var Od=function(t){var e=Ec(t.element)
var n=t.element.dom.getBoundingClientRect()
return ff(e.left,e.top,n.width,n.height)}
var kd=function(t,e,n,r,o){var a=mf(n.anchorBox,e)
Df(a,o.element,n.bubble,n.layouts,r,n.overrides)}
var Td=function(t,e,n,r,o){_d(t,e,n,r,o,w.none())}
var _d=function(t,e,n,r,o,a){var i=a.map(os)
return zd(t,e,n,r,o,i)}
var zd=function(t,e,n,r,o,i){var u=on("positioning anchor.info",Cd,r)
tf((function(){$u(o.element,"position","fixed")
var n=tc(o.element,"visibility")
$u(o.element,"visibility","hidden")
var r=e.useFixed()?Sd():Od(t)
var c=u.placement
var s=i.map(a).or(e.getBounds)
c(t,u,r).each((function(e){var n=e.placer.getOr(kd)
n(t,r,e,s,o)}))
n.fold((function(){rc(o.element,"visibility")}),(function(t){$u(o.element,"visibility",t)}))
tc(o.element,"left").isNone()&&tc(o.element,"top").isNone()&&tc(o.element,"right").isNone()&&tc(o.element,"bottom").isNone()&&tc(o.element,"position").is("fixed")&&rc(o.element,"position")}),o.element)}
var Md=function(t,e,n){return e.useFixed()?"fixed":"absolute"}
var Ed=Object.freeze({__proto__:null,position:Td,positionWithin:_d,positionWithinBounds:zd,getMode:Md})
var Dd=[Pn("useFixed",l),En("getBounds")]
var Ad=Nl({fields:Dd,name:"positioning",active:Jl,apis:Ed})
var Rd=function(t){la(t,ea())
var e=t.components()
q(e,Rd)}
var Hd=function(t){var e=t.components()
q(e,Hd)
la(t,ta())}
var Bd=function(t,e){ei(t.element,e.element)}
var Id=function(t){q(t.components(),(function(t){return ii(t.element)}))
ai(t.element)
t.syncComponents()}
var Ld=function(t,e){var n=t.components()
Id(t)
var r=ot(n,e)
q(r,(function(e){Rd(e)
t.getSystem().removeFromWorld(e)}))
q(e,(function(e){if(e.getSystem().isConnected())Bd(t,e)
else{t.getSystem().addToWorld(e)
Bd(t,e)
Uu(t.element)&&Hd(e)}t.syncComponents()}))}
var Pd=function(t,e){Vd(t,e,ei)}
var Vd=function(t,e,n){t.getSystem().addToWorld(e)
n(t.element,e.element)
Uu(t.element)&&Hd(e)
t.syncComponents()}
var Fd=function(t){Rd(t)
ii(t.element)
t.getSystem().removeFromWorld(t)}
var Nd=function(t){var e=qa(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))
Fd(t)
e.each((function(t){t.syncComponents()}))}
var jd=function(t){var e=t.components()
q(e,Fd)
ai(t.element)
t.syncComponents()}
var Wd=function(t,e){qd(t,e,ei)}
var Ud=function(t,e){qd(t,e,Za)}
var qd=function(t,e,n){n(t,e.element)
var r=$a(e.element)
q(r,(function(t){e.getByDom(t).each(Hd)}))}
var Gd=function(t){var e=$a(t.element)
q(e,(function(e){t.getByDom(e).each(Rd)}))
ii(t.element)}
var Jd=function(t,e,n,r){n.get().each((function(e){jd(t)}))
var o=e.getAttachPoint(t)
Pd(o,t)
var a=t.getSystem().build(r)
Pd(t,a)
n.set(a)
return a}
var Xd=function(t,e,n,r){var o=Jd(t,e,n,r)
e.onOpen(t,o)
return o}
var $d=function(t,e,n,r){return n.get().map((function(){return Jd(t,e,n,r)}))}
var Kd=function(t,e,n,r,o){rm(t,e)
Xd(t,e,n,r)
o()
am(t,e)}
var Yd=function(t,e,n){n.get().each((function(r){jd(t)
Nd(t)
e.onClose(t,r)
n.clear()}))}
var Qd=function(t,e,n){return n.isOpen()}
var Zd=function(t,e,n,r){return Qd(t,e,n)&&n.get().exists((function(n){return e.isPartOf(t,n,r)}))}
var tm=function(t,e,n){return n.get()}
var em=function(t,e,n,r){tc(t.element,e).fold((function(){bi(t.element,n)}),(function(e){di(t.element,n,e)}))
$u(t.element,e,r)}
var nm=function(t,e,n){hi(t.element,n).fold((function(){return rc(t.element,e)}),(function(n){return $u(t.element,e,n)}))}
var rm=function(t,e,n){var r=e.getAttachPoint(t)
$u(t.element,"position",Ad.getMode(r))
em(t,"visibility",e.cloakVisibilityAttr,"hidden")}
var om=function(t){return N(["top","left","right","bottom"],(function(e){return tc(t,e).isSome()}))}
var am=function(t,e,n){om(t.element)||rc(t.element,"position")
nm(t,"visibility",e.cloakVisibilityAttr)}
var im=Object.freeze({__proto__:null,cloak:rm,decloak:am,open:Xd,openWhileCloaked:Kd,close:Yd,isOpen:Qd,isPartOf:Zd,getState:tm,setContent:$d})
var um=function(t,e){return ha([wa(Jo(),(function(n,r){Yd(n,t,e)}))])}
var cm=Object.freeze({__proto__:null,events:um})
var sm=[Ls("onOpen"),Ls("onClose"),yn("isPartOf"),yn("getAttachPoint"),Pn("cloakVisibilityAttr","data-precloak-visibility")]
var lm=function(){var t=$n(w.none())
var e=a("not-implemented")
var n=function(){return t.get().isSome()}
var r=function(e){t.set(w.some(e))}
var o=function(){return t.get()}
var i=function(){t.set(w.none())}
return Xi({readState:e,isOpen:n,clear:i,set:r,get:o})}
var fm=Object.freeze({__proto__:null,init:lm})
var vm=Nl({fields:sm,name:"sandboxing",active:cm,apis:im,state:fm})
var dm=a("dismiss.popups")
var mm=a("reposition.popups")
var gm=a("mouse.released")
var hm=Le([Pn("isExtraPart",l),In("fireEventInstead",[Pn("event",na())])])
var pm=function(t){var e
var n=on("Dismissal",hm,t)
return e={},e[dm()]={schema:Le([yn("target")]),onReceive:function(t,e){if(vm.isOpen(t)){var r=vm.isPartOf(t,e.target)||n.isExtraPart(t,e.target)
r||n.fireEventInstead.fold((function(){return vm.close(t)}),(function(e){return la(t,e.event)}))}}},e}
var bm=Le([In("fireEventInstead",[Pn("event",ra())]),kn("doReposition")])
var ym=function(t){var e
var n=on("Reposition",bm,t)
return e={},e[mm()]={onReceive:function(t){vm.isOpen(t)&&n.fireEventInstead.fold((function(){return n.doReposition(t)}),(function(e){return la(t,e.event)}))}},e}
var wm=function(t,e,n){e.store.manager.onLoad(t,e,n)}
var xm=function(t,e,n){e.store.manager.onUnload(t,e,n)}
var Cm=function(t,e,n,r){e.store.manager.setValue(t,e,n,r)}
var Sm=function(t,e,n){return e.store.manager.getValue(t,e,n)}
var Om=function(t,e,n){return n}
var km=Object.freeze({__proto__:null,onLoad:wm,onUnload:xm,setValue:Cm,getValue:Sm,getState:Om})
var Tm=function(t,e){var n=t.resetOnDom?[Ea((function(n,r){wm(n,t,e)})),Da((function(n,r){xm(n,t,e)}))]:[Rl(t,e,wm)]
return ha(n)}
var _m=Object.freeze({__proto__:null,events:Tm})
var zm=function(){var t=$n(null)
var e=function(){return{mode:"memory",value:t.get()}}
var n=function(){return null===t.get()}
var r=function(){t.set(null)}
return Xi({set:t.set,get:t.get,isNotSet:n,clear:r,readState:e})}
var Mm=function(){var t=function(){}
return Xi({readState:t})}
var Em=function(){var t=$n({})
var e=$n({})
var n=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}}
var r=function(){t.set({})
e.set({})}
var o=function(n){return Vt(t.get(),n).orThunk((function(){return Vt(e.get(),n)}))}
var a=function(n){var r=t.get()
var o=e.get()
var a={}
var i={}
q(n,(function(t){a[t.value]=t
Vt(t,"meta").each((function(e){Vt(e,"text").each((function(e){i[e]=t}))}))}))
t.set(d(d({},r),a))
e.set(d(d({},o),i))}
return Xi({readState:n,lookup:o,update:a,clear:r})}
var Dm=function(t){return t.store.manager.state(t)}
var Am=Object.freeze({__proto__:null,memory:zm,dataset:Em,manual:Mm,init:Dm})
var Rm=function(t,e,n,r){var o=e.store
n.update([r])
o.setValue(t,r)
e.onSetValue(t,r)}
var Hm=function(t,e,n){var r=e.store
var o=r.getDataKey(t)
return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(t){return t}))}
var Bm=function(t,e,n){var r=e.store
r.initialValue.each((function(r){Rm(t,e,n,r)}))}
var Im=function(t,e,n){n.clear()}
var Lm=[En("initialValue"),yn("getFallbackEntry"),yn("getDataKey"),yn("setValue"),Ns("manager",{setValue:Rm,getValue:Hm,onLoad:Bm,onUnload:Im,state:Em})]
var Pm=function(t,e,n){return e.store.getValue(t)}
var Vm=function(t,e,n,r){e.store.setValue(t,r)
e.onSetValue(t,r)}
var Fm=function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))}
var Nm=[yn("getValue"),Pn("setValue",e),En("initialValue"),Ns("manager",{setValue:Vm,getValue:Pm,onLoad:Fm,onUnload:e,state:Ji.init})]
var jm=function(t,e,n,r){n.set(r)
e.onSetValue(t,r)}
var Wm=function(t,e,n){return n.get()}
var Um=function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))}
var qm=function(t,e,n){n.clear()}
var Gm=[En("initialValue"),Ns("manager",{setValue:jm,getValue:Wm,onLoad:Um,onUnload:qm,state:zm})]
var Jm=[Vn("store",{mode:"memory"},cn("mode",{memory:Gm,manual:Nm,dataset:Lm})),Ls("onSetValue"),Pn("resetOnDom",false)]
var Xm=Nl({fields:Jm,name:"representing",active:_m,apis:km,extra:{setValueFrom:function(t,e){var n=Xm.getValue(e)
Xm.setValue(t,n)}},state:Am})
var $m=function(t,e){return Jn(t,{},U(e,(function(e){return Tn(e.name(),"Cannot configure "+e.name()+" for "+t)})).concat([Xn("dump",i)]))}
var Km=function(t){return t.dump}
var Ym=function(t,e){return d(d({},t.dump),Vl(e))}
var Qm={field:$m,augment:Ym,get:Km}
var Zm="placeholder"
var tg=Wt.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}])
var eg=function(t){return Ft(t,"uiType")}
var ng=function(t,e,n,r){if(t.exists((function(t){return t!==n.owner})))return tg.single(true,a(n))
return Vt(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+zt(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))}
var rg=function(t,e,n,r){return eg(n)&&n.uiType===Zm?ng(t,e,n,r):tg.single(false,a(n))}
var og=function(t,e,n,r){var o=rg(t,e,n,r)
return o.fold((function(o,a){var i=eg(n)?a(e,n.config,n.validated):a(e)
var u=Vt(i,"components").getOr([])
var c=et(u,(function(n){return og(t,e,n,r)}))
return[d(d({},i),{components:c})]}),(function(t,r){if(eg(n)){var o=r(e,n.config,n.validated)
var a=n.validated.preprocess.getOr(i)
return a(o)}return r(e)}))}
var ag=function(t,e,n,r){return et(n,(function(n){return og(t,e,n,r)}))}
var ig=function(t,e){var n=false
var r=function(){return n}
var o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+t)
n=true
return e}
var i=function(){return e.fold((function(t,e){return t}),(function(t,e){return t}))}
return{name:a(t),required:i,used:r,replace:o}}
var ug=function(t,e,n,r){var o=Dt(r,(function(t,e){return ig(e,t)}))
var a=ag(t,e,n,o)
Et(o,(function(n){if(false===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))}))
return a}
var cg=tg.single
var sg=tg.multiple
var lg=a(Zm)
var fg=Wt.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}])
var vg=Pn("factory",{sketch:i})
var dg=Pn("schema",[])
var mg=yn("name")
var gg=Ge("pname","pname",ne((function(t){return"<alloy."+_i(t.name)+">"})),ln())
var hg=Xn("schema",(function(){return[En("preprocess")]}))
var pg=Pn("defaults",a({}))
var bg=Pn("overrides",a({}))
var yg=Pe([vg,dg,mg,gg,pg,bg])
var wg=Pe([vg,dg,mg,pg,bg])
var xg=Pe([vg,dg,mg,gg,pg,bg])
var Cg=Pe([vg,hg,mg,yn("unit"),gg,pg,bg])
var Sg=function(t){return t.fold(w.some,w.none,w.some,w.some)}
var Og=function(t){var e=function(t){return t.name}
return t.fold(e,e,e,e)}
var kg=function(t){return t.fold(i,i,i,i)}
var Tg=function(t,e){return function(n){var r=on("Converting part type",e,n)
return t(r)}}
var _g=Tg(fg.required,yg)
var zg=Tg(fg.external,wg)
var Mg=Tg(fg.optional,xg)
var Eg=Tg(fg.group,Cg)
var Dg=a("entirety")
var Ag=Object.freeze({__proto__:null,required:_g,external:zg,optional:Mg,group:Eg,asNamedPart:Sg,name:Og,asCommon:kg,original:Dg})
var Rg=function(t,e,n,r){return Xt(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))}
var Hg=function(t,e,n){var r={}
var o={}
q(n,(function(t){t.fold((function(t){r[t.pname]=cg(true,(function(e,n,r){return t.factory.sketch(Rg(e,t,n,r))}))}),(function(t){var n=e.parts[t.name]
o[t.name]=a(t.factory.sketch(Rg(e,t,n[Dg()]),n))}),(function(t){r[t.pname]=cg(false,(function(e,n,r){return t.factory.sketch(Rg(e,t,n,r))}))}),(function(t){r[t.pname]=sg(true,(function(e,n,r){var o=e[t.name]
return U(o,(function(n){return t.factory.sketch(Xt(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))}))
return{internals:a(r),externals:a(o)}}
var Bg=function(t,e){var n={}
q(e,(function(e){Sg(e).each((function(e){var r=Ig(t,e.pname)
n[e.name]=function(n){var o=on("Part: "+e.name+" in "+t,Pe(e.schema),n)
return d(d({},r),{config:n,validated:o})}}))}))
return n}
var Ig=function(t,e){return{uiType:lg(),owner:t,name:e}}
var Lg=function(t,e,n){return{uiType:lg(),owner:t,name:e,config:n,validated:{}}}
var Pg=function(t){return et(t,(function(t){return t.fold(w.none,w.some,w.none,w.none).map((function(t){return _n(t.name,t.schema.concat([js(Dg())]))})).toArray()}))}
var Vg=function(t){return U(t,Og)}
var Fg=function(t,e,n){return Hg(t,e,n)}
var Ng=function(t,e,n){return ug(w.some(t),e,e.components,n)}
var jg=function(t,e,n){var r=e.partUids[n]
return t.getSystem().getByUid(r).toOptional()}
var Wg=function(t,e,n){return jg(t,e,n).getOrDie("Could not find part: "+n)}
var Ug=function(t,e,n){var r={}
var o=e.partUids
var i=t.getSystem()
q(n,(function(t){r[t]=a(i.getByUid(o[t]))}))
return r}
var qg=function(t,e){var n=t.getSystem()
return Dt(e.partUids,(function(t,e){return a(n.getByUid(t))}))}
var Gg=function(t){return zt(t.partUids)}
var Jg=function(t,e,n){var r={}
var o=e.partUids
var i=t.getSystem()
q(n,(function(t){r[t]=a(i.getByUid(o[t]).getOrDie())}))
return r}
var Xg=function(t,e){var n=Vg(e)
return le(U(n,(function(e){return{key:e,value:t+"-"+e}})))}
var $g=function(t){return Ge("partUids","partUids",re((function(e){return Xg(e.uid,t)})),ln())}
var Kg=Object.freeze({__proto__:null,generate:Bg,generateOne:Lg,schemas:Pg,names:Vg,substitutes:Fg,components:Ng,defaultUids:Xg,defaultUidsSchema:$g,getAllParts:qg,getAllPartNames:Gg,getPart:jg,getPartOrDie:Wg,getParts:Ug,getPartsOrDie:Jg})
var Yg=function(t,e){var n=t.length>0?[_n("parts",t)]:[]
return n.concat([yn("uid"),Pn("dom",{}),Pn("components",[]),js("originalSpec"),Pn("debug.sketcher",{})]).concat(e)}
var Qg=function(t,e,n,r,o){var a=Yg(r,o)
return on(t+" [SpecSchema]",Le(a.concat(e)),n)}
var Zg=function(t,e,n,r){var o=nh(r)
var a=Qg(t,e,o,[],[])
return n(a,o)}
var th=function(t,e,n,r,o){var a=nh(o)
var i=Pg(n)
var u=$g(n)
var c=Qg(t,e,a,i,[u])
var s=Fg(t,c,n)
var l=Ng(t,c,s.internals())
return r(c,l,a,s.externals())}
var eh=function(t){return Ft(t,"uid")}
var nh=function(t){return eh(t)?t:d(d({},t),{uid:Bi("uid")})}
function rh(t){return void 0!==t.uid}var oh=Le([yn("name"),yn("factory"),yn("configFields"),Pn("apis",{}),Pn("extraApis",{})])
var ah=Le([yn("name"),yn("factory"),yn("configFields"),yn("partFields"),Pn("apis",{}),Pn("extraApis",{})])
var ih=function(t){var e=on("Sketcher for "+t.name,oh,t)
var n=function(t){return Zg(e.name,e.configFields,e.factory,t)}
var r=Dt(e.apis,Gi)
var o=Dt(e.extraApis,(function(t,e){return Ni(t,e)}))
return d(d({name:e.name,configFields:e.configFields,sketch:n},r),o)}
var uh=function(t){var e=on("Sketcher for "+t.name,ah,t)
var n=function(t){return th(e.name,e.configFields,e.partFields,e.factory,t)}
var r=Bg(e.name,e.partFields)
var o=Dt(e.apis,Gi)
var a=Dt(e.extraApis,(function(t,e){return Ni(t,e)}))
return d(d({name:e.name,partFields:e.partFields,configFields:e.configFields,sketch:n,parts:r},o),a)}
var ch=function(t){var e=[]
var n=function(t){e.push(t)}
for(var r=0;r<t.length;r++)t[r].each(n)
return e}
var sh=function(t){var e=[]
for(var n=0;n<t.length;n++){var r=t[n]
if(!r.isSome())return w.none()
e.push(r.getOrDie())}return w.some(e)}
var lh=function(t,e,n){return t.isSome()&&e.isSome()?w.some(n(t.getOrDie(),e.getOrDie())):w.none()}
var fh=function(t,e,n,r){return t.isSome()&&e.isSome()&&n.isSome()?w.some(r(t.getOrDie(),e.getOrDie(),n.getOrDie())):w.none()}
var vh=function(t,e){return void 0!==t&&null!==t?w.some(e(t)):w.none()}
var dh=function(t,e){return t?w.some(e):w.none()}
var mh=function(t){return"input"===Ha(t)&&"radio"!==gi(t,"type")||"textarea"===Ha(t)}
var gh=function(t,e,n){return e.find(t)}
var hh=Object.freeze({__proto__:null,getCurrent:gh})
var ph=[yn("find")]
var bh=Nl({fields:ph,name:"composing",apis:hh})
var yh=function(t,e,n,r){var o=Iv(t.element,"."+e.highlightClass)
q(o,(function(n){if(!N(r,(function(t){return t.element===n}))){Mu(n,e.highlightClass)
t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n)
la(n,sa())}))}}))}
var wh=function(t,e,n){return yh(t,e,n,[])}
var xh=function(t,e,n,r){if(_h(t,e,n,r)){Mu(r.element,e.highlightClass)
e.onDehighlight(t,r)
la(r,sa())}}
var Ch=function(t,e,n,r){yh(t,e,n,[r])
if(!_h(t,e,n,r)){_u(r.element,e.highlightClass)
e.onHighlight(t,r)
la(r,ca())}}
var Sh=function(t,e,n){Eh(t,e).each((function(r){Ch(t,e,n,r)}))}
var Oh=function(t,e,n){Dh(t,e).each((function(r){Ch(t,e,n,r)}))}
var kh=function(t,e,n,r){Mh(t,e,n,r).fold((function(t){throw new Error(t)}),(function(r){Ch(t,e,n,r)}))}
var Th=function(t,e,n,r){var o=Bh(t,e)
var a=Q(o,r)
a.each((function(r){Ch(t,e,n,r)}))}
var _h=function(t,e,n,r){return Eu(r.element,e.highlightClass)}
var zh=function(t,e,n){return ds(t.element,"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}
var Mh=function(t,e,n,r){var o=Iv(t.element,"."+e.itemClass)
return w.from(o[r]).fold((function(){return gt.error("No element found with index "+r)}),t.getSystem().getByDom)}
var Eh=function(t,e,n){return ds(t.element,"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}
var Dh=function(t,e,n){var r=Iv(t.element,"."+e.itemClass)
var o=r.length>0?w.some(r[r.length-1]):w.none()
return o.bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}
var Ah=function(t,e,n,r){var o=Iv(t.element,"."+e.itemClass)
var a=Z(o,(function(t){return Eu(t,e.highlightClass)}))
return a.bind((function(e){var n=gf(e,r,0,o.length-1)
return t.getSystem().getByDom(o[n]).toOptional()}))}
var Rh=function(t,e,n){return Ah(t,e,n,-1)}
var Hh=function(t,e,n){return Ah(t,e,n,1)}
var Bh=function(t,e,n){var r=Iv(t.element,"."+e.itemClass)
return ch(U(r,(function(e){return t.getSystem().getByDom(e).toOptional()})))}
var Ih=Object.freeze({__proto__:null,dehighlightAll:wh,dehighlight:xh,highlight:Ch,highlightFirst:Sh,highlightLast:Oh,highlightAt:kh,highlightBy:Th,isHighlighted:_h,getHighlighted:zh,getFirst:Eh,getLast:Dh,getPrevious:Rh,getNext:Hh,getCandidates:Bh})
var Lh=[yn("highlightClass"),yn("itemClass"),Ls("onHighlight"),Ls("onDehighlight")]
var Ph=Nl({fields:Lh,name:"highlighting",apis:Ih})
var Vh=[8]
var Fh=[9]
var Nh=[13]
var jh=[27]
var Wh=[32]
var Uh=[37]
var qh=[38]
var Gh=[39]
var Jh=[40]
var Xh=function(t,e,n){var r=rt(t.slice(0,e))
var o=rt(t.slice(e+1))
return Q(r.concat(o),n)}
var $h=function(t,e,n){var r=rt(t.slice(0,e))
return Q(r,n)}
var Kh=function(t,e,n){var r=t.slice(0,e)
var o=t.slice(e+1)
return Q(o.concat(r),n)}
var Yh=function(t,e,n){var r=t.slice(e+1)
return Q(r,n)}
var Qh=function(t){return function(e){var n=e.raw
return F(t,n.which)}}
var Zh=function(t){return function(e){return nt(t,(function(t){return t(e)}))}}
var tp=function(t){var e=t.raw
return true===e.shiftKey}
var ep=function(t){var e=t.raw
return true===e.ctrlKey}
var np=c(tp)
var rp=function(t,e){return{matches:t,classification:e}}
var op=function(t,e){var n=Q(t,(function(t){return t.matches(e)}))
return n.map((function(t){return t.classification}))}
var ap=function(t,e,n){var r=e.exists((function(t){return n.exists((function(e){return oo(e,t)}))}))
r||fa(t,oa(),{prevFocus:e,newFocus:n})}
var ip=function(){var t=function(t){return Zl(t.element)}
var e=function(e,n){var r=t(e)
e.getSystem().triggerFocus(n,e.element)
var o=t(e)
ap(e,r,o)}
return{get:t,set:e}}
var up=function(){var t=function(t){return Ph.getHighlighted(t).map((function(t){return t.element}))}
var n=function(n,r){var o=t(n)
n.getSystem().getByDom(r).fold(e,(function(t){Ph.highlight(n,t)}))
var a=t(n)
ap(n,o,a)}
return{get:t,set:n}}
var cp;(function(t){t["OnFocusMode"]="onFocus"
t["OnEnterOrSpaceMode"]="onEnterOrSpace"
t["OnApiMode"]="onApi"})(cp||(cp={}))
var sp=function(t,e,n,r,o){var a=function(){return t.concat([Pn("focusManager",ip()),Vn("focusInside","onFocus",Ze((function(t){return F(["onFocus","onEnterOrSpace","onApi"],t)?gt.value(t):gt.error("Invalid value for focusInside")}))),Ns("handler",c),Ns("state",e),Ns("sendFocusIn",o)])}
var i=function(t,e,n,r,o){var a=n(t,e,r,o)
return op(a,e.event).bind((function(n){return n(t,e,r,o)}))}
var u=function(t,e){var a=t.focusInside!==cp.OnFocusMode?w.none():o(t).map((function(n){return wa(Vo(),(function(r,o){n(r,t,e)
o.stop()}))}))
var u=function(n,r){var a=Qh(Wh.concat(Nh))(r.event)
t.focusInside===cp.OnEnterOrSpaceMode&&a&&fo(n,r)&&o(t).each((function(o){o(n,t,e)
r.stop()}))}
var c=[wa(Eo(),(function(r,o){i(r,o,n,t,e).fold((function(){u(r,o)}),(function(t){o.stop()}))})),wa(Do(),(function(n,o){i(n,o,r,t,e).each((function(t){o.stop()}))}))]
return ha(a.toArray().concat(c))}
var c={schema:a,processKey:i,toEvents:u}
return c}
var lp=function(t){var e=[En("onEscape"),En("onEnter"),Pn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Pn("firstTabstop",0),Pn("useTabstopAt",f),En("visibilitySelector")].concat([t])
var n=function(t,e){var n=t.visibilitySelector.bind((function(t){return ms(e,t)})).getOr(e)
return Sc(n)>0}
var r=function(t,e){var r=Iv(t.element,e.selector)
var o=X(r,(function(t){return n(e,t)}))
return w.from(o[e.firstTabstop])}
var o=function(t,e){return e.focusManager.get(t).bind((function(t){return ms(t,e.selector)}))}
var i=function(t,e){return n(t,e)&&t.useTabstopAt(e)}
var c=function(t,e,n){r(t,e).each((function(n){e.focusManager.set(t,n)}))}
var s=function(t,e,n,r,o){return o(e,n,(function(t){return i(r,t)})).fold((function(){return r.cyclic?w.some(true):w.none()}),(function(e){r.focusManager.set(t,e)
return w.some(true)}))}
var l=function(t,e,n,r){var a=Iv(t.element,n.selector)
return o(t,n).bind((function(e){var o=Z(a,u(oo,e))
return o.bind((function(e){return s(t,a,e,n,r)}))}))}
var v=function(t,e,n){var r=n.cyclic?Xh:$h
return l(t,e,n,r)}
var d=function(t,e,n){var r=n.cyclic?Kh:Yh
return l(t,e,n,r)}
var m=function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))}
var g=function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))}
var h=a([rp(Zh([tp,Qh(Fh)]),v),rp(Qh(Fh),d),rp(Qh(jh),g),rp(Zh([np,Qh(Nh)]),m)])
var p=a([])
return sp(e,Ji.init,h,p,(function(){return w.some(c)}))}
var fp=lp(Xn("cyclic",l))
var vp=lp(Xn("cyclic",f))
var dp=function(t,e,n){da(t,n,Wo())
return w.some(true)}
var mp=function(t,e,n){var r=mh(n)&&Qh(Wh)(e.event)
return r?w.none():dp(t,e,n)}
var gp=function(t,e){return w.some(true)}
var hp=[Pn("execute",mp),Pn("useSpace",false),Pn("useEnter",true),Pn("useControlEnter",false),Pn("useDown",false)]
var pp=function(t,e,n){return n.execute(t,e,t.element)}
var bp=function(t,e,n,r){var o=n.useSpace&&!mh(t.element)?Wh:[]
var a=n.useEnter?Nh:[]
var i=n.useDown?Jh:[]
var u=o.concat(a).concat(i)
return[rp(Qh(u),pp)].concat(n.useControlEnter?[rp(Zh([ep,Qh(Nh)]),pp)]:[])}
var yp=function(t,e,n,r){return n.useSpace&&!mh(t.element)?[rp(Qh(Wh),gp)]:[]}
var wp=sp(hp,Ji.init,bp,yp,(function(){return w.none()}))
var xp=function(){var t=$n(w.none())
var e=function(e,n){t.set(w.some({numRows:e,numColumns:n}))}
var n=function(){return t.get().map((function(t){return t.numRows}))}
var r=function(){return t.get().map((function(t){return t.numColumns}))}
return Xi({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:e,getNumRows:n,getNumColumns:r})}
var Cp=function(t){return t.state(t)}
var Sp=Object.freeze({__proto__:null,flatgrid:xp,init:Cp})
var Op=function(t){return function(e,n,r,o){var a=t(e.element)
return zp(a,e,n,r,o)}}
var kp=function(t,e){var n=Lf(t,e)
return Op(n)}
var Tp=function(t,e){var n=Lf(e,t)
return Op(n)}
var _p=function(t){return function(e,n,r,o){return zp(t,e,n,r,o)}}
var zp=function(t,e,n,r,o){var a=r.focusManager.get(e).bind((function(n){return t(e.element,n,r,o)}))
return a.map((function(t){r.focusManager.set(e,t)
return true}))}
var Mp=_p
var Ep=_p
var Dp=_p
var Ap=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}
var Rp=function(t){return!Ap(t.dom)}
var Hp=function(t,e){return Z(t,e).map((function(e){return{index:e,candidates:t}}))}
var Bp=function(t,e,n){var r=function(t){return oo(t,e)}
var o=Iv(t,n)
var a=X(o,Rp)
return Hp(a,r)}
var Ip=function(t,e){return Z(t,(function(t){return oo(e,t)}))}
var Lp=function(t,e,n,r){var o=Math.floor(e/n)
var a=e%n
return r(o,a).bind((function(e){var r=e.row*n+e.column
return r>=0&&r<t.length?w.some(t[r]):w.none()}))}
var Pp=function(t,e,n,r,o){return Lp(t,e,r,(function(e,a){var i=e===n-1
var u=i?t.length-e*r:r
var c=gf(a,o,0,u-1)
return w.some({row:e,column:c})}))}
var Vp=function(t,e,n,r,o){return Lp(t,e,r,(function(e,a){var i=gf(e,o,0,n-1)
var u=i===n-1
var c=u?t.length-i*r:r
var s=hf(a,0,c-1)
return w.some({row:i,column:s})}))}
var Fp=function(t,e,n,r){return Pp(t,e,n,r,1)}
var Np=function(t,e,n,r){return Pp(t,e,n,r,-1)}
var jp=function(t,e,n,r){return Vp(t,e,n,r,-1)}
var Wp=function(t,e,n,r){return Vp(t,e,n,r,1)}
var Up=[yn("selector"),Pn("execute",mp),Ps("onEscape"),Pn("captureTab",false),Ws()]
var qp=function(t,e,n){ds(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))}
var Gp=function(t,e){return e.focusManager.get(t).bind((function(t){return ms(t,e.selector)}))}
var Jp=function(t,e,n,r){return Gp(t,n).bind((function(r){return n.execute(t,e,r)}))}
var Xp=function(t){return function(e,n,r,o){return Bp(e,n,r.selector).bind((function(e){return t(e.candidates,e.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}}
var $p=function(t,e,n){return n.captureTab?w.some(true):w.none()}
var Kp=function(t,e,n){return n.onEscape(t,e)}
var Yp=Xp(Np)
var Qp=Xp(Fp)
var Zp=Xp(jp)
var tb=Xp(Wp)
var eb=a([rp(Qh(Uh),kp(Yp,Qp)),rp(Qh(Gh),Tp(Yp,Qp)),rp(Qh(qh),Mp(Zp)),rp(Qh(Jh),Ep(tb)),rp(Zh([tp,Qh(Fh)]),$p),rp(Zh([np,Qh(Fh)]),$p),rp(Qh(jh),Kp),rp(Qh(Wh.concat(Nh)),Jp)])
var nb=a([rp(Qh(Wh),gp)])
var rb=sp(Up,xp,eb,nb,(function(){return w.some(qp)}))
var ob=function(t,e,n,r){var o=function(t){return"button"===Ha(t)&&"disabled"===gi(t,"disabled")}
var a=function(t,e,n){var i=gf(e,r,0,n.length-1)
return i===t?w.none():o(n[i])?a(t,i,n):w.from(n[i])}
return Bp(t,n,e).bind((function(t){var e=t.index
var n=t.candidates
return a(e,e,n)}))}
var ab=[yn("selector"),Pn("getInitial",w.none),Pn("execute",mp),Ps("onEscape"),Pn("executeOnMove",false),Pn("allowVertical",true)]
var ib=function(t,e){return e.focusManager.get(t).bind((function(t){return ms(t,e.selector)}))}
var ub=function(t,e,n){return ib(t,n).bind((function(r){return n.execute(t,e,r)}))}
var cb=function(t,e,n){e.getInitial(t).orThunk((function(){return ds(t.element,e.selector)})).each((function(n){e.focusManager.set(t,n)}))}
var sb=function(t,e,n){return ob(t,n.selector,e,-1)}
var lb=function(t,e,n){return ob(t,n.selector,e,1)}
var fb=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?ub(e,n,r):w.some(true)}))}}
var vb=function(t,e,n){return n.onEscape(t,e)}
var db=function(t,e,n,r){var o=Uh.concat(n.allowVertical?qh:[])
var a=Gh.concat(n.allowVertical?Jh:[])
return[rp(Qh(o),fb(kp(sb,lb))),rp(Qh(a),fb(Tp(sb,lb))),rp(Qh(Nh),ub),rp(Qh(Wh),ub),rp(Qh(jh),vb)]}
var mb=a([rp(Qh(Wh),gp)])
var gb=sp(ab,Ji.init,db,mb,(function(){return w.some(cb)}))
var hb=function(t,e,n){return w.from(t[e]).bind((function(t){return w.from(t[n]).map((function(t){return{rowIndex:e,columnIndex:n,cell:t}}))}))}
var pb=function(t,e,n,r){var o=t[e]
var a=o.length
var i=gf(n,r,0,a-1)
return hb(t,e,i)}
var bb=function(t,e,n,r){var o=gf(n,r,0,t.length-1)
var a=t[o].length
var i=hf(e,0,a-1)
return hb(t,o,i)}
var yb=function(t,e,n,r){var o=t[e]
var a=o.length
var i=hf(n+r,0,a-1)
return hb(t,e,i)}
var wb=function(t,e,n,r){var o=hf(n+r,0,t.length-1)
var a=t[o].length
var i=hf(e,0,a-1)
return hb(t,o,i)}
var xb=function(t,e,n){return pb(t,e,n,1)}
var Cb=function(t,e,n){return pb(t,e,n,-1)}
var Sb=function(t,e,n){return bb(t,n,e,-1)}
var Ob=function(t,e,n){return bb(t,n,e,1)}
var kb=function(t,e,n){return yb(t,e,n,-1)}
var Tb=function(t,e,n){return yb(t,e,n,1)}
var _b=function(t,e,n){return wb(t,n,e,-1)}
var zb=function(t,e,n){return wb(t,n,e,1)}
var Mb=[_n("selectors",[yn("row"),yn("cell")]),Pn("cycles",true),Pn("previousSelector",w.none),Pn("execute",mp)]
var Eb=function(t,e,n){var r=e.previousSelector(t).orThunk((function(){var n=e.selectors
return ds(t.element,n.cell)}))
r.each((function(n){e.focusManager.set(t,n)}))}
var Db=function(t,e,n){return Zl(t.element).bind((function(r){return n.execute(t,e,r)}))}
var Ab=function(t,e){return U(t,(function(t){return Iv(t,e.selectors.cell)}))}
var Rb=function(t,e){return function(n,r,o){var a=o.cycles?t:e
return ms(r,o.selectors.row).bind((function(t){var e=Iv(t,o.selectors.cell)
return Ip(e,r).bind((function(e){var r=Iv(n,o.selectors.row)
return Ip(r,t).bind((function(t){var n=Ab(r,o)
return a(n,t,e).map((function(t){return t.cell}))}))}))}))}}
var Hb=Rb(Cb,kb)
var Bb=Rb(xb,Tb)
var Ib=Rb(Sb,_b)
var Lb=Rb(Ob,zb)
var Pb=a([rp(Qh(Uh),kp(Hb,Bb)),rp(Qh(Gh),Tp(Hb,Bb)),rp(Qh(qh),Mp(Ib)),rp(Qh(Jh),Ep(Lb)),rp(Qh(Wh.concat(Nh)),Db)])
var Vb=a([rp(Qh(Wh),gp)])
var Fb=sp(Mb,Ji.init,Pb,Vb,(function(){return w.some(Eb)}))
var Nb=[yn("selector"),Pn("execute",mp),Pn("moveOnTab",false)]
var jb=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))}
var Wb=function(t,e,n){ds(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))}
var Ub=function(t,e,n){return ob(t,n.selector,e,-1)}
var qb=function(t,e,n){return ob(t,n.selector,e,1)}
var Gb=function(t,e,n,r){return n.moveOnTab?Dp(Ub)(t,e,n,r):w.none()}
var Jb=function(t,e,n,r){return n.moveOnTab?Dp(qb)(t,e,n,r):w.none()}
var Xb=a([rp(Qh(qh),Dp(Ub)),rp(Qh(Jh),Dp(qb)),rp(Zh([tp,Qh(Fh)]),Gb),rp(Zh([np,Qh(Fh)]),Jb),rp(Qh(Nh),jb),rp(Qh(Wh),jb)])
var $b=a([rp(Qh(Wh),gp)])
var Kb=sp(Nb,Ji.init,Xb,$b,(function(){return w.some(Wb)}))
var Yb=[Ps("onSpace"),Ps("onEnter"),Ps("onShiftEnter"),Ps("onLeft"),Ps("onRight"),Ps("onTab"),Ps("onShiftTab"),Ps("onUp"),Ps("onDown"),Ps("onEscape"),Pn("stopSpaceKeyup",false),En("focusIn")]
var Qb=function(t,e,n){return[rp(Qh(Wh),n.onSpace),rp(Zh([np,Qh(Nh)]),n.onEnter),rp(Zh([tp,Qh(Nh)]),n.onShiftEnter),rp(Zh([tp,Qh(Fh)]),n.onShiftTab),rp(Zh([np,Qh(Fh)]),n.onTab),rp(Qh(qh),n.onUp),rp(Qh(Jh),n.onDown),rp(Qh(Uh),n.onLeft),rp(Qh(Gh),n.onRight),rp(Qh(Wh),n.onSpace),rp(Qh(jh),n.onEscape)]}
var Zb=function(t,e,n){return n.stopSpaceKeyup?[rp(Qh(Wh),gp)]:[]}
var ty=sp(Yb,Ji.init,Qb,Zb,(function(t){return t.focusIn}))
var ey=fp.schema()
var ny=vp.schema()
var ry=gb.schema()
var oy=rb.schema()
var ay=Fb.schema()
var iy=wp.schema()
var uy=Kb.schema()
var cy=ty.schema()
var sy=Object.freeze({__proto__:null,acyclic:ey,cyclic:ny,flow:ry,flatgrid:oy,matrix:ay,execution:iy,menu:uy,special:cy})
var ly=function(t){return Nt(t,"setGridSize")}
var fy=Wl({branchKey:"mode",branches:sy,name:"keying",active:{events:function(t,e){var n=t.handler
return n.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element,t.element)}),(function(r){r(t,e,n)}))},setGridSize:function(t,e,n,r,o){ly(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Sp})
var vy=function(t,e,n,r){tf((function(){var e=U(r,t.getSystem().build)
Ld(t,e)}),t.element)}
var dy=function(t,e,n,r){var o=t.getSystem().build(r)
Vd(t,o,n)}
var my=function(t,e,n,r){dy(t,e,ei,r)}
var gy=function(t,e,n,r){dy(t,e,ti,r)}
var hy=function(t,e,n,r){var o=py(t)
var a=Q(o,(function(t){return oo(r.element,t.element)}))
a.each(Nd)}
var py=function(t,e){return t.components()}
var by=function(t,e,n,r,o){var a=py(t)
return w.from(a[r]).map((function(a){hy(t,e,n,a)
o.each((function(n){dy(t,e,(function(t,e){ni(t,e,r)}),n)}))
return a}))}
var yy=function(t,e,n,r,o){var a=py(t)
return Z(a,r).bind((function(r){return by(t,e,n,r,o)}))}
var wy=Object.freeze({__proto__:null,append:my,prepend:gy,remove:hy,replaceAt:by,replaceBy:yy,set:vy,contents:py})
var xy=Nl({fields:[],name:"replacing",apis:wy})
var Cy=function(t,e){var n=ha(e)
return Nl({fields:[yn("enabled")],name:t,active:{events:a(n)}})}
var Sy=function(t,e){var n=Cy(t,e)
return{key:t,value:{config:{},me:n,configAsRaw:a({}),initialConfig:{},state:Ji}}}
var Oy=function(t,e){if(!e.ignore){$l(t.element)
e.onFocus(t)}}
var ky=function(t,e){e.ignore||Kl(t.element)}
var Ty=function(t){return Yl(t.element)}
var _y=Object.freeze({__proto__:null,focus:Oy,blur:ky,isFocused:Ty})
var zy=function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}}
return Zi(n)}
var My=function(t){return ha([wa(Vo(),(function(e,n){Oy(e,t)
n.stop()}))].concat(t.stopMousedown?[wa(So(),(function(t,e){e.event.prevent()}))]:[]))}
var Ey=Object.freeze({__proto__:null,exhibit:zy,events:My})
var Dy=[Ls("onFocus"),Pn("stopMousedown",false),Pn("ignore",false)]
var Ay=Nl({fields:Dy,name:"focusing",active:Ey,apis:_y})
var Ry=function(t){var e=function(){var e=$n(t)
var n=function(){return e.get()}
var r=function(t){return e.set(t)}
var o=function(){return e.set(t)}
var a=function(){return e.get()}
return{get:n,set:r,clear:o,readState:a}}
return{init:e}}
var Hy=function(t,e,n){var r=e.aria
r.update(t,r,n.get())}
var By=function(t,e,n){e.toggleClass.each((function(e){n.get()?_u(t.element,e):Mu(t.element,e)}))}
var Iy=function(t,e,n){Vy(t,e,n,!n.get())}
var Ly=function(t,e,n){n.set(true)
By(t,e,n)
Hy(t,e,n)}
var Py=function(t,e,n){n.set(false)
By(t,e,n)
Hy(t,e,n)}
var Vy=function(t,e,n,r){var o=r?Ly:Py
o(t,e,n)}
var Fy=function(t,e,n){return n.get()}
var Ny=function(t,e,n){Vy(t,e,n,e.selected)}
var jy=Object.freeze({__proto__:null,onLoad:Ny,toggle:Iy,isOn:Fy,on:Ly,off:Py,set:Vy})
var Wy=function(){return Zi({})}
var Uy=function(t,e){var n=Al(t,e,Iy)
var r=Rl(t,e,Ny)
return ha(tt([t.toggleOnExecute?[n]:[],[r]]))}
var qy=Object.freeze({__proto__:null,exhibit:Wy,events:Uy})
var Gy=function(t,e,n){di(t.element,"aria-pressed",n)
e.syncWithExpanded&&$y(t,e,n)}
var Jy=function(t,e,n){di(t.element,"aria-selected",n)}
var Xy=function(t,e,n){di(t.element,"aria-checked",n)}
var $y=function(t,e,n){di(t.element,"aria-expanded",n)}
var Ky=[Pn("selected",false),En("toggleClass"),Pn("toggleOnExecute",true),Vn("aria",{mode:"none"},cn("mode",{pressed:[Pn("syncWithExpanded",false),Ns("update",Gy)],checked:[Ns("update",Xy)],expanded:[Ns("update",$y)],selected:[Ns("update",Jy)],none:[Ns("update",e)]}))]
var Yy=Nl({fields:Ky,name:"toggling",active:qy,apis:jy,state:Ry(false)})
var Qy=function(){var t=function(t,e){e.stop()
va(t)}
return[wa(Ho(),t),wa(qo(),t),_a(yo()),_a(So())]}
var Zy=function(t){var e=function(t){return Ra((function(e,n){t(e)
n.stop()}))}
return ha(tt([t.map(e).toArray(),Qy()]))}
var tw="alloy.item-hover"
var ew="alloy.item-focus"
var nw=function(t){if(Zl(t.element).isNone()||Ay.isFocused(t)){Ay.isFocused(t)||Ay.focus(t)
fa(t,tw,{item:t})}}
var rw=function(t){fa(t,ew,{item:t})}
var ow=a(tw)
var aw=a(ew)
var iw=function(t){return{dom:t.dom,domModification:d(d({},t.domModification),{attributes:d(d(d({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":false}:{})}),behaviours:Qm.augment(t.itemBehaviours,[t.toggling.fold(Yy.revoke,(function(t){return Yy.config(d({aria:{mode:"checked"}},t))})),Ay.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){rw(t)}}),fy.config({mode:"execution"}),Xm.config({store:{mode:"memory",initialValue:t.data}}),Sy("item-type-events",g(Qy(),[wa(_o(),nw),wa(Uo(),Ay.focus)]))]),components:t.components,eventOrder:t.eventOrder}}
var uw=[yn("data"),yn("components"),yn("dom"),Pn("hasSubmenu",false),En("toggling"),Qm.field("itemBehaviours",[Yy,Ay,fy,Xm]),Pn("ignoreFocus",false),Pn("domModification",{}),Ns("builder",iw),Pn("eventOrder",{})]
var cw=function(t){return{dom:t.dom,components:t.components,events:ha([za(Uo())])}}
var sw=[yn("dom"),yn("components"),Ns("builder",cw)]
var lw=function(){return"item-widget"}
var fw=a([_g({name:"widget",overrides:function(t){return{behaviours:Vl([Xm.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:function(){}}})])}}})])
var vw=function(t){var e=Fg(lw(),t,fw())
var n=Ng(lw(),t,e.internals())
var r=function(e){return jg(e,t,"widget").map((function(t){fy.focusIn(t)
return t}))}
var o=function(e,n){return mh(n.event.target)?w.none():function(){if(t.autofocus){n.setSource(e.element)
return w.none()}return w.none()}()}
return{dom:t.dom,components:n,domModification:t.domModification,events:ha([Ra((function(t,e){r(t).each((function(t){e.stop()}))})),wa(_o(),nw),wa(Uo(),(function(e,n){t.autofocus?r(e):Ay.focus(e)}))]),behaviours:Qm.augment(t.widgetBehaviours,[Xm.config({store:{mode:"memory",initialValue:t.data}}),Ay.config({ignore:t.ignoreFocus,onFocus:function(t){rw(t)}}),fy.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:Ul(),onLeft:o,onRight:o,onEscape:function(e,n){if(Ay.isFocused(e)||t.autofocus){if(t.autofocus){n.setSource(e.element)
return w.none()}return w.none()}Ay.focus(e)
return w.some(true)}})])}}
var dw=[yn("uid"),yn("data"),yn("components"),yn("dom"),Pn("autofocus",false),Pn("ignoreFocus",false),Qm.field("widgetBehaviours",[Xm,Ay,fy]),Pn("domModification",{}),$g(fw()),Ns("builder",vw)]
var mw=cn("type",{widget:dw,item:uw,separator:sw})
var gw=function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}}
var hw=function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}}
var pw=function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}}
var bw=a([Eg({factory:{sketch:function(t){var e=on("menu.spec item",mw,t)
return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:d(d({},e),{uid:Bi("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})])
var yw=a([yn("value"),yn("items"),yn("dom"),yn("components"),Pn("eventOrder",{}),$m("menuBehaviours",[Ph,Xm,bh,fy]),Vn("movement",{mode:"menu",moveOnTab:true},cn("mode",{grid:[Ws(),Ns("config",gw)],matrix:[Ns("config",hw),yn("rowSelector")],menu:[Pn("moveOnTab",true),Ns("config",pw)]})),Rs(),Pn("fakeFocus",false),Pn("focusManager",ip()),Ls("onHighlight")])
var ww=a("alloy.menu-focus")
var xw=function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ym(t.menuBehaviours,[Ph.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Xm.config({store:{mode:"memory",initialValue:t.value}}),bh.config({find:w.some}),fy.config(t.movement.config(t,t.movement))]),events:ha([wa(aw(),(function(t,e){var n=e.event
t.getSystem().getByDom(n.target).each((function(n){Ph.highlight(t,n)
e.stop()
fa(t,ww(),{menu:t,item:n})}))})),wa(ow(),(function(t,e){var n=e.event.item
Ph.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}
var Cw=uh({name:"Menu",configFields:yw(),partFields:bw(),factory:xw})
var Sw=function(t){return At(t,(function(t,e){return{k:t,v:e}}))}
var Ow=function(t,e,n,r){return Vt(n,r).bind((function(r){return Vt(t,r).bind((function(r){var o=Ow(t,e,n,r)
return w.some([r].concat(o))}))})).getOr([])}
var kw=function(t,e){var n={}
Et(t,(function(t,e){q(t,(function(t){n[t]=e}))}))
var r=e
var o=Sw(e)
var a=Dt(o,(function(t,e){return[e].concat(Ow(n,r,o,e))}))
return Dt(n,(function(t){return Vt(a,t).getOr([t])}))}
var Tw=function(){var t=$n({})
var e=$n({})
var n=$n({})
var r=$n(w.none())
var o=$n({})
var a=function(){t.set({})
e.set({})
n.set({})
r.set(w.none())}
var i=function(){return r.get().isNone()}
var u=function(t,n){var r
e.set(d(d({},e.get()),(r={},r[t]={type:"prepared",menu:n},r)))}
var c=function(a,i,u,c){r.set(w.some(a))
t.set(u)
e.set(i)
o.set(c)
var s=kw(c,u)
n.set(s)}
var s=function(e){return Lt(t.get(),(function(t,n){return t===e}))}
var l=function(t,e,n){return h(t).bind((function(r){return s(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}}))}))}))}
var f=function(t,e){var o=X(b(t).toArray(),(function(t){return h(t).isSome()}))
return Vt(n.get(),t).bind((function(t){var n=rt(o.concat(t))
var a=et(n,(function(t,o){return l(t,e,n.slice(0,o+1)).fold((function(){return r.get().is(t)?[]:[w.none()]}),(function(t){return[w.some(t)]}))}))
return sh(a)}))}
var v=function(e){return Vt(t.get(),e).map((function(t){var r=Vt(n.get(),e).getOr([])
return[t].concat(r)}))}
var m=function(t){return Vt(n.get(),t).bind((function(t){return t.length>1?w.some(t.slice(1)):w.none()}))}
var g=function(t){return Vt(n.get(),t)}
var h=function(t){return p(t).bind(_w)}
var p=function(t){return Vt(e.get(),t)}
var b=function(e){return Vt(t.get(),e)}
var y=function(t){var e=o.get()
return ot(zt(e),t)}
var x=function(){return r.get().bind(h)}
var C=function(){return e.get()}
return{setMenuBuilt:u,setContents:c,expand:v,refresh:g,collapse:m,lookupMenu:p,lookupItem:b,otherMenus:y,getPrimary:x,getMenus:C,clear:a,isClear:i,getTriggeringPath:f}}
var _w=function(t){return"prepared"===t.type?w.some(t.menu):w.none()}
var zw={init:Tw,extractPreparedMenu:_w}
var Mw=function(t,e){var n=$n(w.none())
var r=function(e,n,r){return Dt(r,(function(r,o){var a=function(){return Cw.sketch(d(d({},r),{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?up():ip()}))}
return o===n?{type:"prepared",menu:e.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}}))}
var o=zw.init()
var a=function(e){var n=r(e,t.data.primary,t.data.menus)
var a=c()
o.setContents(t.data.primary,n,t.data.expansions,a)
return o.getPrimary()}
var i=function(t){return Xm.getValue(t).value}
var u=function(t,e,n){return ft(e,(function(t){if(!t.getSystem().isConnected())return w.none()
var e=Ph.getCandidates(t)
return Q(e,(function(t){return i(t)===n}))}))}
var c=function(e){return Dt(t.data.menus,(function(t,e){return et(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))}
var s=function(t,e){Ph.highlight(t,e)
Ph.getHighlighted(e).orThunk((function(){return Ph.getFirst(e)})).each((function(e){da(t,e.element,Uo())}))}
var l=function(t,e){return ch(U(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?w.some(t.menu):w.none()}))})))}
var f=function(e,n,r){var o=l(n,n.otherMenus(r))
q(o,(function(n){Au(n.element,[t.markers.backgroundMenu])
t.stayInDom||xy.remove(e,n)}))}
var v=function(e){return n.get().getOrThunk((function(){var r={}
var o=Iv(e.element,"."+t.markers.item)
var a=X(o,(function(t){return"true"===gi(t,"aria-haspopup")}))
q(a,(function(t){e.getSystem().getByDom(t).each((function(t){var e=i(t)
r[e]=t}))}))
n.set(w.some(r))
return r}))}
var m=function(t,e){var n=v(t)
Et(n,(function(t,n){var r=F(e,n)
di(t.element,"aria-expanded",r)}))}
var g=function(e,n,r){return w.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return w.none()
var a=o.menu
var i=l(n,r.slice(1))
q(i,(function(e){_u(e.element,t.markers.backgroundMenu)}))
Uu(a.element)||xy.append(e,wc(a))
Au(a.element,[t.markers.backgroundMenu])
s(e,a)
f(e,n,r)
return w.some(a)}))}))}
var h;(function(t){t[t["HighlightSubmenu"]=0]="HighlightSubmenu"
t[t["HighlightParent"]=1]="HighlightParent"})(h||(h={}))
var p=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu())
o.setMenuBuilt(e,r)
return r}return n.menu}
var b=function(e,n,r){void 0===r&&(r=h.HighlightSubmenu)
var a=i(n)
return o.expand(a).bind((function(a){m(e,a)
return w.from(a[0]).bind((function(i){return o.lookupMenu(i).bind((function(u){var c=p(e,i,u)
Uu(c.element)||xy.append(e,wc(c))
t.onOpenSubmenu(e,n,c,rt(a))
if(r===h.HighlightSubmenu){Ph.highlightFirst(c)
return g(e,o,a)}Ph.dehighlightAll(c)
return w.some(n)}))}))}))}
var y=function(e,n){var r=i(n)
return o.collapse(r).bind((function(r){m(e,r)
return g(e,o,r).map((function(r){t.onCollapseMenu(e,n,r)
return r}))}))}
var x=function(t,e){var n=i(e)
return o.refresh(n).bind((function(e){m(t,e)
return g(t,o,e)}))}
var C=function(t,e){return mh(e.element)?w.none():b(t,e,h.HighlightSubmenu)}
var S=function(t,e){return mh(e.element)?w.none():y(t,e)}
var O=function(e,n){return y(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))}
var k=function(e){return function(n,r){return ms(r.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOptional().bind((function(t){return e(n,t).map((function(){return true}))}))}))}}
var T=ha([wa(ww(),(function(t,e){var n=e.event.item
o.lookupItem(i(n)).each((function(){var n=e.event.menu
Ph.highlight(t,n)
var r=i(e.event.item)
o.refresh(r).each((function(e){return f(t,o,e)}))}))})),Ra((function(e,n){var r=n.event.target
e.getSystem().getByDom(r).each((function(n){var r=i(n)
0===r.indexOf("collapse-item")&&y(e,n)
b(e,n,h.HighlightSubmenu).fold((function(){t.onExecute(e,n)}),(function(){}))}))})),Ea((function(e,n){a(e).each((function(n){xy.append(e,wc(n))
t.onOpenMenu(e,n)
t.highlightImmediately&&s(e,n)}))}))].concat(t.navigateOnHover?[wa(ow(),(function(e,n){var r=n.event.item
x(e,r)
b(e,r,h.HighlightParent)
t.onHover(e,r)}))]:[]))
var _=function(t){return Ph.getHighlighted(t).bind(Ph.getHighlighted)}
var z=function(t){_(t).each((function(e){y(t,e)}))}
var M=function(t){o.getPrimary().each((function(e){s(t,e)}))}
var E=function(t){return w.from(t.components()[0]).filter((function(t){return"menu"===gi(t.element,"role")}))}
var D=function(e){var n=o.getPrimary().bind((function(t){return _(e).bind((function(t){var n=i(t)
var r=Pt(o.getMenus())
var a=ch(U(r,zw.extractPreparedMenu))
return o.getTriggeringPath(n,(function(t){return u(e,a,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))}))
n.fold((function(){E(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath
t.onRepositionMenu(e,r,o)}))}
var A={collapseMenu:z,highlightPrimary:M,repositionMenus:D}
return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ym(t.tmenuBehaviours,[fy.config({mode:"special",onRight:k(C),onLeft:k(S),onEscape:k(O),focusIn:function(t,e){o.getPrimary().each((function(e){da(t,e.element,Uo())}))}}),Ph.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),bh.config({find:function(t){return Ph.getHighlighted(t)}}),xy.config({})]),eventOrder:t.eventOrder,apis:A,events:T}}
var Ew=a("collapse-item")
var Dw=function(t,e,n){return{primary:t,menus:e,expansions:n}}
var Aw=function(t,e){return{primary:t,menus:se(t,e),expansions:{}}}
var Rw=function(t){return{value:_i(Ew()),meta:{text:t}}}
var Hw=ih({name:"TieredMenu",configFields:[Fs("onExecute"),Fs("onEscape"),Vs("onOpenMenu"),Vs("onOpenSubmenu"),Ls("onRepositionMenu"),Ls("onCollapseMenu"),Pn("highlightImmediately",true),_n("data",[yn("primary"),yn("menus"),yn("expansions")]),Pn("fakeFocus",false),Ls("onHighlight"),Ls("onHover"),Hs(),yn("dom"),Pn("navigateOnHover",true),Pn("stayInDom",false),$m("tmenuBehaviours",[fy,Ph,bh,xy]),Pn("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:Mw,extraApis:{tieredData:Dw,singleData:Aw,collapseItem:Rw}})
var Bw=function(t,e,n,r,o){var a=function(){return t.lazySink(e)}
var i="horizontal"===r.type?{layouts:{onLtr:function(){return Tl()},onRtl:function(){return _l()}}}:{}
var u=function(t){return 2===t.length}
var c=function(t){return u(t)?i:{}}
return Hw.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){vm.close(e)
t.onEscape.map((function(t){return t(e)}))
return w.some(true)},onExecute:function(){return w.some(true)},onOpenMenu:function(t,e){Ad.positionWithinBounds(a().getOrDie(),n,e,o())},onOpenSubmenu:function(t,e,n,r){var o=a().getOrDie()
Ad.position(o,d({anchor:"submenu",item:e},c(r)),n)},onRepositionMenu:function(t,e,r){var i=a().getOrDie()
Ad.positionWithinBounds(i,n,e,o())
q(r,(function(t){var e=c(t.triggeringPath)
Ad.position(i,d({anchor:"submenu",item:t.triggeringItem},e),t.triggeredMenu)}))}})}
var Iw=function(t,e){var n=function(e,n){var r=t.getRelated(e)
return r.exists((function(t){return bs(t,n)}))}
var r=function(t,e){vm.setContent(t,e)}
var o=function(t,e,n){a(t,e,n,w.none())}
var a=function(t,e,n,r){i(t,e,n,(function(){return r.map((function(t){return os(t)}))}))}
var i=function(e,n,r,o){var a=t.lazySink(e).getOrDie()
vm.openWhileCloaked(e,r,(function(){return Ad.positionWithinBounds(a,n,e,o())}))
Xm.setValue(e,w.some({mode:"position",anchor:n,getBounds:o}))}
var u=function(t,e,n){c(t,e,n,(function(){return w.none()}))}
var c=function(e,n,r,o){var a=Bw(t,e,n,r,o)
vm.open(e,a)
Xm.setValue(e,w.some({mode:"menu",menu:a}))}
var s=function(t){if(vm.isOpen(t)){Xm.setValue(t,w.none())
vm.close(t)}}
var l=function(t){return vm.getState(t)}
var f=function(e){vm.isOpen(e)&&Xm.getValue(e).each((function(n){switch(n.mode){case"menu":vm.getState(e).each((function(t){Hw.repositionMenus(t)}))
break
case"position":var r=t.lazySink(e).getOrDie()
Ad.positionWithinBounds(r,n.anchor,e,n.getBounds())}}))}
var v={setContent:r,showAt:o,showWithin:a,showWithinBounds:i,showMenuAt:u,showMenuWithinBounds:c,hide:s,getContent:l,reposition:f,isOpen:vm.isOpen}
return{uid:t.uid,dom:t.dom,behaviours:Ym(t.inlineBehaviours,[vm.config({isPartOf:function(t,e,r){return bs(e,r)||n(t,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),Xm.config({store:{mode:"memory",initialValue:w.none()}}),ql.config({channels:d(d({},pm(d({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),ym(d(d({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:f})))})]),eventOrder:t.eventOrder,apis:v}}
var Lw=ih({name:"InlineView",configFields:[yn("lazySink"),Ls("onShow"),Ls("onHide"),Hn("onEscape"),$m("inlineBehaviours",[vm,Xm,ql]),In("fireDismissalEventInstead",[Pn("event",na())]),In("fireRepositionEventInstead",[Pn("event",ra())]),Pn("getRelated",w.none),Pn("isExtraPart",l),Pn("eventOrder",w.none)],factory:Iw,apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithin:function(t,e,n,r,o){t.showWithin(e,n,r,o)},showWithinBounds:function(t,e,n,r,o){t.showWithinBounds(e,n,r,o)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,o){t.showMenuWithinBounds(e,n,r,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}})
var Pw=function(t){return t.x}
var Vw=function(t,e){return t.x+t.width/2-e.width/2}
var Fw=function(t,e){return t.x+t.width-e.width}
var Nw=function(t){return t.y}
var jw=function(t,e){return t.y+t.height-e.height}
var Ww=function(t,e,n){return Us(Fw(t,e),jw(t,e),n.innerSoutheast(),Qs(),ol(t,{right:0,bottom:3}),"layout-inner-se")}
var Uw=function(t,e,n){return Us(Pw(t),jw(t,e),n.innerSouthwest(),Ys(),ol(t,{left:1,bottom:3}),"layout-inner-sw")}
var qw=function(t,e,n){return Us(Fw(t,e),Nw(t),n.innerNortheast(),Ks(),ol(t,{right:0,top:2}),"layout-inner-ne")}
var Gw=function(t,e,n){return Us(Pw(t),Nw(t),n.innerNorthwest(),$s(),ol(t,{left:1,top:2}),"layout-inner-nw")}
var Jw=function(t,e,n){return Us(Vw(t,e),Nw(t),n.innerNorth(),Zs(),ol(t,{top:2}),"layout-inner-n")}
var Xw=function(t,e,n){return Us(Vw(t,e),jw(t,e),n.innerSouth(),tl(),ol(t,{bottom:3}),"layout-inner-s")}
var $w=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Kw=function(t){var e=Zy(t.action)
var n=t.dom.tag
var r=function(e){return Vt(t.dom,"attributes").bind((function(t){return Vt(t,e)}))}
var o=function(){if("button"===n){var t=r("type").getOr("button")
var e=r("role").map((function(t){return{role:t}})).getOr({})
return d({type:t},e)}var o=r("role").getOr("button")
return{role:o}}
return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:Qm.augment(t.buttonBehaviours,[Ay.config({}),fy.config({mode:"execution",useSpace:true,useEnter:true})]),domModification:{attributes:o()},eventOrder:t.eventOrder}}
var Yw=ih({name:"Button",factory:Kw,configFields:[Pn("uid",void 0),yn("dom"),Pn("components",[]),Qm.field("buttonBehaviours",[Ay,fy]),En("action"),En("role"),Pn("eventOrder",{})]})
var Qw=function(t){var e=rh(t)&&Nt(t,"uid")?t.uid:Bi("memento")
var n=function(t){return t.getSystem().getByUid(e).getOrDie()}
var r=function(t){return t.getSystem().getByUid(e).toOptional()}
var o=function(){return d(d({},t),{uid:e})}
return{get:n,getOpt:r,asSpec:o}}
var Zw=function(t){return w.from(t()["temporary-placeholder"]).getOr("!not found!")}
var tx=function(t,e){return w.from(e()[t.toLowerCase()]).getOrThunk((function(){return Zw(e)}))}
var ex=function(t,e,n){return w.from(e()[t.toLowerCase()]).or(n).getOrThunk((function(){return Zw(e)}))}
var nx=function(t,e){return ft(t,(function(t){return w.from(e()[t.toLowerCase()])})).getOrThunk((function(){return Zw(e)}))}
var rx={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"}
var ox=function(t){var e=Qw({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Vl([xy.config({})])})
var n=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}}
var r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}}
var o=Qw({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Vl([xy.config({})])})
var a=function(t,e){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){xy.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])}))}
var i=function(t,n){if(t.getSystem().isConnected()){var r=e.get(t)
xy.set(r,[hc(n)])}}
var u={updateProgress:a,updateText:i}
var c=tt([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return w.from(rx[t])})).toArray()])
var s=Qw(Yw.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:tx("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(e){t.onAction(e)}}))
var l=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nx(c,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:Vl([xy.config({})])}]
return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},behaviours:Vl([Ay.config({}),Sy("notification-events",[wa(zo(),(function(t){s.getOpt(t).each(Ay.focus)}))])]),components:l.concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[s.asSpec()]:[]),apis:u}}
var ax=ih({name:"Notification",factory:ox,configFields:[En("level"),yn("progress"),yn("icon"),yn("onAction"),yn("text"),yn("iconProvider"),yn("translationProvider"),Wn("closeButton",true)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}})
function ix(t,e,n){var r=e.backstage
var o=function(t){switch(t){case"bc-bc":return Xw
case"tc-tc":return Jw
case"tc-bc":return bl
case"bc-tc":default:return yl}}
var a=function(t){q(t,(function(t){return t.moveTo(0,0)}))}
var i=function(t){if(t.length>0){ct(t).each((function(t){return t.moveRel(null,"banner")}))
q(t,(function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")}))}}
var u=function(t){a(t)
i(t)}
var c=function(t,a){var i=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0)
var u=function(){a()
Lw.hide(s)}
var c=yc(ax.sketch({text:t.text,level:F(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:true===t.progressBar,icon:w.from(t.icon),closeButton:!i,onAction:u,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate}))
var s=yc(Lw.sketch(d({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:e.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})))
n.add(s)
t.timeout>0&&$w.setTimeout((function(){u()}),t.timeout)
return{close:u,moveTo:function(t,e){Lw.showAt(s,{anchor:"makeshift",x:t,y:e},wc(c))},moveRel:function(t,n){if("banner"!==n){var r=o(n)
var a={anchor:"node",root:qu(),node:w.some(er.fromDom(t)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}}
Lw.showAt(s,a,wc(c))}else Lw.showAt(s,e.backstage.shared.anchors.banner(),wc(c))},text:function(t){ax.updateText(c,t)},settings:t,getEl:function(){return c.element.dom},progressBar:{value:function(t){ax.updateProgress(c,t)}}}}
var s=function(t){t.close()}
var l=function(t){return t.settings}
return{open:c,close:s,reposition:u,getArgs:l}}var ux=function(t,e){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null===n&&(n=setTimeout((function(){t.apply(null,r)
n=null}),e))}
return{cancel:r,throttle:o}}
var cx=function(t,e){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null!==n&&clearTimeout(n)
n=setTimeout((function(){t.apply(null,r)
n=null}),e)}
return{cancel:r,throttle:o}}
var sx=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker")
var lx=function(t,e){return t.isBlock(e)||F(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}
var fx=function(t,e,n,r,o){var a=sx(t,(function(e){return lx(t,e)}))
return w.from(a.backwards(e,n,r,o))}
var vx="[data-mce-autocompleter]"
var dx=function(t,e){return mx(er.fromDom(t.selection.getNode())).getOrThunk((function(){var n=er.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc())
ei(n,er.fromDom(e.extractContents()))
e.insertNode(n.dom)
qa(n).each((function(t){return t.dom.normalize()}))
Hv(n).map((function(e){t.selection.setCursorLocation(e.dom,Ev(e))}))
return n}))}
var mx=function(t){return ms(t,vx)}
var gx=function(t){return t.collapsed&&3===t.startContainer.nodeType}
var hx=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")}
var px=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)}
var bx=function(t,e){return t.substring(e.length)}
var yx=function(t,e,n){var r
for(r=e-1;r>=0;r--){var o=t.charAt(r)
if(px(o))return w.none()
if(o===n)break}return w.some(r)}
var wx=function(t,e,n,r){void 0===r&&(r=0)
if(!gx(e))return w.none()
var o=function(t,e,r){return yx(r,e,n).getOr(e)}
var a=t.getParent(e.startContainer,t.isBlock)||t.getRoot()
return fx(t,e.startContainer,e.startOffset,o,a).bind((function(t){var o=e.cloneRange()
o.setStart(t.container,t.offset)
o.setEnd(e.endContainer,e.endOffset)
if(o.collapsed)return w.none()
var a=hx(o)
var i=a.lastIndexOf(n)
return 0!==i||bx(a,n).length<r?w.none():w.some({text:bx(a,n),range:o,triggerChar:n})}))}
var xx=function(t,e,n,r){void 0===r&&(r=0)
return mx(er.fromDom(e.startContainer)).fold((function(){return wx(t,e,n,r)}),(function(e){var r=t.createRng()
r.selectNode(e.dom)
var o=hx(r)
return w.some({range:r,text:bx(o,n),triggerChar:n})}))}
var Cx=function(t,e){e.on("keypress compositionend",t.onKeypress.throttle)
e.on("remove",t.onKeypress.cancel)
var n=function(t,e){fa(t,Eo(),{raw:e})}
e.on("keydown",(function(e){var r=function(){return t.getView().bind(Ph.getHighlighted)}
8===e.which&&t.onKeypress.throttle(e)
if(t.isActive()){27===e.which&&t.cancelIfNecessary()
if(t.isMenuOpen())if(13===e.which){r().each(va)
e.preventDefault()}else if(40===e.which){r().fold((function(){t.getView().each(Ph.highlightFirst)}),(function(t){n(t,e)}))
e.preventDefault()
e.stopImmediatePropagation()}else 37!==e.which&&38!==e.which&&39!==e.which||r().each((function(t){n(t,e)
e.preventDefault()
e.stopImmediatePropagation()}))
else 13!==e.which&&38!==e.which&&40!==e.which||t.cancelIfNecessary()}}))
e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&mx(er.fromDom(e.element)).isNone()&&t.cancelIfNecessary()}))}
var Sx={setup:Cx}
var Ox=tinymce.util.Tools.resolve("tinymce.util.Promise")
var kx=function(t,e){return{container:t,offset:e}}
var Tx=function(t){return t.nodeType===Zr}
var _x=function(t){return t.nodeType===Qr}
var zx=function(t){if(Tx(t))return kx(t,t.data.length)
var e=t.childNodes
return e.length>0?zx(e[e.length-1]):kx(t,e.length)}
var Mx=function(t,e){var n=t.childNodes
return n.length>0&&e<n.length?Mx(n[e],0):n.length>0&&_x(t)&&n.length===e?zx(n[n.length-1]):kx(t,e)}
var Ex=function(t,e){return fx(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),t.getRoot()).filter((function(t){var e=t.container.data.charAt(t.offset-1)
return!px(e)})).isSome()}
var Dx=function(t){return function(e){var n=Mx(e.startContainer,e.startOffset)
return!Ex(t,n)}}
var Ax=function(t,e,n){return ft(n.triggerChars,(function(n){return xx(t,e,n)}))}
var Rx=function(t,e){var n=e()
var r=t.selection.getRng()
return Ax(t.dom,r,n).bind((function(n){return Hx(t,e,n)}))}
var Hx=function(t,e,n,r){void 0===r&&(r={})
var o=e()
var a=t.selection.getRng()
var i=a.startContainer.nodeValue
var u=X(o.lookupByChar(n.triggerChar),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return Dx(t.dom)}))(n.range,i,n.text)}))
if(0===u.length)return w.none()
var c=Ox.all(U(u,(function(t){var e=t.fetch(n.text,t.maxResults,r)
return e.then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}}))})))
return w.some({lookupData:c,context:n})}
var Bx=Pe([Cn("type"),Rn("text")])
var Ix=function(t){return nn("separatormenuitem",Bx,t)}
var Lx=Pe([Pn("type","autocompleteitem"),Pn("active",false),Pn("disabled",false),Pn("meta",{}),Cn("value"),Rn("text"),Rn("icon")])
var Px=Pe([Cn("type"),Cn("ch"),Fn("minChars",1),Pn("columns",1),Fn("maxResults",10),Hn("matches"),kn("fetch"),kn("onAction"),Gn("highlightOn",[],dn)])
var Vx=function(t){return nn("Autocompleter.Separator",Bx,t)}
var Fx=function(t){return nn("Autocompleter.Item",Lx,t)}
var Nx=function(t){return nn("Autocompleter",Px,t)}
var jx=[Wn("disabled",false),Rn("tooltip"),Rn("icon"),Rn("text"),Un("onSetup",(function(){return e}))]
var Wx=Pe([Cn("type"),kn("onAction")].concat(jx))
var Ux=function(t){return nn("toolbarbutton",Wx,t)}
var qx=[Wn("active",false)].concat(jx)
var Gx=Pe(qx.concat([Cn("type"),kn("onAction")]))
var Jx=function(t){return nn("ToggleButton",Gx,t)}
var Xx=[Un("predicate",(function(){return false})),jn("scope","node",["node","editor"]),jn("position","selection",["node","selection","line"])]
var $x=jx.concat([Pn("type","contextformbutton"),Pn("primary",false),kn("onAction"),Xn("original",i)])
var Kx=qx.concat([Pn("type","contextformbutton"),Pn("primary",false),kn("onAction"),Xn("original",i)])
var Yx=jx.concat([Pn("type","contextformbutton")])
var Qx=qx.concat([Pn("type","contextformtogglebutton")])
var Zx=cn("type",{contextformbutton:$x,contextformtogglebutton:Kx})
var tC=Pe([Pn("type","contextform"),Un("initValue",(function(){return""})),Rn("label"),Mn("commands",Zx),Dn("launch",cn("type",{contextformbutton:Yx,contextformtogglebutton:Qx}))].concat(Xx))
var eC=function(t){return nn("ContextForm",tC,t)}
var nC=Pe([Pn("type","contexttoolbar"),Cn("items")].concat(Xx))
var rC=function(t){return nn("ContextToolbar",nC,t)}
var oC=function(t){var e={}
q(t,(function(t){e[t]={}}))
return zt(e)}
var aC=function(t){var e=t.ui.registry.getAll().popups
var n=Dt(e,(function(t){return Nx(t).fold((function(t){throw new Error(an(t))}),(function(t){return t}))}))
var r=oC(It(n,(function(t){return t.ch})))
var o=Pt(n)
var a=function(t){return X(o,(function(e){return e.ch===t}))}
return{dataset:n,triggerChars:r,lookupByChar:a}}
var iC;(function(t){t[t["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE"
t[t["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(iC||(iC={}))
var uC=iC
var cC="tox-menu-nav__js"
var sC="tox-collection__item"
var lC="tox-swatch"
var fC={normal:cC,color:lC}
var vC="tox-collection__item--enabled"
var dC="tox-collection__group-heading"
var mC="tox-collection__item-icon"
var gC="tox-collection__item-label"
var hC="tox-collection__item-accessory"
var pC="tox-collection__item-caret"
var bC="tox-collection__item-checkmark"
var yC="tox-collection__item--active"
var wC="tox-collection__item-icon-rtl"
var xC="tox-collection__item-container"
var CC="tox-collection__item-container--column"
var SC="tox-collection__item-container--row"
var OC="tox-collection__item-container--align-right"
var kC="tox-collection__item-container--align-left"
var TC="tox-collection__item-container--valign-top"
var _C="tox-collection__item-container--valign-middle"
var zC="tox-collection__item-container--valign-bottom"
var MC=function(t){return Vt(fC,t).getOr(cC)}
var EC=function(t){return"color"===t?"tox-swatches":"tox-menu"}
var DC=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:EC(t),tieredMenu:"tox-tiered-menu"}}
var AC=function(t){var e=DC(t)
return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:MC(t)}}
var RC=function(t,e,n){var r=DC(n)
return{tag:"div",classes:tt([[r.menu,"tox-menu-"+e+"-column"],t?[r.hasIcons]:[]])}}
var HC=[Cw.parts.items({})]
var BC=function(t,e,n){var r=DC(n)
var o={tag:"div",classes:tt([[r.tieredMenu]])}
return{dom:o,markers:AC(n)}}
var IC=function(t,e){return function(n){var r=W(n,e)
return U(r,(function(e){return{dom:t,components:e}}))}}
var LC=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Cw.parts.items({preprocess:"auto"!==t?IC({tag:"div",classes:["tox-swatches__row"]},t):i})]}]}}
var PC=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Cw.parts.items({preprocess:IC({tag:"div",classes:["tox-collection__group"]},t)})]}}
var VC=function(t,e){var n=[]
var r=[]
q(t,(function(t,o){if(e(t,o)){r.length>0&&n.push(r)
r=[]
Ft(t.dom,"innerHtml")&&r.push(t)}else r.push(t)}))
r.length>0&&n.push(r)
return U(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))}
var FC=function(t,e,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[Cw.parts.items({preprocess:function(n){return"auto"!==t&&t>1?IC({tag:"div",classes:["tox-collection__group"]},t)(n):VC(n,(function(t,n){return"separator"===e[n].type}))}})]}}
var NC=function(t,e){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Cw.parts.items({preprocess:function(e){return VC(e,(function(e,n){return"separator"===t[n].type}))}})]}}
var jC=function(t){return N(t,(function(t){return"icon"in t&&void 0!==t.icon}))}
var WC=function(t){console.error(an(t))
console.log(t)
return w.none()}
var UC=function(t,e,n,r,o){var a=NC(n)
return{value:t,dom:a.dom,components:a.components,items:n}}
var qC=function(t,e,n,r,o){if("color"===o){var a=LC(r)
return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o&&"auto"===r){a=FC(r,n)
return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o&&1===r){a=FC(1,n)
return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o){a=FC(r,n)
return{value:t,dom:a.dom,components:a.components,items:n}}if("listpreview"===o&&"auto"!==r){a=PC(r)
return{value:t,dom:a.dom,components:a.components,items:n}}return{value:t,dom:RC(e,r,o),components:HC,items:n}}
var GC=[Cn("type"),Cn("src"),Rn("alt"),Gn("classes",[],dn)]
var JC=Pe(GC)
var XC=[Cn("type"),Cn("text"),Rn("name"),Gn("classes",["tox-collection__item-label"],dn)]
var $C=Pe(XC)
var KC=Qe((function(){return un("type",{cardimage:JC,cardtext:$C,cardcontainer:YC})}))
var YC=Pe([Cn("type"),Nn("direction","horizontal"),Nn("align","left"),Nn("valign","middle"),Mn("items",KC)])
var QC=[Wn("disabled",false),Rn("text"),Rn("shortcut"),Ge("value","value",ne((function(){return _i("menuitem-value")})),ln()),Pn("meta",{})]
var ZC=Pe([Cn("type"),Rn("label"),Mn("items",KC),Un("onSetup",(function(){return e})),Un("onAction",e)].concat(QC))
var tS=function(t){return nn("cardmenuitem",ZC,t)}
var eS=Pe([Cn("type"),Wn("active",false),Rn("icon")].concat(QC))
var nS=function(t){return nn("choicemenuitem",eS,t)}
var rS=["inserttable","colorswatch"]
var oS=Pe([Cn("type"),Sn("fancytype",rS),Un("onAction",e)])
var aS=function(t){return nn("fancymenuitem",oS,t)}
var iS=Pe([Cn("type"),Un("onSetup",(function(){return e})),Un("onAction",e),Rn("icon")].concat(QC))
var uS=function(t){return nn("menuitem",iS,t)}
var cS=Pe([Cn("type"),kn("getSubmenuItems"),Un("onSetup",(function(){return e})),Rn("icon")].concat(QC))
var sS=function(t){return nn("nestedmenuitem",cS,t)}
var lS=Pe([Cn("type"),Rn("icon"),Wn("active",false),Un("onSetup",(function(){return e})),kn("onAction")].concat(QC))
var fS=function(t){return nn("togglemenuitem",lS,t)}
var vS=function(t,e,n){var r=Iv(t.element,"."+n)
if(r.length>0){var o=Z(r,(function(t){var n=t.dom.getBoundingClientRect().top
var o=r[0].dom.getBoundingClientRect().top
return Math.abs(n-o)>e})).getOr(r.length)
return w.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return w.none()}
var dS=function(t,e){return Vl([Sy(t,e)])}
var mS=function(t){return dS(_i("unnamed-events"),t)}
var gS={namedEvents:dS,unnamedEvents:mS}
var hS=[yn("lazySink"),yn("tooltipDom"),Pn("exclusive",true),Pn("tooltipComponents",[]),Pn("delay",300),jn("mode","normal",["normal","follow-highlight"]),Pn("anchor",(function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:a([yl,bl,ml,hl,gl,pl]),onRtl:a([yl,bl,ml,hl,gl,pl])}}})),Ls("onHide"),Ls("onShow")]
var pS=function(){var t=$n(w.none())
var e=$n(w.none())
var n=function(){return e.get()}
var r=function(t){e.set(w.some(t))}
var o=function(){e.set(w.none())}
var i=function(){t.get().each((function(t){clearTimeout(t)}))}
var u=function(e,n){i()
t.set(w.some(setTimeout((function(){e()}),n)))}
var c=function(){return e.get().isSome()}
var s=a("not-implemented")
return Xi({getTooltip:n,isShowing:c,setTooltip:r,clearTooltip:o,clearTimer:i,resetTimer:u,readState:s})}
var bS=Object.freeze({__proto__:null,init:pS})
var yS=_i("tooltip.exclusive")
var wS=_i("tooltip.show")
var xS=_i("tooltip.hide")
var CS=function(t,e,n){t.getSystem().broadcastOn([yS],{})}
var SS=function(t,e,n,r){n.getTooltip().each((function(t){t.getSystem().isConnected()&&xy.set(t,r)}))}
var OS=Object.freeze({__proto__:null,hideAllExclusive:CS,setComponents:SS})
var kS=function(t,e){var n=function(n){e.getTooltip().each((function(r){Nd(r)
t.onHide(n,r)
e.clearTooltip()}))
e.clearTimer()}
var r=function(n){if(!e.isShowing()){CS(n)
var r=t.lazySink(n).getOrDie()
var o=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ha("normal"===t.mode?[wa(_o(),(function(t){la(n,wS)})),wa(ko(),(function(t){la(n,xS)}))]:[]),behaviours:Vl([xy.config({})])})
e.setTooltip(o)
Pd(r,o)
t.onShow(n,o)
Ad.position(r,t.anchor(n),o)}}
return ha(tt([[wa(wS,(function(n){e.resetTimer((function(){r(n)}),t.delay)})),wa(xS,(function(r){e.resetTimer((function(){n(r)}),t.delay)})),wa(jo(),(function(t,e){var r=e
r.universal||F(r.channels,yS)&&n(t)})),Da((function(t){n(t)}))],"normal"===t.mode?[wa(zo(),(function(t){la(t,wS)})),wa(Fo(),(function(t){la(t,xS)})),wa(_o(),(function(t){la(t,wS)})),wa(ko(),(function(t){la(t,xS)}))]:[wa(ca(),(function(t,e){la(t,wS)})),wa(sa(),(function(t){la(t,xS)}))]]))}
var TS=Object.freeze({__proto__:null,events:kS})
var _S=Nl({fields:hS,name:"tooltipping",active:TS,state:bS,apis:OS})
var zS=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var MS=tinymce.util.Tools.resolve("tinymce.util.I18n")
var ES=["input","button","textarea","select"]
var DS=function(t,e,n){var r=e.disabled()?VS:FS
r(t,e)}
var AS=function(t,e){return true===e.useNative&&F(ES,Ha(t.element))}
var RS=function(t){return pi(t.element,"disabled")}
var HS=function(t){di(t.element,"disabled","disabled")}
var BS=function(t){bi(t.element,"disabled")}
var IS=function(t){return"true"===gi(t.element,"aria-disabled")}
var LS=function(t){di(t.element,"aria-disabled","true")}
var PS=function(t){di(t.element,"aria-disabled","false")}
var VS=function(t,e,n){e.disableClass.each((function(e){_u(t.element,e)}))
var r=AS(t,e)?HS:LS
r(t)
e.onDisabled(t)}
var FS=function(t,e,n){e.disableClass.each((function(e){Mu(t.element,e)}))
var r=AS(t,e)?BS:PS
r(t)
e.onEnabled(t)}
var NS=function(t,e){return AS(t,e)?RS(t):IS(t)}
var jS=function(t,e,n,r){var o=r?VS:FS
o(t,e)}
var WS=Object.freeze({__proto__:null,enable:FS,disable:VS,isDisabled:NS,onLoad:DS,set:jS})
var US=function(t,e){return Zi({classes:e.disabled()?e.disableClass.toArray():[]})}
var qS=function(t,e){return ha([pa(Wo(),(function(e,n){return NS(e,t)})),Rl(t,e,DS)])}
var GS=Object.freeze({__proto__:null,exhibit:US,events:qS})
var JS=[Un("disabled",l),Pn("useNative",true),En("disableClass"),Ls("onDisabled"),Ls("onEnabled")]
var XS=Nl({fields:JS,name:"disabling",active:GS,apis:WS})
var $S=tinymce.util.Tools.resolve("tinymce.EditorManager")
var KS=function(t){var e=t.getParam("skin")
var n=t.getParam("skin_url")
if(false!==e){var r=e||"oxide"
n=n?t.documentBaseURI.toAbsolute(n):$S.baseURL+"/skins/ui/"+r}return n}
var YS=function(t){return t.getParam("readonly",false,"boolean")}
var QS=function(t){return false===t.getParam("skin")}
var ZS=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))}
var tO=function(t){return t.getParam("width",zS.DOM.getStyle(t.getElement(),"width"))}
var eO=function(t){return w.from(t.getParam("min_width")).filter(R)}
var nO=function(t){return w.from(t.getParam("min_height")).filter(R)}
var rO=function(t){return w.from(t.getParam("max_width")).filter(R)}
var oO=function(t){return w.from(t.getParam("max_height")).filter(R)}
var aO=function(t){return w.from(t.getParam("style_formats")).filter(_)}
var iO=function(t){return t.getParam("style_formats_merge",false,"boolean")}
var uO=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")}
var cO=function(t){return t.getParam("removed_menuitems","")}
var sO=function(t){return false!==t.getParam("menubar",true,"boolean")}
var lO=function(t){var e=t.getParam("toolbar",true)
var n=true===e
var r=k(e)
var o=_(e)&&e.length>0
return!vO(t)&&(o||r||n)}
var fO=function(t){var e=j(9,(function(e){return t.getParam("toolbar"+(e+1),false,"string")}))
var n=X(e,(function(t){return"string"===typeof t}))
return n.length>0?w.some(n):w.none()}
var vO=function(t){return fO(t).fold((function(){var e=t.getParam("toolbar",[],"string[]")
return e.length>0}),(function(){return true}))}
var dO;(function(t){t["default"]="wrap"
t["floating"]="floating"
t["sliding"]="sliding"
t["scrolling"]="scrolling"})(dO||(dO={}))
var mO=function(t){return t.getParam("toolbar_mode","","string")}
var gO;(function(t){t["auto"]="auto"
t["top"]="top"
t["bottom"]="bottom"})(gO||(gO={}))
var hO=function(t){return t.getParam("toolbar_groups",{},"object")}
var pO=function(t){return t.getParam("toolbar_location",gO.auto,"string")}
var bO=function(t){return pO(t)===gO.bottom}
var yO=function(t){return t.getParam("fixed_toolbar_container","","string")}
var wO=function(t){return t.getParam("toolbar_persist",false,"boolean")}
var xO=function(t){var e=yO(t)
return e.length>0&&t.inline?ds(qu(),e):w.none()}
var CO=function(t){return t.inline&&xO(t).isSome()}
var SO=function(t){var e=xO(t)
return e.getOrThunk((function(){return Pu(Lu(er.fromDom(t.getElement())))}))}
var OO=function(t){return t.inline&&!sO(t)&&!lO(t)&&!vO(t)}
var kO=function(t){var e=t.getParam("toolbar_sticky",false,"boolean")
return(e||t.inline)&&!CO(t)&&!OO(t)}
var TO=function(t){return t.getParam("draggable_modal",false,"boolean")}
var _O=function(t){var e=t.getParam("menu")
return e?Dt(e,(function(t){return d(d({},t),{items:t.items})})):{}}
var zO=function(t){return t.getParam("menubar")}
var MO=function(t){return t.getParam("toolbar",true)}
var EO=function(t){return t.getParam("file_picker_callback")}
var DO=function(t){return t.getParam("file_picker_types")}
var AO=function(t){return t.getParam("file_browser_callback_types")}
var RO=function(t){return false===t.getParam("typeahead_urls")}
var HO=function(t){return t.getParam("anchor_top","#top")}
var BO=function(t){return t.getParam("anchor_bottom","#bottom")}
var IO=function(t){var e=t.getParam("file_picker_validator_handler",void 0,"function")
return void 0===e?t.getParam("filepicker_validator_handler",void 0,"function"):e}
var LO="silver.readonly"
var PO=Pe([On("readonly")])
var VO=function(t,e){var n=t.outerContainer
var r=n.element
if(e){t.mothership.broadcastOn([dm()],{target:r})
t.uiMothership.broadcastOn([dm()],{target:r})}t.mothership.broadcastOn([LO],{readonly:e})
t.uiMothership.broadcastOn([LO],{readonly:e})}
var FO=function(t,e){t.on("init",(function(){t.mode.isReadOnly()&&VO(e,true)}))
t.on("SwitchMode",(function(){return VO(e,t.mode.isReadOnly())}))
YS(t)&&t.setMode("readonly")}
var NO=function(){var t
return ql.config({channels:(t={},t[LO]={schema:PO,onReceive:function(t,e){XS.set(t,e.readonly)}},t)})}
var jO=function(t){return XS.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})}
var WO=function(t){return XS.config({disabled:t})}
var UO=function(t){return XS.config({disabled:t,disableClass:"tox-tbtn--disabled"})}
var qO=function(t){return XS.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:false})}
var GO={item:jO,button:WO,splitButton:UO,toolbarButton:qO}
var JO=function(t,e){var n=t.getApi(e)
return function(t){t(n)}}
var XO=function(t,e){return Ea((function(n){var r=JO(t,n)
r((function(n){var r=t.onSetup(n)
null!==r&&void 0!==r&&e.set(r)}))}))}
var $O=function(t,e){return Da((function(n){return JO(t,n)(e.get())}))}
var KO
var YO=function(t,e){return Ra((function(n,r){JO(t,n)(t.onAction)
if(!t.triggersSubmenu&&e===uC.CLOSE_ON_EXECUTE){la(n,Jo())
r.stop()}}))}
var QO=(KO={},KO[Wo()]=["disabling","alloy.base.behaviour","toggling","item-events"],KO)
var ZO=function(t){return et(t,(function(t){return t.toArray()}))}
var tk=function(t,n,r,o){var a=$n(e)
return{type:"item",dom:n.dom,components:ZO(n.optComponents),data:t.data,eventOrder:QO,hasSubmenu:t.triggersSubmenu,itemBehaviours:Vl([Sy("item-events",[YO(t,r),XO(t,a),$O(t,a)]),GO.item((function(){return t.disabled||o.isDisabled()})),NO(),xy.config({})].concat(t.itemBehaviours))}}
var ek=function(t){return{value:t.value,meta:d({text:t.text.getOr("")},t.meta)}}
var nk=tinymce.util.Tools.resolve("tinymce.Env")
var rk=function(t){var e={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}
var n={meta:"Ctrl",access:"Shift+Alt"}
var r=nk.mac?e:n
var o=t.split("+")
var a=U(o,(function(t){var e=t.toLowerCase().trim()
return Ft(r,e)?r[e]:t}))
return nk.mac?a.join(""):a.join("+")}
var ok=function(t){return{dom:{tag:"div",classes:[mC],innerHtml:t}}}
var ak=function(t){return{dom:{tag:"div",classes:[gC]},components:[hc(MS.translate(t))]}}
var ik=function(t,e){return{dom:{tag:"div",classes:e,innerHtml:t}}}
var uk=function(t,e){return{dom:{tag:"div",classes:[gC]},components:[{dom:{tag:t.tag,styles:t.styles},components:[hc(MS.translate(e))]}]}}
var ck=function(t){return{dom:{tag:"div",classes:[hC],innerHtml:rk(t)}}}
var sk=function(t){return{dom:{tag:"div",classes:[bC],innerHtml:tx("checkmark",t)}}}
var lk=function(t){return{dom:{tag:"div",classes:[pC],innerHtml:tx("chevron-right",t)}}}
var fk=function(t){return{dom:{tag:"div",classes:[pC],innerHtml:tx("chevron-down",t)}}}
var vk=function(t,e){var n="vertical"===t.direction?CC:SC
var r="left"===t.align?kC:OC
var o=function(){switch(t.valign){case"top":return TC
case"middle":return _C
case"bottom":return zC}}
return{dom:{tag:"div",classes:[xC,n,r,o()]},components:e}}
var dk=function(t,e,n){return{dom:{tag:"img",classes:e,attributes:{src:t,alt:n.getOr("")}}}}
var mk=function(t,e,n,r){var o="custom"
var a="remove"
var i=function(){var i=lC
var u=n.getOr("")
var c=t.map((function(t){return{title:r.translate(t)}})).getOr({})
var s={tag:"div",attributes:c,classes:[i]}
return d(d({},s),e===o?{tag:"button",classes:g(s.classes,["tox-swatches__picker-btn"]),innerHtml:u}:e===a?{classes:g(s.classes,["tox-swatch--remove"]),innerHtml:u}:{attributes:d(d({},s.attributes),{"data-mce-color":e}),styles:{"background-color":e}})}
return{dom:i(),optComponents:[]}}
var gk=function(t,e){var n=e.map((function(t){return{attributes:{title:MS.translate(t)}}})).getOr({})
return d({tag:"div",classes:[cC,sC].concat(t?[wC]:[])},n)}
var hk=function(t,e,n,r,o){var a=n?e.or(w.some("")).map(ok):w.none()
var i=t.checkMark
var u=t.htmlContent.fold((function(){return t.textContent.map(r)}),(function(t){return w.some(ik(t,[gC]))}))
var c={dom:gk(o,t.ariaLabel),optComponents:[a,u,t.shortcutContent.map(ck),i,t.caret]}
return c}
var pk=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"]
var bk=["list-bull-circle","list-bull-default","list-bull-square"]
var yk=function(t,e,n,r){void 0===r&&(r=w.none())
var o=function(t){return t.map((function(t){return MS.isRtl()&&F(pk,t)?t+"-rtl":t}))}
var a=MS.isRtl()&&t.iconContent.exists((function(t){return F(bk,t)}))
var i=o(t.iconContent).map((function(t){return ex(t,e.icons,r)}))
var c=w.from(t.meta).fold((function(){return ak}),(function(t){return Ft(t,"style")?u(uk,t.style):ak}))
return"color"===t.presets?mk(t.ariaLabel,t.value,i,e):hk(t,i,n,c,a)}
var wk=function(t,e){return Vt(t,"tooltipWorker").map((function(t){return[_S.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{anchor:"submenu",item:t,overrides:{maxHeightFunction:Mf}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){_S.setComponents(e,[pc({element:er.fromDom(t)})])}))}})]})).getOr([])}
var xk=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}
var Ck=function(t){return zS.DOM.encode(t)}
var Sk=function(t,e){var n=MS.translate(t)
var r=Ck(n)
if(e.length>0){var o=new RegExp(xk(e),"gi")
return r.replace(o,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return r}
var Ok=function(t,e,n,r,o,a,i,u){void 0===u&&(u=true)
var c=yk({presets:r,textContent:w.none(),htmlContent:n?t.text.map((function(t){return Sk(t,e)})):w.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:w.none(),checkMark:w.none(),caret:w.none(),value:t.value},i.providers,u,t.icon)
return tk({data:ek(t),disabled:t.disabled,getApi:function(){return{}},onAction:function(e){return o(t.value,t.meta)},onSetup:function(){return function(){}},triggersSubmenu:false,itemBehaviours:wk(t.meta,i)},c,a,i.providers)}
var kk=function(t,e,n,r,o,a,i,u){void 0===u&&(u=true)
var c=function(t){return{setActive:function(e){Yy.set(t,e)},isActive:function(){return Yy.isOn(t)},isDisabled:function(){return XS.isDisabled(t)},setDisabled:function(e){return XS.set(t,e)}}}
var s=yk({presets:n,textContent:e?t.text:w.none(),htmlContent:w.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:w.none(),checkMark:e?w.some(sk(i.icons)):w.none(),caret:w.none(),value:t.value},i,u)
return Xt(tk({data:ek(t),disabled:t.disabled,getApi:c,onAction:function(e){return r(t.value)},onSetup:function(t){t.setActive(o)
return function(){}},triggersSubmenu:false,itemBehaviours:[]},s,a,i),{toggling:{toggleClass:vC,toggleOnExecute:false,selected:t.active}})}
var Tk=Bg(lw(),fw())
var _k=function(t){return{value:t}}
var zk=/^#?([a-f\d])([a-f\d])([a-f\d])$/i
var Mk=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i
var Ek=function(t){return zk.test(t)||Mk.test(t)}
var Dk=function(t){var e=t.value.replace(zk,(function(t,e,n,r){return e+e+n+n+r+r}))
return{value:e}}
var Ak=function(t){var e=Dk(t)
var n=Mk.exec(e.value)
return null===n?["FFFFFF","FF","FF","FF"]:n}
var Rk=function(t){var e=t.toString(16)
return 1===e.length?"0"+e:e}
var Hk=function(t){var e=Rk(t.red)+Rk(t.green)+Rk(t.blue)
return _k(e)}
var Bk=Math.min
var Ik=Math.max
var Lk=Math.round
var Pk=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/
var Vk=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/
var Fk=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}}
var Nk=function(t){var e=parseInt(t,10)
return e.toString()===t&&e>=0&&e<=255}
var jk=function(t){var e
var n
var r
var o=(t.hue||0)%360
var a=t.saturation/100
var i=t.value/100
a=Ik(0,Bk(a,1))
i=Ik(0,Bk(i,1))
if(0===a){e=n=r=Lk(255*i)
return Fk(e,n,r,1)}var u=o/60
var c=i*a
var s=c*(1-Math.abs(u%2-1))
var l=i-c
switch(Math.floor(u)){case 0:e=c
n=s
r=0
break
case 1:e=s
n=c
r=0
break
case 2:e=0
n=c
r=s
break
case 3:e=0
n=s
r=c
break
case 4:e=s
n=0
r=c
break
case 5:e=c
n=0
r=s
break
default:e=n=r=0}e=Lk(255*(e+l))
n=Lk(255*(n+l))
r=Lk(255*(r+l))
return Fk(e,n,r,1)}
var Wk=function(t){var e=Ak(t)
var n=parseInt(e[1],16)
var r=parseInt(e[2],16)
var o=parseInt(e[3],16)
return Fk(n,r,o,1)}
var Uk=function(t,e,n,r){var o=parseInt(t,10)
var a=parseInt(e,10)
var i=parseInt(n,10)
var u=parseFloat(r)
return Fk(o,a,i,u)}
var qk=function(t){if("transparent"===t)return w.some(Fk(0,0,0,0))
var e=Pk.exec(t)
if(null!==e)return w.some(Uk(e[1],e[2],e[3],"1"))
var n=Vk.exec(t)
if(null!==n)return w.some(Uk(n[1],n[2],n[3],n[4]))
return w.none()}
var Gk=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"}
var Jk=Fk(255,0,0,1)
var Xk=function(t){return t.fire("SkinLoaded")}
var $k=function(t,e){return t.fire("SkinLoadError",e)}
var Kk=function(t){return t.fire("ResizeEditor")}
var Yk=function(t,e){return t.fire("ResizeContent",e)}
var Qk=function(t,e){return t.fire("ScrollContent",e)}
var Zk=function(t,e){return t.fire("TextColorChange",e)}
var tT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage")
var eT="tinymce-custom-colors"
function nT(t){void 0===t&&(t=10)
var e=tT.getItem(eT)
var n=k(e)?JSON.parse(e):[]
var r=function(e){var n=t-e.length
return n<0?e.slice(0,t):e}
var o=r(n)
var a=function(e){V(o,e).each(i)
o.unshift(e)
o.length>t&&o.pop()
tT.setItem(eT,JSON.stringify(o))}
var i=function(t){o.splice(t,1)}
var u=function(){return o.slice(0)}
return{add:a,state:u}}var rT="choiceitem"
var oT=[{type:rT,text:"Light Green",value:"#BFEDD2"},{type:rT,text:"Light Yellow",value:"#FBEEB8"},{type:rT,text:"Light Red",value:"#F8CAC6"},{type:rT,text:"Light Purple",value:"#ECCAFA"},{type:rT,text:"Light Blue",value:"#C2E0F4"},{type:rT,text:"Green",value:"#2DC26B"},{type:rT,text:"Yellow",value:"#F1C40F"},{type:rT,text:"Red",value:"#E03E2D"},{type:rT,text:"Purple",value:"#B96AD9"},{type:rT,text:"Blue",value:"#3598DB"},{type:rT,text:"Dark Turquoise",value:"#169179"},{type:rT,text:"Orange",value:"#E67E23"},{type:rT,text:"Dark Red",value:"#BA372A"},{type:rT,text:"Dark Purple",value:"#843FA1"},{type:rT,text:"Dark Blue",value:"#236FA1"},{type:rT,text:"Light Gray",value:"#ECF0F1"},{type:rT,text:"Medium Gray",value:"#CED4D9"},{type:rT,text:"Gray",value:"#95A5A6"},{type:rT,text:"Dark Gray",value:"#7E8C8D"},{type:rT,text:"Navy Blue",value:"#34495E"},{type:rT,text:"Black",value:"#000000"},{type:rT,text:"White",value:"#ffffff"}]
var aT=nT(10)
var iT=function(t){var e=[]
var n=document.createElement("canvas")
n.height=1
n.width=1
var r=n.getContext("2d")
var o=function(t,e){var n=255
var r=e/255
var o=Math.round(t*r+n*(1-r))
return("0"+o.toString(16)).slice(-2).toUpperCase()}
var a=function(t){if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase()
r.clearRect(0,0,n.width,n.height)
r.fillStyle="#FFFFFF"
r.fillStyle=t
r.fillRect(0,0,1,1)
var e=r.getImageData(0,0,1,1).data
var a=e[0],i=e[1],u=e[2],c=e[3]
return"#"+o(a,c)+o(i,c)+o(u,c)}
for(var i=0;i<t.length;i+=2)e.push({text:t[i+1],value:a(t[i]),type:"choiceitem"})
return e}
var uT=function(t,e){return t.getParam("color_cols",e,"number")}
var cT=function(t){return false!==t.getParam("custom_colors")}
var sT=function(t){return t.getParam("color_map")}
var lT=function(t){var e=sT(t)
return void 0!==e?iT(e):oT}
var fT=function(){return U(aT.state(),(function(t){return{type:rT,text:t,value:t}}))}
var vT=function(t){aT.add(t)}
var dT=function(t,e){var n
t.dom.getParents(t.selection.getStart(),(function(t){var r;(r=t.style["forecolor"===e?"color":"background-color"])&&(n=n||r)}))
return n}
var mT=function(t,e,n){t.undoManager.transact((function(){t.focus()
t.formatter.apply(e,{value:n})
t.nodeChanged()}))}
var gT=function(t,e){t.undoManager.transact((function(){t.focus()
t.formatter.remove(e,{value:null},null,true)
t.nodeChanged()}))}
var hT=function(t){t.addCommand("mceApplyTextcolor",(function(e,n){mT(t,e,n)}))
t.addCommand("mceRemoveTextcolor",(function(e){gT(t,e)}))}
var pT=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))}
var bT=function(t){var e=lT(t)
var n=pT(e.length)
return uT(t,n)}
var yT=function(t){var e="choiceitem"
var n={type:e,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"}
var r={type:e,text:"Custom color",icon:"color-picker",value:"custom"}
return t?[n,r]:[n]}
var wT=function(t,e,n,r){if("custom"===n){var o=TT(t)
o((function(n){n.each((function(n){vT(n)
t.execCommand("mceApplyTextcolor",e,n)
r(n)}))}),"#000000")}else if("remove"===n){r("")
t.execCommand("mceRemoveTextcolor",e)}else{r(n)
t.execCommand("mceApplyTextcolor",e,n)}}
var xT=function(t,e){return t.concat(fT().concat(yT(e)))}
var CT=function(t,e){return function(n){n(xT(t,e))}}
var ST=function(t,e,n){var r=function(e,n){t.setIconFill(e,n)
t.setIconStroke(e,n)}
var o="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color"
r(o,n)}
var OT=function(t,e,n,r,o){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(e){var r=w.from(dT(t,n))
return r.bind((function(t){return qk(t).map((function(t){var n=Hk(t).value
return mr(e.toLowerCase(),n)}))})).getOr(false)},columns:bT(t),fetch:CT(lT(t),cT(t)),onAction:function(e){null!==o.get()&&wT(t,n,o.get(),(function(){}))},onItemAction:function(r,a){wT(t,n,a,(function(n){o.set(n)
Zk(t,{name:e,color:n})}))},onSetup:function(n){null!==o.get()&&ST(n,e,o.get())
var r=function(t){t.name===e&&ST(n,t.name,t.color)}
t.on("TextColorChange",r)
return function(){t.off("TextColorChange",r)}}})}
var kT=function(t,n,r,o){t.ui.registry.addNestedMenuItem(n,{text:o,icon:"forecolor"===n?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(n){wT(t,r,n.value,e)}}]}})}
var TT=function(t){return function(e,n){var r=function(t){return function(e){var n=e.getData()
t(w.from(n.colorpicker))
e.close()}}
var o=function(t,e){"hex-valid"===e.name&&(e.value?t.enable("ok"):t.disable("ok"))}
var a={colorpicker:n}
var i=r(e)
t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:a,onAction:o,onSubmit:i,onClose:function(){},onCancel:function(){e(w.none())}})}}
var _T=function(t){hT(t)
var e=$n(null)
var n=$n(null)
OT(t,"forecolor","forecolor","Text color",e)
OT(t,"backcolor","hilitecolor","Background color",n)
kT(t,"forecolor","forecolor","Text color")
kT(t,"backcolor","hilitecolor","Background color")}
var zT=function(t,e,n,r,o,a,i,u){var c=jC(e)
var s="color"!==o?"normal":"color"
var l=MT(e,n,r,s,a,i,u)
return qC(t,c,l,r,o)}
var MT=function(t,e,n,r,o,a,i){return ch(U(t,(function(u){return"choiceitem"===u.type?nS(u).fold(WC,(function(c){return w.some(kk(c,1===n,r,e,a(u.value),o,i,jC(t)))})):w.none()})))}
var ET=function(t,e){var n=AC(e)
if(1===t)return{mode:"menu",moveOnTab:true}
if("auto"===t)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}
var r="color"===e?"tox-swatches__row":"tox-collection__group"
return{mode:"matrix",rowSelector:"."+r}}
var DT=function(t,e){return 1===t?{mode:"menu",moveOnTab:false,selector:".tox-collection__item"}:"auto"===t?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===e?".tox-swatches__row":".tox-collection__group",cell:"color"===e?"."+lC:"."+sC}}}
function AT(t,e){var n=xT(e.colorinput.getColors(),e.colorinput.hasCustomColors())
var r=e.colorinput.getColorCols()
var o="color"
var a=zT(_i("menu-value"),n,(function(e){t.onAction({value:e})}),r,o,uC.CLOSE_ON_EXECUTE,(function(){return false}),e.shared.providers)
var i=d(d({},a),{markers:AC(o),movement:ET(r,o)})
return{type:"widget",data:{value:_i("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[Tk.widget(Cw.sketch(i))]}}var RT=_i("cell-over")
var HT=_i("cell-execute")
var BT=function(t,e,n){var r
var o=function(n){return fa(n,RT,{row:t,col:e})}
var a=function(n){return fa(n,HT,{row:t,col:e})}
var i=function(t,e){e.stop()
a(t)}
return yc({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Vl([Sy("insert-table-picker-cell",[wa(_o(),Ay.focus),wa(Wo(),a),wa(Ho(),i),wa(qo(),i)]),Yy.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:false}),Ay.config({onFocus:o})])})}
var IT=function(t,e,n){var r=[]
for(var o=0;o<e;o++){var a=[]
for(var i=0;i<n;i++)a.push(BT(o,i,t))
r.push(a)}return r}
var LT=function(t,e,n,r,o){for(var a=0;a<r;a++)for(var i=0;i<o;i++)Yy.set(t[a][i],a<=e&&i<=n)}
var PT=function(t){return et(t,(function(t){return U(t,wc)}))}
var VT=function(t,e){return hc(e+1+"x"+(t+1))}
var FT=function(t){var e=10
var n=10
var r=_i("size-label")
var o=IT(r,e,n)
var a=Qw({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[hc("0x0")],behaviours:Vl([xy.config({})])})
return{type:"widget",data:{value:_i("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[Tk.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:PT(o).concat(a.asSpec()),behaviours:Vl([Sy("insert-table-picker",[Ta(RT,(function(t,r,i){var u=i.event.row
var c=i.event.col
LT(o,u,c,e,n)
xy.set(a.get(t),[VT(u,c)])})),Ta(HT,(function(e,n,r){t.onAction({numRows:r.event.row+1,numColumns:r.event.col+1})
la(e,Jo())}))]),fy.config({initSize:{numRows:e,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}}
var NT={inserttable:FT,colorswatch:AT}
var jT=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?w.some(t[e]):w.none()}
var WT=function(t,e){return jT(NT,t.fancytype).map((function(n){return n(t,e)}))}
var UT=function(t,n,r,o,a){void 0===o&&(o=true)
void 0===a&&(a=false)
var i=a?fk(r.icons):lk(r.icons)
var u=function(t){return{isDisabled:function(){return XS.isDisabled(t)},setDisabled:function(e){return XS.set(t,e)}}}
var c=yk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:w.none(),ariaLabel:t.text,caret:w.some(i),checkMark:w.none(),shortcutContent:t.shortcut},r,o)
return tk({data:ek(t),getApi:u,disabled:t.disabled,onAction:e,onSetup:t.onSetup,triggersSubmenu:true,itemBehaviours:[]},c,n,r)}
var qT=function(t,e,n,r){void 0===r&&(r=true)
var o=function(t){return{isDisabled:function(){return XS.isDisabled(t)},setDisabled:function(e){return XS.set(t,e)}}}
var a=yk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:w.none(),ariaLabel:t.text,caret:w.none(),checkMark:w.none(),shortcutContent:t.shortcut},n,r)
return tk({data:ek(t),getApi:o,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,e,n)}
var GT=function(t){var e=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}))
return{type:"separator",dom:d({tag:"div",classes:[sC,dC]},e),components:[]}}
var JT=function(t,e,n,r){void 0===r&&(r=true)
var o=function(t){return{setActive:function(e){Yy.set(t,e)},isActive:function(){return Yy.isOn(t)},isDisabled:function(){return XS.isDisabled(t)},setDisabled:function(e){return XS.set(t,e)}}}
var a=yk({iconContent:t.icon,textContent:t.text,htmlContent:w.none(),ariaLabel:t.text,checkMark:w.some(sk(n.icons)),caret:w.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,r)
return Xt(tk({data:ek(t),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,e,n),{toggling:{toggleClass:vC,toggleOnExecute:false,selected:t.active}})}
var XT=function(t,e){return U(t,(function(t){switch(t.type){case"cardcontainer":return vk(t,XT(t.items,e))
case"cardimage":return dk(t.src,t.classes,t.alt)
case"cardtext":var n=t.name.exists((function(t){return F(e.cardText.highlightOn,t)}))
var r=n?w.from(e.cardText.matchText).getOr(""):""
return ik(Sk(t.text,r),t.classes)}}))}
var $T=function(t,e,n,r){var o=function(t){return{isDisabled:function(){return XS.isDisabled(t)},setDisabled:function(e){XS.set(t,e)
q(Iv(t.element,"*"),(function(n){t.getSystem().getByDom(n).each((function(t){t.hasConfigured(XS)&&XS.set(t,e)}))}))}}}
var a={dom:gk(false,t.label),optComponents:[w.some({dom:{tag:"div",classes:[xC,SC]},components:XT(t.items,r)})]}
return tk({data:ek(d({text:w.none()},t)),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:false,itemBehaviours:w.from(r.itemBehaviours).getOr([])},a,e,n.providers)}
var KT=Ok
var YT=GT
var QT=qT
var ZT=UT
var t_=JT
var e_=WT
var n_=$T
var r_;(function(t){t[t["ContentFocus"]=0]="ContentFocus"
t[t["UiFocus"]=1]="UiFocus"})(r_||(r_={}))
var o_=function(t,e,n,r,o){var a=n.shared.providers
var i=function(t){return o?d(d({},t),{shortcut:w.none(),icon:t.text.isSome()?w.none():t.icon}):t}
switch(t.type){case"menuitem":return uS(t).fold(WC,(function(t){return w.some(QT(i(t),e,a,r))}))
case"nestedmenuitem":return sS(t).fold(WC,(function(t){return w.some(ZT(i(t),e,a,r,o))}))
case"togglemenuitem":return fS(t).fold(WC,(function(t){return w.some(t_(i(t),e,a,r))}))
case"separator":return Ix(t).fold(WC,(function(t){return w.some(YT(t))}))
case"fancymenuitem":return aS(t).fold(WC,(function(t){return e_(i(t),n)}))
default:console.error("Unknown item in general menu",t)
return w.none()}}
var a_=function(t,e,n,r,o,a,i){var u=1===r
var c=!u||jC(t)
return ch(U(t,(function(t){switch(t.type){case"separator":return Vx(t).fold(WC,(function(t){return w.some(YT(t))}))
case"cardmenuitem":return tS(t).fold(WC,(function(t){return w.some(n_(d(d({},t),{onAction:function(e){t.onAction(e)
n(t.value,t.meta)}}),o,a,{itemBehaviours:wk(t.meta,a),cardText:{matchText:e,highlightOn:i}}))}))
case"autocompleteitem":default:return Fx(t).fold(WC,(function(t){return w.some(KT(t,e,u,"normal",n,o,a,c))}))}})))}
var i_=function(t,e,n,r,o){var a=jC(e)
var i=ch(U(e,(function(t){var e=function(t){return o?!t.hasOwnProperty("text"):a}
var i=function(t){return o_(t,n,r,e(t),o)}
return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?i(d(d({},t),{disabled:true})):i(t)})))
var u=o?UC:qC
return u(t,a,i,1,"normal")}
var u_=function(t){return Hw.singleData(t.value,t)}
var c_=function(t,e,n,r){var o=n===r_.ContentFocus?up():ip()
var a=ET(e,r)
var i=AC(r)
return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:i.selectedItem,item:i.item},movement:a,fakeFocus:n===r_.ContentFocus,focusManager:o,menuBehaviours:gS.unnamedEvents("auto"!==e?[]:[Ea((function(t,e){vS(t,4,i.item).each((function(e){var n=e.numColumns,r=e.numRows
fy.setGridSize(t,r,n)}))}))])}}
var s_=function(t,e){var n=$n(w.none())
var r=$n(false)
var o=yc(Lw.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Vl([Sy("dismissAutocompleter",[wa(na(),(function(){return c()}))])]),lazySink:e.getSink}))
var a=function(){return Lw.isOpen(o)}
var i=function(){return n.get().isSome()}
var u=function(){i()&&Lw.hide(o)}
var c=function(){if(i()){var e=n.get().map((function(t){return t.element}))
mx(e.getOr(er.fromDom(t.selection.getNode()))).each(ui)
u()
n.set(w.none())
r.set(false)}}
var s=Kt((function(){return aC(t)}))
var l=function(n,o){var a=ft(o,(function(t){return w.from(t.columns)})).getOr(1)
return et(o,(function(o){var i=o.items
return a_(i,o.matchText,(function(e,a){var i=t.selection.getRng()
xx(t.dom,i,n).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(t){var n=t.range
var i={hide:function(){c()},reload:function(t){u()
m(t)}}
r.set(true)
o.onAction(i,n,e,a)
r.set(false)}))}),a,uC.BUBBLE_TO_SANDBOX,e,o.highlightOn)}))}
var f=function(e){if(!i()){var o=dx(t,e.range)
n.set(w.some({triggerChar:e.triggerChar,element:o,matchLength:e.text.length}))
r.set(false)}}
var v=function(e,n,r,a){e.matchLength=n.text.length
var i=ft(r,(function(t){return w.from(t.columns)})).getOr(1)
Lw.showAt(o,{anchor:"node",root:er.fromDom(t.getBody()),node:w.from(e.element)},Cw.sketch(c_(qC("autocompleter-value",true,a,i,"normal"),i,r_.ContentFocus,"normal")))
Lw.getContent(o).each(Ph.highlightFirst)}
var d=function(e){return n.get().map((function(n){return xx(t.dom,t.selection.getRng(),n.triggerChar).bind((function(n){return Hx(t,s,n,e)}))})).getOrThunk((function(){return Rx(t,s)}))}
var m=function(t){d(t).fold(c,(function(t){f(t.context)
t.lookupData.then((function(e){n.get().map((function(n){var r=t.context
if(n.triggerChar===r.triggerChar){var o=l(r.triggerChar,e)
o.length>0?v(n,r,e,o):r.text.length-n.matchLength>=10?c():u()}}))}))}))}
var g=cx((function(t){if(27===t.which)return
m()}),50)
var h={onKeypress:g,cancelIfNecessary:c,isMenuOpen:a,isActive:i,isProcessingAction:r.get,getView:function(){return Lw.getContent(o)}}
false===t.hasPlugin("rtc")&&Sx.setup(h,t)}
var l_={register:s_}
var f_=f
var v_=function(t,e,n){return Nc(t,e,f_,n)}
var d_=function(t,e,n){return jc(t,e,f_,n)}
var m_=Pc
var g_=function(t,e,n){return ms(t,e,n).isSome()}
function h_(t,e){var n=null
var r=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
n=setTimeout((function(){t.apply(null,r)
n=null}),e)}
var o=function(){if(null!==n){clearTimeout(n)
n=null}}
return{cancel:o,schedule:r}}var p_=5
var b_=400
var y_=function(t){var e=t.raw
if(void 0===e.touches||1!==e.touches.length)return w.none()
return w.some(e.touches[0])}
var w_=function(t,e){var n=Math.abs(t.clientX-e.x)
var r=Math.abs(t.clientY-e.y)
return n>p_||r>p_}
var x_=function(t){var e=$n(w.none())
var n=$n(false)
var r=h_((function(e){t.triggerEvent(Go(),e)
n.set(true)}),b_)
var o=function(t){y_(t).each((function(o){r.cancel()
var a={x:o.clientX,y:o.clientY,target:t.target}
r.schedule(t)
n.set(false)
e.set(w.some(a))}))
return w.none()}
var a=function(t){r.cancel()
y_(t).each((function(t){e.get().each((function(n){w_(t,n)&&e.set(w.none())}))}))
return w.none()}
var i=function(o){r.cancel()
var a=function(t){return oo(t.target,o.target)}
return e.get().filter(a).map((function(e){if(n.get()){o.prevent()
return false}return t.triggerEvent(qo(),o)}))}
var u=le([{key:yo(),value:o},{key:wo(),value:a},{key:xo(),value:i}])
var c=function(t,e){return Vt(u,e).bind((function(e){return e(t)}))}
return{fireIfReady:c}}
var C_=function(t){var e=t.raw
return e.which===Vh[0]&&!F(["input","textarea"],Ha(t.target))&&!g_(t.target,'[contenteditable="true"]')}
var S_=function(){return Jr().browser.isFirefox()}
var O_=Le([kn("triggerEvent"),Pn("stopBackspace",true)])
var k_=function(t,e){return S_()?d_(t,"focus",e):v_(t,"focusin",e)}
var T_=function(t,e){return S_()?d_(t,"blur",e):v_(t,"focusout",e)}
var __=function(t,e){var n=on("Getting GUI events settings",O_,e)
var r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"]
var o=x_(n)
var a=U(r.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return v_(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()}))
var r=n.triggerEvent(e,t)
r&&t.kill()}))}))
var i=$n(w.none())
var u=v_(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()}))
var e=n.triggerEvent("paste",t)
e&&t.kill()
i.set(w.some(setTimeout((function(){n.triggerEvent(No(),t)}),0)))}))
var c=v_(t,"keydown",(function(t){var e=n.triggerEvent("keydown",t)
e?t.kill():true===n.stopBackspace&&C_(t)&&t.prevent()}))
var s=k_(t,(function(t){var e=n.triggerEvent("focusin",t)
e&&t.kill()}))
var l=$n(w.none())
var f=T_(t,(function(t){var e=n.triggerEvent("focusout",t)
e&&t.kill()
l.set(w.some(setTimeout((function(){n.triggerEvent(Fo(),t)}),0)))}))
var v=function(){q(a,(function(t){t.unbind()}))
c.unbind()
s.unbind()
f.unbind()
u.unbind()
i.get().each(clearTimeout)
l.get().each(clearTimeout)}
return{unbind:v}}
var z_=function(t,e){var n=Vt(t,"target").getOr(e)
return $n(n)}
var M_=function(t,e){var n=$n(false)
var r=$n(false)
var o=function(){n.set(true)}
var a=function(){r.set(true)}
return{stop:o,cut:a,isStopped:n.get,isCut:r.get,event:t,setSource:e.set,getSource:e.get}}
var E_=function(t){var n=$n(false)
var r=function(){n.set(true)}
return{stop:r,cut:e,isStopped:n.get,isCut:l,event:t,setSource:s("Cannot set source of a broadcasted event"),getSource:s("Cannot get source of a broadcasted event")}}
var D_=Wt.generate([{stopped:[]},{resume:["element"]},{complete:[]}])
var A_=function(t,e,n,r,o,a){var i=t(e,r)
var u=M_(n,o)
return i.fold((function(){a.logEventNoHandlers(e,r)
return D_.complete()}),(function(t){var n=t.descHandler
var r=iu(n)
r(u)
if(u.isStopped()){a.logEventStopped(e,t.element,n.purpose)
return D_.stopped()}if(u.isCut()){a.logEventCut(e,t.element,n.purpose)
return D_.complete()}return qa(t.element).fold((function(){a.logNoParent(e,t.element,n.purpose)
return D_.complete()}),(function(r){a.logEventResponse(e,t.element,n.purpose)
return D_.resume(r)}))}))}
var R_=function(t,e,n,r,o,a){return A_(t,e,n,r,o,a).fold((function(){return true}),(function(r){return R_(t,e,n,r,o,a)}),(function(){return false}))}
var H_=function(t,e,n,r,o){var a=z_(n,r)
return A_(t,e,n,r,a,o)}
var B_=function(t,e,n){var r=E_(e)
q(t,(function(t){var e=t.descHandler
var n=iu(e)
n(r)}))
return r.isStopped()}
var I_=function(t,e,n,r){return L_(t,e,n,n.target,r)}
var L_=function(t,e,n,r,o){var a=z_(n,r)
return R_(t,e,n,r,a,o)}
var P_=function(t,e){return{element:t,descHandler:e}}
var V_=function(t,e){return{id:t,descHandler:e}}
function F_(){var t={}
var e=function(e,n,r){Et(r,(function(r,o){var a=void 0!==t[o]?t[o]:{}
a[n]=au(r,e)
t[o]=a}))}
var n=function(t,e){return Hi(e).fold((function(){return w.none()}),(function(n){return t.bind((function(t){return Vt(t,n)})).map((function(t){return P_(e,t)}))}))}
var r=function(e){return Vt(t,e).map((function(t){return It(t,(function(t,e){return V_(e,t)}))})).getOr([])}
var o=function(e,r,o){var a=Vt(t,r)
return lo(o,(function(t){return n(a,t)}),e)}
var a=function(e){Et(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))}
return{registerId:e,unregisterId:a,filterByType:r,find:o}}function N_(){var t=F_()
var e={}
var n=function(t){var e=t.element
return Hi(e).fold((function(){return Ai("uid-",t.element)}),(function(t){return t}))}
var r=function(t,n){var r=e[n]
if(r!==t)throw new Error('The tagId "'+n+'" is already used by: '+Ci(r.element)+"\nCannot use it for: "+Ci(t.element)+"\nThe conflicting element is"+(Uu(r.element)?" ":" not ")+"already in the DOM")
a(t)}
var o=function(o){var a=n(o)
Nt(e,a)&&r(o,a)
var i=[o]
t.registerId(i,a,o.events)
e[a]=o}
var a=function(n){Hi(n.element).each((function(n){delete e[n]
t.unregisterId(n)}))}
var i=function(e){return t.filterByType(e)}
var u=function(e,n,r){return t.find(e,n,r)}
var c=function(t){return Vt(e,t)}
return{find:u,filter:i,register:o,unregister:a,getById:c}}var j_=function(t){var e=t.dom,n=e.attributes,r=m(e,["attributes"])
return{uid:t.uid,dom:d({tag:"div",attributes:d({role:"presentation"},n)},r),components:t.components,behaviours:Km(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}}
var W_=ih({name:"Container",factory:j_,configFields:[Pn("components",[]),$m("containerBehaviours",[]),Pn("events",{}),Pn("domModification",{}),Pn("eventOrder",{})]})
var U_=function(t){var n=function(e){return qa(t.element).fold((function(){return true}),(function(t){return oo(e,t)}))}
var r=N_()
var o=function(t,e){return r.find(n,t,e)}
var i=__(t.element,{triggerEvent:function(t,e){return _s(t,e.target,(function(n){return I_(o,t,e,n)}))}})
var u={debugInfo:a("real"),triggerEvent:function(t,e,n){_s(t,e,(function(r){return L_(o,t,n,e,r)}))},triggerFocus:function(t,n){Hi(t).fold((function(){$l(t)}),(function(r){_s(Vo(),t,(function(r){H_(o,Vo(),{originator:n,kill:e,prevent:e,target:t},t,r)
return false}))}))},triggerEscape:function(t,e){u.triggerEvent("keydown",t.element,e.event)},getByUid:function(t){return b(t)},getByDom:function(t){return y(t)},build:yc,addToGui:function(t){l(t)},removeFromGui:function(t){v(t)},addToWorld:function(t){c(t)},removeFromWorld:function(t){s(t)},broadcast:function(t){g(t)},broadcastOn:function(t,e){h(t,e)},broadcastEvent:function(t,e){p(t,e)},isConnected:f}
var c=function(t){t.connect(u)
if(!Pa(t.element)){r.register(t)
q(t.components(),c)
u.triggerEvent($o(),t.element,{target:t.element})}}
var s=function(t){if(!Pa(t.element)){q(t.components(),s)
r.unregister(t)}t.disconnect()}
var l=function(e){Pd(t,e)}
var v=function(t){Nd(t)}
var d=function(){i.unbind()
ii(t.element)}
var m=function(t){var e=r.filter(jo())
q(e,(function(e){var n=e.descHandler
var r=iu(n)
r(t)}))}
var g=function(t){m({universal:true,data:t})}
var h=function(t,e){m({universal:false,channels:t,data:e})}
var p=function(t,e){var n=r.filter(t)
return B_(n,e)}
var b=function(t){return r.getById(t).fold((function(){return gt.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),gt.value)}
var y=function(t){var e=Hi(t).getOr("not found")
return b(e)}
c(t)
return{root:t,element:t.element,destroy:d,add:l,remove:v,getByUid:b,getByDom:y,addToWorld:c,removeFromWorld:s,broadcast:g,broadcastOn:h,broadcastEvent:p}}
var q_=function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:U(t.items,e.interpreter)}}
var G_=a([Pn("prefix","form-field"),$m("fieldBehaviours",[bh,Xm])])
var J_=a([Mg({schema:[yn("dom")],name:"label"}),Mg({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[yn("text")],name:"aria-descriptor"}),_g({factory:{sketch:function(t){var e=ce(t,["factory"])
return t.factory.sketch(e)}},schema:[yn("factory")],name:"field"})])
var X_=function(t,e,n,r){var o=Ym(t.fieldBehaviours,[bh.config({find:function(e){return jg(e,t,"field")}}),Xm.config({store:{mode:"manual",getValue:function(t){return bh.getCurrent(t).bind(Xm.getValue)},setValue:function(t,e){bh.getCurrent(t).each((function(t){Xm.setValue(t,e)}))}}})])
var a=ha([Ea((function(e,n){var r=Ug(e,t,["label","field","aria-descriptor"])
r.field().each((function(e){var n=_i(t.prefix)
r.label().each((function(t){di(t.element,"for",n)
di(e.element,"id",n)}))
r["aria-descriptor"]().each((function(n){var r=_i(t.prefix)
di(n.element,"id",r)
di(e.element,"aria-describedby",r)}))}))}))])
var i={getField:function(e){return jg(e,t,"field")},getLabel:function(e){return jg(e,t,"label")}}
return{uid:t.uid,dom:t.dom,components:e,behaviours:o,events:a,apis:i}}
var $_=uh({name:"FormField",configFields:G_(),partFields:J_(),factory:X_,apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}})
var K_=function(t,e){return Zi({attributes:le([{key:e.tabAttr,value:"true"}])})}
var Y_=Object.freeze({__proto__:null,exhibit:K_})
var Q_=[Pn("tabAttr","data-alloy-tabstop")]
var Z_=Nl({fields:Q_,name:"tabstopping",active:Y_})
var tz=tinymce.util.Tools.resolve("tinymce.html.Entities")
var ez=function(t,e,n,r){var o=rz(t,e,n,r)
return $_.sketch(o)}
var nz=function(t,e){return ez(t,e,[],[])}
var rz=function(t,e,n,r){return{dom:az(n),components:t.toArray().concat([e]),fieldBehaviours:Vl(r)}}
var oz=function(){return az([])}
var az=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}}
var iz=function(t,e){return $_.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})}
var uz=_i("form-component-change")
var cz=_i("form-close")
var sz=_i("form-cancel")
var lz=_i("form-action")
var fz=_i("form-submit")
var vz=_i("form-block")
var dz=_i("form-unblock")
var mz=_i("form-tabchange")
var gz=_i("form-resize")
var hz=function(t,e){var n
var r=t.label.map((function(t){return iz(t,e)}))
var o=function(t){return function(e,n){ms(n.event.target,"[data-collection-item-value]").each((function(r){t(e,n,r,gi(r,"data-collection-item-value"))}))}}
var a=function(n,r){var o=U(r,(function(n){var r=MS.translate(n.text)
var o=1===t.columns?'<div class="tox-collection__item-label">'+r+"</div>":""
var a='<div class="tox-collection__item-icon">'+n.icon+"</div>"
var i={_:" "," - ":" ","-":" "}
var u=r.replace(/\_| \- |\-/g,(function(t){return i[t]}))
var c=e.isDisabled()?" tox-collection__item--state-disabled":""
return'<div class="tox-collection__item'+c+'" tabindex="-1" data-collection-item-value="'+tz.encodeAllRaw(n.value)+'" title="'+u+'" aria-label="'+u+'">'+a+o+"</div>"}))
var a="auto"!==t.columns&&t.columns>1?W(o,t.columns):[o]
var i=U(a,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}))
li(n.element,i.join(""))}
var u=o((function(n,r,o,a){r.stop()
e.isDisabled()||fa(n,lz,{name:t.name,value:a})}))
var c=[wa(_o(),o((function(t,e,n){$l(n)}))),wa(Ho(),u),wa(qo(),u),wa(zo(),o((function(t,e,n){ds(t.element,"."+yC).each((function(t){Mu(t,yC)}))
_u(n,yC)}))),wa(Mo(),o((function(t){ds(t.element,"."+yC).each((function(t){Mu(t,yC)}))}))),Ra(o((function(e,n,r,o){fa(e,lz,{name:t.name,value:o})})))]
var s=function(t,e){return U(Iv(t.element,".tox-collection__item"),e)}
var l=$_.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:i},behaviours:Vl([XS.config({disabled:e.isDisabled,onDisabled:function(t){s(t,(function(t){_u(t,"tox-collection__item--state-disabled")
di(t,"aria-disabled",true)}))},onEnabled:function(t){s(t,(function(t){Mu(t,"tox-collection__item--state-disabled")
bi(t,"aria-disabled")}))}}),NO(),xy.config({}),Xm.config({store:{mode:"memory",initialValue:[]},onSetValue:function(e,n){a(e,n)
"auto"===t.columns&&vS(e,5,"tox-collection__item").each((function(t){var n=t.numRows,r=t.numColumns
fy.setGridSize(e,n,r)}))
la(e,gz)}}),Z_.config({}),fy.config(DT(t.columns,"normal")),Sy("collection-events",c)]),eventOrder:(n={},n[Wo()]=["disabling","alloy.base.behaviour","collection-events"],n)})
var f=["tox-form__group--collection"]
return ez(r,l,f,[])}
var pz=a([En("data"),Pn("inputAttributes",{}),Pn("inputStyles",{}),Pn("tag","input"),Pn("inputClasses",[]),Ls("onSetValue"),Pn("styles",{}),Pn("eventOrder",{}),$m("inputBehaviours",[Xm,Ay]),Pn("selectOnFocus",true)])
var bz=function(t){return Vl([Ay.config({onFocus:t.selectOnFocus?function(t){var e=t.element
var n=ac(e)
e.dom.setSelectionRange(0,n.length)}:e})])}
var yz=function(t){return d(d({},bz(t)),Ym(t.inputBehaviours,[Xm.config({store:d(d({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return ac(t.element)},setValue:function(t,e){var n=ac(t.element)
n!==e&&ic(t.element,e)}}),onSetValue:t.onSetValue})]))}
var wz=function(t){return{tag:t.tag,attributes:d({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}}
var xz=function(t,e){return{uid:t.uid,dom:wz(t),components:[],behaviours:yz(t),eventOrder:t.eventOrder}}
var Cz=ih({name:"Input",configFields:pz(),factory:xz})
var Sz={},Oz={exports:Sz};(function(e,n,r,o){(function(o){if("object"===typeof n&&"undefined"!==typeof r)r.exports=o()
else if("function"===typeof e&&e.amd)e([],o)
else{var a
a="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this
a.EphoxContactWrapper=o()}})((function(){return function(){function t(e,n,r){function a(u,c){if(!n[u]){if(!e[u]){var s="function"==typeof o&&o
if(!c&&s)return s(u,!0)
if(i)return i(u,!0)
var l=new Error("Cannot find module '"+u+"'")
throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}}
e[u][0].call(f.exports,(function(t){var n=e[u][1][t]
return a(n||t)}),f,f.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof o&&o,u=0;u<r.length;u++)a(r[u])
return a}return t}()({1:[function(t,e,n){var r=e.exports={}
var o
var a
function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{o="function"===typeof setTimeout?setTimeout:i}catch(t){o=i}try{a="function"===typeof clearTimeout?clearTimeout:u}catch(t){a=u}})()
function c(t){if(o===setTimeout)return setTimeout(t,0)
if((o===i||!o)&&setTimeout){o=setTimeout
return setTimeout(t,0)}try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}function s(t){if(a===clearTimeout)return clearTimeout(t)
if((a===u||!a)&&clearTimeout){a=clearTimeout
return clearTimeout(t)}try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}var l=[]
var f=false
var v
var d=-1
function m(){if(!f||!v)return
f=false
v.length?l=v.concat(l):d=-1
l.length&&g()}function g(){if(f)return
var t=c(m)
f=true
var e=l.length
while(e){v=l
l=[]
while(++d<e)v&&v[d].run()
d=-1
e=l.length}v=null
f=false
s(t)}r.nextTick=function(t){var e=new Array(arguments.length-1)
if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
l.push(new h(t,e))
1!==l.length||f||c(g)}
function h(t,e){this.fun=t
this.array=e}h.prototype.run=function(){this.fun.apply(null,this.array)}
r.title="browser"
r.browser=true
r.env={}
r.argv=[]
r.version=""
r.versions={}
function p(){}r.on=p
r.addListener=p
r.once=p
r.off=p
r.removeListener=p
r.removeAllListeners=p
r.emit=p
r.prependListener=p
r.prependOnceListener=p
r.listeners=function(t){return[]}
r.binding=function(t){throw new Error("process.binding is not supported")}
r.cwd=function(){return"/"}
r.chdir=function(t){throw new Error("process.chdir is not supported")}
r.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){(function(n){var r=setTimeout
function o(){}function a(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof t)throw new TypeError("not a function")
this._state=0
this._handled=false
this._value=void 0
this._deferreds=[]
v(t,this)}function u(t,e){while(3===t._state)t=t._value
if(0===t._state){t._deferreds.push(e)
return}t._handled=true
i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected
if(null===n){(1===t._state?c:s)(e.promise,t._value)
return}var r
try{r=n(t._value)}catch(t){s(e.promise,t)
return}c(e.promise,r)}))}function c(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.")
if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then
if(e instanceof i){t._state=3
t._value=e
l(t)
return}if("function"===typeof n){v(a(n,e),t)
return}}t._state=1
t._value=e
l(t)}catch(e){s(t,e)}}function s(t,e){t._state=2
t._value=e
l(t)}function l(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}))
for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e])
t._deferreds=null}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null
this.onRejected="function"===typeof e?e:null
this.promise=n}function v(t,e){var n=false
try{t((function(t){if(n)return
n=true
c(e,t)}),(function(t){if(n)return
n=true
s(e,t)}))}catch(t){if(n)return
n=true
s(e,t)}}i.prototype["catch"]=function(t){return this.then(null,t)}
i.prototype.then=function(t,e){var n=new this.constructor(o)
u(this,new f(t,e,n))
return n}
i.all=function(t){var e=Array.prototype.slice.call(t)
return new i((function(t,n){if(0===e.length)return t([])
var r=e.length
function o(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(t){o(a,t)}),n)
return}}e[a]=i
0===--r&&t(e)}catch(t){n(t)}}for(var a=0;a<e.length;a++)o(a,e[a])}))}
i.resolve=function(t){if(t&&"object"===typeof t&&t.constructor===i)return t
return new i((function(e){e(t)}))}
i.reject=function(t){return new i((function(e,n){n(t)}))}
i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))}
i._immediateFn="function"===typeof t?function(e){t(e)}:function(t){r(t,0)}
i._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)}
i._setImmediateFn=function(t){i._immediateFn=t}
i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t}
"undefined"!==typeof e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)})(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick
var a=Function.prototype.apply
var i=Array.prototype.slice
var u={}
var c=0
n.setTimeout=function(){return new s(a.call(setTimeout,window,arguments),clearTimeout)}
n.setInterval=function(){return new s(a.call(setInterval,window,arguments),clearInterval)}
n.clearTimeout=n.clearInterval=function(t){t.close()}
function s(t,e){this._id=t
this._clearFn=e}s.prototype.unref=s.prototype.ref=function(){}
s.prototype.close=function(){this._clearFn.call(window,this._id)}
n.enroll=function(t,e){clearTimeout(t._idleTimeoutId)
t._idleTimeout=e}
n.unenroll=function(t){clearTimeout(t._idleTimeoutId)
t._idleTimeout=-1}
n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId)
var e=t._idleTimeout
e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))}
n.setImmediate="function"===typeof e?e:function(t){var e=c++
var r=!(arguments.length<2)&&i.call(arguments,1)
u[e]=true
o((function(){if(u[e]){r?t.apply(null,r):t.call(null)
n.clearImmediate(e)}}))
return e}
n.clearImmediate="function"===typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill")
var o="undefined"!==typeof window?window:Function("return this;")()
e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,Sz,Oz,void 0)
var kz=Oz.exports.boltExport
var Tz=function(t){var e=w.none()
var n=[]
var r=function(t){return Tz((function(e){o((function(n){e(t(n))}))}))}
var o=function(t){i()?c(t):n.push(t)}
var a=function(t){if(!i()){e=w.some(t)
u(n)
n=[]}}
var i=function(){return e.isSome()}
var u=function(t){q(t,c)}
var c=function(t){e.each((function(e){setTimeout((function(){t(e)}),0)}))}
t(a)
return{get:o,map:r,isReady:i}}
var _z=function(t){return Tz((function(e){e(t)}))}
var zz={nu:Tz,pure:_z}
var Mz=function(t){setTimeout((function(){throw t}),0)}
var Ez=function(t){var e=function(e){t().then(e,Mz)}
var n=function(e){return Ez((function(){return t().then(e)}))}
var r=function(e){return Ez((function(){return t().then((function(t){return e(t).toPromise()}))}))}
var o=function(e){return Ez((function(){return t().then((function(){return e.toPromise()}))}))}
var a=function(){return zz.nu(e)}
var i=function(){var e=null
return Ez((function(){null===e&&(e=t())
return e}))}
var u=t
return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,toPromise:u,get:e}}
var Dz=function(t){return Ez((function(){return new kz(t)}))}
var Az=function(t){return Ez((function(){return kz.resolve(t)}))}
var Rz={nu:Dz,pure:Az}
var Hz=["input","textarea"]
var Bz=function(t){var e=Ha(t)
return F(Hz,e)}
var Iz=function(t,e){var n=e.getRoot(t).getOr(t.element)
Mu(n,e.invalidClass)
e.notify.each((function(e){Bz(t.element)&&di(t.element,"aria-invalid",false)
e.getContainer(t).each((function(t){li(t,e.validHtml)}))
e.onValid(t)}))}
var Lz=function(t,e,n,r){var o=e.getRoot(t).getOr(t.element)
_u(o,e.invalidClass)
e.notify.each((function(e){Bz(t.element)&&di(t.element,"aria-invalid",true)
e.getContainer(t).each((function(t){li(t,r)}))
e.onInvalid(t,r)}))}
var Pz=function(t,e,n){return e.validator.fold((function(){return Rz.pure(gt.value(true))}),(function(e){return e.validate(t)}))}
var Vz=function(t,e,n){e.notify.each((function(e){e.onValidate(t)}))
return Pz(t,e).map((function(r){return t.getSystem().isConnected()?r.fold((function(r){Lz(t,e,n,r)
return gt.error(r)}),(function(n){Iz(t,e)
return gt.value(n)})):gt.error("No longer in system")}))}
var Fz=function(t,e){var n=e.getRoot(t).getOr(t.element)
return Eu(n,e.invalidClass)}
var Nz=Object.freeze({__proto__:null,markValid:Iz,markInvalid:Lz,query:Pz,run:Vz,isInvalid:Fz})
var jz=function(t,n){return t.validator.map((function(r){return ha([wa(r.onEvent,(function(e){Vz(e,t,n).get(i)}))].concat(r.validateOnLoad?[Ea((function(r){Vz(r,t,n).get(e)}))]:[]))})).getOr({})}
var Wz=Object.freeze({__proto__:null,events:jz})
var Uz=[yn("invalidClass"),Pn("getRoot",w.none),In("notify",[Pn("aria","alert"),Pn("getContainer",w.none),Pn("validHtml",""),Ls("onValid"),Ls("onInvalid"),Ls("onValidate")]),In("validator",[yn("validate"),Pn("onEvent","input"),Pn("validateOnLoad",true)])]
var qz=Nl({fields:Uz,name:"invalidating",active:Wz,apis:Nz,extra:{validation:function(t){return function(e){var n=Xm.getValue(e)
return Rz.pure(t(n))}}}})
var Gz=function(t,e,n,r){return n.getOrCreate(t,e,r)}
var Jz=Object.freeze({__proto__:null,getCoupled:Gz})
var Xz=[wn("others",tn(gt.value,ln()))]
var $z=function(){var t={}
var e=function(e,n,r){var o=zt(n.others)
if(o)return Vt(t,r).getOrThunk((function(){var o=Vt(n.others,r).getOrDie("No information found for coupled component: "+r)
var a=o(e)
var i=e.getSystem().build(a)
t[r]=i
return i}))
throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}
var n=a({})
return Xi({readState:n,getOrCreate:e})}
var Kz=Object.freeze({__proto__:null,init:$z})
var Yz=Nl({fields:Xz,name:"coupling",apis:Jz,state:Kz})
var Qz=a("sink")
var Zz=a(Mg({name:Qz(),overrides:a({dom:{tag:"div"},behaviours:Vl([Ad.config({useFixed:f})]),events:ha([_a(Eo()),_a(So()),_a(Ho())])})}))
var tM;(function(t){t[t["HighlightFirst"]=0]="HighlightFirst"
t[t["HighlightNone"]=1]="HighlightNone"})(tM||(tM={}))
var eM=function(t,e){var n=t.getHotspot(e).getOr(e)
var r="hotspot"
var o=t.getAnchorOverrides()
return t.layouts.fold((function(){return{anchor:r,hotspot:n,overrides:o}}),(function(t){return{anchor:r,hotspot:n,overrides:o,layouts:t}}))}
var nM=function(t,e,n){var r=t.fetch
return r(n).map(e)}
var rM=function(t,e,n,r,o,a,i){var u=nM(t,e,r)
var c=cM(r,t)
return u.map((function(t){return t.bind((function(t){return w.from(Hw.sketch(d(d({},a.menu()),{uid:Bi(""),data:t,highlightImmediately:i===tM.HighlightFirst,onOpenMenu:function(t,e){var r=c().getOrDie()
Ad.position(r,n,e)
vm.decloak(o)},onOpenSubmenu:function(t,e,n){var r=c().getOrDie()
Ad.position(r,{anchor:"submenu",item:e},n)
vm.decloak(o)},onRepositionMenu:function(t,e,r){var o=c().getOrDie()
Ad.position(o,n,e)
q(r,(function(t){Ad.position(o,{anchor:"submenu",item:t.triggeringItem},t.triggeredMenu)}))},onEscape:function(){Ay.focus(r)
vm.close(o)
return w.some(true)}})))}))}))}
var oM=function(t,e,n,r,o,a,i){var u=eM(t,n)
var c=rM(t,e,u,n,r,o,i)
return c.map((function(t){t.fold((function(){vm.isOpen(r)&&vm.close(r)}),(function(t){vm.cloak(r)
vm.open(r,t)
a(r)}))
return r}))}
var aM=function(t,e,n,r,o,a,i){vm.close(r)
return Rz.pure(r)}
var iM=function(t,e,n,r,o,a){var i=Yz.getCoupled(n,"sandbox")
var u=vm.isOpen(i)
var c=u?aM:oM
return c(t,e,n,i,r,o,a)}
var uM=function(t,e,n){var r=bh.getCurrent(e).getOr(e)
var o=Hc(t.element)
n?$u(r.element,"min-width",o+"px"):Rc(r.element,o)}
var cM=function(t,e){return t.getSystem().getByUid(e.uid+"-"+Qz()).map((function(t){return function(){return gt.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return gt.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))}
var sM=function(t){vm.getState(t).each((function(t){Hw.repositionMenus(t)}))}
var lM=function(t,e,n){var r=hs()
var o=function(o,a){var i=eM(t,e)
r.link(e.element)
t.matchWidth&&uM(i.hotspot,a,t.useMinWidth)
t.onOpen(i,o,a)
void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,a)}
var a=function(t,o){r.unlink(e.element)
void 0!==n&&void 0!==n.onClose&&n.onClose(t,o)}
var i=cM(e,t)
return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Qm.augment(t.sandboxBehaviours,[Xm.config({store:{mode:"memory",initialValue:e}}),vm.config({onOpen:o,onClose:a,isPartOf:function(t,n,r){return bs(n,r)||bs(e,r)},getAttachPoint:function(){return i().getOrDie()}}),bh.config({find:function(t){return vm.getState(t).bind((function(t){return bh.getCurrent(t)}))}}),ql.config({channels:d(d({},pm({isExtraPart:l})),ym({doReposition:sM}))})])}}
var fM=function(t){var e=Yz.getCoupled(t,"sandbox")
sM(e)}
var vM=function(){return[Pn("sandboxClasses",[]),Qm.field("sandboxBehaviours",[bh,ql,vm,Xm])]}
var dM=a([yn("dom"),yn("fetch"),Ls("onOpen"),Ps("onExecute"),Pn("getHotspot",w.some),Pn("getAnchorOverrides",a({})),jf(),$m("dropdownBehaviours",[Yy,Yz,fy,Ay]),yn("toggleClass"),Pn("eventOrder",{}),En("lazySink"),Pn("matchWidth",false),Pn("useMinWidth",false),En("role")].concat(vM()))
var mM=a([zg({schema:[Hs()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),Zz()])
var gM=function(t,n,r,o){var a
var i=function(e){return Vt(t.dom,"attributes").bind((function(t){return Vt(t,e)}))}
var u=function(t){vm.getState(t).each((function(t){Hw.highlightPrimary(t)}))}
var c=function(n){var r=u
iM(t,(function(t){return t}),n,o,r,tM.HighlightFirst).get(e)}
var s={expand:function(n){Yy.isOn(n)||iM(t,(function(t){return t}),n,o,e,tM.HighlightNone).get(e)},open:function(n){Yy.isOn(n)||iM(t,(function(t){return t}),n,o,e,tM.HighlightFirst).get(e)},isOpen:Yy.isOn,close:function(n){Yy.isOn(n)&&iM(t,(function(t){return t}),n,o,e,tM.HighlightFirst).get(e)},repositionMenus:function(t){Yy.isOn(t)&&fM(t)}}
var l=function(t,e){va(t)
return w.some(true)}
return{uid:t.uid,dom:t.dom,components:n,behaviours:Ym(t.dropdownBehaviours,[Yy.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Yz.config({others:{sandbox:function(e){return lM(t,e,{onOpen:function(){Yy.on(e)},onClose:function(){Yy.off(e)}})}}}),fy.config({mode:"special",onSpace:l,onEnter:l,onDown:function(t,e){if(hM.isOpen(t)){var n=Yz.getCoupled(t,"sandbox")
u(n)}else hM.open(t)
return w.some(true)},onEscape:function(t,e){if(hM.isOpen(t)){hM.close(t)
return w.some(true)}return w.none()}}),Ay.config({})]),events:Zy(w.some(c)),eventOrder:d(d({},t.eventOrder),(a={},a[Wo()]=["disabling","toggling","alloy.base.behaviour"],a)),apis:s,domModification:{attributes:d(d({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:i("type").getOr("button")}:{})}}}
var hM=uh({name:"Dropdown",configFields:dM(),partFields:mM(),factory:gM,apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}})
var pM=function(){return Zi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}
var bM=function(){return ha([pa(Io(),f)])}
var yM=Object.freeze({__proto__:null,events:bM,exhibit:pM})
var wM=Nl({fields:[],name:"unselecting",active:yM})
var xM=function(t,e){return hM.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Vl([GO.button(e.providers.isDisabled),NO(),wM.config({}),Z_.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return Rz.nu((function(e){return t.fetch(e)})).map((function(r){return w.from(u_(Xt(zT(_i("menu-value"),r,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,uC.CLOSE_ON_EXECUTE,(function(){return false}),e.providers),{movement:ET(t.columns,t.presets)})))}))},parts:{menu:BC(false,1,t.presets)}})}
var CM=_i("color-input-change")
var SM=_i("color-swatch-change")
var OM=_i("color-picker-cancel")
var kM=function(t,e,n){var r=$_.parts.field({factory:Cz,inputClasses:["tox-textfield"],onSetValue:function(t){return qz.run(t).get((function(){}))},inputBehaviours:Vl([XS.config({disabled:e.providers.isDisabled}),NO(),Z_.config({}),qz.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return qa(t.element)},notify:{onValid:function(t){var e=Xm.getValue(t)
fa(t,CM,{color:e})}},validator:{validateOnLoad:false,validate:function(t){var e=Xm.getValue(t)
if(0===e.length)return Rz.pure(gt.value(true))
var n=er.fromTag("span")
$u(n,"background-color",e)
var r=tc(n,"background-color").fold((function(){return gt.error("blah")}),(function(t){return gt.value(e)}))
return Rz.pure(r)}}})]),selectOnFocus:false})
var o=t.label.map((function(t){return iz(t,e.providers)}))
var a=function(t,e){fa(t,SM,{value:e})}
var i=function(t,e){u.getOpt(t).each((function(t){"custom"===e?n.colorPicker((function(e){e.fold((function(){return la(t,OM)}),(function(e){a(t,e)
vT(e)}))}),"#ffffff"):a(t,"remove"===e?"":e)}))}
var u=Qw(xM({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[gl,ml,yl]},onLtr:function(){return[ml,gl,yl]}},components:[],fetch:CT(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:i},e))
return $_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:Vl([Sy("form-field-events",[wa(CM,(function(e,n){u.getOpt(e).each((function(t){$u(t.element,"background-color",n.event.color)}))
fa(e,uz,{name:t.name})})),wa(SM,(function(t,e){$_.getField(t).each((function(n){Xm.setValue(n,e.event.value)
bh.getCurrent(t).each(Ay.focus)}))})),wa(OM,(function(t,e){$_.getField(t).each((function(e){bh.getCurrent(t).each(Ay.focus)}))}))])])})}
var TM=function(t,e,n){return{hue:t,saturation:e,value:n}}
var _M=function(t){var e=0
var n=0
var r=0
var o=t.red/255
var a=t.green/255
var i=t.blue/255
var u=Math.min(o,Math.min(a,i))
var c=Math.max(o,Math.max(a,i))
if(u===c){r=u
return TM(0,0,100*r)}var s=o===u?a-i:i===u?o-a:i-o
e=o===u?3:i===u?1:5
e=60*(e-s/(c-u))
n=(c-u)/c
r=c
return TM(Math.round(e),Math.round(100*n),Math.round(100*r))}
var zM=function(t){var e=(100-t)/100*360
var n=TM(e,100,100)
var r=jk(n)
return Hk(r)}
var MM=_i("rgb-hex-update")
var EM=_i("slider-update")
var DM=_i("palette-update")
var AM=Mg({schema:[yn("dom")],name:"label"})
var RM=function(t){return Mg({name:t+"-edge",overrides:function(e){var n=e.model.manager.edgeActions[t]
return n.fold((function(){return{}}),(function(t){return{events:ha([xa(yo(),(function(e,n,r){return t(e,r)}),[e]),xa(So(),(function(e,n,r){return t(e,r)}),[e]),xa(Oo(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})}
var HM=RM("top-left")
var BM=RM("top")
var IM=RM("top-right")
var LM=RM("right")
var PM=RM("bottom-right")
var VM=RM("bottom")
var FM=RM("bottom-left")
var NM=RM("left")
var jM=_g({name:"thumb",defaults:a({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ha([ka(yo(),t,"spectrum"),ka(wo(),t,"spectrum"),ka(xo(),t,"spectrum"),ka(So(),t,"spectrum"),ka(Oo(),t,"spectrum"),ka(To(),t,"spectrum")])}}})
var WM=_g({schema:[Xn("mouseIsDown",(function(){return $n(false)}))],name:"spectrum",overrides:function(t){var e=t.model
var n=e.manager
var r=function(e,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(e,t,r)}))}
return{behaviours:Vl([fy.config({mode:"special",onLeft:function(e){return n.onLeft(e,t)},onRight:function(e){return n.onRight(e,t)},onUp:function(e){return n.onUp(e,t)},onDown:function(e){return n.onDown(e,t)}}),Ay.config({})]),events:ha([wa(yo(),r),wa(wo(),r),wa(So(),r),wa(Oo(),(function(e,n){t.mouseIsDown.get()&&r(e,n)}))])}}})
var UM=[AM,NM,LM,BM,VM,HM,IM,FM,PM,jM,WM]
var qM="slider.change.value"
var GM=a(qM)
var JM=function(t){return-1!==t.type.indexOf("touch")}
var XM=function(t){var e=t.event.raw
if(JM(e)){var n=e
return void 0!==n.touches&&1===n.touches.length?w.some(n.touches[0]).map((function(t){return _c(t.clientX,t.clientY)})):w.none()}var r=e
return void 0!==r.clientX?w.some(r).map((function(t){return _c(t.clientX,t.clientY)})):w.none()}
var $M="top",KM="right",YM="bottom",QM="left"
var ZM=function(t){return t.model.minX}
var tE=function(t){return t.model.minY}
var eE=function(t){return t.model.minX-1}
var nE=function(t){return t.model.minY-1}
var rE=function(t){return t.model.maxX}
var oE=function(t){return t.model.maxY}
var aE=function(t){return t.model.maxX+1}
var iE=function(t){return t.model.maxY+1}
var uE=function(t,e,n){return e(t)-n(t)}
var cE=function(t){return uE(t,rE,ZM)}
var sE=function(t){return uE(t,oE,tE)}
var lE=function(t){return cE(t)/2}
var fE=function(t){return sE(t)/2}
var vE=function(t){return t.stepSize}
var dE=function(t){return t.snapToGrid}
var mE=function(t){return t.snapStart}
var gE=function(t){return t.rounded}
var hE=function(t,e){return void 0!==t[e+"-edge"]}
var pE=function(t){return hE(t,QM)}
var bE=function(t){return hE(t,KM)}
var yE=function(t){return hE(t,$M)}
var wE=function(t){return hE(t,YM)}
var xE=function(t){return t.model.value.get()}
var CE=function(t){return{x:t}}
var SE=function(t){return{y:t}}
var OE=function(t,e){return{x:t,y:e}}
var kE=function(t,e){fa(t,GM(),{value:e})}
var TE=function(t,e){kE(t,OE(eE(e),nE(e)))}
var _E=function(t,e){kE(t,SE(nE(e)))}
var zE=function(t,e){kE(t,OE(lE(e),nE(e)))}
var ME=function(t,e){kE(t,OE(aE(e),nE(e)))}
var EE=function(t,e){kE(t,CE(aE(e)))}
var DE=function(t,e){kE(t,OE(aE(e),fE(e)))}
var AE=function(t,e){kE(t,OE(aE(e),iE(e)))}
var RE=function(t,e){kE(t,SE(iE(e)))}
var HE=function(t,e){kE(t,OE(lE(e),iE(e)))}
var BE=function(t,e){kE(t,OE(eE(e),iE(e)))}
var IE=function(t,e){kE(t,CE(eE(e)))}
var LE=function(t,e){kE(t,OE(eE(e),fE(e)))}
var PE=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)}
var VE=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)}
var FE=function(t,e,n){return Math.max(e,Math.min(n,t))}
var NE=function(t,e,n,r,o){return o.fold((function(){var o=t-e
var a=Math.round(o/r)*r
return FE(e+a,e-1,n+1)}),(function(e){var o=(t-e)%r
var a=Math.round(o/r)
var i=Math.floor((t-e)/r)
var u=Math.floor((n-e)/r)
var c=Math.min(u,i+a)
var s=e+c*r
return Math.max(e,s)}))}
var jE=function(t,e,n){return Math.min(n,Math.max(t,e))-e}
var WE=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,a=t.step,i=t.snap,u=t.snapStart,c=t.rounded,s=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,v=t.maxBound,d=t.screenRange
var m=s?e-1:e
var g=l?n+1:n
if(o<f)return m
if(o>v)return g
var h=jE(o,f,v)
var p=FE(h/d*r+e,m,g)
return i&&p>=e&&p<=n?NE(p,e,n,a,u):c?Math.round(p):p}
var UE=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,a=t.hasMinEdge,i=t.hasMaxEdge,u=t.maxBound,c=t.maxOffset,s=t.centerMinEdge,l=t.centerMaxEdge
return o<e?a?0:s:o>n?i?u:l:(o-e)/r*c}
var qE="top",GE="right",JE="bottom",XE="left",$E="width",KE="height"
var YE=function(t){return t.element.dom.getBoundingClientRect()}
var QE=function(t,e){return t[e]}
var ZE=function(t){var e=YE(t)
return QE(e,XE)}
var tD=function(t){var e=YE(t)
return QE(e,GE)}
var eD=function(t){var e=YE(t)
return QE(e,qE)}
var nD=function(t){var e=YE(t)
return QE(e,JE)}
var rD=function(t){var e=YE(t)
return QE(e,$E)}
var oD=function(t){var e=YE(t)
return QE(e,KE)}
var aD=function(t,e,n){return(t+e)/2-n}
var iD=function(t,e){var n=YE(t)
var r=YE(e)
var o=QE(n,XE)
var a=QE(n,GE)
var i=QE(r,XE)
return aD(o,a,i)}
var uD=function(t,e){var n=YE(t)
var r=YE(e)
var o=QE(n,qE)
var a=QE(n,JE)
var i=QE(r,qE)
return aD(o,a,i)}
var cD=function(t,e){fa(t,GM(),{value:e})}
var sD=function(t){return{x:t}}
var lD=function(t,e,n){var r={min:ZM(e),max:rE(e),range:cE(e),value:n,step:vE(e),snap:dE(e),snapStart:mE(e),rounded:gE(e),hasMinEdge:pE(e),hasMaxEdge:bE(e),minBound:ZE(t),maxBound:tD(t),screenRange:rD(t)}
return WE(r)}
var fD=function(t,e,n){var r=lD(t,e,n)
var o=sD(r)
cD(t,o)
return r}
var vD=function(t,e){var n=ZM(e)
cD(t,sD(n))}
var dD=function(t,e){var n=rE(e)
cD(t,sD(n))}
var mD=function(t,e,n){var r=t>0?VE:PE
var o=r(xE(n).x,ZM(n),rE(n),vE(n))
cD(e,sD(o))
return w.some(o)}
var gD=function(t){return function(e,n){return mD(t,e,n).map((function(){return true}))}}
var hD=function(t){var e=XM(t)
return e.map((function(t){return t.left}))}
var pD=function(t,e,n,r,o){var a=0
var i=rD(t)
var u=r.bind((function(e){return w.some(iD(e,t))})).getOr(a)
var c=o.bind((function(e){return w.some(iD(e,t))})).getOr(i)
var s={min:ZM(e),max:rE(e),range:cE(e),value:n,hasMinEdge:pE(e),hasMaxEdge:bE(e),minBound:ZE(t),minOffset:a,maxBound:tD(t),maxOffset:i,centerMinEdge:u,centerMaxEdge:c}
return UE(s)}
var bD=function(t,e,n,r,o,a){var i=pD(e,a,n,r,o)
return ZE(e)-ZE(t)+i}
var yD=function(t,e,n,r){var o=xE(n)
var a=bD(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n)
var i=Hc(e.element)/2
$u(e.element,"left",a-i+"px")}
var wD=gD(-1)
var xD=gD(1)
var CD=w.none
var SD=w.none
var OD={"top-left":w.none(),top:w.none(),"top-right":w.none(),right:w.some(EE),"bottom-right":w.none(),bottom:w.none(),"bottom-left":w.none(),left:w.some(IE)}
var kD=Object.freeze({__proto__:null,setValueFrom:fD,setToMin:vD,setToMax:dD,findValueOfOffset:lD,getValueFromEvent:hD,findPositionOfValue:bD,setPositionFromValue:yD,onLeft:wD,onRight:xD,onUp:CD,onDown:SD,edgeActions:OD})
var TD=function(t,e){fa(t,GM(),{value:e})}
var _D=function(t){return{y:t}}
var zD=function(t,e,n){var r={min:tE(e),max:oE(e),range:sE(e),value:n,step:vE(e),snap:dE(e),snapStart:mE(e),rounded:gE(e),hasMinEdge:yE(e),hasMaxEdge:wE(e),minBound:eD(t),maxBound:nD(t),screenRange:oD(t)}
return WE(r)}
var MD=function(t,e,n){var r=zD(t,e,n)
var o=_D(r)
TD(t,o)
return r}
var ED=function(t,e){var n=tE(e)
TD(t,_D(n))}
var DD=function(t,e){var n=oE(e)
TD(t,_D(n))}
var AD=function(t,e,n){var r=t>0?VE:PE
var o=r(xE(n).y,tE(n),oE(n),vE(n))
TD(e,_D(o))
return w.some(o)}
var RD=function(t){return function(e,n){return AD(t,e,n).map((function(){return true}))}}
var HD=function(t){var e=XM(t)
return e.map((function(t){return t.top}))}
var BD=function(t,e,n,r,o){var a=0
var i=oD(t)
var u=r.bind((function(e){return w.some(uD(e,t))})).getOr(a)
var c=o.bind((function(e){return w.some(uD(e,t))})).getOr(i)
var s={min:tE(e),max:oE(e),range:sE(e),value:n,hasMinEdge:yE(e),hasMaxEdge:wE(e),minBound:eD(t),minOffset:a,maxBound:nD(t),maxOffset:i,centerMinEdge:u,centerMaxEdge:c}
return UE(s)}
var ID=function(t,e,n,r,o,a){var i=BD(e,a,n,r,o)
return eD(e)-eD(t)+i}
var LD=function(t,e,n,r){var o=xE(n)
var a=ID(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n)
var i=Sc(e.element)/2
$u(e.element,"top",a-i+"px")}
var PD=w.none
var VD=w.none
var FD=RD(-1)
var ND=RD(1)
var jD={"top-left":w.none(),top:w.some(_E),"top-right":w.none(),right:w.none(),"bottom-right":w.none(),bottom:w.some(RE),"bottom-left":w.none(),left:w.none()}
var WD=Object.freeze({__proto__:null,setValueFrom:MD,setToMin:ED,setToMax:DD,findValueOfOffset:zD,getValueFromEvent:HD,findPositionOfValue:ID,setPositionFromValue:LD,onLeft:PD,onRight:VD,onUp:FD,onDown:ND,edgeActions:jD})
var UD=function(t,e){fa(t,GM(),{value:e})}
var qD=function(t,e){return{x:t,y:e}}
var GD=function(t,e,n){var r=lD(t,e,n.left)
var o=zD(t,e,n.top)
var a=qD(r,o)
UD(t,a)
return a}
var JD=function(t,e,n,r){var o=t>0?VE:PE
var a=e?xE(r).x:o(xE(r).x,ZM(r),rE(r),vE(r))
var i=e?o(xE(r).y,tE(r),oE(r),vE(r)):xE(r).y
UD(n,qD(a,i))
return w.some(a)}
var XD=function(t,e){return function(n,r){return JD(t,e,n,r).map((function(){return true}))}}
var $D=function(t,e){var n=ZM(e)
var r=tE(e)
UD(t,qD(n,r))}
var KD=function(t,e){var n=rE(e)
var r=oE(e)
UD(t,qD(n,r))}
var YD=function(t){return XM(t)}
var QD=function(t,e,n,r){var o=xE(n)
var a=bD(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n)
var i=ID(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n)
var u=Hc(e.element)/2
var c=Sc(e.element)/2
$u(e.element,"left",a-u+"px")
$u(e.element,"top",i-c+"px")}
var ZD=XD(-1,false)
var tA=XD(1,false)
var eA=XD(-1,true)
var nA=XD(1,true)
var rA={"top-left":w.some(TE),top:w.some(zE),"top-right":w.some(ME),right:w.some(DE),"bottom-right":w.some(AE),bottom:w.some(HE),"bottom-left":w.some(BE),left:w.some(LE)}
var oA=Object.freeze({__proto__:null,setValueFrom:GD,setToMin:$D,setToMax:KD,getValueFromEvent:YD,setPositionFromValue:QD,onLeft:ZD,onRight:tA,onUp:eA,onDown:nA,edgeActions:rA})
var aA=[Pn("stepSize",1),Pn("onChange",e),Pn("onChoose",e),Pn("onInit",e),Pn("onDragStart",e),Pn("onDragEnd",e),Pn("snapToGrid",false),Pn("rounded",true),En("snapStart"),wn("model",cn("mode",{x:[Pn("minX",0),Pn("maxX",100),Xn("value",(function(t){return $n(t.mode.minX)})),yn("getInitialValue"),Ns("manager",kD)],y:[Pn("minY",0),Pn("maxY",100),Xn("value",(function(t){return $n(t.mode.minY)})),yn("getInitialValue"),Ns("manager",WD)],xy:[Pn("minX",0),Pn("maxX",100),Pn("minY",0),Pn("maxY",100),Xn("value",(function(t){return $n({x:t.mode.minX,y:t.mode.minY})})),yn("getInitialValue"),Ns("manager",oA)]})),$m("sliderBehaviours",[fy,Xm]),Xn("mouseIsDown",(function(){return $n(false)}))]
var iA=function(t,e,n,r){var o
var a=function(e){return Wg(e,t,"thumb")}
var i=function(e){return Wg(e,t,"spectrum")}
var u=function(e){return jg(e,t,"left-edge")}
var c=function(e){return jg(e,t,"right-edge")}
var s=function(e){return jg(e,t,"top-edge")}
var l=function(e){return jg(e,t,"bottom-edge")}
var v=t.model
var d=v.manager
var m=function(e,n){d.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:c,getTopEdge:s,getBottomEdge:l,getSpectrum:i})}
var g=function(e,n){v.value.set(n)
var r=a(e)
m(e,r)
t.onChange(e,r,n)
return w.some(true)}
var h=function(e){d.setToMin(e,t)}
var p=function(e){d.setToMax(e,t)}
var b=function(e){var n=function(){jg(e,t,"thumb").each((function(n){var r=v.value.get()
t.onChoose(e,n,r)}))}
var r=t.mouseIsDown.get()
t.mouseIsDown.set(false)
r&&n()}
var y=function(e,n){n.stop()
t.mouseIsDown.set(true)
t.onDragStart(e,a(e))}
var x=function(e,n){n.stop()
t.onDragEnd(e,a(e))
b(e)}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.sliderBehaviours,[fy.config({mode:"special",focusIn:function(e){return jg(e,t,"spectrum").map(fy.focusIn).map(f)}}),Xm.config({store:{mode:"manual",getValue:function(t){return v.value.get()}}}),ql.config({channels:(o={},o[gm()]={onReceive:b},o)})]),events:ha([wa(GM(),(function(t,e){g(t,e.event.value)})),Ea((function(e,n){var r=v.getInitialValue()
v.value.set(r)
var o=a(e)
m(e,o)
var u=i(e)
t.onInit(e,o,u,v.value.get())})),wa(yo(),y),wa(xo(),x),wa(So(),y),wa(To(),x)]),apis:{resetToMin:h,resetToMax:p,changeValue:g,refresh:m},domModification:{styles:{position:"relative"}}}}
var uA=uh({name:"Slider",configFields:aA,partFields:UM,factory:iA,apis:{resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}})
var cA=function(t,e){var n=uA.parts.spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}})
var r=uA.parts.thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}})
return uA.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:false,model:{mode:"y",getInitialValue:a({y:0})},components:[n,r],sliderBehaviours:Vl([Ay.config({})]),onChange:function(t,e,n){fa(t,EM,{value:n})}})}
var sA="form"
var lA=[$m("formBehaviours",[Xm])]
var fA=function(t){return"<alloy.field."+t+">"}
var vA=function(t){var e=function(){var t=[]
var e=function(e,n){t.push(e)
return Lg(sA,fA(e),n)}
return{field:e,record:function(){return t}}}()
var n=t(e)
var r=e.record()
var o=U(r,(function(t){return _g({name:t,pname:fA(t)})}))
return th(sA,lA,o,mA,n)}
var dA=function(t,e){return t.fold((function(){return gt.error(e)}),gt.value)}
var mA=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.formBehaviours,[Xm.config({store:{mode:"manual",getValue:function(e){var n=qg(e,t)
return Dt(n,(function(t,e){return t().bind((function(t){var n=bh.getCurrent(t)
return dA(n,new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+Ci(t.element)))})).map(Xm.getValue)}))},setValue:function(e,n){Et(n,(function(n,r){jg(e,t,r).each((function(t){bh.getCurrent(t).each((function(t){Xm.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return jg(e,t,n).bind(bh.getCurrent)}}}}
var gA={getField:Gi((function(t,e,n){return t.getField(e,n)})),sketch:vA}
var hA=_i("valid-input")
var pA=_i("invalid-input")
var bA=_i("validating-input")
var yA="colorcustom.rgb."
var wA=function(t,n,r,o){var a=function(e,r){return qz.config({invalidClass:n("invalid"),notify:{onValidate:function(t){fa(t,bA,{type:e})},onValid:function(t){fa(t,hA,{type:e,value:Xm.getValue(t)})},onInvalid:function(t){fa(t,pA,{type:e,value:Xm.getValue(t)})}},validator:{validate:function(e){var n=Xm.getValue(e)
var o=r(n)?gt.value(true):gt.error(t("aria.input.invalid"))
return Rz.pure(o)},validateOnLoad:false}})}
var i=function(r,o,i,u,c){var s=t(yA+"range")
var l=$_.parts.label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":u}}})
var f=$_.parts.field({data:c,factory:Cz,inputAttributes:d({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:Vl([a(o,r),Z_.config({})]),onSetValue:function(t){if(qz.isInvalid(t)){var n=qz.run(t)
n.get(e)}}})
var v=[l,f]
var m="hex"!==o?[$_.parts["aria-descriptor"]({text:s})]:[]
var g=v.concat(m)
return{dom:{tag:"div",attributes:{role:"presentation"}},components:g}}
var u=function(t,e){var n=Hk(e)
gA.getField(t,"hex").each((function(e){Ay.isFocused(e)||Xm.setValue(t,{hex:n.value})}))
return n}
var c=function(t,e){var n=e.red
var r=e.green
var o=e.blue
Xm.setValue(t,{red:n,green:r,blue:o})}
var s=Qw({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}})
var l=function(t,e){s.getOpt(t).each((function(t){$u(t.element,"background-color","#"+e.value)}))}
var f=function(){var e={red:$n(w.some(255)),green:$n(w.some(255)),blue:$n(w.some(255)),hex:$n(w.some("ffffff"))}
var a=function(t,e){var n=Wk(e)
c(t,n)
m(n)}
var f=function(t){return e[t].get()}
var v=function(t,n){e[t].set(n)}
var d=function(){return f("red").bind((function(t){return f("green").bind((function(e){return f("blue").map((function(n){return Fk(t,e,n,1)}))}))}))}
var m=function(t){var e=t.red
var n=t.green
var r=t.blue
v("red",w.some(e))
v("green",w.some(n))
v("blue",w.some(r))}
var g=function(t,e){var n=e.event
"hex"!==n.type?v(n.type,w.none()):o(t)}
var h=function(t,e){r(t)
var n=_k(e)
v("hex",w.some(e))
var o=Wk(n)
c(t,o)
m(o)
fa(t,MM,{hex:n})
l(t,n)}
var p=function(t,e,n){var r=parseInt(n,10)
v(e,w.some(r))
d().each((function(e){var n=u(t,e)
l(t,n)}))}
var b=function(t){return"hex"===t.type}
var y=function(t,e){var n=e.event
b(n)?h(t,n.value):p(t,n.type,n.value)}
var x=function(e){return{label:t(yA+e+".label"),description:t(yA+e+".description")}}
var C=x("red")
var S=x("green")
var O=x("blue")
var k=x("hex")
return Xt(gA.sketch((function(e){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[e.field("red",$_.sketch(i(Nk,"red",C.label,C.description,255))),e.field("green",$_.sketch(i(Nk,"green",S.label,S.description,255))),e.field("blue",$_.sketch(i(Nk,"blue",O.label,O.description,255))),e.field("hex",$_.sketch(i(Ek,"hex",k.label,k.description,"ffffff"))),s.asSpec()],formBehaviours:Vl([qz.config({invalidClass:n("form-invalid")}),Sy("rgb-form-events",[wa(hA,y),wa(pA,g),wa(bA,g)])])}})),{apis:{updateHex:function(t,e){Xm.setValue(t,{hex:e.value})
a(t,e)
l(t,e)}}})}
var v=ih({factory:f,name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}})
return v}
var xA=function(t,e){var n=uA.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}})
var r=uA.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class="+e("sv-palette-inner-thumb")+' role="presentation"></div>'}})
var o=function(t,e){var n=t.width,r=t.height
var o=t.getContext("2d")
if(null===o)return
o.fillStyle=e
o.fillRect(0,0,n,r)
var a=o.createLinearGradient(0,0,n,0)
a.addColorStop(0,"rgba(255,255,255,1)")
a.addColorStop(1,"rgba(255,255,255,0)")
o.fillStyle=a
o.fillRect(0,0,n,r)
var i=o.createLinearGradient(0,0,0,r)
i.addColorStop(0,"rgba(0,0,0,0)")
i.addColorStop(1,"rgba(0,0,0,1)")
o.fillStyle=i
o.fillRect(0,0,n,r)}
var i=function(t,e){var n=t.components()[0].element.dom
o(n,Gk(e))}
var u=function(t){var i=a({x:0,y:0})
var u=function(t,e,n){fa(t,DM,{value:n})}
var c=function(t,e,n,r){o(n.element.dom,Gk(Jk))}
var s=Vl([bh.config({find:w.some}),Ay.config({})])
return uA.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:false,components:[n,r],onChange:u,onInit:c,sliderBehaviours:s})}
var c=ih({factory:u,name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(t,e,n){i(e,n)}},extraApis:{}})
return c}
var CA=function(t,n){var r=function(e){var r=wA(t,n,e.onValidHex,e.onInvalidHex)
var o=xA(t,n)
var a={paletteRgba:$n(Jk)}
var i=Qw(o.sketch({}))
var u=Qw(r.sketch({}))
var c=function(t,e){i.getOpt(t).each((function(t){var n=Wk(e)
a.paletteRgba.set(n)
o.setRgba(t,n)}))}
var s=function(t,e){u.getOpt(t).each((function(t){r.updateHex(t,e)}))}
var l=function(t,e,n){q(n,(function(n){n(t,e)}))}
var f=function(){var t=[s]
return function(e,n){var r=n.event.value
var o=a.paletteRgba.get()
var i=_M(o)
var u=TM(i.hue,r.x,100-r.y)
var c=jk(u)
var s=Hk(c)
l(e,s,t)}}
var v=function(){var t=[c,s]
return function(e,n){var r=n.event.value
var o=zM(r.y)
l(e,o,t)}}
return{uid:e.uid,dom:e.dom,components:[i.asSpec(),cA(t,n),u.asSpec()],behaviours:Vl([Sy("colour-picker-events",[wa(DM,f()),wa(EM,v())]),bh.config({find:function(t){return u.getOpt(t)}}),fy.config({mode:"acyclic"})])}}
var o=ih({name:"ColourPicker",configFields:[yn("dom"),Pn("onValidHex",e),Pn("onInvalidHex",e)],factory:r})
return o}
var SA=function(){return bh.config({find:w.some})}
var OA=function(t){return bh.config({find:t.getOpt})}
var kA=function(t){return bh.config({find:function(e){return Ka(e.element,t).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}})}
var TA={self:SA,memento:OA,childAt:kA}
var _A={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"}
var zA=function(t){return _A[t]}
var MA=function(t){return zA(t)}
var EA=function(t){var e=function(t){return"tox-"+t}
var n=CA(MA,e)
var r=function(t){fa(t,lz,{name:"hex-valid",value:true})}
var o=function(t){fa(t,lz,{name:"hex-valid",value:false})}
var a=Qw(n.sketch({dom:{tag:"div",classes:[e("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:o}))
return{dom:{tag:"div"},components:[a.asSpec()],behaviours:Vl([Xm.config({store:{mode:"manual",getValue:function(t){var e=a.get(t)
var n=bh.getCurrent(e)
var r=n.bind((function(t){var e=Xm.getValue(t)
return e.hex}))
return r.map((function(t){return"#"+t})).getOr("")},setValue:function(t,e){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/
var r=n.exec(e)
var o=a.get(t)
var i=bh.getCurrent(o)
i.fold((function(){console.log("Can not find form")}),(function(t){Xm.setValue(t,{hex:w.from(r[1]).getOr("")})
gA.getField(t,"hex").each((function(t){la(t,Ao())}))}))}}}),TA.self()])}}
var DA=tinymce.util.Tools.resolve("tinymce.Resource")
var AA=function(t){return Object.prototype.hasOwnProperty.call(t,"init")}
var RA=function(t){var e=$n(w.none())
var n=Qw({dom:{tag:t.tag}})
var r=$n(w.none())
return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Vl([Sy("custom-editor-events",[Ea((function(o){n.getOpt(o).each((function(n){(AA(t)?t.init(n.element.dom):DA.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element.dom,t.settings)}))).then((function(t){r.get().each((function(e){t.setValue(e)}))
r.set(w.none())
e.set(w.some(t))}))}))}))]),Xm.config({store:{mode:"manual",getValue:function(){return e.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,n){e.get().fold((function(){r.set(w.some(n))}),(function(t){return t.setValue(n)}))}}}),TA.self()]),components:[n.asSpec()]}}
var HA=tinymce.util.Tools.resolve("tinymce.util.Tools")
var BA=Pe([Pn("preprocess",i),Pn("postprocess",i)])
var IA=function(t,e){var n=on("RepresentingConfigs.memento processors",BA,e)
return Xm.config({store:{mode:"manual",getValue:function(e){var r=t.get(e)
var o=Xm.getValue(r)
return n.postprocess(o)},setValue:function(e,r){var o=n.preprocess(r)
var a=t.get(e)
Xm.setValue(a,o)}}})}
var LA=function(t,e,n){return Xm.config(Xt({store:{mode:"manual",getValue:e,setValue:n}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))}
var PA=function(t,e,n){return LA(t,(function(t){return e(t.element)}),(function(t,e){return n(t.element,e)}))}
var VA=function(t){return PA(t,ac,ic)}
var FA=function(t){return PA(t,si,li)}
var NA=function(t){return Xm.config({store:{mode:"memory",initialValue:t}})}
var jA={memento:IA,withElement:PA,withComp:LA,domValue:VA,domHtml:FA,memory:NA}
var WA="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"
var UA=function(t,e){var n=HA.explode(e.getSetting("images_file_types",WA,"string"))
var r=function(t){return N(n,(function(e){return gr(t.name,"."+e)}))}
return X(lt(t),r)}
var qA=function(t,e){var n=function(t,e){e.stop()}
var r=function(t){return function(e,n){q(t,(function(t){t(e,n)}))}}
var o=function(t,e){if(!XS.isDisabled(t)){var n=e.event.raw
i(t,n.dataTransfer.files)}}
var a=function(t,e){var n=e.event.raw.target
i(t,n.files)}
var i=function(n,r){Xm.setValue(n,UA(r,e))
fa(n,uz,{name:t.name})}
var u=Qw({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Vl([Sy("input-file-events",[_a(Ho()),_a(qo())])])})
var c=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Vl([jA.memory([]),TA.self(),XS.config({}),Yy.config({toggleClass:"dragenter",toggleOnExecute:false}),Sy("dropzone-events",[wa("dragenter",r([n,Yy.toggle])),wa("dragleave",r([n,Yy.toggle])),wa("dragover",n),wa("drop",r([n,o])),wa(Ro(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},Yw.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(t){var e=u.get(t)
e.element.dom.click()},buttonBehaviours:Vl([Z_.config({}),GO.button(e.isDisabled),NO()])})]}]}}
var s=t.label.map((function(t){return iz(t,e)}))
var l=$_.parts.field({factory:{sketch:c}})
return ez(s,l,["tox-form__group--stretched"],[])}
var GA=function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:U(t.items,e.interpreter)}}
var JA=_i("alloy-fake-before-tabstop")
var XA=_i("alloy-fake-after-tabstop")
var $A=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Vl([Ay.config({ignore:true}),Z_.config({})])}}
var KA=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[$A([JA]),t,$A([XA])],behaviours:Vl([TA.childAt(1)])}}
var YA=function(t,e){fa(t,Eo(),{raw:{which:9,shiftKey:e}})}
var QA=function(t,e){var n=e.element
Eu(n,JA)?YA(t,true):Eu(n,XA)&&YA(t,false)}
var ZA=function(t){return g_(t,["."+JA,"."+XA].join(","),l)}
var tR=!(Jr().browser.isIE()||Jr().browser.isEdge())
var eR=function(t){var e=$n("")
return{getValue:function(t){return e.get()},setValue:function(n,r){if(t)di(n.element,"srcdoc",r)
else{di(n.element,"src","javascript:''")
var o=n.element.dom.contentWindow.document
o.open()
o.write(r)
o.close()}e.set(r)}}}
var nR=function(t,e){var n=tR&&t.sandboxed
var r=d(d({},t.label.map((function(t){return{title:t}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{})
var o=eR(n)
var a=t.label.map((function(t){return iz(t,e)}))
var i=function(t){return KA({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:Vl([Z_.config({}),Ay.config({}),jA.withComp(w.none(),o.getValue,o.setValue)])})}
var u=$_.parts.field({factory:{sketch:i}})
return ez(a,u,["tox-form__group--stretched"],[])}
function rR(t,e){return iR(document.createElement("canvas"),t,e)}function oR(t){var e=rR(t.width,t.height)
var n=aR(e)
n.drawImage(t,0,0)
return e}function aR(t){return t.getContext("2d")}function iR(t,e,n){t.width=e
t.height=n
return t}function uR(t){return t.naturalWidth||t.width}function cR(t){return t.naturalHeight||t.height}var sR=function(){var t=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof t)throw new TypeError("not a function")
this._state=null
this._value=null
this._deferreds=[]
l(t,r(i,this),r(u,this))}
var e=window
var n=t.immediateFn||"function"===typeof e.setImmediate&&e.setImmediate||function(t){setTimeout(t,1)}
function r(t,e){return function(){return t.apply(e,arguments)}}var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}
function a(t){var e=this
if(null===this._state){this._deferreds.push(t)
return}n((function(){var n=e._state?t.onFulfilled:t.onRejected
if(null===n){(e._state?t.resolve:t.reject)(e._value)
return}var r
try{r=n(e._value)}catch(e){t.reject(e)
return}t.resolve(r)}))}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var e=t.then
if("function"===typeof e){l(r(e,t),r(i,this),r(u,this))
return}}this._state=true
this._value=t
c.call(this)}catch(t){u.call(this,t)}}function u(t){this._state=false
this._value=t
c.call(this)}function c(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t]
a.call(this,n)}this._deferreds=[]}function s(t,e,n,r){this.onFulfilled="function"===typeof t?t:null
this.onRejected="function"===typeof e?e:null
this.resolve=n
this.reject=r}function l(t,e,n){var r=false
try{t((function(t){if(r)return
r=true
e(t)}),(function(t){if(r)return
r=true
n(t)}))}catch(t){if(r)return
r=true
n(t)}}t.prototype.catch=function(t){return this.then(null,t)}
t.prototype.then=function(e,n){var r=this
return new t((function(t,o){a.call(r,new s(e,n,t,o))}))}
t.all=function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e)
return new t((function(t,e){if(0===r.length)return t([])
var n=r.length
function o(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(t){o(a,t)}),e)
return}}r[a]=i
0===--n&&t(r)}catch(t){e(t)}}for(var a=0;a<r.length;a++)o(a,r[a])}))}
t.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===t)return e
return new t((function(t){t(e)}))}
t.reject=function(e){return new t((function(t,n){n(e)}))}
t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){var a=o[r]
a.then(t,n)}}))}
return t}
var lR=window.Promise?window.Promise:sR()
function fR(t){return new lR((function(e,n){var r=URL.createObjectURL(t)
var o=new Image
var a=function(){o.removeEventListener("load",i)
o.removeEventListener("error",u)}
function i(){a()
e(o)}function u(){a()
n("Unable to load data of type "+t.type+": "+r)}o.addEventListener("load",i)
o.addEventListener("error",u)
o.src=r
o.complete&&i()}))}function vR(t){var e=t.split(",")
var n=/data:([^;]+)/.exec(e[0])
if(!n)return w.none()
var r=n[1]
var o=e[1]
var a=1024
var i=atob(o)
var u=i.length
var c=Math.ceil(u/a)
var s=new Array(c)
for(var l=0;l<c;++l){var f=l*a
var v=Math.min(f+a,u)
var d=new Array(v-f)
for(var m=f,g=0;m<v;++g,++m)d[g]=i[m].charCodeAt(0)
s[l]=new Uint8Array(d)}return w.some(new Blob(s,{type:r}))}function dR(t){return new lR((function(e,n){vR(t).fold((function(){n("uri is not base64: "+t)}),e)}))}function mR(t,e,n){e=e||"image/png"
return A(HTMLCanvasElement.prototype.toBlob)?new lR((function(r,o){t.toBlob((function(t){t?r(t):o()}),e,n)})):dR(t.toDataURL(e,n))}function gR(t,e,n){e=e||"image/png"
return t.toDataURL(e,n)}function hR(t){return fR(t).then((function(t){bR(t)
var e=rR(uR(t),cR(t))
var n=aR(e)
n.drawImage(t,0,0)
return e}))}function pR(t){return new lR((function(e){var n=new FileReader
n.onloadend=function(){e(n.result)}
n.readAsDataURL(t)}))}function bR(t){URL.revokeObjectURL(t.src)}function yR(t,e,n){var r=e.type
var o=a(r)
function i(){return lR.resolve(e)}var u=a(n)
function c(){return n.split(",")[1]}function s(e,n){return t.then((function(t){return mR(t,e,n)}))}function l(e,n){return t.then((function(t){return gR(t,e,n)}))}function f(t,e){return l(t,e).then((function(t){return t.split(",")[1]}))}function v(){return t.then(oR)}return{getType:o,toBlob:i,toDataURL:u,toBase64:c,toAdjustedBlob:s,toAdjustedDataURL:l,toAdjustedBase64:f,toCanvas:v}}function wR(t){return pR(t).then((function(e){return yR(hR(t),t,e)}))}function xR(t,e){return mR(t,e).then((function(e){return yR(lR.resolve(t),e,t.toDataURL())}))}var CR=function(t){return wR(t)}
function SR(t,e,n){var r="string"===typeof t?parseFloat(t):t
r>n?r=n:r<e&&(r=e)
return r}function OR(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}var kR=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10]
function TR(t,e){var n=[]
var r=new Array(25)
var o
for(var a=0;a<5;a++){for(var i=0;i<5;i++)n[i]=e[i+5*a]
for(i=0;i<5;i++){o=0
for(var u=0;u<5;u++)o+=t[i+5*u]*n[u]
r[i+5*a]=o}}return r}function _R(t,e){var n
e=SR(e,-1,1)
e*=100
if(e<0)n=127+e/100*127
else{n=e%1
n=0===n?kR[e]:kR[Math.floor(e)]*(1-n)+kR[Math.floor(e)+1]*n
n=127*n+127}return TR(t,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}function zR(t,e){e=SR(255*e,-255,255)
return TR(t,[1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])}function MR(t,e,n,r){e=SR(e,0,2)
n=SR(n,0,2)
r=SR(r,0,2)
return TR(t,[e,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}function ER(t,e){return t.toCanvas().then((function(n){return DR(n,t.getType(),e)}))}function DR(t,e,n){var r=aR(t)
function o(t,e){var n,r,o,a
var i=t.data,u=e[0],c=e[1],s=e[2],l=e[3],f=e[4],v=e[5],d=e[6],m=e[7],g=e[8],h=e[9],p=e[10],b=e[11],y=e[12],w=e[13],x=e[14],C=e[15],S=e[16],O=e[17],k=e[18],T=e[19]
for(var _=0;_<i.length;_+=4){n=i[_]
r=i[_+1]
o=i[_+2]
a=i[_+3]
i[_]=n*u+r*c+o*s+a*l+f
i[_+1]=n*v+r*d+o*m+a*g+h
i[_+2]=n*p+r*b+o*y+a*w+x
i[_+3]=n*C+r*S+o*O+a*k+T}return t}var a=o(r.getImageData(0,0,t.width,t.height),n)
r.putImageData(a,0,0)
return xR(t,e)}function AR(t,e){return t.toCanvas().then((function(n){return RR(n,t.getType(),e)}))}function RR(t,e,n){var r=aR(t)
function o(t,e,n){function r(t,e,n){t>n?t=n:t<e&&(t=e)
return t}var o=Math.round(Math.sqrt(n.length))
var a=Math.floor(o/2)
var i=t.data
var u=e.data
var c=t.width
var s=t.height
for(var l=0;l<s;l++)for(var f=0;f<c;f++){var v=0
var d=0
var m=0
for(var g=0;g<o;g++)for(var h=0;h<o;h++){var p=r(f+h-a,0,c-1)
var b=r(l+g-a,0,s-1)
var y=4*(b*c+p)
var w=n[g*o+h]
v+=i[y]*w
d+=i[y+1]*w
m+=i[y+2]*w}var x=4*(l*c+f)
u[x]=r(v,0,255)
u[x+1]=r(d,0,255)
u[x+2]=r(m,0,255)}return e}var a=r.getImageData(0,0,t.width,t.height)
var i=r.getImageData(0,0,t.width,t.height)
i=o(a,i,n)
r.putImageData(i,0,0)
return xR(t,e)}function HR(t){var e=function(e,n,r){var o=aR(e)
var a=new Array(256)
function i(t,e){var n=t.data
for(var r=0;r<n.length;r+=4){n[r]=e[n[r]]
n[r+1]=e[n[r+1]]
n[r+2]=e[n[r+2]]}return t}for(var u=0;u<a.length;u++)a[u]=t(u,r)
var c=i(o.getImageData(0,0,e.width,e.height),a)
o.putImageData(c,0,0)
return xR(e,n)}
return function(t,n){return t.toCanvas().then((function(r){return e(r,t.getType(),n)}))}}function BR(t){return function(e,n){return ER(e,t(OR(),n))}}function IR(t){return function(e){return ER(e,t)}}function LR(t){return function(e){return AR(e,t)}}var PR=IR([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1])
var VR=BR(zR)
var FR=BR(_R)
var NR=function(t,e,n,r){return ER(t,MR(OR(),e,n,r))}
var jR=LR([0,-1,0,-1,5,-1,0,-1,0])
var WR=HR((function(t,e){return 255*Math.pow(t/255,1-e)}))
function UR(t,e,n){var r=uR(t)
var o=cR(t)
var a=e/r
var i=n/o
var u=false
if(a<.5||a>2){a=a<.5?.5:2
u=true}if(i<.5||i>2){i=i<.5?.5:2
u=true}var c=qR(t,a,i)
return u?c.then((function(t){return UR(t,e,n)})):c}function qR(t,e,n){return new lR((function(r){var o=uR(t)
var a=cR(t)
var i=Math.floor(o*e)
var u=Math.floor(a*n)
var c=rR(i,u)
var s=aR(c)
s.drawImage(t,0,0,o,a,0,0,i,u)
r(c)}))}function GR(t,e){return t.toCanvas().then((function(n){return JR(n,t.getType(),e)}))}function JR(t,e,n){var r=rR(t.width,t.height)
var o=aR(r)
var a=0
var i=0
n=n<0?360+n:n
90!==n&&270!==n||iR(r,r.height,r.width)
90!==n&&180!==n||(a=r.width)
270!==n&&180!==n||(i=r.height)
o.translate(a,i)
o.rotate(n*Math.PI/180)
o.drawImage(t,0,0)
return xR(r,e)}function XR(t,e){return t.toCanvas().then((function(n){return $R(n,t.getType(),e)}))}function $R(t,e,n){var r=rR(t.width,t.height)
var o=aR(r)
if("v"===n){o.scale(1,-1)
o.drawImage(t,0,-r.height)}else{o.scale(-1,1)
o.drawImage(t,-r.width,0)}return xR(r,e)}function KR(t,e,n,r,o){return t.toCanvas().then((function(a){return YR(a,t.getType(),e,n,r,o)}))}function YR(t,e,n,r,o,a){var i=rR(o,a)
var u=aR(i)
u.drawImage(t,-n,-r)
return xR(i,e)}function QR(t,e,n){return t.toCanvas().then((function(r){return UR(r,e,n).then((function(e){return xR(e,t.getType())}))}))}var ZR=function(t){return PR(t)}
var tH=function(t){return jR(t)}
var eH=function(t,e){return WR(t,e)}
var nH=function(t,e,n,r){return NR(t,e,n,r)}
var rH=function(t,e){return VR(t,e)}
var oH=function(t,e){return FR(t,e)}
var aH=function(t,e){return XR(t,e)}
var iH=function(t,e,n,r,o){return KR(t,e,n,r,o)}
var uH=function(t,e,n){return QR(t,e,n)}
var cH=function(t,e){return GR(t,e)}
var sH=function(t,e){return d({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},e)}
var lH=function(t,e){return sH(tx(t,e),{})}
var fH=function(t,e){return sH(tx(t,e),{behaviours:Vl([xy.config({})])})}
var vH=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:Vl([xy.config({})])}}
var dH
var mH=_i("toolbar.button.execute")
var gH=function(t){return Ra((function(e,n){JO(t,e)((function(n){fa(e,mH,{buttonApi:n})
t.onAction(n)}))}))}
var hH=(dH={},dH[Wo()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],dH)
var pH=_i("update-menu-text")
var bH=_i("update-menu-icon")
var yH=function(t,n,r){var o=$n(e)
var a=t.text.map((function(t){return Qw(vH(t,n,r.providers))}))
var i=t.icon.map((function(t){return Qw(fH(t,r.providers.icons))}))
var c=function(t,e){var n=Xm.getValue(t)
Ay.focus(n)
fa(n,"keydown",{raw:e.event.raw})
hM.close(n)
return w.some(true)}
var s=t.role.fold((function(){return{}}),(function(t){return{role:t}}))
var l=t.tooltip.fold((function(){return{}}),(function(t){var e=r.providers.translate(t)
return{title:e,"aria-label":e}}))
var f=Qw(hM.sketch(d(d(d({},t.uid?{uid:t.uid}:{}),s),{dom:{tag:"button",classes:[n,n+"--select"].concat(U(t.classes,(function(t){return n+"--"+t}))),attributes:d({},l)},components:ZO([i.map((function(t){return t.asSpec()})),a.map((function(t){return t.asSpec()})),w.some({dom:{tag:"div",classes:[n+"__select-chevron"],innerHtml:tx("chevron-down",r.providers.icons)}})]),matchWidth:true,useMinWidth:true,dropdownBehaviours:Vl(g(t.dropdownBehaviours,[GO.button((function(){return t.disabled||r.providers.isDisabled()})),NO(),wM.config({}),xy.config({}),Sy("dropdown-events",[XO(t,o),$O(t,o)]),Sy("menubutton-update-display-text",[wa(pH,(function(t,e){a.bind((function(e){return e.getOpt(t)})).each((function(t){xy.set(t,[hc(r.providers.translate(e.event.text))])}))})),wa(bH,(function(t,e){i.bind((function(e){return e.getOpt(t)})).each((function(t){xy.set(t,[fH(e.event.icon,r.providers.icons)])}))}))])])),eventOrder:Xt(hH,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Vl([fy.config({mode:"special",onLeft:c,onRight:c})]),lazySink:r.getSink,toggleClass:n+"--active",parts:{menu:BC(false,t.columns,t.presets)},fetch:function(e){return Rz.nu(u(t.fetch,e))}})))
return f.asSpec()}
var wH=function(t){return k(t)}
var xH=function(t){return"separator"===t.type}
var CH=function(t){return Ft(t,"getSubmenuItems")}
var SH={type:"separator"}
var OH=function(t,e){var n=K(t,(function(t,n){return wH(n)?""===n?t:"|"===n?t.length>0&&!xH(t[t.length-1])?t.concat([SH]):t:Ft(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[])
n.length>0&&xH(n[n.length-1])&&n.pop()
return n}
var kH=function(t,e){var n=t.getSubmenuItems()
var r=zH(n,e)
var o=Xt(r.menus,se(t.value,r.items))
var a=Xt(r.expansions,se(t.value,t.value))
return{item:t,menus:o,expansions:a}}
var TH=function(t,e){return CH(t)?kH(t,e):{item:t,menus:{},expansions:{}}}
var _H=function(t){if(xH(t))return t
var e=Vt(t,"value").getOrThunk((function(){return _i("generated-menu-item")}))
return Xt({value:e},t)}
var zH=function(t,e){var n=OH(k(t)?t.split(" "):t,e)
return $(n,(function(t,n){var r=_H(n)
var o=TH(r,e)
return{menus:Xt(t.menus,o.menus),items:[o.item].concat(t.items),expansions:Xt(t.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})}
var MH=function(t,e,n,r){var o=_i("primary-menu")
var a=zH(t,n.shared.providers.menuItems())
if(0===a.items.length)return w.none()
var i=i_(o,a.items,e,n,r)
var u=Dt(a.menus,(function(t,r){return i_(r,t,e,n,false)}))
var c=Xt(u,se(o,i))
return w.from(Hw.tieredData(o,c,a.expansions))}
var EH=function(t){return{isDisabled:function(){return XS.isDisabled(t)},setDisabled:function(e){return XS.set(t,e)},setActive:function(e){var n=t.element
if(e){_u(n,"tox-tbtn--enabled")
di(n,"aria-pressed",true)}else{Mu(n,"tox-tbtn--enabled")
bi(n,"aria-pressed")}},isActive:function(){return Eu(t.element,"tox-tbtn--enabled")}}}
var DH=function(t,e,n,r){return yH({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(e,r){t.fetch((function(t){r(MH(t,uC.CLOSE_ON_EXECUTE,n,false))}))},onSetup:t.onSetup,getApi:EH,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Z_.config({})]},e,n.shared)}
var AH=function(t,e,n){var r=function(t){return function(r){var o=!r.isActive()
r.setActive(o)
t.storage.set(o)
n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){$l(e.element)
fa(e,lz,{name:t.name,value:t.storage.get()})}))}))}}
var o=function(t){return function(e){e.setActive(t.storage.get())}}
return function(e){e(U(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}))
return d(d({type:t.type,active:false},e),{onAction:r(t),onSetup:o(t)})})))}}
var RH=function(t,e,n,r,o,a){void 0===n&&(n=[])
var i=e.fold((function(){return{}}),(function(t){return{action:t}}))
var u=d({buttonBehaviours:Vl([GO.button((function(){return t.disabled||a.isDisabled()})),NO(),Z_.config({}),Sy("button press",[ya("click"),ya("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},i)
var c=Xt(u,{dom:r})
return Xt(c,{components:o})}
var HH=function(t,e,n,r){void 0===r&&(r=[])
var o=t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({})
var a={tag:"button",classes:["tox-tbtn"],attributes:o}
var i=t.icon.map((function(t){return lH(t,n.icons)}))
var u=ZO([i])
return RH(t,e,r,a,u,n)}
var BH=function(t,e,n,r){void 0===r&&(r=[])
var o=HH(t,w.some(e),n,r)
return Yw.sketch(o)}
var IH=function(t,e,n,r,o){void 0===r&&(r=[])
void 0===o&&(o=[])
var a=n.translate(t.text)
var i=t.icon?t.icon.map((function(t){return lH(t,n.icons)})):w.none()
var u=i.isSome()?ZO([i]):[]
var c=i.isSome()?{}:{innerHtml:a}
var s=g(t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],i.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],o)
var l=d(d({tag:"button",classes:s},c),{attributes:{title:a}})
return RH(t,e,r,l,u,n)}
var LH=function(t,e,n,r,o){void 0===r&&(r=[])
void 0===o&&(o=[])
var a=IH(t,w.some(e),n,r,o)
return Yw.sketch(a)}
var PH=function(t,e){return function(n){"custom"===e?fa(n,lz,{name:t,value:{}}):"submit"===e?la(n,fz):"cancel"===e?la(n,sz):console.error("Unknown button type: ",e)}}
var VH=function(t,e){return"menu"===e}
var FH=function(t,e){return"custom"===e||"cancel"===e||"submit"===e}
var NH=function(t,n,r){if(VH(t,n)){var o=function(){return u}
var a=t
var i=d(d({},t),{onSetup:function(n){n.setDisabled(t.disabled)
return e},fetch:AH(a.items,o,r)})
var u=Qw(DH(i,"tox-tbtn",r,w.none()))
return u.asSpec()}if(FH(t,n)){var c=PH(t.name,n)
var s=d(d({},t),{borderless:false})
return LH(s,c,r.shared.providers,[])}console.error("Unknown footer button type: ",n)}
var jH=function(t,e){var n=PH(t.name,"custom")
return nz(w.none(),$_.parts.field(d({factory:Yw},IH(t,w.some(n),e,[jA.memory(""),TA.self()]))))}
var WH=a([Pn("field1Name","field1"),Pn("field2Name","field2"),Vs("onLockedChange"),Bs(["lockClass"]),Pn("locked",false),Qm.field("coupledFieldBehaviours",[bh,Xm])])
var UH=function(t,e,n){return jg(t,e,n).bind(bh.getCurrent)}
var qH=function(t,e){return _g({factory:$_,name:t,overrides:function(t){return{fieldBehaviours:Vl([Sy("coupled-input-behaviour",[wa(Ao(),(function(n){UH(n,t,e).each((function(e){jg(n,t,"lock").each((function(r){Yy.isOn(r)&&t.onLockedChange(n,e,r)}))}))}))])])}}})}
var GH=a([qH("field1","field2"),qH("field2","field1"),_g({factory:Yw,schema:[yn("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Vl([Yy.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})])
var JH=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Qm.augment(t.coupledFieldBehaviours,[bh.config({find:w.some}),Xm.config({store:{mode:"manual",getValue:function(e){var n
var r=Jg(e,t,["field1","field2"])
return n={},n[t.field1Name]=Xm.getValue(r.field1()),n[t.field2Name]=Xm.getValue(r.field2()),n},setValue:function(e,n){var r=Jg(e,t,["field1","field2"])
Nt(n,t.field1Name)&&Xm.setValue(r.field1(),n[t.field1Name])
Nt(n,t.field2Name)&&Xm.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return jg(e,t,"field1")},getField2:function(e){return jg(e,t,"field2")},getLock:function(e){return jg(e,t,"lock")}}}}
var XH=uh({name:"FormCoupledInputs",configFields:WH(),partFields:GH(),factory:JH,apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}})
var $H=function(t){var e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4}
var n=function(t){return t in e?e[t]:1}
var r=t.value.toFixed(n(t.unit));-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,""))
return r+t.unit}
var KH=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/
var n=e.exec(t)
if(null!==n){var r=parseFloat(n[1])
var o=n[2]
return gt.value({value:r,unit:o})}return gt.error(t)}
var YH=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1}
var r=function(t){return Object.prototype.hasOwnProperty.call(n,t)}
return t.unit===e?w.some(t.value):r(t.unit)&&r(e)?n[t.unit]===n[e]?w.some(t.value):w.some(t.value/n[t.unit]*n[e]):w.none()}
var QH=function(t){return w.none()}
var ZH=function(t,e){return function(n){return YH(n,e).map((function(n){return{value:n*t,unit:e}}))}}
var tB=function(t,e){var n=KH(t).toOptional()
var r=KH(e).toOptional()
return lh(n,r,(function(t,e){return YH(t,e.unit).map((function(t){return e.value/t})).map((function(t){return ZH(t,e.unit)})).getOr(QH)})).getOr(QH)}
var eB=function(t,e){var n=QH
var r=_i("ratio-event")
var o=XH.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:tx("lock",e.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:tx("unlock",e.icons)}}],buttonBehaviours:Vl([XS.config({disabled:function(){return t.disabled||e.isDisabled()}}),NO(),Z_.config({})])})
var a=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}}
var i=function(n){return $_.parts.field({factory:Cz,inputClasses:["tox-textfield"],inputBehaviours:Vl([XS.config({disabled:function(){return t.disabled||e.isDisabled()}}),NO(),Z_.config({}),Sy("size-input-events",[wa(zo(),(function(t,e){fa(t,r,{isField1:n})})),wa(Ro(),(function(e,n){fa(e,uz,{name:t.name})}))])]),selectOnFocus:false})}
var u=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}}
var c=XH.parts.field1(a([$_.parts.label(u("Width")),i(true)]))
var s=XH.parts.field2(a([$_.parts.label(u("Height")),i(false)]))
return XH.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,s,a([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:true,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){KH(Xm.getValue(t)).each((function(t){n(t).each((function(t){Xm.setValue(e,$H(t))}))}))},coupledFieldBehaviours:Vl([XS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){XH.getField1(t).bind($_.getField).each(XS.disable)
XH.getField2(t).bind($_.getField).each(XS.disable)
XH.getLock(t).each(XS.disable)},onEnabled:function(t){XH.getField1(t).bind($_.getField).each(XS.enable)
XH.getField2(t).bind($_.getField).each(XS.enable)
XH.getLock(t).each(XS.enable)}}),NO(),Sy("size-input-events2",[wa(r,(function(t,e){var r=e.event.isField1
var o=r?XH.getField1(t):XH.getField2(t)
var a=r?XH.getField2(t):XH.getField1(t)
var i=o.map(Xm.getValue).getOr("")
var u=a.map(Xm.getValue).getOr("")
n=tB(i,u)}))])])})}
var nB=a(_i("undo"))
var rB=a(_i("redo"))
var oB=a(_i("zoom"))
var aB=a(_i("back"))
var iB=a(_i("apply"))
var uB=a(_i("swap"))
var cB=a(_i("transform"))
var sB=a(_i("temp-transform"))
var lB=a(_i("transform-apply"))
var fB={undo:nB,redo:rB,zoom:oB,back:aB,apply:iB,swap:uB,transform:cB,tempTransform:sB,transformApply:lB}
var vB=a("save-state")
var dB=a("disable")
var mB=a("enable")
var gB={formActionEvent:lz,saveState:vB,disable:dB,enable:mB}
var hB=function(t,n){var r=function(t,e,r,o){return Qw(LH({name:t,text:t,disabled:r,primary:o,icon:w.none(),borderless:false},e,n))}
var o=function(t,e,r,o){return Qw(BH({name:t,icon:w.some(t),tooltip:w.some(e),disabled:o,primary:false,borderless:false},r,n))}
var i=function(t,e){t.map((function(t){var n=t.get(e)
n.hasConfigured(XS)&&XS.disable(n)}))}
var u=function(t,e){t.map((function(t){var n=t.get(e)
n.hasConfigured(XS)&&XS.enable(n)}))}
var c={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]}
var s=e
var l=function(t,e,n){fa(t,e,n)}
var f=function(t){return la(t,gB.disable())}
var v=function(t){return la(t,gB.enable())}
var d=function(t,e){f(t)
l(t,fB.transform(),{transform:e})
v(t)}
var m=function(t,e){f(t)
l(t,fB.tempTransform(),{transform:e})
v(t)}
var g=function(t){return function(){it.getOpt(t).each((function(t){xy.set(t,[ot])}))}}
var h=function(t,e){f(t)
l(t,fB.transformApply(),{transform:e,swap:g(t)})
v(t)}
var p=function(){return r("Back",(function(t){return l(t,fB.back(),{swap:g(t)})}),false,false)}
var b=function(){return Qw({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Vl([XS.config({})])})}
var y=function(){return r("Apply",(function(t){return l(t,fB.apply(),{swap:g(t)})}),true,true)}
var x=function(){return function(e){var n=t.getRect()
return iH(e,n.x,n.y,n.w,n.h)}}
var C=[p(),b(),r("Apply",(function(e){var n=x()
h(e,n)
t.hideCrop()}),false,true)]
var S=W_.sketch({dom:c,components:C.map((function(t){return t.asSpec()})),containerBehaviours:Vl([Sy("image-tools-crop-buttons-events",[wa(gB.disable(),(function(t,e){i(C,t)})),wa(gB.enable(),(function(t,e){u(C,t)}))])])})
var O=Qw(eB({name:"size",label:w.none(),constrain:true,disabled:false},n))
var k=function(t,e){return function(n){return uH(n,t,e)}}
var T=[p(),b(),O,b(),r("Apply",(function(t){O.getOpt(t).each((function(e){var n=Xm.getValue(e)
var r=parseInt(n.width,10)
var o=parseInt(n.height,10)
var a=k(r,o)
h(t,a)}))}),false,true)]
var _=W_.sketch({dom:c,components:T.map((function(t){return t.asSpec()})),containerBehaviours:Vl([Sy("image-tools-resize-buttons-events",[wa(gB.disable(),(function(t,e){i(T,t)})),wa(gB.enable(),(function(t,e){u(T,t)}))])])})
var z=function(t,e){return function(n){return t(n,e)}}
var M=z(aH,"h")
var E=z(aH,"v")
var D=z(cH,-90)
var A=z(cH,90)
var R=function(t,e){m(t,e)}
var H=[p(),b(),o("flip-horizontally","Flip horizontally",(function(t){R(t,M)}),false),o("flip-vertically","Flip vertically",(function(t){R(t,E)}),false),o("rotate-left","Rotate counterclockwise",(function(t){R(t,D)}),false),o("rotate-right","Rotate clockwise",(function(t){R(t,A)}),false),b(),y()]
var B=W_.sketch({dom:c,components:H.map((function(t){return t.asSpec()})),containerBehaviours:Vl([Sy("image-tools-fliprotate-buttons-events",[wa(gB.disable(),(function(t,e){i(H,t)})),wa(gB.enable(),(function(t,e){u(H,t)}))])])})
var I=function(t,e,r,o,i){var u=uA.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}})
var c=uA.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}})
var s=uA.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}})
return Qw(uA.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:a({x:o})},components:[u,c,s],sliderBehaviours:Vl([Ay.config({})]),onChoose:e}))}
var L=function(t,e,n,r,o){var a=function(t,n,r){var o=z(e,r.x/100)
d(t,o)}
return I(t,a,n,r,o)}
var P=function(t,e,n,r,o){return[p(),L(t,e,n,r,o),y()]}
var V=function(t,e,n,r,o){var a=P(t,e,n,r,o)
return W_.sketch({dom:c,components:a.map((function(t){return t.asSpec()})),containerBehaviours:Vl([Sy("image-tools-filter-panel-buttons-events",[wa(gB.disable(),(function(t,e){i(a,t)})),wa(gB.enable(),(function(t,e){u(a,t)}))])])})}
var F=[p(),b(),y()]
var N=W_.sketch({dom:c,components:F.map((function(t){return t.asSpec()}))})
var j=V("Brightness",rH,-100,0,100)
var W=V("Contrast",oH,-100,0,100)
var U=V("Gamma",eH,-100,0,100)
var q=function(t,e,n){return function(r){return nH(r,t,e,n)}}
var G=function(t){var e=function(t,e,n){var r=J.getOpt(t)
var o=$.getOpt(t)
var a=X.getOpt(t)
r.each((function(e){o.each((function(n){a.each((function(r){var o=Xm.getValue(e).x/100
var a=Xm.getValue(r).x/100
var i=Xm.getValue(n).x/100
var u=q(o,a,i)
d(t,u)}))}))}))}
return I(t,e,0,100,200)}
var J=G("R")
var X=G("G")
var $=G("B")
var K=[p(),J,X,$,y()]
var Y=W_.sketch({dom:c,components:K.map((function(t){return t.asSpec()}))})
var Q=function(t,e,n){return function(r){var o=function(){it.getOpt(r).each((function(e){xy.set(e,[t])
n(e)}))}
l(r,fB.swap(),{transform:e,swap:o})}}
var Z=function(e){t.showCrop()}
var tt=function(e){O.getOpt(e).each((function(e){var n=t.getMeasurements()
var r=n.width
var o=n.height
Xm.setValue(e,{width:r,height:o})}))}
var et=w.some(tH)
var nt=w.some(ZR)
var rt=[o("crop","Crop",Q(S,w.none(),Z),false),o("resize","Resize",Q(_,w.none(),tt),false),o("orientation","Orientation",Q(B,w.none(),s),false),o("brightness","Brightness",Q(j,w.none(),s),false),o("sharpen","Sharpen",Q(N,et,s),false),o("contrast","Contrast",Q(W,w.none(),s),false),o("color-levels","Color levels",Q(Y,w.none(),s),false),o("gamma","Gamma",Q(U,w.none(),s),false),o("invert","Invert",Q(N,nt,s),false)]
var ot=W_.sketch({dom:c,components:rt.map((function(t){return t.asSpec()}))})
var at=W_.sketch({dom:{tag:"div"},components:[ot],containerBehaviours:Vl([xy.config({})])})
var it=Qw(at)
var ut=function(t){return it.getOpt(t).map((function(t){var e=t.components()[0]
return e.components()[e.components().length-1]}))}
return{memContainer:it,getApplyButton:ut}}
var pB=tinymce.util.Tools.resolve("tinymce.geom.Rect")
var bB=tinymce.util.Tools.resolve("tinymce.dom.DomQuery")
var yB=tinymce.util.Tools.resolve("tinymce.util.Observable")
var wB=tinymce.util.Tools.resolve("tinymce.util.VK")
function xB(t){var e=Math.max
var n=t.documentElement
var r=t.body
var o=e(n.scrollWidth,r.scrollWidth)
var a=e(n.clientWidth,r.clientWidth)
var i=e(n.offsetWidth,r.offsetWidth)
var u=e(n.scrollHeight,r.scrollHeight)
var c=e(n.clientHeight,r.clientHeight)
var s=e(n.offsetHeight,r.offsetHeight)
return{width:o<i?a:o,height:u<s?c:u}}function CB(t){var e,n
if(t.changedTouches){e="screenX screenY pageX pageY clientX clientY".split(" ")
for(n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}}function SB(t,e){var n
var r=e.document||document
var o
var a,i
var u=r.getElementById(e.handle||t)
var c=function(t){var c=xB(r)
var f
CB(t)
t.preventDefault()
o=t.button
var v=u
a=t.screenX
i=t.screenY
f=window.getComputedStyle?window.getComputedStyle(v,null).getPropertyValue("cursor"):v.runtimeStyle.cursor
n=bB("<div></div>").css({position:"absolute",top:0,left:0,width:c.width,height:c.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(r.body)
bB(r).on("mousemove touchmove",s).on("mouseup touchend",l)
e.start(t)}
var s=function(t){CB(t)
if(t.button!==o)return l(t)
t.deltaX=t.screenX-a
t.deltaY=t.screenY-i
t.preventDefault()
e.drag(t)}
var l=function(t){CB(t)
bB(r).off("mousemove touchmove",s).off("mouseup touchend",l)
n.remove()
e.stop&&e.stop(t)}
this.destroy=function(){bB(u).off()}
bB(u).on("mousedown touchstart",c)}var OB=0
var kB=function(t,e,n,r,o){var a
var i="tox-"
var u=i+"crid-"+OB++
var c=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}]
var s=["top","right","bottom","left"]
var l=function(t,e){return{x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}}
var f=function(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}}
var v=function(){return f(n,t)}
function d(e,r,o,a){var i,u,c,s,l
i=r.x
u=r.y
c=r.w
s=r.h
i+=o*e.deltaX
u+=a*e.deltaY
c+=o*e.deltaW
s+=a*e.deltaH
c<20&&(c=20)
s<20&&(s=20)
l=t=pB.clamp({x:i,y:u,w:c,h:s},n,"move"===e.name)
l=f(n,l)
C.fire("updateRect",{rect:l})
y(l)}function m(){function e(e){var n
return new SB(u,{document:r.ownerDocument,handle:u+"-"+e.name,start:function(){n=t},drag:function(t){d(e,n,t.deltaX,t.deltaY)}})}bB('<div id="'+u+'" class="'+i+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r)
HA.each(s,(function(t){bB("#"+u,r).append('<div id="'+u+"-"+t+'"class="'+i+'croprect-block" style="display: none" data-mce-bogus="all">')}))
HA.each(c,(function(t){bB("#"+u,r).append('<div id="'+u+"-"+t.name+'" class="'+i+"croprect-handle "+i+"croprect-handle-"+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')}))
a=HA.map(c,e)
h(t)
bB(r).on("focusin focusout",(function(t){bB(t.target).attr("aria-grabbed","focus"===t.type?"true":"false")}))
bB(r).on("keydown",(function(e){var n
HA.each(c,(function(t){if(e.target.id===u+"-"+t.name){n=t
return false}}))
function r(t,e,r,o,a){t.stopPropagation()
t.preventDefault()
d(n,r,o,a)}switch(e.keyCode){case wB.LEFT:r(e,n,t,-10,0)
break
case wB.RIGHT:r(e,n,t,10,0)
break
case wB.UP:r(e,n,t,0,-10)
break
case wB.DOWN:r(e,n,t,0,10)
break
case wB.ENTER:case wB.SPACEBAR:e.preventDefault()
o()}}))}function g(t){var e=HA.map(c,(function(t){return"#"+u+"-"+t.name})).concat(HA.map(s,(function(t){return"#"+u+"-"+t}))).join(",")
t?bB(e,r).show():bB(e,r).hide()}function h(t){function n(t,e){e.h<0&&(e.h=0)
e.w<0&&(e.w=0)
bB("#"+u+"-"+t,r).css({left:e.x,top:e.y,width:e.w,height:e.h})}HA.each(c,(function(e){bB("#"+u+"-"+e.name,r).css({left:t.w*e.xMul+t.x,top:t.h*e.yMul+t.y})}))
n("top",{x:e.x,y:e.y,w:e.w,h:t.y-e.y})
n("right",{x:t.x+t.w,y:t.y,w:e.w-t.x-t.w+e.x,h:t.h})
n("bottom",{x:e.x,y:t.y+t.h,w:e.w,h:e.h-t.y-t.h+e.y})
n("left",{x:e.x,y:t.y,w:t.x-e.x,h:t.h})
n("move",t)}function p(e){t=e
h(t)}function b(n){e=n
h(t)}function y(t){p(l(n,t))}function w(e){n=e
h(t)}function x(){HA.each(a,(function(t){t.destroy()}))
a=[]}m()
var C=HA.extend({toggleVisibility:g,setClampRect:w,setRect:p,getInnerRect:v,setInnerRect:y,setViewPortRect:b,destroy:x},yB)
return C}
var TB={create:kB}
var _B=function(t){return new Ox((function(e){var n=function(){t.removeEventListener("load",n)
e(t)}
t.complete?e(t):t.addEventListener("load",n)}))}
var zB=function(t){var e=Qw({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}})
var n=$n(1)
var r=$n(w.none())
var o=$n({x:0,y:0,w:1,h:1})
var a=$n({x:0,y:0,w:1,h:1})
var i=function(t,a){m.getOpt(t).each((function(t){var i=n.get()
var u=Hc(t.element)
var c=Sc(t.element)
var s=a.dom.naturalWidth*i
var l=a.dom.naturalHeight*i
var f=Math.max(0,u/2-s/2)
var v=Math.max(0,c/2-l/2)
var d={left:f.toString()+"px",top:v.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"}
Ku(a,d)
e.getOpt(t).each((function(t){Ku(t.element,d)}))
r.get().each((function(t){var e=o.get()
t.setRect({x:e.x*i+f,y:e.y*i+v,w:e.w*i,h:e.h*i})
t.setClampRect({x:f,y:v,w:s,h:l})
t.setViewPortRect({x:0,y:0,w:u,h:c})}))}))}
var u=function(t,e){m.getOpt(t).each((function(t){var r=Hc(t.element)
var o=Sc(t.element)
var a=e.dom.naturalWidth
var i=e.dom.naturalHeight
var u=Math.min(r/a,o/i)
u>=1?n.set(1):n.set(u)}))}
var c=function(t,e){var n=er.fromTag("img")
di(n,"src",e)
return _B(n.dom).then((function(){return m.getOpt(t).map((function(t){var e=pc({element:n})
xy.replaceAt(t,1,w.some(e))
var r=a.get()
var c={x:0,y:0,w:n.dom.naturalWidth,h:n.dom.naturalHeight}
a.set(c)
var s=pB.inflate(c,-20,-20)
o.set(s)
r.w===c.w&&r.h===c.h||u(t,n)
i(t,n)
return n}))}))}
var s=function(t,e){var r=n.get()
var o=e>0?Math.min(2,r+.1):Math.max(.1,r-.1)
n.set(o)
m.getOpt(t).each((function(t){var e=t.components()[1].element
i(t,e)}))}
var l=function(){r.get().each((function(t){t.toggleVisibility(true)}))}
var f=function(){r.get().each((function(t){t.toggleVisibility(false)}))}
var v=function(){return o.get()}
var d=W_.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Vl([Sy("image-panel-crop-events",[Ea((function(t){m.getOpt(t).each((function(t){var e=t.element.dom
var a=TB.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,(function(){}))
a.toggleVisibility(false)
a.on("updateRect",(function(t){var e=t.rect
var r=n.get()
var a={x:Math.round(e.x/r),y:Math.round(e.y/r),w:Math.round(e.w/r),h:Math.round(e.h/r)}
o.set(a)}))
r.set(w.some(a))}))}))])])}],containerBehaviours:Vl([xy.config({}),Sy("image-panel-events",[Ea((function(e){c(e,t)}))])])})
var m=Qw(d)
var g=function(){var t=a.get()
return{width:t.w,height:t.h}}
return{memContainer:m,updateSrc:c,zoom:s,showCrop:l,hideCrop:f,getRect:v,getMeasurements:g}}
var MB=function(t,e,n,r,o){return BH({name:t,icon:w.some(e),disabled:n,tooltip:w.some(t),primary:false,borderless:false},r,o)}
var EB=function(t,e){e?XS.enable(t):XS.disable(t)}
var DB=function(t){var e=function(t,e,o){n.getOpt(t).each((function(t){EB(t,e)}))
r.getOpt(t).each((function(t){EB(t,o)}))}
var n=Qw(MB("Undo","undo",true,(function(t){fa(t,fB.undo(),{direction:1})}),t))
var r=Qw(MB("Redo","redo",true,(function(t){fa(t,fB.redo(),{direction:1})}),t))
var o=W_.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),MB("Zoom in","zoom-in",false,(function(t){fa(t,fB.zoom(),{direction:1})}),t),MB("Zoom out","zoom-out",false,(function(t){fa(t,fB.zoom(),{direction:-1})}),t)]})
return{container:o,updateButtonUndoStates:e}}
function AB(){var t=[]
var e=-1
function n(n){var r=t.splice(++e)
t.push(n)
return{state:n,removed:r}}function r(){if(a())return t[--e]}function o(){if(i())return t[++e]}function a(){return e>0}function i(){return-1!==e&&e<t.length-1}return{data:t,add:n,undo:r,redo:o,canUndo:a,canRedo:i}}var RB=function(t){var e=$n(t)
var n=$n(w.none())
var r=AB()
r.add(t)
var o=function(){return e.get()}
var a=function(t){e.set(t)}
var i=function(){return n.get().fold((function(){return e.get()}),(function(t){return t}))}
var u=function(t){var e=c(t)
f()
n.set(w.some(e))
return e.url}
var c=function(t){return{blob:t,url:URL.createObjectURL(t)}}
var s=function(t){URL.revokeObjectURL(t.url)}
var l=function(t){HA.each(t,s)}
var f=function(){n.get().each(s)
n.set(w.none())}
var v=function(t){var e=c(t)
a(e)
var n=r.add(e).removed
l(n)
return e.url}
var d=function(t){var e=c(t)
n.set(w.some(e))
return e.url}
var m=function(t){return n.get().fold((function(){}),(function(e){v(e.blob)
t()}))}
var g=function(){var t=r.undo()
a(t)
return t.url}
var h=function(){var t=r.redo()
a(t)
return t.url}
var p=function(){var t=r.canUndo()
var e=r.canRedo()
return{undoEnabled:t,redoEnabled:e}}
return{getBlobState:o,setBlobState:a,addBlobState:v,getTempState:i,updateTempState:u,addTempState:d,applyTempState:m,destroyTempState:f,undo:g,redo:h,getHistoryStates:p}}
var HB=function(t,n){var r=RB(t.currentState)
var o=function(t,e){var n=e.event.direction
O.zoom(t,n)}
var a=function(t){var e=r.getHistoryStates()
k.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled)
fa(t,gB.formActionEvent,{name:gB.saveState(),value:e.undoEnabled})}
var i=function(t){k.updateButtonUndoStates(t,false,false)}
var u=function(t,e){var n=r.undo()
v(t,n).then((function(e){f(t)
a(t)}))}
var c=function(t,e){var n=r.redo()
v(t,n).then((function(e){f(t)
a(t)}))}
var s=function(t){return t.toBlob()}
var l=function(t){fa(t,gB.formActionEvent,{name:gB.disable(),value:{}})}
var f=function(t){T.getApplyButton(t).each((function(t){XS.enable(t)}))
fa(t,gB.formActionEvent,{name:gB.enable(),value:{}})}
var v=function(t,e){l(t)
return O.updateSrc(t,e)}
var d=function(t,e,n,r,o){l(t)
return CR(e).then(n).then(s).then(r).then((function(e){return v(t,e).then((function(e){a(t)
o()
f(t)
return e}))})).catch((function(e){console.log(e)
f(t)
return e}))}
var m=function(t,e,n){var o=r.getBlobState().blob
var a=function(t){return r.updateTempState(t)}
d(t,o,e,a,n)}
var g=function(t,n){var o=r.getTempState().blob
var a=function(t){return r.addTempState(t)}
d(t,o,n,a,e)}
var h=function(t,e,n){var o=r.getBlobState().blob
var a=function(e){var n=r.addBlobState(e)
b(t)
return n}
d(t,o,e,a,n)}
var p=function(t,e){var n=function(){b(t)
var n=e.event.swap
n()}
r.applyTempState(n)}
var b=function(t){var e=r.getBlobState().url
r.destroyTempState()
a(t)
return e}
var y=function(t){var e=b(t)
v(t,e).then((function(e){f(t)}))}
var w=function(t,e){y(t)
var n=e.event.swap
n()
O.hideCrop()}
var x=function(t,n){return m(t,n.event.transform,e)}
var C=function(t,e){return g(t,e.event.transform)}
var S=function(t,e){return h(t,e.event.transform,e.event.swap)}
var O=zB(t.currentState.url)
var k=DB(n)
var T=hB(O,n)
var _=function(t,e){i(t)
var n=e.event.transform
var r=e.event.swap
n.fold((function(){r()}),(function(e){m(t,e,r)}))}
return{dom:{tag:"div",attributes:{role:"presentation"}},components:[T.memContainer.asSpec(),O.memContainer.asSpec(),k.container],behaviours:Vl([Xm.config({store:{mode:"manual",getValue:function(){return r.getBlobState()}}}),Sy("image-tools-events",[wa(fB.undo(),u),wa(fB.redo(),c),wa(fB.zoom(),o),wa(fB.back(),w),wa(fB.apply(),p),wa(fB.transform(),x),wa(fB.tempTransform(),C),wa(fB.transformApply(),S),wa(fB.swap(),_)]),TA.self()])}}
var BB=function(t,e){var n={dom:{tag:"label",innerHtml:e.providers.translate(t.label),classes:["tox-label"]}}
var r=U(t.items,e.interpreter)
return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Vl([TA.self(),xy.config({}),jA.domHtml(w.none()),fy.config({mode:"acyclic"})])}}
var IB=function(t){return!Ft(t,"items")}
var LB="data-value"
var PB=function(t,e,n,r){return U(n,(function(n){return IB(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){Xm.setValue(t,n.value)
fa(t,uz,{name:e})
Ay.focus(t)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return PB(t,e,n.items,r)}}}))}
var VB=function(t,e){return ft(t,(function(t){return IB(t)?dh(t.value===e,t):VB(t.items,e)}))}
var FB=function(t,n){var r=n.shared.providers
var o=ct(t.items).filter(IB)
var i=t.label.map((function(t){return iz(t,r)}))
var u=$_.parts.field({dom:{},factory:{sketch:function(r){return yH({uid:r.uid,text:o.map((function(t){return t.text})),icon:w.none(),tooltip:t.label,role:w.none(),fetch:function(e,r){var o=PB(e,t.name,t.items,Xm.getValue(e))
r(MH(o,uC.CLOSE_ON_EXECUTE,n,false))},onSetup:a(e),getApi:a({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Z_.config({}),Xm.config({store:{mode:"manual",initialValue:o.map((function(t){return t.value})).getOr(""),getValue:function(t){return gi(t.element,LB)},setValue:function(e,n){VB(t.items,n).each((function(t){di(e.element,LB,t.value)
fa(e,pH,{text:t.text})}))}}})]},"tox-listbox",n.shared)}}})
var c={dom:{tag:"div",classes:["tox-listboxfield"]},components:[u]}
return $_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([i.toArray(),[c]]),fieldBehaviours:Vl([XS.config({disabled:a(t.disabled),onDisabled:function(t){$_.getField(t).each(XS.disable)},onEnabled:function(t){$_.getField(t).each(XS.enable)}})])})}
var NB=function(t,e){return{dom:{tag:"div",classes:t.classes},components:U(t.items,e.shared.interpreter)}}
var jB=function(t,e){var n=U(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}}))
var r=t.data.map((function(t){return se("initialValue",t)})).getOr({})
return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:Ym(t.selectBehaviours,[Ay.config({}),Xm.config({store:d({mode:"manual",getValue:function(t){return ac(t.element)},setValue:function(e,n){var r=Q(t.options,(function(t){return t.value===n}))
r.isSome()&&ic(e.element,n)}},r)})])}}
var WB=ih({name:"HtmlSelect",configFields:[yn("options"),$m("selectBehaviours",[Ay,Xm]),Pn("selectClasses",[]),Pn("selectAttributes",{}),En("data")],factory:jB})
var UB=function(t,e){var n=U(t.items,(function(t){return{text:e.translate(t.text),value:t.value}}))
var r=t.label.map((function(t){return iz(t,e)}))
var o=$_.parts.field({dom:{},selectAttributes:{size:t.size},options:n,factory:WB,selectBehaviours:Vl([XS.config({disabled:function(){return t.disabled||e.isDisabled()}}),Z_.config({}),Sy("selectbox-change",[wa(Ro(),(function(e,n){fa(e,uz,{name:t.name})}))])])})
var a=t.size>1?w.none():w.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:tx("chevron-down",e.icons)}})
var i={dom:{tag:"div",classes:["tox-selectfield"]},components:tt([[o],a.toArray()])}
return $_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([r.toArray(),[i]]),fieldBehaviours:Vl([XS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){$_.getField(t).each(XS.disable)},onEnabled:function(t){$_.getField(t).each(XS.enable)}}),NO()])})}
var qB=function(t,e){var n=function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}}
var r=function(t){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:U(t,n)}]}}
var o=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}}
var a=function(t){return{dom:{tag:"tr"},components:U(t,o)}}
var i=function(t){return{dom:{tag:"tbody"},components:U(t,a)}}
return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(t.header),i(t.cells)],behaviours:Vl([Z_.config({}),Ay.config({})])}}
var GB=function(t,e){var n=t.label.map((function(t){return iz(t,e)}))
var r=[XS.config({disabled:function(){return t.disabled||e.isDisabled()}}),NO(),fy.config({mode:"execution",useEnter:true!==t.multiline,useControlEnter:true===t.multiline,execute:function(t){la(t,fz)
return w.some(true)}}),Sy("textfield-change",[wa(Ao(),(function(e,n){fa(e,uz,{name:t.name})})),wa(No(),(function(e,n){fa(e,uz,{name:t.name})}))]),Z_.config({})]
var o=t.validation.map((function(t){return qz.config({getRoot:function(t){return qa(t.element)},invalidClass:"tox-invalid",validator:{validate:function(e){var n=Xm.getValue(e)
var r=t.validator(n)
return Rz.pure(true===r?gt.value(n):gt.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray()
var i=t.placeholder.fold(a({}),(function(t){return{placeholder:e.translate(t)}}))
var u=t.inputMode.fold(a({}),(function(t){return{inputmode:t}}))
var c=d(d({},i),u)
var s=$_.parts.field({tag:true===t.multiline?"textarea":"input",inputAttributes:c,inputClasses:[t.classname],inputBehaviours:Vl(tt([r,o])),selectOnFocus:false,factory:Cz})
var l=t.flex?["tox-form__group--stretched"]:[]
var f=l.concat(t.maximized?["tox-form-group--maximize"]:[])
var v=[XS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){$_.getField(t).each(XS.disable)},onEnabled:function(t){$_.getField(t).each(XS.enable)}}),NO()]
return ez(n,s,f,v)}
var JB=function(t,e){return GB({name:t.name,multiline:false,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:false,disabled:t.disabled,classname:"tox-textfield",validation:w.none(),maximized:t.maximized},e)}
var XB=function(t,e){return GB({name:t.name,multiline:true,label:t.label,inputMode:w.none(),placeholder:t.placeholder,flex:true,disabled:t.disabled,classname:"tox-textarea",validation:w.none(),maximized:t.maximized},e)}
var $B=function(t,e){var n=t.stream.streams
var r=n.setup(t,e)
return ha([wa(t.event,r),Da((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[wa(t,(function(){return e.cancel()}))]})).getOr([])))}
var KB=Object.freeze({__proto__:null,events:$B})
var YB=function(t){var e=$n(null)
var n=function(){return{timer:null!==e.get()?"set":"unset"}}
var r=function(t){e.set(t)}
var o=function(){var t=e.get()
null!==t&&t.cancel()}
return Xi({readState:n,setTimer:r,cancel:o})}
var QB=function(t){return t.stream.streams.state(t)}
var ZB=Object.freeze({__proto__:null,throttle:YB,init:QB})
var tI=function(t,e){var n=t.stream
var r=cx(t.onStream,n.delay)
e.setTimer(r)
return function(t,e){r.throttle(t,e)
n.stopEvent&&e.stop()}}
var eI=[wn("stream",cn("mode",{throttle:[yn("delay"),Pn("stopEvent",true),Ns("streams",{setup:tI,state:YB})]})),Pn("event","input"),En("cancelEvent"),Vs("onStream")]
var nI=Nl({fields:eI,name:"streaming",active:KB,state:ZB})
var rI=function(t,e,n){var r=Xm.getValue(n)
Xm.setValue(e,r)
aI(e)}
var oI=function(t,e){var n=t.element
var r=ac(n)
var o=n.dom
"number"!==gi(n,"type")&&e(o,r)}
var aI=function(t){oI(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))}
var iI=function(t,e){oI(t,(function(t,n){return t.setSelectionRange(e,n.length)}))}
var uI=function(t,e,n){if(t.selectsOver){var r=Xm.getValue(e)
var o=t.getDisplayText(r)
var a=Xm.getValue(n)
var i=t.getDisplayText(a)
return 0===i.indexOf(o)?w.some((function(){rI(t,e,n)
iI(e,o.length)})):w.none()}return w.none()}
var cI=a("alloy.typeahead.itemexecute")
var sI=function(t,n,r,o){var a=function(n,r,a){t.previewing.set(false)
var i=Yz.getCoupled(n,"sandbox")
if(vm.isOpen(i))bh.getCurrent(i).each((function(t){Ph.getHighlighted(t).fold((function(){a(t)}),(function(){ga(i,t.element,"keydown",r)}))}))
else{var c=function(t){bh.getCurrent(t).each(a)}
oM(t,u(n),n,i,o,c,tM.HighlightFirst).get(e)}}
var i=bz(t)
var u=function(t){return function(e){return e.map((function(e){var n=Pt(e.menus)
var r=et(n,(function(t){return X(t.items,(function(t){return"item"===t.type}))}))
var o=Xm.getState(t)
o.update(U(r,(function(t){return t.data})))
return e}))}}
var c=[Ay.config({}),Xm.config({onSetValue:t.onSetValue,store:d({mode:"dataset",getDataKey:function(t){return ac(t.element)},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){ic(e.element,t.model.getDisplayText(n))}},t.initialData.map((function(t){return se("initialValue",t)})).getOr({}))}),nI.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:false},onStream:function(n,r){var a=Yz.getCoupled(n,"sandbox")
var i=Ay.isFocused(n)
if(i&&ac(n.element).length>=t.minChars){var c=bh.getCurrent(a).bind((function(t){return Ph.getHighlighted(t).map(Xm.getValue)}))
t.previewing.set(true)
var s=function(e){bh.getCurrent(a).each((function(e){c.fold((function(){t.model.selectsOver&&Ph.highlightFirst(e)}),(function(t){Ph.highlightBy(e,(function(e){var n=Xm.getValue(e)
return n.value===t.value}))
Ph.getHighlighted(e).orThunk((function(){Ph.highlightFirst(e)
return w.none()}))}))}))}
oM(t,u(n),n,a,o,s,tM.HighlightFirst).get(e)}},cancelEvent:Xo()}),fy.config({mode:"special",onDown:function(t,e){a(t,e,Ph.highlightFirst)
return w.some(true)},onEscape:function(t){var e=Yz.getCoupled(t,"sandbox")
if(vm.isOpen(e)){vm.close(e)
return w.some(true)}return w.none()},onUp:function(t,e){a(t,e,Ph.highlightLast)
return w.some(true)},onEnter:function(e){var n=Yz.getCoupled(e,"sandbox")
var r=vm.isOpen(n)
if(r&&!t.previewing.get())return bh.getCurrent(n).bind((function(t){return Ph.getHighlighted(t)})).map((function(t){fa(e,cI(),{item:t})
return true}))
var o=Xm.getValue(e)
la(e,Xo())
t.onExecute(n,e,o)
r&&vm.close(n)
return w.some(true)}}),Yy.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Yz.config({others:{sandbox:function(e){return lM(t,e,{onOpen:function(){return Yy.on(e)},onClose:function(){return Yy.off(e)}})}}}),Sy("typeaheadevents",[Ra((function(n){var r=e
iM(t,u(n),n,o,r,tM.HighlightFirst).get(e)})),wa(cI(),(function(e,n){var r=Yz.getCoupled(e,"sandbox")
rI(t.model,e,n.event.item)
la(e,Xo())
t.onItemExecute(e,r,n.event.item,Xm.getValue(e))
vm.close(r)
aI(e)}))].concat(t.dismissOnBlur?[wa(Fo(),(function(t){var e=Yz.getCoupled(t,"sandbox")
Zl(e.element).isNone()&&vm.close(e)}))]:[]))]
return{uid:t.uid,dom:wz(Xt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:d(d({},i),Ym(t.typeaheadBehaviours,c)),eventOrder:t.eventOrder}}
var lI=a([En("lazySink"),yn("fetch"),Pn("minChars",5),Pn("responseTime",1e3),Ls("onOpen"),Pn("getHotspot",w.some),Pn("getAnchorOverrides",a({})),Pn("layouts",w.none()),Pn("eventOrder",{}),Jn("model",{},[Pn("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),Pn("selectsOver",true),Pn("populateFromBrowse",true)]),Ls("onSetValue"),Ps("onExecute"),Ls("onItemExecute"),Pn("inputClasses",[]),Pn("inputAttributes",{}),Pn("inputStyles",{}),Pn("matchWidth",true),Pn("useMinWidth",false),Pn("dismissOnBlur",true),Bs(["openClass"]),En("initialData"),$m("typeaheadBehaviours",[Ay,Xm,nI,fy,Yy,Yz]),Xn("previewing",(function(){return $n(true)}))].concat(pz()).concat(vM()))
var fI=a([zg({schema:[Hs()],name:"menu",overrides:function(t){return{fakeFocus:true,onHighlight:function(e,n){t.previewing.get()?e.getSystem().getByUid(t.uid).each((function(r){uI(t.model,r,n).fold((function(){return Ph.dehighlight(e,n)}),(function(t){return t()}))})):e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&rI(t.model,e,n)}))
t.previewing.set(false)},onExecute:function(e,n){return e.getSystem().getByUid(t.uid).toOptional().map((function(t){fa(t,cI(),{item:n})
return true}))},onHover:function(e,n){t.previewing.set(false)
e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&rI(t.model,e,n)}))}}}})])
var vI=uh({name:"Typeahead",configFields:lI(),partFields:fI(),factory:sI})
var dI=function(t){var e=function(){return dI(t.toCached())}
var n=function(e){return dI(t.bind((function(t){return t.fold((function(t){return Rz.pure(gt.error(t))}),(function(t){return e(t)}))})))}
var r=function(e){return dI(t.map((function(t){return t.bind(e)})))}
var o=function(e){return dI(t.map((function(t){return t.map(e)})))}
var a=function(e){return dI(t.map((function(t){return t.mapError(e)})))}
var i=function(e,n){return t.map((function(t){return t.fold(e,n)}))}
var u=function(e,n){return dI(Rz.nu((function(r){var o=false
var a=setTimeout((function(){o=true
r(gt.error(n()))}),e)
t.get((function(t){if(!o){clearTimeout(a)
r(t)}}))})))}
return d(d({},t),{toCached:e,bindFuture:n,bindResult:r,mapResult:o,mapError:a,foldResult:i,withTimeout:u})}
var mI=function(t){return dI(Rz.nu(t))}
var gI=function(t){return dI(Rz.pure(gt.value(t)))}
var hI=function(t){return dI(Rz.pure(gt.error(t)))}
var pI=function(t){return dI(Rz.pure(t))}
var bI=function(t){return dI(t.map(gt.value))}
var yI=function(t){return mI((function(e){t.then((function(t){e(gt.value(t))}),(function(t){e(gt.error(t))}))}))}
var wI={nu:mI,wrap:dI,pure:gI,value:gI,error:hI,fromResult:pI,fromFuture:bI,fromPromise:yI}
var xI={type:"separator"}
var CI=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:function(){}}}
var SI=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:function(){}}}
var OI=function(t){return U(t,CI)}
var kI=function(t,e){return X(e,(function(e){return e.type===t}))}
var TI=function(t,e){return OI(kI(t,e))}
var _I=function(t){return TI("header",t.targets)}
var zI=function(t){return TI("anchor",t.targets)}
var MI=function(t){return w.from(t.anchorTop).map((function(t){return SI("<top>",t)})).toArray()}
var EI=function(t){return w.from(t.anchorBottom).map((function(t){return SI("<bottom>",t)})).toArray()}
var DI=function(t){return U(t,(function(t){return SI(t,t)}))}
var AI=function(t){return K(t,(function(t,e){var n=0===t.length||0===e.length
return n?t.concat(e):t.concat(xI,e)}),[])}
var RI=function(t,e){var n=t.toLowerCase()
return X(e,(function(t){var e=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text
return mr(e.toLowerCase(),n)||mr(t.value.toLowerCase(),n)}))}
var HI=function(t,e,n){var r=Xm.getValue(e)
var o=void 0!==r.meta.text?r.meta.text:r.value
var a=n.getLinkInformation()
return a.fold((function(){return[]}),(function(e){var r=RI(o,DI(n.getHistory(t)))
return"file"===t?AI([r,RI(o,_I(e)),RI(o,tt([MI(e),zI(e),EI(e)]))]):r}))}
var BI=_i("aria-invalid")
var II=function(t,n,r){var o
var a=n.shared.providers
var i=function(e){var n=Xm.getValue(e)
r.addToHistory(n.value,t.filetype)}
var u=$_.parts.field({factory:vI,dismissOnBlur:true,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":BI,type:"url"},minChars:0,responseTime:0,fetch:function(e){var o=HI(t.filetype,e,r)
var a=MH(o,uC.BUBBLE_TO_SANDBOX,n,false)
return Rz.pure(a)},getHotspot:function(t){return g.getOpt(t)},onSetValue:function(t,n){t.hasConfigured(qz)&&qz.run(t).get(e)},typeaheadBehaviours:Vl(tt([r.getValidationHandler().map((function(e){return qz.config({getRoot:function(t){return qa(t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){l.getOpt(t).each((function(t){di(t.element,"title",a.translate(e))}))}},validator:{validate:function(n){var r=Xm.getValue(n)
return wI.nu((function(n){e({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var e=gt.error(t.message)
n(e)}else{var r=gt.value(t.message)
n(r)}}))}))},validateOnLoad:false}})})).toArray(),[XS.config({disabled:function(){return t.disabled||a.isDisabled()}}),Z_.config({}),Sy("urlinput-events",tt(["file"===t.filetype?[wa(Ao(),(function(e){fa(e,uz,{name:t.name})}))]:[],[wa(Ro(),(function(e){fa(e,uz,{name:t.name})
i(e)})),wa(No(),(function(e){fa(e,uz,{name:t.name})
i(e)}))]]))]])),eventOrder:(o={},o[Ao()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(t){return t.value},selectsOver:false,populateFromBrowse:false},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:BC(false,1,"normal")},onExecute:function(t,e,n){fa(e,fz,{})},onItemExecute:function(e,n,r,o){i(e)
fa(e,uz,{name:t.name})}})
var c=t.label.map((function(t){return iz(t,a)}))
var s=function(t,e,n,r){void 0===n&&(n=t)
void 0===r&&(r=t)
return{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],innerHtml:tx(n,a.icons),attributes:d({title:a.translate(r),"aria-live":"polite"},e.fold((function(){return{}}),(function(t){return{id:t}})))}}}
var l=Qw(s("invalid",w.some(BI),"warning"))
var f=Qw({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[l.asSpec()]})
var v=r.getUrlPicker(t.filetype)
var m=_i("browser.url.event")
var g=Qw({dom:{tag:"div",classes:["tox-control-wrap"]},components:[u,f.asSpec()],behaviours:Vl([XS.config({disabled:function(){return t.disabled||a.isDisabled()}})])})
var h=Qw(LH({name:t.name,icon:w.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:false,borderless:true},(function(t){return la(t,m)}),a,[],["tox-browse-url"]))
var p=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:tt([[g.asSpec()],v.map((function(){return h.asSpec()})).toArray()])}}
var b=function(e){bh.getCurrent(e).each((function(n){var r=Xm.getValue(n)
var o=d({fieldname:t.name},r)
v.each((function(r){r(o).get((function(r){Xm.setValue(n,r)
fa(e,uz,{name:t.name})}))}))}))}
return $_.sketch({dom:oz(),components:c.toArray().concat([p()]),fieldBehaviours:Vl([XS.config({disabled:function(){return t.disabled||a.isDisabled()},onDisabled:function(t){$_.getField(t).each(XS.disable)
h.getOpt(t).each(XS.disable)},onEnabled:function(t){$_.getField(t).each(XS.enable)
h.getOpt(t).each(XS.enable)}}),NO(),Sy("url-input-events",[wa(m,b)])])})}
var LI=function(t,e){return W_.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Yw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:tx(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){fa(e,lz,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})}
var PI=function(t,e){var n=Xm.config({store:{mode:"manual",getValue:function(t){var e=t.element.dom
return e.checked},setValue:function(t,e){var n=t.element.dom
n.checked=e}}})
var r=function(t){t.element.dom.click()
return w.some(true)}
var o=$_.parts.field({factory:{sketch:i},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Vl([TA.self(),XS.config({disabled:function(){return t.disabled||e.isDisabled()}}),Z_.config({}),Ay.config({}),n,fy.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:true}),Sy("checkbox-events",[wa(Ro(),(function(e,n){fa(e,uz,{name:t.name})}))])])})
var a=$_.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:e.translate(t.label)},behaviours:Vl([wM.config({})])})
var u=function(t){var n="checked"===t?"selected":"unselected"
return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:tx(n,e.icons)}}}
var c=Qw({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[u("checked"),u("unchecked")]})
return $_.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,c.asSpec(),a],fieldBehaviours:Vl([XS.config({disabled:function(){return t.disabled||e.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){$_.getField(t).each(XS.disable)},onEnabled:function(t){$_.getField(t).each(XS.enable)}}),NO()])})}
var VI=function(t){return"presentation"===t.presets?W_.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):W_.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Vl([Z_.config({}),Ay.config({})])})}
var FI=function(t){return function(e,n,r){return Vt(n,"name").fold((function(){return t(n,r)}),(function(o){return e.field(o,t(n,r))}))}}
var NI=function(t){return function(e,n,r){var o=Xt(n,{source:"dynamic"})
return FI(t)(e,o,r)}}
var jI={bar:FI((function(t,e){return q_(t,e.shared)})),collection:FI((function(t,e){return hz(t,e.shared.providers)})),alertbanner:FI((function(t,e){return LI(t,e.shared.providers)})),input:FI((function(t,e){return JB(t,e.shared.providers)})),textarea:FI((function(t,e){return XB(t,e.shared.providers)})),label:FI((function(t,e){return BB(t,e.shared)})),iframe:NI((function(t,e){return nR(t,e.shared.providers)})),button:FI((function(t,e){return jH(t,e.shared.providers)})),checkbox:FI((function(t,e){return PI(t,e.shared.providers)})),colorinput:FI((function(t,e){return kM(t,e.shared,e.colorinput)})),colorpicker:FI(EA),dropzone:FI((function(t,e){return qA(t,e.shared.providers)})),grid:FI((function(t,e){return GA(t,e.shared)})),listbox:FI((function(t,e){return FB(t,e)})),selectbox:FI((function(t,e){return UB(t,e.shared.providers)})),sizeinput:FI((function(t,e){return eB(t,e.shared.providers)})),urlinput:FI((function(t,e){return II(t,e,e.urlinput)})),customeditor:FI(RA),htmlpanel:FI(VI),imagetools:FI((function(t,e){return HB(t,e.shared.providers)})),table:FI((function(t,e){return qB(t,e.shared.providers)})),panel:FI((function(t,e){return NB(t,e)}))}
var WI={field:function(t,e){return e}}
var UI=function(t,e,n){var r=Xt(n,{shared:{interpreter:function(e){return qI(t,e,r)}}})
return qI(t,e,r)}
var qI=function(t,e,n){return Vt(jI,e.type).fold((function(){console.error('Unknown factory type "'+e.type+'", defaulting to container: ',e)
return e}),(function(r){return r(t,e,n)}))}
var GI=function(t,e){var n=WI
return qI(n,t,e)}
var JI={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]}
var XI=function(t,e,n){var r=Hf(-12,12,JI)
var o={maxHeightFunction:Mf()}
var a=function(){return{anchor:"node",root:Pu(t()),node:w.from(t()),bubble:r,layouts:{onRtl:function(){return[Gw]},onLtr:function(){return[qw]}},overrides:o}}
var i=function(){return{anchor:"hotspot",hotspot:e(),bubble:r,layouts:{onRtl:function(){return[ml]},onLtr:function(){return[gl]}},overrides:o}}
return function(){return n()?a():i()}}
var $I=function(t,e,n){var r=function(){return{anchor:"node",root:Pu(t()),node:w.from(t()),layouts:{onRtl:function(){return[Jw]},onLtr:function(){return[Jw]}}}}
var o=function(){return{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[yl]},onLtr:function(){return[yl]}}}}
return function(){return n()?r():o()}}
var KI=function(t,e){return function(){return{anchor:"selection",root:e(),getSelection:function(){var e=t.selection.getRng()
return w.some(dv.range(er.fromDom(e.startContainer),e.startOffset,er.fromDom(e.endContainer),e.endOffset))}}}}
var YI=function(t){return function(e){return{anchor:"node",root:t(),node:e}}}
var QI=function(t,e,n){var r=CO(t)
var o=function(){return er.fromDom(t.getBody())}
var a=function(){return er.fromDom(t.getContentAreaContainer())}
var i=function(){return r||!n()}
return{inlineDialog:XI(a,e,i),banner:$I(a,e,i),cursor:KI(t,o),node:YI(o)}}
var ZI=function(t){return function(e,n){var r=TT(t)
r(e,n)}}
var tL=function(t){return function(){return cT(t)}}
var eL=function(t){return function(){return lT(t)}}
var nL=function(t){return function(){return bT(t)}}
var rL=function(t){return{colorPicker:ZI(t),hasCustomColors:tL(t),getColors:eL(t),getColorCols:nL(t)}}
var oL=function(t){return function(){return TO(t)}}
var aL=function(t){return{isDraggableModal:oL(t)}}
var iL=function(t){var e=$n(bO(t)?"bottom":"top")
return{isPositionedAtTop:function(){return"top"===e.get()},getDockingMode:e.get,setDockingMode:e.set}}
var uL=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}]
var cL=function(t){return Ft(t,"items")}
var sL=function(t){return Ft(t,"block")}
var lL=function(t){return Ft(t,"inline")}
var fL=function(t){return Ft(t,"selector")}
var vL=function(t){return K(t,(function(t,e){if(cL(e)){var n=vL(e.items)
return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(lL(e)||sL(e)||fL(e)){var r=k(e.name)?e.name:e.title.toLowerCase()
var o="custom-"+r
return{customFormats:t.customFormats.concat([{name:o,format:e}]),formats:t.formats.concat([{title:e.title,format:o,icon:e.icon}])}}return d(d({},t),{formats:t.formats.concat(e)})}),{customFormats:[],formats:[]})}
var dL=function(t,e){var n=vL(e)
var r=function(e){q(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))}
t.formatter?r(n.customFormats):t.on("init",(function(){r(n.customFormats)}))
return n.formats}
var mL=function(t){return aO(t).map((function(e){var n=dL(t,e)
return iO(t)?uL.concat(n):n})).getOr(uL)}
var gL=function(t,e,n){var r={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)}
return Xt(t,r)}
var hL=function(t,e,n,r){var o=function(t){return gL(t,n,r)}
var a=function(t){var e={type:"submenu"}
return Xt(t,e)}
var i=function(e){var o=k(e.name)?e.name:_i(e.title)
var a="custom-"+o
var i={type:"formatter",format:a,isSelected:n(a),getStylePreview:r(a)}
var u=Xt(e,i)
t.formatter.register(o,u)
return u}
var u=function(t){return U(t,(function(t){var e=zt(t)
if(Nt(t,"items")){var n=u(t.items)
return Xt(a(t),{getStyleItems:function(){return n}})}return Nt(t,"format")?o(t):1===e.length&&F(e,"title")?Xt(t,{type:"separator"}):i(t)}))}
return u(e)}
var pL=function(t){var e=function(e){return function(){return t.formatter.match(e)}}
var n=function(e){return function(){var n=t.formatter.get(e)
return void 0!==n?w.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):w.none()}}
var r=function(t){var e=t.items
return void 0!==e&&e.length>0?et(e,r):[t.format]}
var o=$n([])
var a=$n([])
var i=$n([])
var u=$n([])
var c=$n(false)
t.on("PreInit",(function(i){var u=mL(t)
var c=hL(t,u,e,n)
o.set(c)
a.set(et(c,r))}))
t.on("addStyleModifications",(function(o){var a=hL(t,o.items,e,n)
i.set(a)
c.set(o.replace)
u.set(et(a,r))}))
var s=function(){var t=c.get()?[]:o.get()
var e=i.get()
return t.concat(e)}
var l=function(){var t=c.get()?[]:a.get()
var e=u.get()
return t.concat(e)}
return{getData:s,getFlattenedKeys:l}}
var bL=HA.trim
var yL=function(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return true
if(e.getAttribute("data-mce-contenteditable")===t)return true}return false}}
var wL=yL("true")
var xL=yL("false")
var CL=function(t,e,n,r,o){return{type:t,title:e,url:n,level:r,attach:o}}
var SL=function(t){while(t=t.parentNode){var e=t.contentEditable
if(e&&"inherit"!==e)return wL(t)}return false}
var OL=function(t,e){return U(Iv(er.fromDom(e),t),(function(t){return t.dom}))}
var kL=function(t){return t.innerText||t.textContent}
var TL=function(t){return t.id?t.id:_i("h")}
var _L=function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)}
var zL=function(t){return _L(t)&&EL(t)}
var ML=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)}
var EL=function(t){return SL(t)&&!xL(t)}
var DL=function(t){return ML(t)&&EL(t)}
var AL=function(t){return ML(t)?parseInt(t.nodeName.substr(1),10):0}
var RL=function(t){var e=TL(t)
var n=function(){t.id=e}
return CL("header",kL(t),"#"+e,AL(t),n)}
var HL=function(t){var n=t.id||t.name
var r=kL(t)
return CL("anchor",r||"#"+n,"#"+n,0,e)}
var BL=function(t){return U(X(t,DL),RL)}
var IL=function(t){return U(X(t,zL),HL)}
var LL=function(t){var e=OL("h1,h2,h3,h4,h5,h6,a:not([href])",t)
return e}
var PL=function(t){return bL(t.title).length>0}
var VL=function(t){var e=LL(t)
return X(BL(e).concat(IL(e)),PL)}
var FL={find:VL}
var NL="tinymce-url-history"
var jL=5
var WL=function(t){return k(t)&&/^https?/.test(t)}
var UL=function(t){return _(t)&&t.length<=jL&&nt(t,WL)}
var qL=function(t){return T(t)&&Lt(t,(function(t){return!UL(t)})).isNone()}
var GL=function(){var t=tT.getItem(NL)
if(null===t)return{}
var e
try{e=JSON.parse(t)}catch(t){if(t instanceof SyntaxError){console.log("Local storage "+NL+" was not valid JSON",t)
return{}}throw t}if(!qL(e)){console.log("Local storage "+NL+" was not valid format",e)
return{}}return e}
var JL=function(t){if(!qL(t))throw new Error("Bad format for history:\n"+JSON.stringify(t))
tT.setItem(NL,JSON.stringify(t))}
var XL=function(t){var e=GL()
return Object.prototype.hasOwnProperty.call(e,t)?e[t]:[]}
var $L=function(t,e){if(!WL(t))return
var n=GL()
var r=Object.prototype.hasOwnProperty.call(n,e)?n[e]:[]
var o=X(r,(function(e){return e!==t}))
n[e]=[t].concat(o).slice(0,jL)
JL(n)}
var KL=function(t){return!!t}
var YL=function(t){return Dt(HA.makeMap(t,/[, ]/),KL)}
var QL=function(t){return w.from(EO(t)).filter(A)}
var ZL=function(t){var e=w.some(DO(t)).filter(KL)
var n=w.some(AO(t)).filter(KL)
var r=e.or(n).map(YL)
return QL(t).fold((function(){return false}),(function(t){return r.fold((function(){return true}),(function(t){return zt(t).length>0&&t}))}))}
var tP=function(t,e){var n=ZL(t)
return z(n)?n?QL(t):w.none():n[e]?QL(t):w.none()}
var eP=function(t,e){return tP(t,e).map((function(n){return function(r){return Rz.nu((function(o){var a=function(t,e){if(!k(t))throw new Error("Expected value to be string")
if(void 0!==e&&!T(e))throw new Error("Expected meta to be a object")
var n={value:t,meta:e}
o(n)}
var i=d({filetype:e,fieldname:r.fieldname},w.from(r.meta).getOr({}))
n.call(t,a,r.value,i)}))}}))}
var nP=function(t){return w.from(t).filter(k).getOrUndefined()}
var rP=function(t){if(RO(t))return w.none()
return w.some({targets:FL.find(t.getBody()),anchorTop:nP(HO(t)),anchorBottom:nP(BO(t))})}
var oP=function(t){return w.from(IO(t))}
var aP=function(t){return{getHistory:XL,addToHistory:$L,getLinkInformation:function(){return rP(t)},getValidationHandler:function(){return oP(t)},getUrlPicker:function(e){return eP(t,e)}}}
var iP=function(t,e,n){var r=$n(false)
var o=iL(e)
var a={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:MS.translate,isDisabled:function(){return e.mode.isReadOnly()||e.ui.isDisabled()},getSetting:e.getParam.bind(e)},interpreter:function(t){return GI(t,a)},anchors:QI(e,n,o.isPositionedAtTop),header:o,getSink:function(){return gt.value(t)}},urlinput:aP(e),styleselect:pL(e),colorinput:rL(e),dialog:aL(e),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}}
return a}
var uP=a((function(t,e){Ic(t,Math.floor(e))}))
var cP="contexttoolbar-show"
var sP="contexttoolbar-hide"
var lP=a([yn("dom"),Pn("shell",true),$m("toolbarBehaviours",[xy])])
var fP=function(){return{behaviours:Vl([xy.config({})])}}
var vP=a([Mg({name:"groups",overrides:fP})])
var dP=function(t,e,n,r){var o=function(t,e){a(t).fold((function(){console.error("Toolbar was defined to not be a shell, but no groups container was specified in components")
throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){xy.set(t,e)}))}
var a=function(e){return t.shell?w.some(e):jg(e,t,"groups")}
var i=t.shell?{behaviours:[xy.config({})],components:[]}:{behaviours:[],components:e}
return{uid:t.uid,dom:t.dom,components:i.components,behaviours:Ym(t.toolbarBehaviours,i.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}}
var mP=uh({name:"Toolbar",configFields:lP(),partFields:vP(),factory:dP,apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}})
var gP=function(t,e){var n={len:0,list:[]}
var r=K(t,(function(t,n){var r=e(n,t.len)
return r.fold(a(t),(function(e){return{len:e.finish,list:t.list.concat([e])}}))}),n)
return r.list}
var hP=function(t,e,n){return{within:t,extra:e,withinWidth:n}}
var pP=function(t,e,n){var r=gP(t,(function(t,e){var r=n(t)
return w.some({element:t,start:e,finish:e+r,width:r})}))
var o=X(r,(function(t){return t.finish<=e}))
var a=$(o,(function(t,e){return t+e.width}),0)
var i=r.slice(o.length)
return{within:o,extra:i,withinWidth:a}}
var bP=function(t){return U(t,(function(t){return t.element}))}
var yP=function(t,e,n){var r=bP(t.concat(e))
return hP(r,[],n)}
var wP=function(t,e,n,r){var o=bP(t).concat([n])
return hP(o,bP(e),r)}
var xP=function(t,e,n){return hP(bP(t),[],n)}
var CP=function(t,e,n){var r=pP(e,t,n)
return 0===r.extra.length?w.some(r):w.none()}
var SP=function(t,e,n,r){var o=CP(t,e,n).getOrThunk((function(){return pP(e,t-n(r),n)}))
var a=o.within
var i=o.extra
var u=o.withinWidth
return 1===i.length&&i[0].width<=n(r)?yP(a,i,u):i.length>=1?wP(a,i,r,u):xP(a,i,u)}
var OP=function(t,e){var n=U(e,(function(t){return wc(t)}))
mP.setGroups(t,n)}
var kP=function(t){return ft(t,(function(t){return Zl(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}))}
var TP=function(t,e,n){var r=Wg(t,e,"primary")
var o=Yz.getCoupled(t,"overflowGroup")
$u(r.element,"visibility","hidden")
var a=e.builtGroups.get().concat([o])
var i=kP(a)
n([])
OP(r,a)
var u=Hc(r.element)
var c=SP(u,e.builtGroups.get(),(function(t){return Hc(t.element)}),o)
if(0===c.extra.length){xy.remove(r,o)
n([])}else{OP(r,c.within)
n(c.extra)}rc(r.element,"visibility")
oc(r.element)
i.each(Ay.focus)}
var _P=a([$m("splitToolbarBehaviours",[Yz]),Xn("builtGroups",(function(){return $n([])}))])
var zP=a([Bs(["overflowToggledClass"]),Hn("getOverflowBounds"),yn("lazySink"),Xn("overflowGroups",(function(){return $n([])}))].concat(_P()))
var MP=a([_g({factory:mP,schema:lP(),name:"primary"}),zg({schema:lP(),name:"overflow"}),zg({name:"overflow-button"}),zg({name:"overflow-group"})])
var EP=a([Bs(["toggledClass"]),yn("lazySink"),kn("fetch"),Hn("getBounds"),In("fireDismissalEventInstead",[Pn("event",na())]),jf()])
var DP=a([zg({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Vl([Yy.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:false})])}}}),zg({factory:mP,schema:lP(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Vl([fy.config({mode:"cyclic",onEscape:function(e){jg(e,t,"button").each(Ay.focus)
return w.none()}})])}}})])
var AP=function(t,e){var n=Yz.getCoupled(t,"toolbarSandbox")
vm.isOpen(n)?vm.close(n):vm.open(n,e.toolbar())}
var RP=function(t,e,n,r){var o=n.getBounds.map((function(t){return t()}))
var a=n.lazySink(t).getOrDie()
Ad.positionWithinBounds(a,{anchor:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:uP()}},e,o)}
var HP=function(t,e,n,r,o){mP.setGroups(e,o)
RP(t,e,n,r)
Yy.on(t)}
var BP=function(t,e,n){var r=hs()
var o=function(o,a){n.fetch().get((function(o){HP(t,a,n,e.layouts,o)
r.link(t.element)
fy.focusIn(a)}))}
var a=function(){Yy.off(t)
Ay.focus(t)
r.unlink(t.element)}
return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Vl([fy.config({mode:"special",onEscape:function(t){vm.close(t)
return w.some(true)}}),vm.config({onOpen:o,onClose:a,isPartOf:function(e,n,r){return bs(n,r)||bs(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),ql.config({channels:d(d({},pm(d({isExtraPart:l},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),ym({doReposition:function(){vm.getState(Yz.getCoupled(t,"toolbarSandbox")).each((function(r){RP(t,r,n,e.layouts)}))}}))})])}}
var IP=function(t,e,n,r){return d(d({},Yw.sketch(d(d({},r.button()),{action:function(t){AP(t,r)},buttonBehaviours:Qm.augment({dump:r.button().buttonBehaviours},[Yz.config({others:{toolbarSandbox:function(e){return BP(e,n,t)}}})])}))),{apis:{setGroups:function(e,r){vm.getState(Yz.getCoupled(e,"toolbarSandbox")).each((function(o){HP(e,o,t,n.layouts,r)}))},reposition:function(e){vm.getState(Yz.getCoupled(e,"toolbarSandbox")).each((function(r){RP(e,r,t,n.layouts)}))},toggle:function(t){AP(t,r)},getToolbar:function(t){return vm.getState(Yz.getCoupled(t,"toolbarSandbox"))},isOpen:function(t){return vm.isOpen(Yz.getCoupled(t,"toolbarSandbox"))}}})}
var LP=uh({name:"FloatingToolbarButton",factory:IP,configFields:EP(),partFields:DP(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getToolbar:function(t,e){return t.getToolbar(e)},isOpen:function(t,e){return t.isOpen(e)}}})
var PP=a([yn("items"),Bs(["itemSelector"]),$m("tgroupBehaviours",[fy])])
var VP=a([Eg({name:"items",unit:"item"})])
var FP=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.tgroupBehaviours,[fy.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}
var NP=uh({name:"ToolbarGroup",configFields:PP(),partFields:VP(),factory:FP})
var jP=function(t){return U(t,(function(t){return wc(t)}))}
var WP=function(t,e,n){TP(t,n,(function(r){n.overflowGroups.set(r)
e.getOpt(t).each((function(t){LP.setGroups(t,jP(r))}))}))}
var UP=function(t,e,n,r){var o=Qw(LP.sketch({fetch:function(){return Rz.nu((function(e){e(jP(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[gl,ml]},onRtl:function(){return[ml,gl]},onBottomLtr:function(){return[pl,hl]},onBottomRtl:function(){return[hl,pl]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}))
return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.splitToolbarBehaviours,[Yz.config({others:{overflowGroup:function(){return NP.sketch(d(d({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(U(n,e.getSystem().build))
WP(e,o,t)},refresh:function(e){return WP(e,o,t)},toggle:function(t){o.getOpt(t).each((function(t){LP.toggle(t)}))},isOpen:function(t){return o.getOpt(t).map(LP.isOpen).getOr(false)},reposition:function(t){o.getOpt(t).each((function(t){LP.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind(LP.getToolbar)}},domModification:{attributes:{role:"group"}}}}
var qP=uh({name:"SplitFloatingToolbar",configFields:zP(),partFields:MP(),factory:UP,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)},getOverflow:function(t,e){return t.getOverflow(e)}}})
var GP=function(t,e){return e.getAnimationRoot.fold((function(){return t.element}),(function(e){return e(t)}))}
var JP=function(t){return t.dimension.property}
var XP=function(t,e){return t.dimension.getDimension(e)}
var $P=function(t,e){var n=GP(t,e)
Au(n,[e.shrinkingClass,e.growingClass])}
var KP=function(t,e){Mu(t.element,e.openClass)
_u(t.element,e.closedClass)
$u(t.element,JP(e),"0px")
oc(t.element)}
var YP=function(t,e){Mu(t.element,e.closedClass)
_u(t.element,e.openClass)
rc(t.element,JP(e))}
var QP=function(t,e,n,r){n.setCollapsed()
$u(t.element,JP(e),XP(e,t.element))
oc(t.element)
$P(t,e)
KP(t,e)
e.onStartShrink(t)
e.onShrunk(t)}
var ZP=function(t,e,n,r){var o=r.getOrThunk((function(){return XP(e,t.element)}))
n.setCollapsed()
$u(t.element,JP(e),o)
oc(t.element)
var a=GP(t,e)
Mu(a,e.growingClass)
_u(a,e.shrinkingClass)
KP(t,e)
e.onStartShrink(t)}
var tV=function(t,e,n){var r=XP(e,t.element)
var o="0px"===r?QP:ZP
o(t,e,n,w.some(r))}
var eV=function(t,e,n){var r=GP(t,e)
var o=Eu(r,e.shrinkingClass)
var a=XP(e,t.element)
YP(t,e)
var i=XP(e,t.element)
var u=function(){$u(t.element,JP(e),a)
oc(t.element)}
var c=function(){KP(t,e)}
var s=o?u:c
s()
Mu(r,e.shrinkingClass)
_u(r,e.growingClass)
YP(t,e)
$u(t.element,JP(e),i)
n.setExpanded()
e.onStartGrow(t)}
var nV=function(t,e,n){if(n.isExpanded()){rc(t.element,JP(e))
var r=XP(e,t.element)
$u(t.element,JP(e),r)}}
var rV=function(t,e,n){n.isExpanded()||eV(t,e,n)}
var oV=function(t,e,n){n.isExpanded()&&tV(t,e,n)}
var aV=function(t,e,n){n.isExpanded()&&QP(t,e,n,w.none())}
var iV=function(t,e,n){return n.isExpanded()}
var uV=function(t,e,n){return n.isCollapsed()}
var cV=function(t,e,n){var r=GP(t,e)
return true===Eu(r,e.growingClass)}
var sV=function(t,e,n){var r=GP(t,e)
return true===Eu(r,e.shrinkingClass)}
var lV=function(t,e,n){return true===cV(t,e)||true===sV(t,e)}
var fV=function(t,e,n){var r=n.isExpanded()?tV:eV
r(t,e,n)}
var vV=Object.freeze({__proto__:null,refresh:nV,grow:rV,shrink:oV,immediateShrink:aV,hasGrown:iV,hasShrunk:uV,isGrowing:cV,isShrinking:sV,isTransitioning:lV,toggleGrow:fV,disableTransitions:$P})
var dV=function(t,e,n){var r=e.expanded
return Zi(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:se(e.dimension.property,"0px")})}
var mV=function(t,e){return ha([Ma(Bo(),(function(n,r){var o=r.event.raw
if(o.propertyName===t.dimension.property){$P(n,t)
e.isExpanded()&&rc(n.element,t.dimension.property)
var a=e.isExpanded()?t.onGrown:t.onShrunk
a(n)}}))])}
var gV=Object.freeze({__proto__:null,exhibit:dV,events:mV})
var hV=[yn("closedClass"),yn("openClass"),yn("shrinkingClass"),yn("growingClass"),En("getAnimationRoot"),Ls("onShrunk"),Ls("onStartShrink"),Ls("onGrown"),Ls("onStartGrow"),Pn("expanded",false),wn("dimension",cn("property",{width:[Ns("property","width"),Ns("getDimension",(function(t){return Hc(t)+"px"}))],height:[Ns("property","height"),Ns("getDimension",(function(t){return Sc(t)+"px"}))]}))]
var pV=function(t){var e=$n(t.expanded)
var n=function(){return"expanded: "+e.get()}
return Xi({isExpanded:function(){return true===e.get()},isCollapsed:function(){return false===e.get()},setCollapsed:u(e.set,false),setExpanded:u(e.set,true),readState:n})}
var bV=Object.freeze({__proto__:null,init:pV})
var yV=Nl({fields:hV,name:"sliding",active:gV,apis:vV,state:bV})
var wV=a([Bs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ls("onOpened"),Ls("onClosed")].concat(_P()))
var xV=a([_g({factory:mP,schema:lP(),name:"primary"}),_g({factory:mP,schema:lP(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Vl([yV.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){jg(e,t,"overflow-button").each((function(t){Yy.off(t)
Ay.focus(t)}))
t.onClosed(e)},onGrown:function(e){fy.focusIn(e)
t.onOpened(e)},onStartGrow:function(e){jg(e,t,"overflow-button").each(Yy.on)}}),fy.config({mode:"acyclic",onEscape:function(e){jg(e,t,"overflow-button").each(Ay.focus)
return w.some(true)}})])}}}),zg({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Vl([Yy.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:false})])}}}),zg({name:"overflow-group"})])
var CV=function(t,e){return jg(t,e,"overflow").map(yV.hasGrown).getOr(false)}
var SV=function(t,e){jg(t,e,"overflow-button").bind((function(){return jg(t,e,"overflow")})).each((function(n){OV(t,e)
yV.toggleGrow(n)}))}
var OV=function(t,e){jg(t,e,"overflow").each((function(n){TP(t,e,(function(t){var e=U(t,(function(t){return wc(t)}))
mP.setGroups(n,e)}))
jg(t,e,"overflow-button").each((function(t){yV.hasGrown(n)&&Yy.on(t)}))
yV.refresh(n)}))}
var kV=function(t,e,n,r){var o="alloy.toolbar.toggle"
var a=function(e,n){var r=U(n,e.getSystem().build)
t.builtGroups.set(r)}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.splitToolbarBehaviours,[Yz.config({others:{overflowGroup:function(t){return NP.sketch(d(d({},r["overflow-group"]()),{items:[Yw.sketch(d(d({},r["overflow-button"]()),{action:function(e){la(t,o)}}))]}))}}}),Sy("toolbar-toggle-events",[wa(o,(function(e){SV(e,t)}))])]),apis:{setGroups:function(e,n){a(e,n)
OV(e,t)},refresh:function(e){return OV(e,t)},toggle:function(e){return SV(e,t)},isOpen:function(e){return CV(e,t)}},domModification:{attributes:{role:"group"}}}}
var TV=uh({name:"SplitSlidingToolbar",configFields:wV(),partFields:xV(),factory:kV,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)}}})
var _V=a(_i("toolbar-height-change"))
var zV=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}))
return{dom:d({tag:"div",classes:["tox-toolbar__group"]},e),components:[NP.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Vl([Z_.config({}),Ay.config({})])}}
var MV=function(t){return NP.sketch(zV(t))}
var EV=function(t,e){var n=Ea((function(e){var n=U(t.initGroups,MV)
mP.setGroups(e,n)}))
return Vl([GO.toolbarButton(t.providers.isDisabled),NO(),fy.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Sy("toolbar-events",[n])])}
var DV=function(t){var e=t.cyclicKeying?"cyclic":"acyclic"
return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":zV({title:w.none(),items:[]}),"overflow-button":HH({name:"more",icon:w.some("more-drawer"),disabled:false,tooltip:w.some("More..."),primary:false,borderless:false},w.none(),t.providers)},splitToolbarBehaviours:EV(t,e)}}
var AV=function(t){var e=DV(t)
var n=4
var r=qP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}})
return qP.sketch(d(d({},e),{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element
var r=as(e)
var o=Wa(e)
var a=as(o)
var i=Math.max(o.dom.scrollHeight,a.height)
return rs(r.x+n,a.y,r.width-2*n,i)},parts:d(d({},e.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))}
var RV=function(t){var e=TV.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}})
var n=TV.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}})
var r=DV(t)
return TV.sketch(d(d({},r),{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([_V()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([_V()],{type:"closed"})}}))}
var HV=function(t){var e=t.cyclicKeying?"cyclic":"acyclic"
return mP.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===dO.scrolling?["tox-toolbar--scrolling"]:[])},components:[mP.parts.groups({})],toolbarBehaviours:EV(t,e)})}
var BV=Pe([Cn("type"),wn("items",Fe([Ke([Cn("name"),Mn("items",dn)]),dn]))].concat(jx))
var IV=function(t){return nn("GroupToolbarButton",BV,t)}
var LV=[Rn("text"),Rn("tooltip"),Rn("icon"),kn("fetch"),Un("onSetup",(function(){return e}))]
var PV=Pe(g([Cn("type")],LV))
var VV=function(t){return nn("menubutton",PV,t)}
var FV=Pe([Cn("type"),Rn("tooltip"),Rn("icon"),Rn("text"),Hn("select"),kn("fetch"),Un("onSetup",(function(){return e})),jn("presets","normal",["normal","color","listpreview"]),Pn("columns",1),kn("onAction"),kn("onItemAction")])
var NV=function(t){return nn("SplitButton",FV,t)}
var jV=function(t,e){var n=function(n,r){t.updateState.each((function(t){var o=t(n,r)
e.set(o)}))
t.renderComponents.each((function(t){var o=t(r,e.get())
var a=U(o,n.getSystem().build)
Ld(n,a)}))}
return ha([wa(jo(),(function(e,r){var o=r
if(!o.universal){var a=t.channel
F(o.channels,a)&&n(e,o.data)}})),Ea((function(e,r){t.initialData.each((function(t){n(e,t)}))}))])}
var WV=Object.freeze({__proto__:null,events:jV})
var UV=function(t,e,n){return n}
var qV=Object.freeze({__proto__:null,getState:UV})
var GV=[yn("channel"),En("renderComponents"),En("updateState"),En("initialData")]
var JV=function(){var t=$n(w.none())
var e=function(e){return t.set(e)}
var n=function(){return t.set(w.none())}
var r=function(){return t.get()}
var o=function(){return t.get().fold((function(){return"none"}),(function(t){return t}))}
return{readState:o,get:r,set:e,clear:n}}
var XV=Object.freeze({__proto__:null,init:JV})
var $V=Nl({fields:GV,name:"reflecting",active:WV,apis:qV,state:XV})
var KV=a([yn("toggleClass"),yn("fetch"),Vs("onExecute"),Pn("getHotspot",w.some),Pn("getAnchorOverrides",a({})),jf(),Vs("onItemExecute"),En("lazySink"),yn("dom"),Ls("onOpen"),$m("splitDropdownBehaviours",[Yz,fy,Ay]),Pn("matchWidth",false),Pn("useMinWidth",false),Pn("eventOrder",{}),En("role")].concat(vM()))
var YV=_g({factory:Yw,schema:[yn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Vl([Ay.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(va)},buttonBehaviours:Vl([Yy.config({toggleOnExecute:false,toggleClass:t.toggleClass})])}}})
var QV=_g({factory:Yw,schema:[yn("dom")],name:"button",defaults:function(){return{buttonBehaviours:Vl([Ay.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}})
var ZV=a([YV,QV,Mg({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[yn("text")],name:"aria-descriptor"}),zg({schema:[Hs()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,e,n)}))}}}}),Zz()])
var tF=function(t,n,r,o){var a
var i=function(t){bh.getCurrent(t).each((function(t){Ph.highlightFirst(t)
fy.focusIn(t)}))}
var u=function(n){var r=i
iM(t,(function(t){return t}),n,o,r,tM.HighlightFirst).get(e)}
var c=function(t){u(t)
return w.some(true)}
var s=function(e){var n=Wg(e,t,"button")
va(n)
return w.some(true)}
var l=d(d({},ha([Ea((function(e,n){var r=jg(e,t,"aria-descriptor")
r.each((function(t){var n=_i("aria")
di(t.element,"id",n)
di(e.element,"aria-describedby",n)}))}))])),Zy(w.some(u)))
var f={repositionMenus:function(t){Yy.isOn(t)&&fM(t)}}
return{uid:t.uid,dom:t.dom,components:n,apis:f,eventOrder:d(d({},t.eventOrder),(a={},a[Wo()]=["disabling","toggling","alloy.base.behaviour"],a)),events:l,behaviours:Ym(t.splitDropdownBehaviours,[Yz.config({others:{sandbox:function(e){var n=Wg(e,t,"arrow")
var r={onOpen:function(){Yy.on(n)
Yy.on(e)},onClose:function(){Yy.off(n)
Yy.off(e)}}
return lM(t,e,r)}}}),fy.config({mode:"special",onSpace:s,onEnter:s,onDown:c}),Ay.config({}),Yy.config({toggleOnExecute:false,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":true}}}}
var eF=uh({name:"SplitDropdown",configFields:KV(),partFields:ZV(),factory:tF,apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}})
var nF=function(t){return{isDisabled:function(){return XS.isDisabled(t)},setDisabled:function(e){return XS.set(t,e)}}}
var rF=function(t){return{setActive:function(e){Yy.set(t,e)},isActive:function(){return Yy.isOn(t)},isDisabled:function(){return XS.isDisabled(t)},setDisabled:function(e){return XS.set(t,e)}}}
var oF=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})}
var aF=_i("focus-button")
var iF=["checklist","ordered-list"]
var uF=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"]
var cF=function(t,e,n,r,o,a){var i
var u=function(t){return MS.isRtl()&&F(iF,t)?t+"-rtl":t}
var c=MS.isRtl()&&t.exists((function(t){return F(uF,t)}))
return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]).concat(c?["tox-tbtn__icon-rtl"]:[]),attributes:oF(n,a)},components:ZO([t.map((function(t){return lH(u(t),a.icons)})),e.map((function(t){return vH(t,"tox-tbtn",a)}))]),eventOrder:(i={},i[So()]=["focusing","alloy.base.behaviour","common-button-display-events"],i),buttonBehaviours:Vl([GO.toolbarButton(a.isDisabled),NO(),Sy("common-button-display-events",[wa(So(),(function(t,e){e.event.prevent()
la(t,aF)}))])].concat(r.map((function(n){return $V.config({channel:n,initialData:{icon:t,text:e},renderComponents:function(t,e){return ZO([t.icon.map((function(t){return lH(u(t),a.icons)})),t.text.map((function(t){return vH(t,"tox-tbtn",a)}))])}})})).toArray()).concat(o.getOr([])))}}
var sF=function(t,e,n,r){var o=e.shared
return LP.sketch({lazySink:o.getSink,fetch:function(){return Rz.nu((function(e){e(U(n(t.items),MV))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:cF(t.icon,t.text,t.tooltip,w.none(),w.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}
var lF=function(t,n,r){var o=$n(e)
var a=cF(t.icon,t.text,t.tooltip,w.none(),w.none(),r)
return Yw.sketch({dom:a.dom,components:a.components,eventOrder:hH,buttonBehaviours:Vl([Sy("toolbar-button-events",[gH({onAction:t.onAction,getApi:n.getApi}),XO(n,o),$O(n,o)]),GO.toolbarButton((function(){return t.disabled||r.isDisabled()})),NO()].concat(n.toolbarButtonBehaviours))})}
var fF=function(t,e){return vF(t,e,[])}
var vF=function(t,e,n){return lF(t,{toolbarButtonBehaviours:[].concat(n.length>0?[Sy("toolbarButtonWith",n)]:[]),getApi:nF,onSetup:t.onSetup},e)}
var dF=function(t,e){return mF(t,e,[])}
var mF=function(t,e,n){return Xt(lF(t,{toolbarButtonBehaviours:[xy.config({}),Yy.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:false})].concat(n.length>0?[Sy("toolbarToggleButtonWith",n)]:[]),getApi:rF,onSetup:t.onSetup},e))}
var gF=function(t,e,n){return function(r){return Rz.nu((function(t){return e.fetch(t)})).map((function(o){return w.from(u_(Xt(zT(_i("menu-value"),o,(function(n){e.onItemAction(t(r),n)}),e.columns,e.presets,uC.CLOSE_ON_EXECUTE,e.select.getOr((function(){return false})),n),{movement:ET(e.columns,e.presets),menuBehaviours:gS.unnamedEvents("auto"!==e.columns?[]:[Ea((function(t,n){vS(t,4,MC(e.presets)).each((function(e){var n=e.numRows,r=e.numColumns
fy.setGridSize(t,n,r)}))}))])})))}))}}
var hF=function(t,n){var r
var o=_i("channel-update-split-dropdown-display")
var a=function(t){return{isDisabled:function(){return XS.isDisabled(t)},setDisabled:function(e){return XS.set(t,e)},setIconFill:function(e,n){ds(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){di(t,"fill",n)}))},setIconStroke:function(e,n){ds(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){di(t,"stroke",n)}))},setActive:function(e){di(t.element,"aria-pressed",e)
ds(t.element,"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return Yy.set(t,e)}))}))},isActive:function(){return ds(t.element,"span").exists((function(e){return t.getSystem().getByDom(e).exists(Yy.isOn)}))}}}
var i=$n(e)
var u={getApi:a,onSetup:t.onSetup}
return eF.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:d({"aria-pressed":false},oF(t.tooltip,n.providers))},onExecute:function(e){t.onAction(a(e))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:Vl([GO.splitButton(n.providers.isDisabled),NO(),Sy("split-dropdown-events",[wa(aF,Ay.focus),XO(u,i),$O(u,i)]),wM.config({})]),eventOrder:(r={},r[ta()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:gF(a,t,n.providers),parts:{menu:BC(false,t.columns,t.presets)},components:[eF.parts.button(cF(t.icon,t.text,w.none(),w.some(o),w.some([Yy.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:false})]),n.providers)),eF.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:tx("chevron-down",n.providers.icons)},buttonBehaviours:Vl([GO.splitButton(n.providers.isDisabled),NO()])}),eF.parts["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})}
var pF=function(t){return{hide:function(){return la(t,Jo())},getValue:function(){return Xm.getValue(t)}}}
var bF=function(t,e){return wa(mH,(function(n,r){var o=t.get(n)
var a=pF(o)
e.onAction(a,r.event.buttonApi)}))}
var yF=function(t,e,n){var r=e.original,o=(r.primary,m(r,["primary"]))
var a=rn(Ux(d(d({},o),{type:"button",onAction:function(){}})))
return vF(a,n.backstage.shared.providers,[bF(t,e)])}
var wF=function(t,e,n){var r=e.original,o=(r.primary,m(r,["primary"]))
var a=rn(Jx(d(d({},o),{type:"togglebutton",onAction:function(){}})))
return mF(a,n.backstage.shared.providers,[bF(t,e)])}
var xF=function(t,e,n){var r={backstage:{shared:{providers:n}}}
return"contextformtogglebutton"===e.type?wF(t,e,r):yF(t,e,r)}
var CF=function(t,e,n){var r=U(e,(function(e){return Qw(xF(t,e,n))}))
var o=function(){return U(r,(function(t){return t.asSpec()}))}
var a=function(t){return ft(e,(function(e,n){return e.primary?w.from(r[n]).bind((function(e){return e.getOpt(t)})).filter(c(XS.isDisabled)):w.none()}))}
return{asSpecs:o,findPrimary:a}}
var SF=function(t,e){var n=t.label.fold((function(){return{}}),(function(t){return{"aria-label":t}}))
var r=Qw(Cz.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:n,selectOnFocus:true,inputBehaviours:Vl([fy.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){va(t)
return true}))},onLeft:function(t,e){e.cut()
return w.none()},onRight:function(t,e){e.cut()
return w.none()}})])}))
var o=CF(r,t.commands,e)
return[{title:w.none(),items:[r.asSpec()]},{title:w.none(),items:o.asSpecs()}]}
var OF=function(t,e,n){return HV({type:t,uid:_i("context-toolbar"),initGroups:SF(e,n),onEscape:w.none,cyclicKeying:true,providers:n})}
var kF={renderContextForm:OF,buildInitGroups:SF}
var TF=function(t,e){var n=Math.max(e.x,t.x)
var r=t.right-n
var o=e.width-(n-e.x)
var a=Math.min(r,o)
return{x:n,width:a}}
var _F=function(t,e,n,r){var o=er.fromDom(t.getContainer())
var a=ds(o,".tox-editor-header").getOr(o)
var i=os(a)
var u=i.y>=e.bottom
var c=r&&!u
if(t.inline&&c)return{y:Math.max(i.bottom,n.y),bottom:n.bottom}
if(t.inline&&!c)return{y:n.y,bottom:Math.min(i.y,n.bottom)}
var s=os(o)
if(c)return{y:Math.max(i.bottom,n.y),bottom:Math.min(s.bottom,n.bottom)}
return{y:Math.max(s.y,n.y),bottom:Math.min(i.y,n.bottom)}}
var zF=function(t,e){var n=Xc(window)
var r=os(er.fromDom(t.getContentAreaContainer()))
var o=sO(t)||lO(t)||vO(t)
var a=TF(r,n),i=a.x,u=a.width
if(t.inline&&!o)return rs(i,n.y,u,n.height)
var c=e.header.isPositionedAtTop()
var s=_F(t,r,n,c),l=s.y,f=s.bottom
return rs(i,l,u,f-l)}
var MF=function(t,e){var n=X(e,(function(e){return e.predicate(t.dom)}))
var r=J(n,(function(t){return"contexttoolbar"===t.type})),o=r.pass,a=r.fail
return{contextToolbars:o,contextForms:a}}
var EF=function(t){if(t.length<=1)return t
var e=function(e){return N(t,(function(t){return t.position===e}))}
var n=function(e){return X(t,(function(t){return t.position===e}))}
var r=e("selection")
var o=e("node")
if(r||o){if(o&&r){var a=n("node")
var i=U(n("selection"),(function(t){return d(d({},t),{position:"node"})}))
return a.concat(i)}return n(r?"selection":"node")}return n("line")}
var DF=function(t){if(t.length<=1)return t
var e=function(e){return Q(t,(function(t){return t.position===e}))}
var n=e("selection").orThunk((function(){return e("node")})).orThunk((function(){return e("line")})).map((function(t){return t.position}))
return n.fold((function(){return[]}),(function(e){return X(t,(function(t){return t.position===e}))}))}
var AF=function(t,e,n){var r=MF(t,e)
if(r.contextForms.length>0)return w.some({elem:t,toolbars:[r.contextForms[0]]})
var o=MF(t,n)
if(o.contextForms.length>0)return w.some({elem:t,toolbars:[o.contextForms[0]]})
if(r.contextToolbars.length>0||o.contextToolbars.length>0){var a=EF(r.contextToolbars.concat(o.contextToolbars))
return w.some({elem:t,toolbars:a})}return w.none()}
var RF=function(t,e,n){return t(e)?w.none():so(e,(function(t){var e=MF(t,n.inNodeScope),r=e.contextToolbars,o=e.contextForms
var a=o.length>0?o:DF(r)
return a.length>0?w.some({elem:t,toolbars:a}):w.none()}),t)}
var HF=function(t,e){var n=er.fromDom(e.getBody())
var r=function(t){return oo(t,n)}
var o=function(t){return!r(t)&&!uo(n,t)}
var a=er.fromDom(e.selection.getNode())
if(o(a))return w.none()
return AF(a,t.inNodeScope,t.inEditorScope).orThunk((function(){return RF(r,a,t)}))}
var BF=function(t,e){var n={}
var r=[]
var o=[]
var a={}
var i={}
var u=function(t,u){var c=rn(eC(u))
n[t]=c
c.launch.map((function(n){a["form:"+t]=d(d({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){e(c)}})}))
"editor"===c.scope?o.push(c):r.push(c)
i[t]=c}
var c=function(t,e){rC(e).each((function(n){"editor"===e.scope?o.push(n):r.push(n)
i[t]=n}))}
var s=zt(t)
q(s,(function(e){var n=t[e]
"contextform"===n.type?u(e,n):"contexttoolbar"===n.type&&c(e,n)}))
return{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:i,formNavigators:a}}
var IF=_i("forward-slide")
var LF=_i("backward-slide")
var PF=_i("change-slide-event")
var VF="tox-pop--resizing"
var FF=function(t){var e=$n([])
return Lw.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){e.set([])
Lw.getContent(t).each((function(t){rc(t.element,"visibility")}))
Mu(t.element,VF)
rc(t.element,"width")},inlineBehaviours:Vl([Sy("context-toolbar-events",[Ma(Bo(),(function(t,e){Mu(t.element,VF)
rc(t.element,"width")})),wa(PF,(function(t,e){rc(t.element,"width")
var n=Hc(t.element)
Lw.setContent(t,e.event.contents)
_u(t.element,VF)
var r=Hc(t.element)
$u(t.element,"width",n+"px")
Lw.getContent(t).each((function(n){e.event.focus.bind((function(e){$l(e)
return Zl(t.element)})).orThunk((function(){fy.focusIn(n)
return Ql()}))}))
$w.setTimeout((function(){$u(t.element,"width",r+"px")}),0)})),wa(IF,(function(t,n){Lw.getContent(t).each((function(t){e.set(e.get().concat([{bar:t,focus:Ql()}]))}))
fa(t,PF,{contents:n.event.forwardContents,focus:w.none()})})),wa(LF,(function(t,n){st(e.get()).each((function(n){e.set(e.get().slice(0,e.get().length-1))
fa(t,PF,{contents:wc(n.bar),focus:n.focus})}))}))]),fy.config({mode:"special",onEscape:function(n){return st(e.get()).fold((function(){return t.onEscape()}),(function(t){la(n,LF)
return w.some(true)}))}})]),lazySink:function(){return gt.value(t.sink)}})}
var NF=function(t,e,n){var r=function(t,r,a,i){var u=e.shared.providers.translate(t.title)
if("separator"===t.type)return w.some({type:"separator",text:u})
if("submenu"===t.type){var c=et(t.getStyleItems(),(function(t){return o(t,r,i)}))
return 0===r&&c.length<=0?w.none():w.some({type:"nestedmenuitem",text:u,disabled:c.length<=0,getSubmenuItems:function(){return et(t.getStyleItems(),(function(t){return o(t,r,i)}))}})}return w.some(d({type:"togglemenuitem",text:u,icon:t.icon,active:t.isSelected(i),disabled:a,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))}
var o=function(t,e,o){var a="formatter"===t.type&&n.isInvalid(t)
return 0===e?a?[]:r(t,e,false,o).toArray():r(t,e,a,o).toArray()}
var a=function(t){var e=n.getCurrentValue()
var r=n.shouldHide?0:1
return et(t,(function(t){return o(t,r,e)}))}
var i=function(t,e){return function(n,r){var o=e()
var i=a(o)
var u=MH(i,uC.CLOSE_ON_EXECUTE,t,false)
r(u)}}
return{validateItems:a,getFetch:i}}
var jF=function(t,e,n){var r=n.dataset
var o="basic"===r.type?function(){return U(r.data,(function(t){return gL(t,n.isSelectedFor,n.getPreviewFor)}))}:r.getData
return{items:NF(t,e,n),getStyleItems:o}}
var WF=function(t,n,r){var o=jF(t,n,r),a=o.items,i=o.getStyleItems
var u=function(t){return{getComponent:function(){return t}}}
var c=function(n){r.setInitialValue.each((function(t){return t(n.getComponent())}))
return r.nodeChangeHandler.map((function(e){var r=e(n.getComponent())
t.on("NodeChange",r)
return function(){t.off("NodeChange",r)}})).getOr(e)}
return yH({text:r.icon.isSome()?w.none():w.some(""),icon:r.icon,tooltip:w.from(r.tooltip),role:w.none(),fetch:a.getFetch(n,i),onSetup:c,getApi:u,columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)}
var UF=function(t){return U(t,(function(t){var e=t,n=t
var r=t.split("=")
if(r.length>1){e=r[0]
n=r[1]}return{title:e,format:n}}))}
var qF=function(t){return{type:"basic",data:t}}
var GF;(function(t){t[t["SemiColon"]=0]="SemiColon"
t[t["Space"]=1]="Space"})(GF||(GF={}))
var JF=function(t,e){return e===GF.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")}
var XF=function(t,e,n,r){var o=t.getParam(e,n,"string")
var a=UF(JF(o,r))
return{type:"basic",data:a}}
var $F=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}]
var KF=function(t){var e=function(){return Q($F,(function(e){return t.formatter.match(e.format)}))}
var n=function(e){return function(){return t.formatter.match(e)}}
var r=function(t){return function(){return w.none()}}
var o=function(t){var n=e()
var r=n.fold((function(){return"left"}),(function(t){return t.title.toLowerCase()}))
fa(t,bH,{icon:"align-"+r})}
var a=w.some((function(t){return function(){return o(t)}}))
var i=w.some((function(t){return o(t)}))
var u=qF($F)
var c=function(e){return function(){return Q($F,(function(t){return t.format===e.format})).each((function(e){return t.execCommand(e.command)}))}}
return{tooltip:"Align",icon:w.some("align-left"),isSelectedFor:n,getCurrentValue:w.none,getPreviewFor:r,onAction:c,setInitialValue:i,nodeChangeHandler:a,dataset:u,shouldHide:false,isInvalid:function(e){return!t.formatter.canApply(e.format)}}}
var YF=function(t,e){return WF(t,e,KF(t))}
var QF=function(t,e){var n=jF(t,e,KF(t))
t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var ZF="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"
var tN=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"]
var eN=function(t){var e=t.split(/\s*,\s*/)
return U(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))}
var nN=function(t){var e=function(){var e=eN(t.toLowerCase())
return nt(tN,(function(t){return e.indexOf(t.toLowerCase())>-1}))}
return 0===t.indexOf("-apple-system")&&e()}
var rN=function(t){var e=function(){var e=function(t){return t?eN(t)[0]:""}
var n=t.queryCommandValue("FontName")
var r=s.data
var o=n?n.toLowerCase():""
var a=Q(r,(function(t){var n=t.format
return n.toLowerCase()===o||e(n).toLowerCase()===e(o).toLowerCase()})).orThunk((function(){return nN(o)?w.from({title:"System Font",format:o}):w.none()}))
return{matchOpt:a,font:n}}
var n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}}
var r=function(){var t=e().matchOpt
return t}
var o=function(t){return function(){return w.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}}
var a=function(e){return function(){t.undoManager.transact((function(){t.focus()
t.execCommand("FontName",false,e.format)}))}}
var i=function(t){var n=e(),r=n.matchOpt,o=n.font
var a=r.fold((function(){return o}),(function(t){return t.title}))
fa(t,pH,{text:a})}
var u=w.some((function(t){return function(){return i(t)}}))
var c=w.some((function(t){return i(t)}))
var s=XF(t,"font_formats",ZF,GF.SemiColon)
return{tooltip:"Fonts",icon:w.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:a,setInitialValue:c,nodeChangeHandler:u,dataset:s,shouldHide:false,isInvalid:function(){return false}}}
var oN=function(t,e){return WF(t,e,rN(t))}
var aN=function(t,e){var n=jF(t,e,rN(t))
t.ui.registry.addNestedMenuItem("fontformats",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var iN="8pt 10pt 12pt 14pt 18pt 24pt 36pt"
var uN={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"}
var cN={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"}
var sN=function(t,e){var n=Math.pow(10,e)
return Math.round(t*n)/n}
var lN=function(t,e){return/[0-9.]+px$/.test(t)?sN(72*parseInt(t,10)/96,e||0)+"pt":Vt(cN,t).getOr(t)}
var fN=function(t){return Vt(uN,t).getOr("")}
var vN=function(t){var e=function(){var e=w.none()
var n=l.data
var r=t.queryCommandValue("FontSize")
if(r){var o=function(t){var o=lN(r,t)
var a=fN(o)
e=Q(n,(function(t){return t.format===r||t.format===o||t.format===a}))}
for(var a=3;e.isNone()&&a>=0;a--)o(a)}return{matchOpt:e,size:r}}
var n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}}
var r=function(){var t=e().matchOpt
return t}
var o=a(w.none)
var i=function(e){return function(){t.undoManager.transact((function(){t.focus()
t.execCommand("FontSize",false,e.format)}))}}
var u=function(t){var n=e(),r=n.matchOpt,o=n.size
var a=r.fold((function(){return o}),(function(t){return t.title}))
fa(t,pH,{text:a})}
var c=w.some((function(t){return function(){return u(t)}}))
var s=w.some((function(t){return u(t)}))
var l=XF(t,"fontsize_formats",iN,GF.Space)
return{tooltip:"Font sizes",icon:w.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:i,setInitialValue:s,nodeChangeHandler:c,dataset:l,shouldHide:false,isInvalid:function(){return false}}}
var dN=function(t,e){return WF(t,e,vN(t))}
var mN=function(t,e){var n=jF(t,e,vN(t))
t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var gN=function(t,e){var n=e()
var r=U(n,(function(t){return t.format}))
return w.from(t.formatter.closest(r)).bind((function(t){return Q(n,(function(e){return e.format===t}))})).orThunk((function(){return dh(t.formatter.match("p"),{title:"Paragraph",format:"p"})}))}
var hN=function(t){var e=$n(w.none())
var n=function(){return e.get().each(t)}
var r=function(){n()
e.set(w.none())}
var o=function(){return e.get().isSome()}
var a=function(t){n()
e.set(w.some(t))}
return{clear:r,isSet:o,set:a}}
var pN=function(){return hN((function(t){return t.destroy()}))}
var bN=function(){return hN((function(t){return t.unbind()}))}
var yN=function(){var t=$n(w.none())
var e=function(){return t.set(w.none())}
var n=function(e){return t.set(w.some(e))}
var r=function(){return t.get().isSome()}
var o=function(e){return t.get().each(e)}
return{clear:e,set:n,isSet:r,on:o}}
var wN=function(t,e){return function(n){var r=bN()
var o=function(){n.setActive(t.formatter.match(e))
var o=t.formatter.formatChanged(e,n.setActive)
r.set(o)}
t.initialized?o():t.on("init",o)
return r.clear}}
var xN=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus()
t.execCommand("mceToggleFormat",false,e.format)}))}}}
var CN="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"
var SN=function(t){var e=function(e){return function(){return t.formatter.match(e)}}
var n=function(e){return function(){var n=t.formatter.get(e)
return w.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))})}}
var r=function(e){var n=gN(t,(function(){return i.data}))
var r=n.fold((function(){return"Paragraph"}),(function(t){return t.title}))
fa(e,pH,{text:r})}
var o=w.some((function(t){return function(){return r(t)}}))
var a=w.some((function(t){return r(t)}))
var i=XF(t,"block_formats",CN,GF.SemiColon)
return{tooltip:"Blocks",icon:w.none(),isSelectedFor:e,getCurrentValue:w.none,getPreviewFor:n,onAction:xN(t),setInitialValue:a,nodeChangeHandler:o,dataset:i,shouldHide:false,isInvalid:function(e){return!t.formatter.canApply(e.format)}}}
var ON=function(t,e){return WF(t,e,SN(t))}
var kN=function(t,e){var n=jF(t,e,SN(t))
t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var TN=function(t,e){var n=function(e){return function(){return t.formatter.match(e)}}
var r=function(e){return function(){var n=t.formatter.get(e)
return void 0!==n?w.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):w.none()}}
var o=function(e){var n=function(t){var e=t.items
return void 0!==e&&e.length>0?et(e,n):[{title:t.title,format:t.format}]}
var r=et(mL(t),n)
var o=gN(t,(function(){return r}))
var a=o.fold((function(){return"Paragraph"}),(function(t){return t.title}))
fa(e,pH,{text:a})}
var a=w.some((function(t){return function(){return o(t)}}))
var i=w.some((function(t){return o(t)}))
return{tooltip:"Formats",icon:w.none(),isSelectedFor:n,getCurrentValue:w.none,getPreviewFor:r,onAction:xN(t),setInitialValue:i,nodeChangeHandler:a,shouldHide:t.getParam("style_formats_autohide",false,"boolean"),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}}
var _N=function(t,e){var n=d({type:"advanced"},e.styleselect)
return WF(t,e,TN(t,n))}
var zN=function(t,e){var n=d({type:"advanced"},e.styleselect)
var r=jF(t,e,TN(t,n))
t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}
var MN=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}]
var EN=function(t,e){return function(n,r,o){var a=t(n).mapError((function(t){return an(t)})).getOrDie()
return e(a,r,o)}}
var DN={button:EN(Ux,(function(t,e){return fF(t,e.backstage.shared.providers)})),togglebutton:EN(Jx,(function(t,e){return dF(t,e.backstage.shared.providers)})),menubutton:EN(VV,(function(t,e){return DH(t,"tox-tbtn",e.backstage,w.none())})),splitbutton:EN(NV,(function(t,e){return hF(t,e.backstage.shared)})),grouptoolbarbutton:EN(IV,(function(t,e,n){var r
var o=n.ui.registry.getAll().buttons
var a=function(t){return VN(n,{buttons:o,toolbar:t,allowToolbarGroups:false},e,w.none())}
var i=(r={},r[Ff]=e.backstage.shared.header.isPositionedAtTop()?Vf.TopToBottom:Vf.BottomToTop,r)
switch(mO(n)){case dO.floating:return sF(t,e.backstage,a,i)
default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(t,e){return _N(t,e.backstage)},fontsizeSelectButton:function(t,e){return dN(t,e.backstage)},fontSelectButton:function(t,e){return oN(t,e.backstage)},formatButton:function(t,e){return ON(t,e.backstage)},alignMenuButton:function(t,e){return YF(t,e.backstage)}}
var AN=function(t,e,n){return Vt(DN,t.type).fold((function(){console.error("skipping button defined by",t)
return w.none()}),(function(r){return w.some(r(t,e,n))}))}
var RN={styleselect:DN.styleSelectButton,fontsizeselect:DN.fontsizeSelectButton,fontselect:DN.fontSelectButton,formatselect:DN.formatButton,align:DN.alignMenuButton}
var HN=function(t){var e=U(MN,(function(e){var n=X(e.items,(function(e){return Ft(t,e)||Ft(RN,e)}))
return{name:e.name,items:n}}))
return X(e,(function(t){return t.items.length>0}))}
var BN=function(t){var e=t.split("|")
return U(e,(function(t){return{items:t.trim().split(" ")}}))}
var IN=function(t){return H(t,(function(t){return Ft(t,"name")&&Ft(t,"items")}))}
var LN=function(t){var e=t.toolbar
var n=t.buttons
if(false===e)return[]
if(void 0===e||true===e)return HN(n)
if(k(e))return BN(e)
if(IN(e))return e
console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]")
return[]}
var PN=function(t,e,n,r,o,a){return Vt(e,n.toLowerCase()).orThunk((function(){return a.bind((function(t){return ft(t,(function(t){return Vt(e,t+n.toLowerCase())}))}))})).fold((function(){return Vt(RN,n.toLowerCase()).map((function(e){return e(t,o)})).orThunk((function(){return w.none()}))}),(function(e){if("grouptoolbarbutton"!==e.type||r)return AN(e,o,t)
console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.")
return w.none()}))}
var VN=function(t,e,n,r){var o=LN(e)
var a=U(o,(function(o){var a=et(o.items,(function(o){return 0===o.trim().length?[]:PN(t,e.buttons,o,e.allowToolbarGroups,n,r).toArray()}))
return{title:w.from(t.translate(o.name)),items:a}}))
return X(a,(function(t){return t.items.length>0}))}
var FN=12
var NN={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]}
var jN={maxHeightFunction:Mf(),maxWidthFunction:uP()}
var WN={onLtr:function(){return[bl,yl,hl,ml,pl,gl,Jw,Xw,qw,Ww,Gw,Uw]},onRtl:function(){return[bl,yl,pl,gl,hl,ml,Jw,Xw,Gw,Uw,qw,Ww]}}
var UN={onLtr:function(){return[yl,ml,gl,hl,pl,bl,Jw,Xw,qw,Ww,Gw,Uw]},onRtl:function(){return[yl,gl,ml,pl,hl,bl,Jw,Xw,Gw,Uw,qw,Ww]}}
var qN=function(t,e){return"line"===t?{bubble:Hf(FN,0,NN),layouts:{onLtr:function(){return[wl]},onRtl:function(){return[xl]}},overrides:jN}:{bubble:Hf(0,FN,NN),layouts:e?UN:WN,overrides:jN}}
var GN=function(t,e,n,r){var o=Jr().deviceType.isTouch
var a=yc(FF({sink:n,onEscape:function(){t.focus()
return w.some(true)}}))
var i=function(){return zF(t,r.backstage.shared)}
var u=function(t,e,n,r){return Math.max(t,n)<=Math.min(e,r)}
var c=function(){var e=m.get().filter((function(t){return Uu(er.fromDom(t))})).map((function(t){return t.getBoundingClientRect()})).getOrThunk((function(){return t.selection.getRng().getBoundingClientRect()}))
var n=t.inline?Uc().top:as(er.fromDom(t.getBody())).y
return{y:e.top+n,bottom:e.bottom+n}}
var s=function(){if(o()&&r.backstage.isContextMenuOpen())return true
var t=c()
var e=i()
return!u(t.y,t.bottom,e.y,e.bottom)}
var l=function(){Lw.hide(a)}
var f=function(){v.get().each((function(t){var e=a.element
rc(e,"display")
s()?$u(e,"display","none"):Ad.positionWithinBounds(n,t,a,w.some(i()))}))}
var v=$n(w.none())
var m=$n(w.none())
var g=$n(null)
var h=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:Vl([fy.config({mode:"acyclic"}),Sy("pop-dialog-wrap-events",[Ea((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return fy.focusIn(e)}))})),Da((function(e){t.shortcuts.remove("ctrl+F9")}))])])}}
var p=Kt((function(){return BF(e,(function(t){var e=x([t])
fa(a,IF,{forwardContents:h(e)})}))}))
var b=function(e,n){return VN(t,{buttons:e,toolbar:n.items,allowToolbarGroups:false},r,w.some(["form:"]))}
var y=function(t,e){return kF.buildInitGroups(t,e)}
var x=function(e){var n=t.ui.registry.getAll().buttons
var o=p()
var a=d(d({},n),o.formNavigators)
var i=mO(t)===dO.scrolling?dO.scrolling:dO.default
var u=tt(U(e,(function(t){return"contexttoolbar"===t.type?b(a,t):y(t,r.backstage.shared.providers)})))
return HV({type:i,uid:_i("context-toolbar"),initGroups:u,onEscape:w.none,cyclicKeying:true,providers:r.backstage.shared.providers})}
t.on(cP,(function(e){var n=p()
Vt(n.lookupTable,e.toolbarKey).each((function(n){S([n],e.target===t?w.none():w.some(e))
Lw.getContent(a).each(fy.focusIn)}))}))
var C=function(t,e){var n="node"===t?r.backstage.shared.anchors.node(e):r.backstage.shared.anchors.cursor()
return Xt(n,qN(t,o()))}
var S=function(t,e){k()
if(o()&&r.backstage.isContextMenuOpen())return
var n=x(t)
var u=e.map(er.fromDom)
var c=C(t[0].position,u)
v.set(w.some(c))
m.set(e)
var l=a.element
rc(l,"display")
Lw.showWithinBounds(a,c,h(n),(function(){return w.some(i())}))
s()&&$u(l,"display","none")}
var O=function(){if(!t.hasFocus())return
var e=p()
HF(e,t).fold((function(){v.set(w.none())
Lw.hide(a)}),(function(t){S(t.toolbars,w.some(t.elem.dom))}))}
var k=function(){var t=g.get()
if(null!==t){$w.clearTimeout(t)
g.set(null)}}
var T=function(t){k()
g.set(t)}
t.on("init",(function(){t.on(sP,l)
t.on("ScrollContent ScrollWindow longpress",f)
t.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){T($w.setEditorTimeout(t,O,0))}))
t.on("focusout",(function(e){$w.setEditorTimeout(t,(function(){if(Zl(n.element).isNone()&&Zl(a.element).isNone()){v.set(w.none())
Lw.hide(a)}}),0)}))
t.on("SwitchMode",(function(){if(t.mode.isReadOnly()){v.set(w.none())
Lw.hide(a)}}))
t.on("NodeChange",(function(e){Zl(a.element).fold((function(){T($w.setEditorTimeout(t,O,0))}),(function(t){}))}))}))}
var JN=function(t,e,n){var r=function(t,r){q([e,n],(function(e){e.broadcastEvent(t,r)}))}
var o=function(t,r){q([e,n],(function(e){e.broadcastOn([t],r)}))}
var a=function(t){return o(dm(),{target:t.target})}
var i=v_(er.fromDom(document),"touchstart",a)
var u=v_(er.fromDom(document),"touchmove",(function(t){return r(Ko(),t)}))
var c=v_(er.fromDom(document),"touchend",(function(t){return r(Yo(),t)}))
var s=v_(er.fromDom(document),"mousedown",a)
var l=v_(er.fromDom(document),"mouseup",(function(t){0===t.raw.button&&o(gm(),{target:t.target})}))
var f=function(t){return o(dm(),{target:er.fromDom(t.target)})}
var v=function(t){0===t.button&&o(gm(),{target:er.fromDom(t.target)})}
var d=function(t){return r(Qo(),m_(t))}
var m=function(t){o(mm(),{})
r(Zo(),m_(t))}
var g=function(){return o(mm(),{})}
t.on("PostRender",(function(){t.on("click",f)
t.on("tap",f)
t.on("mouseup",v)
t.on("ScrollWindow",d)
t.on("ResizeWindow",m)
t.on("ResizeEditor",g)}))
t.on("remove",(function(){t.off("click",f)
t.off("tap",f)
t.off("mouseup",v)
t.off("ScrollWindow",d)
t.off("ResizeWindow",m)
t.off("ResizeEditor",g)
s.unbind()
i.unbind()
u.unbind()
c.unbind()
l.unbind()}))
t.on("detach",(function(){Gd(e)
Gd(n)
e.destroy()
n.destroy()}))}
var XN=Kg
var $N=Ag
var KN=a([Pn("shell",false),yn("makeItem"),Pn("setupItem",e),Qm.field("listBehaviours",[xy])])
var YN=function(){return{behaviours:Vl([xy.config({})])}}
var QN=Mg({name:"items",overrides:YN})
var ZN=a([QN])
var tj=a("CustomList")
var ej=function(t,e,n,r){var o=function(e,n){i(e).fold((function(){console.error("Custom List was defined to not be a shell, but no item container was specified in components")
throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=xy.contents(r)
var a=n.length
var i=a-o.length
var u=i>0?j(i,(function(){return t.makeItem()})):[]
var c=o.slice(a)
q(c,(function(t){return xy.remove(r,t)}))
q(u,(function(t){return xy.append(r,t)}))
var s=xy.contents(r)
q(s,(function(r,o){t.setupItem(e,r,n[o],o)}))}))}
var a=t.shell?{behaviours:[xy.config({})],components:[]}:{behaviours:[],components:e}
var i=function(e){return t.shell?w.some(e):jg(e,t,"items")}
return{uid:t.uid,dom:t.dom,components:a.components,behaviours:Ym(t.listBehaviours,a.behaviours),apis:{setItems:o}}}
var nj=uh({name:tj(),configFields:KN(),partFields:ZN(),factory:ej,apis:{setItems:function(t,e,n){t.setItems(e,n)}}})
var rj=e
var oj=l
var aj=a([])
var ij=Object.freeze({__proto__:null,setup:rj,isDocked:oj,getBehaviours:aj})
var uj=function(t){var e=tc(t,"position").is("fixed")
var n=e?w.none():Ja(t)
return n.orThunk((function(){var e=er.fromTag("span")
return qa(t).bind((function(t){ei(t,e)
var n=Ja(e)
ii(e)
return n}))}))}
var cj=function(t){return uj(t).map(Ec).getOrThunk((function(){return _c(0,0)}))}
var sj=Wt.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}])
var lj=function(t,e){var n=t.element
_u(n,e.transitionClass)
Mu(n,e.fadeOutClass)
_u(n,e.fadeInClass)
e.onShow(t)}
var fj=function(t,e){var n=t.element
_u(n,e.transitionClass)
Mu(n,e.fadeInClass)
_u(n,e.fadeOutClass)
e.onHide(t)}
var vj=function(t,e){return t.y<e.bottom&&t.bottom>e.y}
var dj=function(t,e){return t.y>=e.y}
var mj=function(t,e){return t.bottom<=e.bottom}
var gj=function(t,e,n){return nt(t,(function(t){switch(t){case"bottom":return mj(e,n)
case"top":return dj(e,n)}}))}
var hj=function(t,e){return e.getInitialPosition().map((function(e){return rs(e.bounds.x,e.bounds.y,Hc(t),Sc(t))}))}
var pj=function(t,e,n){n.setInitialPosition(w.some({style:ec(t),position:Qu(t,"position")||"static",bounds:e}))}
var bj=function(t,e,n){return n.getInitialPosition().bind((function(r){n.setInitialPosition(w.none())
switch(r.position){case"static":return w.some(sj.static())
case"absolute":var o=uj(t).map(os).getOrThunk((function(){return os(qu())}))
return w.some(sj.absolute(ef("absolute",Vt(r.style,"left").map((function(t){return e.x-o.x})),Vt(r.style,"top").map((function(t){return e.y-o.y})),Vt(r.style,"right").map((function(t){return o.right-e.right})),Vt(r.style,"bottom").map((function(t){return o.bottom-e.bottom})))))
default:return w.none()}}))}
var yj=function(t,e,n){return hj(t,n).filter((function(t){return gj(n.getModes(),t,e)})).bind((function(e){return bj(t,e,n)}))}
var wj=function(t,e,n){var r=os(t)
if(gj(n.getModes(),r,e))return w.none()
pj(t,r,n)
var o=is()
var a=r.x-o.x
var i=e.y-o.y
var u=o.bottom-e.bottom
var c=r.y<=e.y
return w.some(sj.fixed(ef("fixed",w.some(a),c?w.some(i):w.none(),w.none(),c?w.none():w.some(u))))}
var xj=function(t,e,n){var r=t.element
var o=tc(r,"position").is("fixed")
return o?yj(r,e,n):wj(r,e,n)}
var Cj=function(t,e){var n=t.element
return hj(n,e).bind((function(t){return bj(n,t,e)}))}
var Sj=function(t,e){q(["left","right","top","bottom","position"],(function(e){return rc(t.element,e)}))
e.onUndocked(t)}
var Oj=function(t,e,n){nf(t.element,n)
var r="fixed"===n.position?e.onDocked:e.onUndocked
r(t)}
var kj=function(t,e,n,r,o){void 0===o&&(o=false)
e.contextual.each((function(e){e.lazyContext(t).each((function(a){var i=vj(a,r)
if(i!==n.isVisible()){n.setVisible(i)
if(o&&!i){Du(t.element,[e.fadeOutClass])
e.onHide(t)}else{var u=i?lj:fj
u(t,e)}}}))}))}
var Tj=function(t,e,n){var r=e.lazyViewport(t)
var o=n.isDocked()
o&&kj(t,e,n,r)
xj(t,r,n).each((function(a){n.setDocked(!o)
a.fold((function(){return Sj(t,e)}),(function(n){return Oj(t,e,n)}),(function(o){kj(t,e,n,r,true)
Oj(t,e,o)}))}))}
var _j=function(t,n,r){var o=t.element
r.setDocked(false)
Cj(t,r).each((function(r){r.fold((function(){return Sj(t,n)}),(function(e){return Oj(t,n,e)}),e)}))
r.setVisible(true)
n.contextual.each((function(e){Au(o,[e.fadeInClass,e.fadeOutClass,e.transitionClass])
e.onShow(t)}))
zj(t,n,r)}
var zj=function(t,e,n){t.getSystem().isConnected()&&Tj(t,e,n)}
var Mj=function(t,e,n){n.isDocked()&&_j(t,e,n)}
var Ej=function(t,e,n){return n.isDocked()}
var Dj=function(t,e,n,r){return n.setModes(r)}
var Aj=function(t,e,n){return n.getModes()}
var Rj=Object.freeze({__proto__:null,refresh:zj,reset:Mj,isDocked:Ej,getModes:Aj,setModes:Dj})
var Hj=function(t,e){return ha([Ma(Bo(),(function(n,r){t.contextual.each((function(t){if(Eu(n.element,t.transitionClass)){Au(n.element,[t.transitionClass,t.fadeInClass])
var o=e.isVisible()?t.onShown:t.onHidden
o(n)}r.stop()}))})),wa(Qo(),(function(n,r){zj(n,t,e)})),wa(Zo(),(function(n,r){Mj(n,t,e)}))])}
var Bj=Object.freeze({__proto__:null,events:Hj})
var Ij=[In("contextual",[Cn("fadeInClass"),Cn("fadeOutClass"),Cn("transitionClass"),kn("lazyContext"),Ls("onShow"),Ls("onShown"),Ls("onHide"),Ls("onHidden")]),Un("lazyViewport",is),Gn("modes",["top","bottom"],dn),Ls("onDocked"),Ls("onUndocked")]
var Lj=function(t){var e=$n(false)
var n=$n(true)
var r=$n(w.none())
var o=$n(t.modes)
var a=function(){return"docked:  "+e.get()+", visible: "+n.get()+", modes: "+o.get().join(",")}
return Xi({isDocked:e.get,setDocked:e.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:a})}
var Pj=Object.freeze({__proto__:null,init:Lj})
var Vj=Nl({fields:Ij,name:"docking",active:Bj,apis:Rj,state:Pj})
var Fj={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"}
var Nj="tox-tinymce--toolbar-sticky-on"
var jj="tox-tinymce--toolbar-sticky-off"
var Wj=function(t,e){var n=Na(e)
var r=n.dom.defaultView.innerHeight
var o=Uc(n)
var a=er.fromDom(t.elm)
var i=as(a)
var u=Sc(a)
var c=i.y
var s=c+u
var l=Ec(e)
var f=Sc(e)
var v=l.top
var d=v+f
var m=Math.abs(v-o.top)<2
var g=Math.abs(d-(o.top+r))<2
if(m&&c<d)qc(o.left,c-f,n)
else if(g&&s>v){var h=c-r+u+f
qc(o.left,h,n)}}
var Uj=function(t,e){return F(Vj.getModes(t),e)}
var qj=function(t){var e=function(t){return Oc(t)+(parseInt(Qu(t,"margin-top"),10)||0)+(parseInt(Qu(t,"margin-bottom"),10)||0)}
var n=t.element
qa(n).each((function(r){var o="padding-"+Vj.getModes(t)[0]
if(Vj.isDocked(t)){var a=Hc(r)
$u(n,"width",a+"px")
$u(r,o,e(n)+"px")}else{rc(n,"width")
rc(r,o)}}))}
var Gj=function(t,e){if(e){Mu(t,Fj.fadeOutClass)
Du(t,[Fj.transitionClass,Fj.fadeInClass])}else{Mu(t,Fj.fadeInClass)
Du(t,[Fj.fadeOutClass,Fj.transitionClass])}}
var Jj=function(t,e){var n=er.fromDom(t.getContainer())
if(e){_u(n,Nj)
Mu(n,jj)}else{_u(n,jj)
Mu(n,Nj)}}
var Xj=function(t,e){var n=Na(e)
Ql(n).filter((function(t){return!oo(e,t)})).filter((function(e){return oo(e,er.fromDom(n.dom.body))||uo(t,e)})).each((function(){return $l(e)}))}
var $j=function(t,e){return Zl(t).orThunk((function(){return e().toOptional().bind((function(t){return Zl(t.element)}))}))}
var Kj=function(t,e,n){if(!t.inline){e.header.isPositionedAtTop()||t.on("ResizeEditor",(function(){n().each(Vj.reset)}))
t.on("ResizeWindow ResizeEditor",(function(){n().each(qj)}))
t.on("SkinLoaded",(function(){n().each((function(t){Vj.isDocked(t)?Vj.reset(t):Vj.refresh(t)}))}))
t.on("FullscreenStateChanged",(function(){n().each(Vj.reset)}))}t.on("AfterScrollIntoView",(function(t){n().each((function(e){Vj.refresh(e)
var n=e.element
Rp(n)&&Wj(t,n)}))}))
t.on("PostRender",(function(){Jj(t,false)}))}
var Yj=function(t){return t().map(Vj.isDocked).getOr(false)}
var Qj=function(){var t
return[ql.config({channels:(t={},t[_V()]={onReceive:qj},t)})]}
var Zj=function(t,e){var n=$n(w.none())
var r=e.getSink
var o=function(t){r().each((function(e){return t(e.element)}))}
var a=function(e){t.inline||qj(e)
Jj(t,Vj.isDocked(e))
e.getSystem().broadcastOn([mm()],{})
r().each((function(t){return t.getSystem().broadcastOn([mm()],{})}))}
var i=t.inline?[]:Qj()
return g([Ay.config({}),Vj.config({contextual:d({lazyContext:function(e){var n=Oc(e.element)
var r=t.inline?t.getContentAreaContainer():t.getContainer()
var o=os(er.fromDom(r))
var a=o.height-n
var i=o.y+(Uj(e,"top")?0:n)
return w.some(rs(o.x,i,o.width,a))},onShow:function(){o((function(t){return Gj(t,true)}))},onShown:function(t){o((function(t){return Au(t,[Fj.transitionClass,Fj.fadeInClass])}))
n.get().each((function(e){Xj(t.element,e)
n.set(w.none())}))},onHide:function(t){n.set($j(t.element,r))
o((function(t){return Gj(t,false)}))},onHidden:function(){o((function(t){return Au(t,[Fj.transitionClass])}))}},Fj),modes:[e.header.getDockingMode()],onDocked:a,onUndocked:a})],i)}
var tW=Object.freeze({__proto__:null,setup:Kj,isDocked:Yj,getBehaviours:Zj})
var eW=function(t){var e=t.editor
var n=t.sticky?Zj:aj
return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Vl(n(e,t.sharedBackstage))}}
var nW=function(t,e){var n=function(t,n){var r=U(n,(function(t){var n={type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}}
var r=VV(n).mapError((function(t){return an(t)})).getOrDie()
return DH(r,"tox-mbtn",e.backstage,w.some("menuitem"))}))
xy.set(t,r)}
var r={focus:fy.focusIn,setMenus:n}
return{uid:t.uid,dom:t.dom,components:[],behaviours:Vl([xy.config({}),Sy("menubar-events",[Ea((function(e){t.onSetup(e)})),wa(_o(),(function(t,e){ds(t.element,".tox-mbtn--active").each((function(n){ms(e.event.target,".tox-mbtn").each((function(e){oo(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){hM.expand(t)
hM.close(n)
Ay.focus(t)}))}))}))}))})),wa(oa(),(function(t,e){e.event.prevFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(n){e.event.newFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(t){if(hM.isOpen(n)){hM.expand(t)
hM.close(n)}}))}))}))]),fy.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){t.onEscape(e)
return w.some(true)}}),Z_.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}}
var rW=ih({factory:nW,name:"silver.Menubar",configFields:[yn("dom"),yn("uid"),yn("onEscape"),yn("backstage"),Pn("onSetup",e)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}})
var oW="container"
var aW=[$m("slotBehaviours",[])]
var iW=function(t){return"<alloy.field."+t+">"}
var uW=function(t){var e=function(){var t=[]
var e=function(e,n){t.push(e)
return Lg(oW,iW(e),n)}
return{slot:e,record:function(){return t}}}()
var n=t(e)
var r=e.record()
var o=U(r,(function(t){return _g({name:t,pname:iW(t)})}))
return th(oW,aW,o,cW,n)}
var cW=function(t,e){var n=function(e){return Gg(t)}
var r=function(e,n){return jg(e,t,n)}
var o=function(e,n){return function(r,o){return jg(r,t,o).map((function(t){return e(t,o)})).getOr(n)}}
var a=function(t){return function(e,n){q(n,(function(n){return t(e,n)}))}}
var i=function(t,e){return"true"!==gi(t.element,"aria-hidden")}
var u=function(t,e){if(!i(t)){var n=t.element
rc(n,"display")
bi(n,"aria-hidden")
fa(t,aa(),{name:e,visible:true})}}
var c=function(t,e){if(i(t)){var n=t.element
$u(n,"display","none")
di(n,"aria-hidden","true")
fa(t,aa(),{name:e,visible:false})}}
var s=o(i,false)
var l=o(c)
var f=a(l)
var v=function(t){return f(t,n())}
var d=o(u)
var m={getSlotNames:n,getSlot:r,isShowing:s,hideSlot:l,hideAllSlots:v,showSlot:d}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Km(t.slotBehaviours),apis:m}}
var sW=Dt({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return Gi(t)}))
var lW=d(d({},sW),{sketch:uW})
var fW=Pe([Rn("icon"),Rn("tooltip"),Un("onShow",e),Un("onHide",e),Un("onSetup",(function(){return e}))])
var vW=function(t){return nn("sidebar",fW,t)}
var dW=function(t){var e=t.ui.registry.getAll().sidebars
q(zt(e),(function(n){var r=e[n]
var o=function(){return w.from(t.queryCommandValue("ToggleSidebar")).is(n)}
t.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(e){t.execCommand("ToggleSidebar",false,n)
e.setActive(o())},onSetup:function(e){var n=function(){return e.setActive(o())}
t.on("ToggleSidebar",n)
return function(){t.off("ToggleSidebar",n)}}})}))}
var mW=function(t){return{element:function(){return t.element.dom}}}
var gW=function(t,n){var r=U(zt(n),(function(t){var e=n[t]
var r=rn(vW(e))
return{name:t,getApi:mW,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}))
return U(r,(function(n){var o=$n(e)
return t.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:gS.unnamedEvents([XO(n,o),$O(n,o),wa(aa(),(function(t,e){var n=e.event
var o=Q(r,(function(t){return t.name===n.name}))
o.each((function(e){var r=n.visible?e.onShow:e.onHide
r(e.getApi(t))}))}))])})}))}
var hW=function(t){return lW.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:gW(e,t),slotBehaviours:gS.unnamedEvents([Ea((function(t){return lW.hideAllSlots(t)}))])}}))}
var pW=function(t,e){var n=bh.getCurrent(t)
n.each((function(t){return xy.set(t,[hW(e)])}))}
var bW=function(t,e){var n=bh.getCurrent(t)
n.each((function(t){var n=bh.getCurrent(t)
n.each((function(n){if(yV.hasGrown(t))if(lW.isShowing(n,e))yV.shrink(t)
else{lW.hideAllSlots(n)
lW.showSlot(n,e)}else{lW.hideAllSlots(n)
lW.showSlot(n,e)
yV.grow(t)}}))}))}
var yW=function(t){var e=bh.getCurrent(t)
return e.bind((function(t){var e=yV.isGrowing(t)||yV.hasGrown(t)
if(e){var n=bh.getCurrent(t)
return n.bind((function(t){return Q(lW.getSlotNames(t),(function(e){return lW.isShowing(t,e)}))}))}return w.none()}))}
var wW=_i("FixSizeEvent")
var xW=_i("AutoSizeEvent")
var CW=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Vl([Z_.config({}),Ay.config({}),yV.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){var e=bh.getCurrent(t)
e.each(lW.hideAllSlots)
la(t,xW)},onGrown:function(t){la(t,xW)},onStartGrow:function(t){fa(t,wW,{width:tc(t.element,"width").getOr("")})},onStartShrink:function(t){fa(t,wW,{width:Hc(t.element)+"px"})}}),xy.config({}),bh.config({find:function(t){var e=xy.contents(t)
return ct(e)}})])}],behaviours:Vl([TA.childAt(0),Sy("sidebar-sliding-events",[wa(wW,(function(t,e){$u(t.element,"width",e.event.width)})),wa(xW,(function(t,e){rc(t.element,"width")}))])])}}
var SW=function(t){var e=void 0!==t.dom.attributes?t.dom.attributes:[]
return K(e,(function(t,e){var n
return"class"===e.name?t:d(d({},t),(n={},n[e.name]=e.value,n))}),{})}
var OW=function(t){return Array.prototype.slice.call(t.dom.classList,0)}
var kW=function(t){var e=er.fromHtml(t)
var n=$a(e)
var r=SW(e)
var o=OW(e)
var a=0===n.length?{}:{innerHtml:si(e)}
return d({tag:Ha(e),classes:o,attributes:r},a)}
var TW=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:kW('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Vl([fy.config({mode:"special",onTab:function(){return w.some(true)},onShiftTab:function(){return w.some(true)}}),Ay.config({})])}}
var _W=function(t,e,n){var r=t.element
if(true===e){xy.set(t,[TW(n)])
rc(r,"display")
bi(r,"aria-hidden")}else{xy.set(t,[])
$u(r,"display","none")
di(r,"aria-hidden","true")}}
var zW=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Vl([xy.config({})]),components:[]}}
var MW=function(t,e,n){var r=$n(false)
var o=$n(w.none())
var a=function(t){if(t!==r.get()){_W(e(),t,n.providers)
r.set(t)}}
t.on("ProgressState",(function(e){o.get().each($w.clearTimeout)
if(R(e.time)){var n=$w.setEditorTimeout(t,(function(){return a(e.state)}),e.time)
o.set(w.some(n))}else{a(e.state)
o.set(w.none())}}))}
var EW=function(t,e,n){var r={getSocket:function(e){return XN.getPart(e,t,"socket")},setSidebar:function(e,n){XN.getPart(e,t,"sidebar").each((function(t){return pW(t,n)}))},toggleSidebar:function(e,n){XN.getPart(e,t,"sidebar").each((function(t){return bW(t,n)}))},whichSidebar:function(e){return XN.getPart(e,t,"sidebar").bind(yW).getOrNull()},getHeader:function(e){return XN.getPart(e,t,"header")},getToolbar:function(e){return XN.getPart(e,t,"toolbar")},setToolbar:function(e,n){XN.getPart(e,t,"toolbar").each((function(t){t.getApis().setGroups(t,n)}))},setToolbars:function(e,n){XN.getPart(e,t,"multiple-toolbar").each((function(t){nj.setItems(t,n)}))},refreshToolbar:function(e){var n=XN.getPart(e,t,"toolbar")
n.each((function(t){return t.getApis().refresh(t)}))},toggleToolbarDrawer:function(e){XN.getPart(e,t,"toolbar").each((function(t){vh(t.getApis().toggle,(function(e){return e(t)}))}))},isToolbarDrawerToggled:function(e){return XN.getPart(e,t,"toolbar").bind((function(t){return w.from(t.getApis().isOpen).map((function(e){return e(t)}))})).getOr(false)},getThrobber:function(e){return XN.getPart(e,t,"throbber")},focusToolbar:function(e){var n=XN.getPart(e,t,"toolbar").orThunk((function(){return XN.getPart(e,t,"multiple-toolbar")}))
n.each((function(t){fy.focusIn(t)}))},setMenubar:function(e,n){XN.getPart(e,t,"menubar").each((function(t){rW.setMenus(t,n)}))},focusMenubar:function(e){XN.getPart(e,t,"menubar").each((function(t){rW.focus(t)}))}}
return{uid:t.uid,dom:t.dom,components:e,apis:r,behaviours:t.behaviours}}
var DW=$N.optional({factory:rW,name:"menubar",schema:[yn("backstage")]})
var AW=function(t){return t.type===dO.sliding?RV:t.type===dO.floating?AV:HV}
var RW=$N.optional({factory:{sketch:function(t){return nj.sketch({uid:t.uid,dom:t.dom,listBehaviours:Vl([fy.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return HV({type:t.type,uid:_i("multiple-toolbar-item"),cyclicKeying:false,initGroups:[],providers:t.providers,onEscape:function(){t.onEscape()
return w.some(true)}})},setupItem:function(t,e,n,r){mP.setGroups(e,n)},shell:true})}},name:"multiple-toolbar",schema:[yn("dom"),yn("onEscape")]})
var HW=$N.optional({factory:{sketch:function(t){var e=AW(t)
var n={type:t.type,uid:t.uid,onEscape:function(){t.onEscape()
return w.some(true)},cyclicKeying:false,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes}
return e(n)}},name:"toolbar",schema:[yn("dom"),yn("onEscape"),yn("getSink")]})
var BW=$N.optional({factory:{sketch:eW},name:"header",schema:[yn("dom")]})
var IW=$N.optional({name:"socket",schema:[yn("dom")]})
var LW=$N.optional({factory:{sketch:CW},name:"sidebar",schema:[yn("dom")]})
var PW=$N.optional({factory:{sketch:zW},name:"throbber",schema:[yn("dom")]})
var VW=uh({name:"OuterContainer",factory:EW,configFields:[yn("dom"),yn("behaviours")],partFields:[BW,DW,HW,RW,IW,LW,PW],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var r=U(n,(function(t){return MV(t)}))
t.setToolbar(e,r)},setToolbars:function(t,e,n){var r=U(n,(function(t){return U(t,MV)}))
t.setToolbars(e,r)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},toggleToolbarDrawer:function(t,e){t.toggleToolbarDrawer(e)},isToolbarDrawerToggled:function(t,e){return t.isToolbarDrawerToggled(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}})
var FW="file edit view insert format tools table help"
var NW={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}}
var jW=function(t,e,n){var r=cO(n).split(/[ ,]/)
return{text:t.title,getItems:function(){return et(t.items,(function(t){var n=t.toLowerCase()
return 0===n.trim().length||N(r,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}}
var WW=function(t){if("string"===typeof t)return t.split(" ")
return t}
var UW=function(t,e){var n=d(d({},NW),e.menus)
var r=zt(e.menus).length>0
var o=void 0===e.menubar||true===e.menubar?WW(FW):WW(false===e.menubar?"":e.menubar)
var a=X(o,(function(t){return r&&e.menus.hasOwnProperty(t)&&e.menus[t].hasOwnProperty("items")||NW.hasOwnProperty(t)}))
var i=U(a,(function(r){var o=n[r]
return jW({title:o.title,items:WW(o.items)},e,t)}))
return X(i,(function(t){var e=function(t){return"separator"!==t.type}
return t.getItems().length>0&&N(t.getItems(),e)}))}
var qW=function(t){var e=function(){t._skinLoaded=true
Xk(t)}
return function(){t.initialized?e():t.on("init",e)}}
var GW=function(t,e){return function(){return $k(t,{message:e})}}
var JW=function(t,e,n){return new Ox((function(r,o){n.load(e,r,o)
t.on("remove",(function(){return n.unload(e)}))}))}
var XW=function(t,e){var n=e+"/skin.min.css"
return JW(t,n,t.ui.styleSheetLoader)}
var $W=function(t,e){var n=Vu(er.fromDom(t.getElement()))
if(n){var r=e+"/skin.shadowdom.min.css"
return JW(t,r,zS.DOM.styleSheetLoader)}return Ox.resolve()}
var KW=function(t,e){var n=KS(e)
n&&e.contentCSS.push(n+(t?"/content.inline":"/content")+".min.css")
false===QS(e)&&k(n)?Ox.all([XW(e,n),$W(e,n)]).then(qW(e),GW(e,"Skin could not be loaded")):qW(e)()}
var YW=u(KW,false)
var QW=u(KW,true)
var ZW=function(t,e,n,r){var o=e.outerContainer
var a=n.toolbar
var i=n.buttons
if(H(a,k)){var u=a.map((function(e){var o={toolbar:e,buttons:i,allowToolbarGroups:n.allowToolbarGroups}
return VN(t,o,{backstage:r},w.none())}))
VW.setToolbars(o,u)}else VW.setToolbar(o,VN(t,n,{backstage:r},w.none()))}
var tU=Jr()
var eU=tU.os.isiOS()&&tU.os.version.major<=12
var nU=function(t,e){var n=t.dom
var r=t.getWin()
var o=t.getDoc().documentElement
var a=$n(_c(r.innerWidth,r.innerHeight))
var i=$n(_c(o.offsetWidth,o.offsetHeight))
var u=function(){var e=a.get()
if(e.left!==r.innerWidth||e.top!==r.innerHeight){a.set(_c(r.innerWidth,r.innerHeight))
Yk(t)}}
var c=function(){var e=t.getDoc().documentElement
var n=i.get()
if(n.left!==e.offsetWidth||n.top!==e.offsetHeight){i.set(_c(e.offsetWidth,e.offsetHeight))
Yk(t)}}
var s=function(e){return Qk(t,e)}
n.bind(r,"resize",u)
n.bind(r,"scroll",s)
var l=d_(er.fromDom(t.getBody()),"load",c)
var f=e.uiMothership.element
t.on("hide",(function(){$u(f,"display","none")}))
t.on("show",(function(){rc(f,"display")}))
t.on("NodeChange",c)
t.on("remove",(function(){l.unbind()
n.unbind(r,"resize",u)
n.unbind(r,"scroll",s)
r=null}))}
var rU=function(t,e,n,r,o){var a=$n(0)
var i=e.outerContainer
YW(t)
var u=er.fromDom(o.targetNode)
var c=Pu(Lu(u))
Ud(u,e.mothership)
Wd(c,e.uiMothership)
t.on("PostRender",(function(){ZW(t,e,n,r)
a.set(t.getWin().innerWidth)
VW.setMenubar(i,UW(t,n))
VW.setSidebar(i,n.sidebar)
nU(t,e)}))
var s=VW.getSocket(i).getOrDie("Could not find expected socket element")
if(eU){Ku(s.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"})
var l=ux((function(){t.fire("ScrollContent")}),20)
var f=v_(s.element,"scroll",l.throttle)
t.on("remove",f.unbind)}FO(t,e)
t.addCommand("ToggleSidebar",(function(e,n){VW.toggleSidebar(i,n)
t.fire("ToggleSidebar")}))
t.addQueryValueHandler("ToggleSidebar",(function(){return VW.whichSidebar(i)}))
var v=mO(t)
var d=function(){VW.refreshToolbar(e.outerContainer)}
v!==dO.sliding&&v!==dO.floating||t.on("ResizeWindow ResizeEditor ResizeContent",(function(){var e=t.getWin().innerWidth
if(e!==a.get()){d()
a.set(e)}}))
var m={enable:function(){VO(e,false)},disable:function(){VO(e,true)},isDisabled:function(){return XS.isDisabled(i)}}
return{iframeContainer:s.element.dom,editorContainer:i.element.dom,api:m}}
var oU=Object.freeze({__proto__:null,render:rU})
var aU=function(t){var e=/^[0-9\.]+(|px)$/i
if(e.test(""+t))return w.some(parseInt(""+t,10))
return w.none()}
var iU=function(t){return R(t)?t+"px":t}
var uU=function(t,e,n){var r=e.filter((function(e){return t<e}))
var o=n.filter((function(e){return t>e}))
return r.or(o).getOr(t)}
var cU=function(t){var e=ZS(t)
var n=nO(t)
var r=oO(t)
return aU(e).map((function(t){return uU(t,n,r)}))}
var sU=function(t){var e=cU(t)
return e.getOr(ZS(t))}
var lU=function(t){var e=tO(t)
var n=eO(t)
var r=rO(t)
return aU(e).map((function(t){return uU(t,n,r)}))}
var fU=function(t){var e=lU(t)
return e.getOr(tO(t))}
var vU=function(t,e,n,r,o){var a=n.uiMothership,i=n.outerContainer
var u=zS.DOM
var c=CO(t)
var s=kO(t)
var l=rO(t).or(lU(t))
var f=r.shared.header
var v=f.isPositionedAtTop
var d=mO(t)
var m=d===dO.sliding||d===dO.floating
var g=$n(false)
var h=function(){return g.get()&&!t.removed}
var p=function(t){return m?t.fold((function(){return 0}),(function(t){return t.components().length>1?Sc(t.components()[1].element):0})):0}
var b=function(n){switch(pO(t)){case gO.auto:var r=VW.getToolbar(i)
var o=p(r)
var a=Sc(n.element)-o
var u=os(e)
var c=u.y>a
if(c)return"top"
var s=Wa(e)
var l=Math.max(s.dom.scrollHeight,Sc(s))
var f=u.bottom<l-a
if(f)return"bottom"
var v=is()
var d=v.bottom<u.bottom-a
return d?"bottom":"top"
case gO.bottom:return"bottom"
case gO.top:default:return"top"}}
var y=function(t){var e=o.get()
Vj.setModes(e,[t])
f.setDockingMode(t)
var n=v()?Vf.TopToBottom:Vf.BottomToTop
di(e.element,Ff,n)}
var w=function(){var t=l.getOrThunk((function(){var t=aU(Qu(qu(),"margin-left")).getOr(0)
return Hc(qu())-Ec(e).left+t}))
$u(o.get().element,"max-width",t+"px")}
var x=function(){var t=VW.getToolbar(i)
var n=p(t)
var r=os(e)
var a=v()?Math.max(r.y-Sc(o.get().element)+n,0):r.bottom
Ku(i.element,{position:"absolute",top:Math.round(a)+"px",left:Math.round(r.x)+"px"})}
var C=function(){a.broadcastOn([mm()],{})}
var S=function(t){void 0===t&&(t=false)
if(!h())return
c||w()
m&&VW.refreshToolbar(i)
c||x()
if(s){var e=o.get()
t?Vj.reset(e):Vj.refresh(e)}C()}
var O=function(t){void 0===t&&(t=true)
if(c||!s||!h())return
var e=f.getDockingMode()
var n=b(o.get())
if(n!==e){y(n)
t&&S(true)}}
var k=function(){g.set(true)
$u(i.element,"display","flex")
u.addClass(t.getBody(),"mce-edit-focus")
rc(a.element,"display")
O(false)
S()}
var T=function(){g.set(false)
if(n.outerContainer){$u(i.element,"display","none")
u.removeClass(t.getBody(),"mce-edit-focus")}$u(a.element,"display","none")}
return{isVisible:h,isPositionedAtTop:v,show:k,hide:T,update:S,updateMode:O,repositionPopups:C}}
var dU=function(t,e){var n=os(t)
return{pos:e?n.y:n.bottom,bounds:n}}
var mU=function(t,e,n,r){var o=$n(dU(e,n.isPositionedAtTop()))
var a=function(r){var a=dU(e,n.isPositionedAtTop()),i=a.pos,u=a.bounds
var c=o.get(),s=c.pos,l=c.bounds
var f=u.height!==l.height||u.width!==l.width
o.set({pos:i,bounds:u})
f&&Yk(t,r)
if(n.isVisible())if(s!==i)n.update(true)
else if(f){n.updateMode()
n.repositionPopups()}}
if(!r){t.on("activate",n.show)
t.on("deactivate",n.hide)}t.on("SkinLoaded ResizeWindow",(function(){return n.update(true)}))
t.on("NodeChange keydown",(function(t){$w.requestAnimationFrame((function(){return a(t)}))}))
t.on("ScrollWindow",(function(){return n.updateMode()}))
var i=bN()
i.set(d_(er.fromDom(t.getBody()),"load",a))
t.on("remove",(function(){i.clear()}))}
var gU=function(t,e,n,r,o){var a=e.mothership,i=e.uiMothership,u=e.outerContainer
var c=$n(null)
var s=er.fromDom(o.targetNode)
var l=vU(t,s,e,r,c)
var f=wO(t)
QW(t)
var v=function(){if(c.get()){l.show()
return}c.set(VW.getHeader(u).getOrDie())
var o=SO(t)
Wd(o,a)
Wd(o,i)
ZW(t,e,n,r)
VW.setMenubar(u,UW(t,n))
l.show()
mU(t,s,l,f)
t.nodeChanged()}
t.on("show",v)
t.on("hide",l.hide)
if(!f){t.on("focus",v)
t.on("blur",l.hide)}t.on("init",(function(){(t.hasFocus()||f)&&v()}))
FO(t,e)
var d={show:function(){l.show()},hide:function(){l.hide()},enable:function(){VO(e,false)},disable:function(){VO(e,true)},isDisabled:function(){return XS.isDisabled(u)}}
return{editorContainer:u.element.dom,api:d}}
var hU=Object.freeze({__proto__:null,render:gU})
var pU=function(t){var e=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}]
HA.each(e,(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,onAction:function(){return t.execCommand(e.cmd)},icon:e.icon,onSetup:wN(t,e.name)})}))
var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"}
t.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return t.execCommand(n.cmd)},icon:n.icon})}
var bU=function(t,e){QF(t,e)
aN(t,e)
zN(t,e)
kN(t,e)
mN(t,e)}
var yU=function(t,e){t.setDisabled(!e.queryCommandState("outdent"))
var n=function(){t.setDisabled(!e.queryCommandState("outdent"))}
e.on("NodeChange",n)
return function(){return e.off("NodeChange",n)}}
var wU=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return yU(e,t)},onAction:function(){return t.execCommand("outdent")}})
t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})}
var xU=function(t){wU(t)}
var CU=function(t,e){return function(){t.execCommand("mceToggleFormat",false,e)}}
var SU=function(t){HA.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:wN(t,e.name),onAction:CU(t,e.name)})}))
for(var e=1;e<=6;e++){var n="h"+e
t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:wN(t,n),onAction:CU(t,n)})}}
var OU=function(t){HA.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})}))}
var kU=function(t){HA.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)},onSetup:wN(t,e.name)})}))}
var TU=function(t){SU(t)
OU(t)
kU(t)}
var _U=function(t){HA.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})}))
t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:CU(t,"code")})}
var zU=function(t){TU(t)
_U(t)}
var MU=function(t,e,n){var r=function(){return!!e.undoManager&&e.undoManager[n]()}
var o=function(){t.setDisabled(e.mode.isReadOnly()||!r())}
t.setDisabled(!r())
e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)
return function(){return e.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}}
var EU=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return MU(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}})
t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return MU(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}
var DU=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return MU(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}})
t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return MU(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}
var AU=function(t){EU(t)
DU(t)}
var RU=function(t,e){t.setActive(e.hasVisual)
var n=function(e){t.setActive(e.hasVisual)}
e.on("VisualAid",n)
return function(){return e.off("VisualAid",n)}}
var HU=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return RU(e,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})}
var BU=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})}
var IU=function(t){BU(t)
HU(t)}
var LU={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]}
var PU=(VU="[0-9]+",FU="[+-]?"+VU,NU="[eE]"+FU,jU="\\.",WU=function(t){return"(?:"+t+")?"},UU=["Infinity",VU+jU+WU(VU)+WU(NU),jU+VU+WU(NU),VU+WU(NU)].join("|"),qU="[+-]?(?:"+UU+")",new RegExp("^("+qU+")(.*)$"))
var VU,FU,NU,jU,WU,UU,qU
var GU=function(t,e){return N(e,(function(e){return N(LU[e],(function(e){return t===e}))}))}
var JU=function(t,e){var n=w.from(PU.exec(t))
return n.bind((function(t){var n=Number(t[1])
var r=t[2]
return GU(r,e)?w.some({value:n,unit:r}):w.none()}))}
var XU=function(t,e){return JU(t,e).map((function(t){var e=t.value,n=t.unit
return e+n}))}
var $U=function(t){return XU(t,["fixed","relative","empty"]).getOr(t)}
var KU=function(t){var e=uO(t)
var n=new Map
var r=pN()
var o=function(){var e=$U(t.queryCommandValue("LineHeight"))
w.from(n.get(e)).fold((function(){return r.clear()}),(function(t){r.set({destroy:function(){t.setActive(false)}})
t.setActive(true)}))}
t.on("nodeChange",o)
return U(e,(function(a,i){return{type:"togglemenuitem",text:a,onSetup:function(u){n.set($U(a),u)
i+1===e.length&&o()
return function(){if(0===i){t.off("nodeChange",o)
r.clear()}}},onAction:function(){return t.execCommand("LineHeight",false,a)}}}))}
var YU=function(t){t.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return KU(t)}})}
var QU=function(t){t.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(e){return e(KU(t))}})}
var ZU=function(t){YU(t)
QU(t)}
var tq=function(t,e){pU(t)
zU(t)
bU(t,e)
AU(t)
_T(t)
IU(t)
xU(t)
ZU(t)}
var eq=function(t,e){return{anchor:"makeshift",x:t,y:e}}
var nq=function(t,e,n){return eq(t.x+e,t.y+n)}
var rq=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")}
var oq=function(t){if(rq(t)){var e=t.touches[0]
return eq(e.pageX,e.pageY)}return eq(t.pageX,t.pageY)}
var aq=function(t){if(rq(t)){var e=t.touches[0]
return eq(e.clientX,e.clientY)}return eq(t.clientX,t.clientY)}
var iq=function(t,e){var n=zS.DOM.getPos(t)
return nq(e,n.x,n.y)}
var uq=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?oq(e):iq(t.getContentAreaContainer(),aq(e)):cq(t)}
var cq=function(t){return{anchor:"selection",root:er.fromDom(t.selection.getNode())}}
var sq=function(t){return{anchor:"node",node:w.some(er.fromDom(t.selection.getNode())),root:er.fromDom(t.getBody())}}
var lq=function(t,e,n,r,o,a){var i=n()
var u=a?sq(t):uq(t,e)
MH(i,uC.CLOSE_ON_EXECUTE,r,false).map((function(t){e.preventDefault()
Lw.showMenuAt(o,u,{menu:{markers:AC("normal")},data:t})}))}
var fq={onLtr:function(){return[yl,ml,gl,hl,pl,bl,Jw,Xw,qw,Ww,Gw,Uw]},onRtl:function(){return[yl,gl,ml,pl,hl,bl,Jw,Xw,Gw,Uw,qw,Ww]}}
var vq=12
var dq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]}
var mq=function(t,e){var n=t.selection
if(n.isCollapsed()||e.touches.length<1)return false
var r=e.touches[0]
var o=n.getRng()
var a=Wv(t.getWin(),dv.domRange(o))
return a.exists((function(t){return t.left<=r.clientX&&t.right>=r.clientX&&t.top<=r.clientY&&t.bottom>=r.clientY}))}
var gq=function(t,e){return d({bubble:Hf(0,vq,dq),layouts:fq,overrides:{maxWidthFunction:uP(),maxHeightFunction:Mf()}},uq(t,e))}
var hq=function(t){var e=t.selection.getRng()
var n=function(){$w.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10)
a()}
t.once("touchend",n)
var r=function(t){t.preventDefault()
t.stopImmediatePropagation()}
t.on("mousedown",r,true)
var o=function(){return a()}
t.once("longpresscancel",o)
var a=function(){t.off("touchend",n)
t.off("longpresscancel",o)
t.off("mousedown",r)}}
var pq=function(t,e,n,r,o,a,i){var u=a?sq(t):gq(t,e)
MH(n,uC.CLOSE_ON_EXECUTE,r,true).map((function(n){e.preventDefault()
Lw.showMenuWithinBounds(o,u,{menu:{markers:AC("normal"),highlightImmediately:i},data:n,type:"horizontal"},(function(){return w.some(zF(t,r.shared))}))
t.fire(sP)}))}
var bq=function(t,e,n,r,o,a){var i=Jr()
var u=i.os.isiOS()
var c=i.os.isOSX()
var s=i.os.isAndroid()
var l=i.deviceType.isTouch()
var f=function(){return!(s||u||c&&l)}
var v=function(){var i=n()
pq(t,e,i,r,o,a,f())}
if(!c&&!u||a){s&&!a&&t.selection.setCursorLocation(e.target,0)
v()}else{var d=function(){hq(t)
v()}
if(mq(t,e))d()
else{t.once("selectionchange",d)
t.once("touchend",(function(){return t.off("selectionchange",d)}))}}}
var yq=function(t){return"string"===typeof t?t.split(/[ ,]/):t}
var wq=function(t){return t.getParam("contextmenu_never_use_native",false,"boolean")}
var xq=function(t,e,n){var r=t.ui.registry.getAll().contextMenus
return w.from(t.getParam(e)).map(yq).getOrThunk((function(){return X(yq(n),(function(t){return Ft(r,t)}))}))}
var Cq=function(t){return false===t.getParam("contextmenu")}
var Sq=function(t){return xq(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")}
var Oq=function(t){return t.getParam("contextmenu_avoid_overlap","","string")}
var kq=function(t){return k(t)?"|"===t:"separator"===t.type}
var Tq={type:"separator"}
var _q=function(t){if(k(t))return t
switch(t.type){case"separator":return Tq
case"submenu":return{type:"nestedmenuitem",text:t.text,icon:t.icon,getSubmenuItems:function(){var e=t.getSubmenuItems()
return k(e)?e:U(e,_q)}}
default:return{type:"menuitem",text:t.text,icon:t.icon,onAction:n(t.onAction)}}}
var zq=function(t,e){if(0===e.length)return t
var n=st(t).filter((function(t){return!kq(t)}))
var r=n.fold((function(){return[]}),(function(t){return[Tq]}))
return t.concat(r).concat(e).concat([Tq])}
var Mq=function(t,e,n){var r=K(e,(function(e,r){if(Ft(t,r)){var o=t[r].update(n)
if(k(o))return zq(e,o.split(" "))
if(o.length>0){var a=U(o,_q)
return zq(e,a)}return e}return e.concat([r])}),[])
r.length>0&&kq(r[r.length-1])&&r.pop()
return r}
var Eq=function(t,e){return e.ctrlKey&&!wq(t)}
var Dq=function(t,e){return"longpress"!==e.type&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)}
var Aq=function(t,e){return Dq(t,e)?t.selection.getStart(true):e.target}
var Rq=function(t,e){var n=Oq(t)
if(Dq(t,e))return true
if(n){var r=Aq(t,e)
return g_(er.fromDom(r),n)}return false}
var Hq=function(t,e,n){var r=Jr()
var o=r.deviceType.isTouch
var a=yc(Lw.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(true)},onHide:function(){return n.setContextMenuState(false)},fireDismissalEventInstead:{},inlineBehaviours:Vl([Sy("dismissContextMenu",[wa(na(),(function(e,n){vm.close(e)
t.focus()}))])])}))
var i=function(t){return Lw.hide(a)}
var u=function(e){wq(t)&&e.preventDefault()
if(Eq(t,e)||Cq(t))return
var r=Rq(t,e)
var i=function(){var n=Aq(t,e)
var r=t.ui.registry.getAll()
var o=Sq(t)
return Mq(r.contextMenus,o,n)}
var u=o()?bq:lq
u(t,e,i,n,a,r)}
t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow")
t.on(e,i)
t.on("longpress contextmenu",u)}))}
var Bq=Wt.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}])
var Iq=function(t){return function(e){return e.translate(-t.left,-t.top)}}
var Lq=function(t){return function(e){return e.translate(t.left,t.top)}}
var Pq=function(t){return function(e,n){return K(t,(function(t,e){return e(t)}),_c(e,n))}}
var Vq=function(t,e,n){return t.fold(Pq([Lq(n),Iq(e)]),Pq([Iq(e)]),Pq([]))}
var Fq=function(t,e,n){return t.fold(Pq([Lq(n)]),Pq([]),Pq([Lq(e)]))}
var Nq=function(t,e,n){return t.fold(Pq([]),Pq([Iq(n)]),Pq([Lq(e),Iq(n)]))}
var jq=function(t,e,n,r,o,a){var i=Fq(t,o,a)
var u=Fq(e,o,a)
return Math.abs(i.left-u.left)<=n&&Math.abs(i.top-u.top)<=r}
var Wq=function(t,e,n,r,o,a){var i=Fq(t,o,a)
var u=Fq(e,o,a)
var c=Math.abs(i.left-u.left)
var s=Math.abs(i.top-u.top)
return _c(c,s)}
var Uq=function(t,e,n){var r=t.fold((function(t,e){return{position:w.some("absolute"),left:w.some(t+"px"),top:w.some(e+"px")}}),(function(t,e){return{position:w.some("absolute"),left:w.some(t-n.left+"px"),top:w.some(e-n.top+"px")}}),(function(t,e){return{position:w.some("fixed"),left:w.some(t+"px"),top:w.some(e+"px")}}))
return d({right:w.none(),bottom:w.none()},r)}
var qq=function(t,e,n){return t.fold((function(t,r){return Jq(t+e,r+n)}),(function(t,r){return Xq(t+e,r+n)}),(function(t,r){return $q(t+e,r+n)}))}
var Gq=function(t,e,n,r){var o=function(t,o){return function(a,i){var u=t(e,n,r)
return o(a.getOr(u.left),i.getOr(u.top))}}
return t.fold(o(Nq,Jq),o(Fq,Xq),o(Vq,$q))}
var Jq=Bq.offset
var Xq=Bq.absolute
var $q=Bq.fixed
var Kq=function(t,e){var n=gi(t,e)
return M(n)?NaN:parseInt(n,10)}
var Yq=function(t,e){var n=t.element
var r=Kq(n,e.leftAttr)
var o=Kq(n,e.topAttr)
return isNaN(r)||isNaN(o)?w.none():w.some(_c(r,o))}
var Qq=function(t,e,n){var r=t.element
di(r,e.leftAttr,n.left+"px")
di(r,e.topAttr,n.top+"px")}
var Zq=function(t,e){var n=t.element
bi(n,e.leftAttr)
bi(n,e.topAttr)}
var tG=function(t,e,n,r){return Yq(t,e).fold((function(){return n}),(function(t){return $q(t.left+r.left,t.top+r.top)}))}
var eG=function(t,e,n,r,o,a){var i=tG(t,e,n,r)
var u=e.mustSnap?oG(t,e,i,o,a):aG(t,e,i,o,a)
var c=Vq(i,o,a)
Qq(t,e,c)
return u.fold((function(){return{coord:$q(c.left,c.top),extra:w.none()}}),(function(t){return{coord:t.output,extra:t.extra}}))}
var nG=function(t,e){Zq(t,e)}
var rG=function(t,e,n,r){return ft(t,(function(t){var o=t.sensor
var a=jq(e,o,t.range.left,t.range.top,n,r)
return a?w.some({output:Gq(t.output,e,n,r),extra:t.extra}):w.none()}))}
var oG=function(t,e,n,r,o){var a=e.getSnapPoints(t)
var i=rG(a,n,r,o)
return i.orThunk((function(){var t=K(a,(function(t,e){var a=e.sensor
var i=Wq(n,a,e.range.left,e.range.top,r,o)
return t.deltas.fold((function(){return{deltas:w.some(i),snap:w.some(e)}}),(function(n){var r=(i.left+i.top)/2
var o=(n.left+n.top)/2
return r<=o?{deltas:w.some(i),snap:w.some(e)}:t}))}),{deltas:w.none(),snap:w.none()})
return t.snap.map((function(t){return{output:Gq(t.output,n,r,o),extra:t.extra}}))}))}
var aG=function(t,e,n,r,o){var a=e.getSnapPoints(t)
return rG(a,n,r,o)}
var iG=function(t,e,n){return{coord:Gq(t.output,t.output,e,n),extra:t.extra}}
var uG=function(t,e,n,r){var o=e.getTarget(t.element)
if(e.repositionTarget){var a=Na(t.element)
var i=Uc(a)
var u=cj(o)
var c=iG(r,i,u)
var s=Uq(c.coord,i,u)
Yu(o,s)}}
var cG=Object.freeze({__proto__:null,snapTo:uG})
var sG="data-initial-z-index"
var lG=function(t){qa(t.element).filter(La).each((function(t){hi(t,sG).fold((function(){return rc(t,"z-index")}),(function(e){return $u(t,"z-index",e)}))
bi(t,sG)}))}
var fG=function(t){qa(t.element).filter(La).each((function(e){tc(e,"z-index").each((function(t){di(e,sG,t)}))
$u(e,"z-index",Qu(t.element,"z-index"))}))}
var vG=function(t,e){t.getSystem().addToGui(e)
fG(e)}
var dG=function(t){lG(t)
t.getSystem().removeFromGui(t)}
var mG=function(t,e,n){return t.getSystem().build(W_.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))}
var gG=In("snaps",[yn("getSnapPoints"),Ls("onSensor"),yn("leftAttr"),yn("topAttr"),Pn("lazyViewport",is),Pn("mustSnap",false)])
var hG=[Pn("useFixed",l),yn("blockerClass"),Pn("getTarget",i),Pn("onDrag",e),Pn("repositionTarget",true),Pn("onDrop",e),Un("getBounds",is),gG]
var pG=function(t){return fh(tc(t,"left"),tc(t,"top"),tc(t,"position"),(function(t,e,n){var r="fixed"===n?$q:Jq
return r(parseInt(t,10),parseInt(e,10))})).getOrThunk((function(){var e=Ec(t)
return Xq(e.left,e.top)}))}
var bG=function(t,e,n,r,o){var a=o.bounds
var i=Fq(e,n,r)
var u=hf(i.left,a.x,a.x+a.width-o.width)
var c=hf(i.top,a.y,a.y+a.height-o.height)
var s=Xq(u,c)
return e.fold((function(){var t=Nq(s,n,r)
return Jq(t.left,t.top)}),(function(){return s}),(function(){var t=Vq(s,n,r)
return $q(t.left,t.top)}))}
var yG=function(t,e,n,r,o,a,i){var u=e.fold((function(){var t=qq(n,a.left,a.top)
var e=Vq(t,r,o)
return $q(e.left,e.top)}),(function(e){var i=eG(t,e,n,a,r,o)
i.extra.each((function(n){e.onSensor(t,n)}))
return i.coord}))
return bG(t,u,r,o,i)}
var wG=function(t,e,n,r){var o=e.getTarget(t.element)
if(e.repositionTarget){var a=Na(t.element)
var i=Uc(a)
var u=cj(o)
var c=pG(o)
var s=yG(t,e.snaps,c,i,u,r,n)
var l=Uq(s,i,u)
Yu(o,l)}e.onDrag(t,o,r)}
var xG=function(t,e){return{bounds:t.getBounds(),height:Oc(e.element),width:Bc(e.element)}}
var CG=function(t,e,n,r,o){var a=n.update(r,o)
var i=n.getStartData().getOrThunk((function(){return xG(e,t)}))
a.each((function(n){wG(t,e,i,n)}))}
var SG=function(t,e,n,r){e.each(dG)
n.snaps.each((function(e){nG(t,e)}))
var o=n.getTarget(t.element)
r.reset()
n.onDrop(t,o)}
var OG=function(t){return function(e,n){var r=function(t){n.setStartData(xG(e,t))}
return ha(g([wa(Qo(),(function(t){n.getStartData().each((function(){return r(t)}))}))],t(e,n,r)))}}
var kG=function(t){return ha([wa(So(),t.forceDrop),wa(To(),t.drop),wa(Oo(),(function(e,n){t.move(n.event)})),wa(ko(),t.delayDrop)])}
var TG=function(t){return w.from(_c(t.x,t.y))}
var _G=function(t,e){return _c(e.left-t.left,e.top-t.top)}
var zG=Object.freeze({__proto__:null,getData:TG,getDelta:_G})
var MG=function(t,e,n){return[wa(So(),(function(r,o){var a=o.event.raw
if(0!==a.button)return
o.stop()
var i=function(){return SG(r,w.some(s),t,e)}
var u=h_(i,200)
var c={drop:i,delayDrop:u.schedule,forceDrop:i,move:function(n){u.cancel()
CG(r,t,e,zG,n)}}
var s=mG(r,t.blockerClass,kG(c))
var l=function(){n(r)
vG(r,s)}
l()}))]}
var EG=g(hG,[Ns("dragger",{handlers:OG(MG)})])
var DG=function(t){return ha([wa(yo(),t.forceDrop),wa(xo(),t.drop),wa(Co(),t.drop),wa(wo(),(function(e,n){t.move(n.event)}))])}
var AG=function(t){var e=t[0]
return w.some(_c(e.clientX,e.clientY))}
var RG=function(t){var e=t.raw
var n=e.touches
return 1===n.length?AG(n):w.none()}
var HG=function(t,e){return _c(e.left-t.left,e.top-t.top)}
var BG=Object.freeze({__proto__:null,getData:RG,getDelta:HG})
var IG=function(t,e,n){var r=$n(w.none())
return[wa(yo(),(function(o,a){a.stop()
var i=function(){SG(o,r.get(),t,e)
r.set(w.none())}
var u={drop:i,delayDrop:function(){},forceDrop:i,move:function(n){CG(o,t,e,BG,n)}}
var c=mG(o,t.blockerClass,DG(u))
r.set(w.some(c))
var s=function(){n(o)
vG(o,c)}
s()})),wa(wo(),(function(n,r){r.stop()
CG(n,t,e,BG,r.event)})),wa(xo(),(function(n,o){o.stop()
SG(n,r.get(),t,e)
r.set(w.none())})),wa(Co(),(function(n){SG(n,r.get(),t,e)
r.set(w.none())}))]}
var LG=g(hG,[Ns("dragger",{handlers:OG(IG)})])
var PG=function(t,e,n){return g(MG(t,e,n),IG(t,e,n))}
var VG=g(hG,[Ns("dragger",{handlers:OG(PG)})])
var FG=EG
var NG=LG
var jG=VG
var WG=Object.freeze({__proto__:null,mouse:FG,touch:NG,mouseOrTouch:jG})
var UG=function(){var t=w.none()
var e=w.none()
var n=function(){t=w.none()
e=w.none()}
var r=function(e,n){var r=t.map((function(t){return e.getDelta(t,n)}))
t=w.some(n)
return r}
var o=function(t,e){return t.getData(e).bind((function(e){return r(t,e)}))}
var i=function(t){e=w.some(t)}
var u=function(){return e}
var c=a({})
return Xi({readState:c,reset:n,update:o,getStartData:u,setStartData:i})}
var qG=Object.freeze({__proto__:null,init:UG})
var GG=Wl({branchKey:"mode",branches:WG,name:"dragging",active:{events:function(t,e){var n=t.dragger
return n.handlers(t,e)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:w.from(t.extra)}}},state:qG,apis:cG})
var JG=40
var XG=JG/2
var $G=function(t,e,n,r,o,a){return t.fold((function(){return GG.snap({sensor:Xq(n-XG,r-XG),range:_c(o,a),output:Xq(w.some(n),w.some(r)),extra:{td:e}})}),(function(t){var o=n-XG
var a=r-XG
var i=JG
var u=JG
var c=t.element.dom.getBoundingClientRect()
return GG.snap({sensor:Xq(o,a),range:_c(i,u),output:Xq(w.some(n-c.width/2),w.some(r-c.height/2)),extra:{td:e}})}))}
var KG=function(t,e,n){var r=function(t,e){return t.exists((function(t){return oo(t,e)}))}
return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,o){var a=o.td
if(!r(e.get(),a)){e.set(w.some(a))
n(a)}},mustSnap:true}}
var YG=function(t){return Qw(Yw.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Vl([GG.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),wM.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))}
var QG=function(t,e){var n=$n([])
var r=$n([])
var o=$n(false)
var a=$n(w.none())
var i=$n(w.none())
var u=function(t){var n=as(t)
return $G(d.getOpt(e),t,n.x,n.y,n.width,n.height)}
var c=function(){return U(n.get(),(function(t){return u(t)}))}
var s=function(t){var n=as(t)
return $G(m.getOpt(e),t,n.right,n.bottom,n.width,n.height)}
var l=function(){return U(r.get(),(function(t){return s(t)}))}
var f=KG(c,a,(function(e){i.get().each((function(n){t.fire("TableSelectorChange",{start:e,finish:n})}))}))
var v=KG(l,i,(function(e){a.get().each((function(n){t.fire("TableSelectorChange",{start:n,finish:e})}))}))
var d=YG(f)
var m=YG(v)
var g=yc(d.asSpec())
var h=yc(m.asSpec())
var p=function(e,n,r,o){var a=n.dom.getBoundingClientRect()
rc(e.element,"display")
var i=Ua(er.fromDom(t.getBody())).dom.innerHeight
var u=r(a)
var c=o(a,i);(u||c)&&$u(e.element,"display","none")}
var b=function(t,e,n,r){var o=n(e)
GG.snapTo(t,o)
var a=function(t){return t[r]<0}
var i=function(t,e){return t[r]>e}
p(t,e,a,i)}
var y=function(t){return b(g,t,u,"top")}
var x=function(){return a.get().each(y)}
var C=function(t){return b(h,t,s,"bottom")}
var S=function(){return i.get().each(C)}
if(Jr().deviceType.isTouch()){t.on("TableSelectionChange",(function(t){if(!o.get()){Pd(e,g)
Pd(e,h)
o.set(true)}a.set(w.some(t.start))
i.set(w.some(t.finish))
t.otherCells.each((function(e){n.set(e.upOrLeftCells)
r.set(e.downOrRightCells)
y(t.start)
C(t.finish)}))}))
t.on("ResizeEditor ResizeWindow ScrollContent",(function(){x()
S()}))
t.on("TableSelectionClear",(function(){if(o.get()){Nd(g)
Nd(h)
o.set(false)}a.set(w.none())
i.set(w.none())}))}}
var ZG;(function(t){t[t["None"]=0]="None"
t[t["Both"]=1]="Both"
t[t["Vertical"]=2]="Vertical"})(ZG||(ZG={}))
var tJ=function(t,e,n,r,o){var a={}
a.height=uU(r+e.top,nO(t),oO(t))
n===ZG.Both&&(a.width=uU(o+e.left,eO(t),rO(t)))
return a}
var eJ=function(t,e,n){var r=er.fromDom(t.getContainer())
var o=tJ(t,e,n,Sc(r),Hc(r))
Et(o,(function(t,e){return $u(r,e,iU(t))}))
Kk(t)}
var nJ=function(t){if(1===t.nodeType){if("BR"===t.nodeName||!!t.getAttribute("data-mce-bogus"))return true
if("bookmark"===t.getAttribute("data-mce-type"))return true}return false}
var rJ=function(t,e,n){e.delimiter||(e.delimiter="")
var r=function(r){var o=r||[]
var a=U(o,(function(e,r){return Yw.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:e.name},action:function(n){t.focus()
t.selection.select(e.element)
t.nodeChanged()},buttonBehaviours:Vl([GO.button(n.isDisabled),NO()])})}))
var i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":true},innerHtml:" "+e.delimiter+" "}}
return K(a.slice(1),(function(t,e){var n=t
n.push(i)
n.push(e)
return n}),[a[0]])}
var o=function(e){var n=[]
var r=e.length
while(r-- >0){var o=e[r]
if(1===o.nodeType&&!nJ(o)){var a=t.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o})
a.isDefaultPrevented()||n.push({name:a.name,element:o})
if(a.isPropagationStopped())break}}return n}
return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Vl([fy.config({mode:"flow",selector:"div[role=button]"}),XS.config({disabled:n.isDisabled}),NO(),Z_.config({}),xy.config({}),Sy("elementPathEvents",[Ea((function(e,n){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return fy.focusIn(e)}))
t.on("NodeChange",(function(t){var n=o(t.parents)
n.length>0?xy.set(e,r(n)):xy.set(e,[])}))}))])]),components:[]}}
var oJ=function(t,e){var n
var r=function(t,n,r){return xy.set(t,[hc(e.translate(["{0} "+r,n[r]]))])}
return Yw.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Vl([GO.button(e.isDisabled),NO(),Z_.config({}),xy.config({}),Xm.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Sy("wordcount-events",[Ra((function(t){var e=Xm.getValue(t)
var n="words"===e.mode?"characters":"words"
Xm.setValue(t,{mode:n,count:e.count})
r(t,e.count,n)})),Ea((function(e){t.on("wordCountUpdate",(function(t){var n=Xm.getValue(e).mode
Xm.setValue(e,{mode:n,count:t.wordCount})
r(e,t.wordCount,n)}))}))])]),eventOrder:(n={},n[Wo()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})}
var aJ=function(t,e){var n=function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize"),"aria-hidden":"true"},innerHtml:tx("resize-handle",e.icons)},behaviours:Vl([GG.config({mode:"mouse",repositionTarget:false,onDrag:function(e,r,o){eJ(t,o,n)},blockerClass:"tox-blocker"})])}}
var r=function(){var t=MS.translate(["Powered by {0}","Tiny"])
var e='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+t+'">'+t+"</a>"
return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:e}}}
var o=function(t){var e=!t.hasPlugin("autoresize")
var n=t.getParam("resize",e)
return false===n?ZG.None:"both"===n?ZG.Both:ZG.Vertical}
var a=function(){var n=[]
t.getParam("elementpath",true,"boolean")&&n.push(rJ(t,{},e))
t.hasPlugin("wordcount")&&n.push(oJ(t,e))
t.getParam("branding",true,"boolean")&&n.push(r())
if(n.length>0)return[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]
return[]}
var i=function(){var e=a()
var r=o(t)
r!==ZG.None&&e.push(n(r))
return e}
return{dom:{tag:"div",classes:["tox-statusbar"]},components:i()}}
var iJ=function(t){var e
var n=t.inline
var r=n?hU:oU
var o=kO(t)?tW:ij
var a=w.none()
var i=Jr()
var u=i.browser.isIE()
var c=u?["tox-platform-ie"]:[]
var s=i.deviceType.isTouch()
var l="tox-platform-touch"
var f=s?[l]:[]
var v=bO(t)
var m=SO(t)
var g=MS.isRtl()?{attributes:{dir:"rtl"}}:{}
var h={attributes:(e={},e[Ff]=v?Vf.BottomToTop:Vf.TopToBottom,e)}
var p=function(){return a.bind(VW.getHeader)}
var b=function(){return o.isDocked(p)}
var y=function(){$u(Y.element,"width",document.body.clientWidth+"px")}
var x=function(){var t=oo(qu(),m)&&"grid"===Qu(m,"display")
var e={dom:d({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c).concat(f)},g),behaviours:Vl([Ad.config({useFixed:function(){return b()}})])}
var n={dom:{styles:{width:document.body.clientWidth+"px"}},events:ha([wa(Zo(),y)])}
return Xt(e,t?n:{})}
var C=yc(x())
var S=function(){return gt.value(C)}
var O=Qw({dom:{tag:"div",classes:["tox-anchorbar"]}})
var k=function(){return a.bind((function(t){return O.getOpt(t)})).getOrDie("Could not find a anchor bar element")}
var T=function(){return a.bind((function(t){return VW.getToolbar(t)})).getOrDie("Could not find more toolbar element")}
var _=function(){return a.bind((function(t){return VW.getThrobber(t)})).getOrDie("Could not find throbber element")}
var z=iP(C,t,k)
var M=VW.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:z,onEscape:function(){t.focus()}})
var E=mO(t)
var D=VW.parts.toolbar(d({dom:{tag:"div",classes:["tox-toolbar"]},getSink:S,providers:z.shared.providers,onEscape:function(){t.focus()},type:E,lazyToolbar:T,lazyHeader:function(){return p().getOrDie("Could not find header element")}},h))
var A=VW.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:z.shared.providers,onEscape:function(){t.focus()},type:E})
var R=VW.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}})
var H=VW.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})
var B=VW.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:z})
var I=t.getParam("statusbar",true,"boolean")
var L=I&&!n?w.some(aJ(t,z.shared.providers)):w.none()
var P={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[R,H]}
var V=vO(t)
var F=lO(t)
var N=sO(t)
var j=function(){return V?[A]:F?[D]:[]}
var W=VW.parts.header({dom:d({tag:"div",classes:["tox-editor-header"]},h),components:tt([N?[M]:[],j(),CO(t)?[]:[O.asSpec()]]),sticky:kO(t),editor:t,sharedBackstage:z.shared})
var U=tt([v?[]:[W],n?[]:[P],v?[W]:[]])
var q={dom:{tag:"div",classes:["tox-editor-container"]},components:U}
var G=tt([[q],n?[]:L.toArray(),[B]])
var J=OO(t)
var X=d(d({role:"application"},MS.isRtl()?{dir:"rtl"}:{}),J?{"aria-hidden":"true"}:{})
var $=yc(VW.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(v?["tox-tinymce--toolbar-bottom"]:[]).concat(f).concat(c),styles:d({visibility:"hidden"},J?{opacity:"0",border:"0"}:{}),attributes:X},components:G,behaviours:Vl([NO(),XS.config({disableClass:"tox-tinymce--disabled"}),fy.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}))
a=w.some($)
t.shortcuts.add("alt+F9","focus menubar",(function(){VW.focusMenubar($)}))
t.shortcuts.add("alt+F10","focus toolbar",(function(){VW.focusToolbar($)}))
t.addCommand("ToggleToolbarDrawer",(function(){VW.toggleToolbarDrawer($)}))
t.addQueryStateHandler("ToggleToolbarDrawer",(function(){return VW.isToolbarDrawerToggled($)}))
var K=U_($)
var Y=U_(C)
JN(t,K,Y)
var Q=function(){var t={broadcastAll:Y.broadcast,broadcastOn:Y.broadcastOn,register:function(){}}
return{channels:t}}
var Z=function(){var e=iU(sU(t))
var n=iU(fU(t))
if(!t.inline){nc("div","width",n)&&$u($.element,"width",n)
nc("div","height",e)?$u($.element,"height",e):$u($.element,"height","200px")}return e}
var et=function(){o.setup(t,z.shared,p)
tq(t,z)
Hq(t,S,z)
dW(t)
MW(t,_,z.shared)
Dt(hO(t),(function(e,n){t.ui.registry.addGroupToolbarButton(n,e)}))
var e=t.ui.registry.getAll(),n=e.buttons,a=e.menuItems,i=e.contextToolbars,u=e.sidebars
var c=fO(t)
var s={menuItems:a,menus:_O(t),menubar:zO(t),toolbar:c.getOrThunk((function(){return MO(t)})),allowToolbarGroups:E===dO.floating,buttons:n,sidebar:u}
GN(t,i,C,{backstage:z})
QG(t,C)
var l=t.getElement()
var f=Z()
var v={mothership:K,uiMothership:Y,outerContainer:$}
var d={targetNode:l,height:f}
return r.render(t,v,s,z,d)}
return{mothership:K,uiMothership:Y,backstage:z,renderUI:et,getUi:Q}}
var uJ=function(t,e){var n=w.from(gi(t,"id")).fold((function(){var t=_i("dialog-describe")
di(e,"id",t)
return t}),i)
di(t,"aria-describedby",n)}
var cJ=function(t,e){var n=hi(t,"id").fold((function(){var t=_i("dialog-label")
di(e,"id",t)
return t}),i)
di(t,"aria-labelledby",n)}
var sJ=a([yn("lazySink"),En("dragBlockClass"),Un("getBounds",is),Pn("useTabstopAt",f),Pn("eventOrder",{}),$m("modalBehaviours",[fy]),Ps("onExecute"),Fs("onEscape")])
var lJ={sketch:i}
var fJ=a([Mg({name:"draghandle",overrides:function(t,e){return{behaviours:Vl([GG.config({mode:"mouse",getTarget:function(t){return vs(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),_g({schema:[yn("dom")],name:"title"}),_g({factory:lJ,schema:[yn("dom")],name:"close"}),_g({factory:lJ,schema:[yn("dom")],name:"body"}),Mg({factory:lJ,schema:[yn("dom")],name:"footer"}),zg({factory:{sketch:function(t,e){return d(d({},t),{dom:e.dom,components:e.components})}},schema:[Pn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Pn("components",[])],name:"blocker"})])
var vJ=function(t,e,n,r){di(t.element,"aria-busy",true)
var o=e.getRoot(t).getOr(t)
var a=Vl([fy.config({mode:"special",onTab:function(){return w.some(true)},onShiftTab:function(){return w.some(true)}}),Ay.config({})])
var i=r(o,a)
var u=o.getSystem().build(i)
xy.append(o,wc(u))
u.hasConfigured(fy)&&fy.focusIn(u)
n.isBlocked()||e.onBlock(t)
n.blockWith((function(){return xy.remove(o,u)}))}
var dJ=function(t,e,n){bi(t.element,"aria-busy")
n.isBlocked()&&e.onUnblock(t)
n.clear()}
var mJ=Object.freeze({__proto__:null,block:vJ,unblock:dJ})
var gJ=[Un("getRoot",w.none),Ls("onBlock"),Ls("onUnblock")]
var hJ=function(){var t=pN()
var e=function(e){t.set({destroy:e})}
return Xi({readState:t.isSet,blockWith:e,clear:t.clear,isBlocked:t.isSet})}
var pJ=Object.freeze({__proto__:null,init:hJ})
var bJ=Nl({fields:gJ,name:"blocking",apis:mJ,state:pJ})
var yJ=function(t,e,n,r){var o
var a=$n(w.none())
var i=function(e){a.set(w.some(e))
var n=t.lazySink(e).getOrDie()
var o=r.blocker()
var i=n.getSystem().build(d(d({},o),{components:o.components.concat([wc(e)]),behaviours:Vl([Ay.config({}),Sy("dialog-blocker-events",[Ma(zo(),(function(){fy.focusIn(e)}))])])}))
Pd(n,i)
fy.focusIn(e)}
var u=function(t){a.set(w.none())
qa(t.element).each((function(e){t.getSystem().getByDom(e).each((function(t){Nd(t)}))}))}
var c=function(e){return Wg(e,t,"body")}
var s=function(e){return Wg(e,t,"footer")}
var l=function(t,e){bJ.block(t,e)}
var f=function(t){bJ.unblock(t)}
var v=_i("modal-events")
var m=d(d({},t.eventOrder),(o={},o[ta()]=[v].concat(t.eventOrder["alloy.system.attached"]||[]),o))
return{uid:t.uid,dom:t.dom,components:e,apis:{show:i,hide:u,getBody:c,getFooter:s,setIdle:f,setBusy:l},eventOrder:m,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ym(t.modalBehaviours,[xy.config({}),fy.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),bJ.config({getRoot:a.get}),Sy(v,[Ea((function(e){cJ(e.element,Wg(e,t,"title").element)
uJ(e.element,Wg(e,t,"body").element)}))])])}}
var wJ=uh({name:"ModalDialog",configFields:sJ(),partFields:fJ(),factory:yJ,apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}})
var xJ=Pe([Cn("type"),Cn("name")].concat(QC))
var CJ=mn
var SJ=[Ge("name","name",ne((function(){return _i("button-name")})),dn),Rn("icon"),jn("align","end",["start","end"]),Wn("primary",false),Wn("disabled",false)]
var OJ=g(SJ,[Cn("text")])
var kJ=g([Sn("type",["submit","cancel","custom"])],OJ)
var TJ=g([Sn("type",["menu"]),Rn("text"),Rn("tooltip"),Rn("icon"),Mn("items",xJ)],SJ)
var _J=cn("type",{submit:kJ,cancel:kJ,custom:kJ,menu:TJ})
var zJ=[Cn("type"),Cn("text"),Sn("level",["info","warn","error","success"]),Cn("icon"),Pn("url","")]
var MJ=Pe(zJ)
var EJ=function(t){return[Cn("type"),t]}
var DJ=[Cn("type"),Cn("text"),Wn("disabled",false),Wn("primary",false),Ge("name","name",ne((function(){return _i("button-name")})),dn),Rn("icon"),Wn("borderless",false)]
var AJ=Pe(DJ)
var RJ=[Cn("type"),Cn("name"),Cn("label"),Wn("disabled",false)]
var HJ=Pe(RJ)
var BJ=mn
var IJ=[Cn("type"),Cn("name")]
var LJ=IJ.concat([Rn("label")])
var PJ=LJ.concat([Pn("columns","auto")])
var VJ=Pe(PJ)
var FJ=Ke([Cn("value"),Cn("text"),Cn("icon")])
var NJ=LJ
var jJ=Pe(NJ)
var WJ=dn
var UJ=LJ
var qJ=Pe(UJ)
var GJ=dn
var JJ=IJ.concat([Nn("tag","textarea"),Cn("scriptId"),Cn("scriptUrl"),qn("settings",void 0)])
var XJ=IJ.concat([Nn("tag","textarea"),kn("init")])
var $J=Ze((function(t){return nn("customeditor.old",Le(XJ),t).orThunk((function(){return nn("customeditor.new",Le(JJ),t)}))}))
var KJ=dn
var YJ=LJ
var QJ=Pe(YJ)
var ZJ=Ye()
var tX=function(t){return[Cn("type"),xn("columns"),t]}
var eX=[Cn("type"),Cn("html"),jn("presets","presentation",["presentation","document"])]
var nX=Pe(eX)
var rX=LJ.concat([Wn("sandboxed",true)])
var oX=Pe(rX)
var aX=dn
var iX=LJ.concat([wn("currentState",Pe([yn("blob"),Cn("url")]))])
var uX=Pe(iX)
var cX=LJ.concat([Rn("inputMode"),Rn("placeholder"),Wn("maximized",false),Wn("disabled",false)])
var sX=Pe(cX)
var lX=dn
var fX=function(t){return[Cn("type"),Cn("label"),t]}
var vX=[Cn("text"),Cn("value")]
var dX=[Cn("text"),Mn("items",sn("items",(function(){return mX})))]
var mX=Fe([Pe(vX),Pe(dX)])
var gX=LJ.concat([Mn("items",mX),Wn("disabled",false)])
var hX=Pe(gX)
var pX=dn
var bX=LJ.concat([zn("items",[Cn("text"),Cn("value")]),Fn("size",1),Wn("disabled",false)])
var yX=Pe(bX)
var wX=dn
var xX=LJ.concat([Wn("constrain",true),Wn("disabled",false)])
var CX=Pe(xX)
var SX=Pe([Cn("width"),Cn("height")])
var OX=[Cn("type"),Mn("header",dn),Mn("cells",Ve(dn))]
var kX=Pe(OX)
var TX=LJ.concat([Rn("placeholder"),Wn("maximized",false),Wn("disabled",false)])
var _X=Pe(TX)
var zX=dn
var MX=LJ.concat([jn("filetype","file",["image","media","file"]),Pn("disabled",false)])
var EX=Pe(MX)
var DX=Pe([Cn("value"),Pn("meta",{})])
var AX=function(t){return Ge("items","items",te(),Ve(Ze((function(e){return nn("Checking item of "+t,RX,e).fold((function(t){return gt.error(an(t))}),(function(t){return gt.value(t)}))}))))}
var RX=Qe((function(){return un("type",{alertbanner:MJ,bar:Pe(EJ(AX("bar"))),button:AJ,checkbox:HJ,colorinput:jJ,colorpicker:qJ,dropzone:QJ,grid:Pe(tX(AX("grid"))),iframe:oX,input:sX,listbox:hX,selectbox:yX,sizeinput:CX,textarea:_X,urlinput:EX,customeditor:$J,htmlpanel:nX,imagetools:uX,collection:VJ,label:Pe(fX(AX("label"))),table:kX,panel:BX})}))
var HX=[Cn("type"),Pn("classes",[]),Mn("items",RX)]
var BX=Pe(HX)
var IX=[Ge("name","name",ne((function(){return _i("tab-name")})),dn),Cn("title"),Mn("items",RX)]
var LX=[Cn("type"),zn("tabs",IX)]
var PX=Pe(LX)
var VX=OJ
var FX=_J
var NX=Pe([Cn("title"),wn("body",un("type",{panel:BX,tabpanel:PX})),Nn("size","normal"),Mn("buttons",FX),Pn("initialData",{}),Un("onAction",e),Un("onChange",e),Un("onSubmit",e),Un("onClose",e),Un("onCancel",e),Pn("onTabChange",e)])
var jX=function(t){return nn("dialog",NX,t)}
var WX=Pe(g([Sn("type",["cancel","custom"])],VX))
var UX=Pe([Cn("title"),Cn("url"),An("height"),An("width"),Bn("buttons",WX),Un("onAction",e),Un("onCancel",e),Un("onClose",e),Un("onMessage",e)])
var qX=function(t){return nn("dialog",UX,t)}
var GX=function(t){return T(t)?[t].concat(et(Pt(t),GX)):_(t)?et(t,GX):[]}
var JX=function(t){return k(t.type)&&k(t.name)}
var XX={checkbox:BJ,colorinput:WJ,colorpicker:GJ,dropzone:ZJ,input:lX,iframe:aX,sizeinput:SX,selectbox:wX,listbox:pX,size:SX,textarea:zX,urlinput:DX,customeditor:KJ,collection:FJ,togglemenuitem:CJ}
var $X=function(t){return w.from(XX[t.type])}
var KX=function(t){return X(GX(t),JX)}
var YX=function(t){var e=KX(t)
var n=et(e,(function(t){return $X(t).fold((function(){return[]}),(function(e){return[wn(t.name,e)]}))}))
return Pe(n)}
var QX=function(t){var e=rn(jX(t))
var n=YX(t)
var r=t.initialData
return{internalDialog:e,dataValidator:n,initialData:r}}
var ZX={open:function(t,e){var n=QX(e)
return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){var n=rn(qX(e))
return t(n)},redial:function(t){return QX(t)}}
var t$=function(t){var e=[]
var n={}
Et(t,(function(t,r){t.fold((function(){e.push(r)}),(function(t){n[r]=t}))}))
return e.length>0?gt.error(e):gt.value(n)}
var e$=function(t,e){var n=Qw(gA.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:U(t.items,(function(t){return UI(n,t,e)}))}})))
return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Vl([fy.config({mode:"acyclic",useTabstopAt:c(ZA)}),TA.memento(n),jA.memento(n,{postprocess:function(t){return t$(t).fold((function(t){console.error(t)
return{}}),(function(t){return t}))}})])}}
var n$=function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:Zy(t.action),behaviours:Ym(t.tabButtonBehaviours,[Ay.config({}),fy.config({mode:"execution",useSpace:true,useEnter:true}),Xm.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}}
var r$=ih({name:"TabButton",configFields:[Pn("uid",void 0),yn("value"),Ge("dom","dom",re((function(){return{attributes:{role:"tab",id:_i("aria"),"aria-selected":"false"}}})),ln()),En("action"),Pn("domModification",{}),$m("tabButtonBehaviours",[Ay,fy,Xm]),yn("view")],factory:n$})
var o$=a([yn("tabs"),yn("dom"),Pn("clickToDismiss",false),$m("tabbarBehaviours",[Ph,fy]),Bs(["tabClass","selectedClass"])])
var a$=Eg({factory:r$,name:"tabs",unit:"tab",overrides:function(t){var n=function(t,e){Ph.dehighlight(t,e)
fa(t,ua(),{tabbar:t,button:e})}
var r=function(t,e){Ph.highlight(t,e)
fa(t,ia(),{tabbar:t,button:e})}
return{action:function(o){var a=o.getSystem().getByUid(t.uid).getOrDie()
var i=Ph.isHighlighted(a,o)
var u=i&&t.clickToDismiss?n:i?e:r
u(a,o)},domModification:{classes:[t.markers.tabClass]}}}})
var i$=a([a$])
var u$=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ym(t.tabbarBehaviours,[Ph.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){di(e.element,"aria-selected","true")},onDehighlight:function(t,e){di(e.element,"aria-selected","false")}}),fy.config({mode:"flow",getInitial:function(t){return Ph.getHighlighted(t).map((function(t){return t.element}))},selector:"."+t.markers.tabClass,executeOnMove:true})])}}
var c$=uh({name:"Tabbar",configFields:o$(),partFields:i$(),factory:u$})
var s$=function(t,e){return{uid:t.uid,dom:t.dom,behaviours:Ym(t.tabviewBehaviours,[xy.config({})]),domModification:{attributes:{role:"tabpanel"}}}}
var l$=ih({name:"Tabview",configFields:[$m("tabviewBehaviours",[xy])],factory:s$})
var f$=a([Pn("selectFirst",true),Ls("onChangeTab"),Ls("onDismissTab"),Pn("tabs",[]),$m("tabSectionBehaviours",[])])
var v$=_g({factory:c$,schema:[yn("dom"),_n("markers",[yn("tabClass"),yn("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}})
var d$=_g({factory:l$,name:"tabview"})
var m$=a([v$,d$])
var g$=function(t,e,n,r){var o=function(e){var n=Xm.getValue(e)
jg(e,t,"tabview").each((function(r){var o=Q(t.tabs,(function(t){return t.value===n}))
o.each((function(n){var o=n.view()
hi(e.element,"id").each((function(t){di(r.element,"aria-labelledby",t)}))
xy.set(r,o)
t.onChangeTab(r,e,o)}))}))}
var a=function(e,n){jg(e,t,"tabbar").each((function(t){n(t).each(va)}))}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Km(t.tabSectionBehaviours),events:ha(tt([t.selectFirst?[Ea((function(t,e){a(t,Ph.getFirst)}))]:[],[wa(ia(),(function(t,e){var n=e.event.button
o(n)})),wa(ua(),(function(e,n){var r=n.event.button
t.onDismissTab(e,r)}))]])),apis:{getViewItems:function(e){return jg(e,t,"tabview").map((function(t){return xy.contents(t)})).getOr([])},showTab:function(t,e){var n=function(t){var n=Ph.getCandidates(t)
var r=Q(n,(function(t){return Xm.getValue(t)===e}))
return r.filter((function(e){return!Ph.isHighlighted(t,e)}))}
a(t,n)}}}}
var h$=uh({name:"TabSection",configFields:f$(),partFields:m$(),factory:g$,apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}})
var p$=function(t,e,n){return U(t,(function(r,o){xy.set(n,t[o].view())
var a=e.dom.getBoundingClientRect()
xy.set(n,[])
return a.height}))}
var b$=function(t){return ct(it(t,(function(t,e){return t>e?-1:t<e?1:0})))}
var y$=function(t,e,n){var r=Wa(t).dom
var o=vs(t,".tox-dialog-wrap").getOr(t)
var a="fixed"===Qu(o,"position")
var i
i=a?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight)
var u=Sc(e)
var c=e.dom.offsetLeft>=n.dom.offsetLeft+Hc(n)
var s=c?Math.max(Sc(n),u):u
var l=parseInt(Qu(t,"margin-top"),10)||0
var f=parseInt(Qu(t,"margin-bottom"),10)||0
var v=Sc(t)+l+f
var d=v-s
return i-d}
var w$=function(t,e){ct(t).each((function(t){return h$.showTab(e,t.value)}))}
var x$=function(t,e){$u(t,"height",e+"px")
Jr().browser.isIE()?rc(t,"flex-basis"):$u(t,"flex-basis",e+"px")}
var C$=function(t,e,n){vs(t,'[role="dialog"]').each((function(t){ds(t,'[role="tablist"]').each((function(r){n.get().map((function(n){$u(e,"height","0")
$u(e,"flex-basis","0")
return Math.min(n,y$(t,e,r))})).each((function(t){x$(e,t)}))}))}))}
var S$=function(t){return ds(t,'[role="tabpanel"]')}
var O$=function(t){var e=(n=$n(w.none()),r=[Ea((function(e){var r=e.element
S$(r).each((function(o){$u(o,"visibility","hidden")
e.getSystem().getByDom(o).toOptional().each((function(e){var r=p$(t,o,e)
var a=b$(r)
n.set(a)}))
C$(r,o,n)
rc(o,"visibility")
w$(t,e)
$w.requestAnimationFrame((function(){C$(r,o,n)}))}))})),wa(Zo(),(function(t){var e=t.element
S$(e).each((function(t){C$(e,t,n)}))})),wa(gz,(function(t,e){var r=t.element
S$(r).each((function(t){var e=Ql()
$u(t,"visibility","hidden")
var o=tc(t,"height").map((function(t){return parseInt(t,10)}))
rc(t,"height")
rc(t,"flex-basis")
var a=t.dom.getBoundingClientRect().height
var i=o.forall((function(t){return a>t}))
if(i){n.set(w.from(a))
C$(r,t,n)}else o.each((function(e){x$(t,e)}))
rc(t,"visibility")
e.each($l)}))}))],o=false,{extraEvents:r,selectFirst:o})
var n,r,o
var a=function(){var t=[]
var e=true
return{extraEvents:t,selectFirst:e}}()
return{smartTabHeight:e,naiveTabHeight:a}}
var k$="send-data-to-section"
var T$="send-data-to-view"
var _$=function(t,e){var n=$n({})
var r=function(t){var e=Xm.getValue(t)
var r=t$(e).getOr({})
var o=n.get()
var a=Xt(o,r)
n.set(a)}
var o=function(t){var e=n.get()
Xm.setValue(t,e)}
var a=$n(null)
var i=U(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:e.shared.providers.translate(t.title)},view:function(){return[gA.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:U(t.items,(function(t){return UI(n,t,e)})),formBehaviours:Vl([fy.config({mode:"acyclic",useTabstopAt:c(ZA)}),Sy("TabView.form.events",[Ea(o),Da(r)]),ql.config({channels:le([{key:k$,value:{onReceive:r}},{key:T$,value:{onReceive:o}}])})])}}))]}}}))
var u=O$(i).smartTabHeight
return h$.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=Xm.getValue(e)
fa(t,mz,{name:r,oldName:a.get()})
a.set(r)},tabs:i,components:[h$.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[c$.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Vl([Z_.config({})])}),h$.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:Vl([Sy("tabpanel",u.extraEvents),fy.config({mode:"acyclic"}),bh.config({find:function(t){return ct(h$.getViewItems(t))}}),Xm.config({store:{mode:"manual",getValue:function(t){t.getSystem().broadcastOn([k$],{})
return n.get()},setValue:function(t,e){n.set(e)
t.getSystem().broadcastOn([T$],{})}}})])})}
var z$=_i("update-dialog")
var M$=_i("update-title")
var E$=_i("update-body")
var D$=_i("update-footer")
var A$=_i("body-send-message")
var R$=function(t,e,n,r){var o=function(t){switch(t.body.type){case"tabpanel":return[_$(t.body,n)]
default:return[e$(t.body,n)]}}
var a=function(t,e){return w.some({isTabPanel:function(){return"tabpanel"===e.body.type}})}
var i={"aria-live":"polite"}
return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:d(d({},e.map((function(t){return{id:t}})).getOr({})),r?i:{})},components:[],behaviours:Vl([TA.childAt(0),$V.config({channel:E$,updateState:a,renderComponents:o,initialData:t})])}}
var H$=function(t,e,n,r){return R$(t,w.some(e),n,r)}
var B$=function(t,e){var n=R$(t,w.none(),e,false)
return wJ.parts.body(n)}
var I$=function(t){var e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[KA({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Vl([Z_.config({}),Ay.config({})])})]}],behaviours:Vl([fy.config({mode:"acyclic",useTabstopAt:c(ZA)})])}
return wJ.parts.body(e)}
var L$=nk.deviceType.isTouch()
var P$=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}}
var V$=function(t,e){return wJ.parts.close(Yw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:Vl([Z_.config({})])}))}
var F$=function(){return wJ.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})}
var N$=function(t,e){return wJ.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:kW("<p>"+e.translate(t)+"</p>")}]}]})}
var j$=function(t){return wJ.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})}
var W$=function(t,e){return[W_.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),W_.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]}
var U$=function(t){var e
var n="tox-dialog"
var r=n+"-wrap"
var o=r+"__backdrop"
var a=n+"__disable-scroll"
return wJ.sketch({lazySink:t.lazySink,onEscape:function(e){t.onEscape(e)
return w.some(true)},useTabstopAt:function(t){return!ZA(t)},dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:d({position:"relative"},t.extraStyles)},components:g([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:kW('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:L$?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Vl(g([Ay.config({}),Sy("dialog-events",t.dialogEvents.concat([Ma(zo(),(function(t,e){fy.focusIn(t)}))])),Sy("scroll-lock",[Ea((function(){_u(qu(),a)})),Da((function(){Mu(qu(),a)}))])],t.extraBehaviours)),eventOrder:d((e={},e[Wo()]=["dialog-events"],e[ta()]=["scroll-lock","dialog-events","alloy.base.behaviour"],e[ea()]=["alloy.base.behaviour","dialog-events","scroll-lock"],e),t.eventOrder)})}
var q$=function(t){return Yw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:tx("close",t.icons)}}],action:function(t){la(t,sz)}})}
var G$=function(t,e,n){var r=function(t){return[hc(n.translate(t.title))]}
return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:d({},e.map((function(t){return{id:t}})).getOr({}))},components:r(t),behaviours:Vl([$V.config({channel:M$,renderComponents:r})])}}
var J$=function(){return{dom:kW('<div class="tox-dialog__draghandle"></div>')}}
var X$=function(t,e,n){return W_.sketch({dom:kW('<div class="tox-dialog__header"></div>'),components:[G$(t,w.some(e),n),J$(),q$(n)],containerBehaviours:Vl([GG.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return ms(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})}
var $$=function(t,e){var n=wJ.parts.title(G$(t,w.none(),e))
var r=wJ.parts.draghandle(J$())
var o=wJ.parts.close(q$(e))
var a=[n].concat(t.draggable?[r]:[]).concat([o])
return W_.sketch({dom:kW('<div class="tox-dialog__header"></div>'),components:a})}
var K$=function(t,e){return $$({title:e.shared.providers.translate(t),draggable:e.dialog.isDraggableModal()},e.shared.providers)}
var Y$=function(t,e){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":t},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:e,components:[{dom:kW('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}
var Q$=function(t,e){return{onClose:function(){return e.closeWindow()},onBlock:function(e){wJ.setBusy(t(),(function(t,n){return Y$(e.message,n)}))},onUnblock:function(){wJ.setIdle(t())}}}
var Z$=function(t,e,n,r){var o
var a=function(t,e){return w.some(e)}
return yc(U$(d(d({},t),{lazySink:r.shared.getSink,extraBehaviours:g([$V.config({channel:z$,updateState:a,initialData:e}),jA.memory({})],t.extraBehaviours),onEscape:function(t){la(t,sz)},dialogEvents:n,eventOrder:(o={},o[jo()]=[$V.name(),ql.name()],o[ta()]=["scroll-lock",$V.name(),"messages","dialog-events","alloy.base.behaviour"],o[ea()]=["alloy.base.behaviour","dialog-events","messages",$V.name(),"scroll-lock"],o)})))}
var tK=function(t){var e=function(t){var e=U(t.items,(function(t){var e=$n(false)
return d(d({},t),{storage:e})}))
return d(d({},t),{items:e})}
return U(t,(function(t){if("menu"===t.type)return e(t)
return t}))}
var eK=function(t){return K(t,(function(t,e){if("menu"===e.type){var n=e
return K(n.items,(function(t,e){t[e.name]=e.storage
return t}),t)}return t}),{})}
var nK=function(t,e){return[Ta(zo(),QA),t(cz,(function(t,n){e.onClose()
n.onClose()})),t(sz,(function(t,e,n,r){e.onCancel(t)
la(r,cz)})),wa(dz,(function(t,n){return e.onUnblock()})),wa(vz,(function(t,n){return e.onBlock(n.event)}))]}
var rK=function(t,e){var n=function(e,n){return wa(e,(function(e,o){r(e,(function(r,a){n(t(),r,o.event,e)}))}))}
var r=function(t,e){$V.getState(t).get().each((function(n){e(n,t)}))}
return g(nK(n,e),[n(lz,(function(t,e,n){e.onAction(t,{name:n.name})}))])}
var oK=function(t,e,n){var r=function(e,n){return wa(e,(function(e,r){o(e,(function(o,a){n(t(),o,r.event,e)}))}))}
var o=function(t,e){$V.getState(t).get().each((function(n){e(n.internalDialog,t)}))}
return g(nK(r,e),[r(fz,(function(t,e){return e.onSubmit(t)})),r(uz,(function(t,e,n){e.onChange(t,{name:n.name})})),r(lz,(function(t,e,r,o){var a=function(){return fy.focusIn(o)}
var i=function(t){return pi(t,"disabled")||hi(t,"aria-disabled").exists((function(t){return"true"===t}))}
var u=Lu(o.element)
var c=Ql(u)
e.onAction(t,{name:r.name,value:r.value})
Ql(u).fold(a,(function(t){i(t)||c.exists((function(e){return uo(t,e)&&i(e)}))?a():n().toOptional().filter((function(e){return!uo(e.element,t)})).each(a)}))})),r(mz,(function(t,e,n){e.onTabChange(t,{newTabName:n.name,oldTabName:n.oldName})})),Da((function(e){var n=t()
Xm.setValue(e,n.getData())}))])}
var aK={initUrlDialog:rK,initDialog:oK}
var iK=function(t,e){return NH(t,t.type,e)}
var uK=function(t,e,n){return Q(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))}
var cK=function(t,e){var n=e.map((function(t){return t.footerButtons})).getOr([])
var r=J(n,(function(t){return"start"===t.align}))
var o=function(t,e){return W_.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:U(e,(function(t){return t.memento.asSpec()}))})}
var a=o("start",r.pass)
var i=o("end",r.fail)
return[a,i]}
var sK=function(t,e){var n=function(t,n){var r=U(n.buttons,(function(t){var n=Qw(iK(t,e))
return{name:t.name,align:t.align,memento:n}}))
var o=function(t,e){return uK(t,r,e)}
return w.some({lookupByName:o,footerButtons:r})}
return{dom:kW('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Vl([$V.config({channel:D$,initialData:t,updateState:n,renderComponents:cK})])}}
var lK=function(t,e){return sK(t,e)}
var fK=function(t,e){return wJ.parts.footer(sK(t,e))}
var vK=function(t,e){var n=t.getRoot()
if(n.getSystem().isConnected()){var r=bh.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper())
return gA.getField(r,e).fold((function(){var n=t.getFooter()
var o=$V.getState(n)
return o.get().bind((function(t){return t.lookupByName(r,e)}))}),(function(t){return w.some(t)}))}return w.none()}
var dK=function(t,e){var n=t.getRoot()
return $V.getState(n).get().map((function(t){return rn(nn("data",t.dataValidator,e))})).getOr(e)}
var mK=function(t,e,n){var r=function(e){var n=t.getRoot()
n.getSystem().isConnected()&&e(n)}
var o=function(){var e=t.getRoot()
var r=e.getSystem().isConnected()?t.getFormWrapper():e
var o=Xm.getValue(r)
var a=Dt(n,(function(t){return t.get()}))
return d(d({},o),a)}
var a=function(e){r((function(r){var o=g.getData()
var a=d(d({},o),e)
var i=dK(t,a)
var u=t.getFormWrapper()
Xm.setValue(u,i)
Et(n,(function(t,e){Ft(a,e)&&t.set(a[e])}))}))}
var i=function(e){vK(t,e).each(XS.disable)}
var u=function(e){vK(t,e).each(XS.enable)}
var c=function(e){vK(t,e).each(Ay.focus)}
var s=function(t){if(!k(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument")
r((function(e){fa(e,vz,{message:t})}))}
var l=function(){r((function(t){la(t,dz)}))}
var f=function(e){r((function(n){var r=t.getBody()
var o=$V.getState(r)
o.get().exists((function(t){return t.isTabPanel()}))&&bh.getCurrent(r).each((function(t){h$.showTab(t,e)}))}))}
var v=function(t){r((function(n){var r=e(t)
n.getSystem().broadcastOn([z$],r)
n.getSystem().broadcastOn([M$],r.internalDialog)
n.getSystem().broadcastOn([E$],r.internalDialog)
n.getSystem().broadcastOn([D$],r.internalDialog)
g.setData(r.initialData)}))}
var m=function(){r((function(t){la(t,cz)}))}
var g={getData:o,setData:a,disable:i,enable:u,focus:c,block:s,unblock:l,showTab:f,redial:v,close:m}
return g}
var gK=function(t){switch(t){case"large":return["tox-dialog--width-lg"]
case"medium":return["tox-dialog--width-md"]
default:return[]}}
var hK=function(t,e,n){var r=K$(t.internalDialog.title,n)
var o=B$({body:t.internalDialog.body},n)
var a=tK(t.internalDialog.buttons)
var i=eK(a)
var u=fK({buttons:a},n)
var c=aK.initDialog((function(){return m}),Q$((function(){return f}),e),n.shared.getSink)
var s=gK(t.internalDialog.size)
var l={header:r,body:o,footer:w.some(u),extraClasses:s,extraBehaviours:[],extraStyles:{}}
var f=Z$(l,t,c,n)
var v=(d=function(){var t=wJ.getBody(f)
return bh.getCurrent(t).getOr(t)},{getRoot:function(){return f},getBody:function(){return wJ.getBody(f)},getFooter:function(){return wJ.getFooter(f)},getFormWrapper:d})
var d
var m=mK(v,e.redial,i)
return{dialog:f,instanceApi:m}}
var pK=function(t,e,n,r){var o,a
var i=_i("dialog-label")
var u=_i("dialog-content")
var c=function(t,e){return w.some(e)}
var s=Qw(X$({title:t.internalDialog.title,draggable:true},i,n.shared.providers))
var l=Qw(H$({body:t.internalDialog.body},u,n,r))
var f=tK(t.internalDialog.buttons)
var v=eK(f)
var d=Qw(lK({buttons:f},n))
var m=aK.initDialog((function(){return h}),{onBlock:function(t){bJ.block(g,(function(e,n){return Y$(t.message,n)}))},onUnblock:function(){bJ.unblock(g)},onClose:function(){return e.closeWindow()}},n.shared.getSink)
var g=yc({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=i,o["aria-describedby"]=""+u,o)},eventOrder:(a={},a[jo()]=[$V.name(),ql.name()],a[Wo()]=["execute-on-form"],a[ta()]=["reflecting","execute-on-form"],a),behaviours:Vl([fy.config({mode:"cyclic",onEscape:function(t){la(t,cz)
return w.some(true)},useTabstopAt:function(t){return!ZA(t)&&("button"!==Ha(t)||"disabled"!==gi(t,"disabled"))}}),$V.config({channel:z$,updateState:c,initialData:t}),Ay.config({}),Sy("execute-on-form",m.concat([Ma(zo(),(function(t,e){fy.focusIn(t)}))])),bJ.config({getRoot:function(){return w.some(g)}}),xy.config({}),jA.memory({})]),components:[s.asSpec(),l.asSpec(),d.asSpec()]})
var h=mK({getRoot:function(){return g},getFooter:function(){return d.get(g)},getBody:function(){return l.get(g)},getFormWrapper:function(){var t=l.get(g)
return bh.getCurrent(t).getOr(t)}},e.redial,v)
return{dialog:g,instanceApi:h}}
var bK=tinymce.util.Tools.resolve("tinymce.util.URI")
var yK=function(t){var e=function(e){t.getSystem().isConnected()&&e(t)}
var n=function(t){if(!k(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument")
e((function(e){fa(e,vz,{message:t})}))}
var r=function(){e((function(t){la(t,dz)}))}
var o=function(){e((function(t){la(t,cz)}))}
var a=function(t){e((function(e){e.getSystem().broadcastOn([A$],t)}))}
return{block:n,unblock:r,close:o,sendMessage:a}}
var wK=["insertContent","setContent","execCommand","close","block","unblock"]
var xK=function(t){return T(t)&&-1!==wK.indexOf(t.mceAction)}
var CK=function(t){return!xK(t)&&T(t)&&Ft(t,"mceAction")}
var SK=function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content)
break
case"setContent":t.setContent(n.content)
break
case"execCommand":var r=!!z(n.ui)&&n.ui
t.execCommand(n.cmd,r,n.value)
break
case"close":e.close()
break
case"block":e.block(n.message)
break
case"unblock":e.unblock()}}
var OK=function(t,e,n,r){var o
var a=K$(t.title,r)
var i=I$(t)
var u=t.buttons.bind((function(t){return 0===t.length?w.none():w.some(fK({buttons:t},r))}))
var c=aK.initUrlDialog((function(){return b}),Q$((function(){return p}),e))
var s=d(d({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}})))
var l=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[]
var f=new bK(t.url,{base_uri:new bK(window.location.href)})
var v=f.protocol+"://"+f.host+(f.port?":"+f.port:"")
var m=$n(w.none())
var g=[Sy("messages",[Ea((function(){var e=v_(er.fromDom(window),"message",(function(e){if(f.isSameOrigin(new bK(e.raw.origin))){var r=e.raw.data
xK(r)?SK(n,b,r):CK(r)&&t.onMessage(b,r)}}))
m.set(w.some(e))})),Da((function(){m.get().each((function(t){return t.unbind()}))}))]),ql.config({channels:(o={},o[A$]={onReceive:function(t,e){ds(t.element,"iframe").each((function(t){var n=t.dom.contentWindow
n.postMessage(e,v)}))}},o)})]
var h={header:a,body:i,footer:u,extraClasses:l,extraBehaviours:g,extraStyles:s}
var p=Z$(h,t,c,r)
var b=yK(p)
return{dialog:p,instanceApi:b}}
var kK=function(t){var e=t.backstage.shared
var n=function(n,r){var o=function(){wJ.hide(c)
r()}
var a=Qw(NH({name:"close-alert",text:"OK",primary:true,align:"end",disabled:false,icon:w.none()},"cancel",t.backstage))
var i=F$()
var u=V$(o,e.providers)
var c=yc(U$({lazySink:function(){return e.getSink()},header:P$(i,u),body:N$(n,e.providers),footer:w.some(j$(W$([],[a.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[wa(sz,o)],eventOrder:{}}))
wJ.show(c)
var s=a.get(c)
Ay.focus(s)}
return{open:n}}
var TK=function(t){var e=t.backstage.shared
var n=function(n,r){var o=function(t){wJ.hide(s)
r(t)}
var a=Qw(NH({name:"yes",text:"Yes",primary:true,align:"end",disabled:false,icon:w.none()},"submit",t.backstage))
var i=NH({name:"no",text:"No",primary:false,align:"end",disabled:false,icon:w.none()},"cancel",t.backstage)
var u=F$()
var c=V$((function(){return o(false)}),e.providers)
var s=yc(U$({lazySink:function(){return e.getSink()},header:P$(u,c),body:N$(n,e.providers),footer:w.some(j$(W$([],[i,a.asSpec()]))),onEscape:function(){return o(false)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[wa(sz,(function(){return o(false)})),wa(fz,(function(){return o(true)}))],eventOrder:{}}))
wJ.show(s)
var l=a.get(s)
Ay.focus(l)}
return{open:n}}
var _K=function(t,e){return rn(nn("data",e,t))}
var zK=function(t){return g_(t,".tox-alert-dialog")||g_(t,".tox-confirm-dialog")}
var MK=function(t,e,n){return e&&n?[]:[Vj.config({contextual:{lazyContext:function(){return w.some(os(er.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]}
var EK=function(t){var e=t.backstage
var n=t.editor
var r=kO(n)
var o=kK(t)
var a=TK(t)
var i=function(t,n,r){return void 0!==n&&"toolbar"===n.inline?l(t,e.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?l(t,e.shared.anchors.cursor(),r,n.ariaAttrs):s(t,r)}
var u=function(t,e){return c(t,e)}
var c=function(t,r){var o=function(t){var o=OK(t,{closeWindow:function(){wJ.hide(o.dialog)
r(o.instanceApi)}},n,e)
wJ.show(o.dialog)
return o.instanceApi}
return ZX.openUrl(o,t)}
var s=function(t,n){var r=function(t,r,o){var a=r
var i={dataValidator:o,initialData:a,internalDialog:t}
var u=hK(i,{redial:ZX.redial,closeWindow:function(){wJ.hide(u.dialog)
n(u.instanceApi)}},e)
wJ.show(u.dialog)
u.instanceApi.setData(a)
return u.instanceApi}
return ZX.open(r,t)}
var l=function(t,o,a,i){var u=function(t,u,c){var s=_K(u,c)
var l=yN()
var f=e.shared.header.isPositionedAtTop()
var v={dataValidator:c,initialData:s,internalDialog:t}
var m=function(){return l.on((function(t){Lw.reposition(t)
Vj.refresh(t)}))}
var h=pK(v,{redial:ZX.redial,closeWindow:function(){l.on(Lw.hide)
n.off("ResizeEditor",m)
l.clear()
a(h.instanceApi)}},e,i)
var p=yc(Lw.sketch(d(d({lazySink:e.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},f?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Vl(g([Sy("window-manager-inline-events",[wa(na(),(function(t,e){la(h.dialog,sz)}))])],MK(n,r,f))),isExtraPart:function(t,e){return zK(e)}})))
l.set(p)
Lw.showWithin(p,o,wc(h.dialog),w.some(qu()))
if(!r||!f){Vj.refresh(p)
n.on("ResizeEditor",m)}h.instanceApi.setData(s)
fy.focusIn(h.dialog)
return h.instanceApi}
return ZX.open(u,t)}
var f=function(t,e){a.open(t,(function(t){e(t)}))}
var v=function(t,e){o.open(t,(function(){e()}))}
var m=function(t){t.close()}
return{open:i,openUrl:u,alert:v,close:m,confirm:f}}
function DK(){v.add("silver",(function(t){var e=iJ(t),n=e.uiMothership,r=e.backstage,o=e.renderUI,i=e.getUi
l_.register(t,r.shared)
var u=EK({editor:t,backstage:r})
return{renderUI:o,getWindowManagerImpl:a(u),getNotificationManagerImpl:function(){return ix(t,{backstage:r},n)},ui:i()}}))}DK()})()}).call(this,n("yLpj"))},Gy1R:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(t){return t}
var n=function(){n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return n.apply(this,arguments)}
var r="\ufeff"
var o=function(t){return t.replace(/\uFEFF/g,"")}
var a=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var i="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]"
var u={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\ufeff-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:i}
var c={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13}
var s=[new RegExp(u.aletter),new RegExp(u.midnumlet),new RegExp(u.midletter),new RegExp(u.midnum),new RegExp(u.numeric),new RegExp(u.cr),new RegExp(u.lf),new RegExp(u.newline),new RegExp(u.extend),new RegExp(u.format),new RegExp(u.katakana),new RegExp(u.extendnumlet),new RegExp("@")]
var l=""
var f=new RegExp("^"+u.punctuation+"$")
var v=/^\s+$/
var d=s
var m=c.OTHER
var g=function(t){var e=m
var n=d.length
for(var r=0;r<n;++r){var o=d[r]
if(o&&o.test(t)){e=r
break}}return e}
var h=function(t){var e={}
return function(n){if(e[n])return e[n]
var r=t(n)
e[n]=r
return r}}
var p=function(t){var e=h(g)
return a(t,e)}
var b=function(t,e){var n=t[e]
var r=t[e+1]
if(e<0||e>t.length-1&&0!==e)return false
if(n===c.ALETTER&&r===c.ALETTER)return false
var o=t[e+2]
if(n===c.ALETTER&&(r===c.MIDLETTER||r===c.MIDNUMLET||r===c.AT)&&o===c.ALETTER)return false
var a=t[e-1]
if((n===c.MIDLETTER||n===c.MIDNUMLET||r===c.AT)&&r===c.ALETTER&&a===c.ALETTER)return false
if((n===c.NUMERIC||n===c.ALETTER)&&(r===c.NUMERIC||r===c.ALETTER))return false
if((n===c.MIDNUM||n===c.MIDNUMLET)&&r===c.NUMERIC&&a===c.NUMERIC)return false
if(n===c.NUMERIC&&(r===c.MIDNUM||r===c.MIDNUMLET)&&o===c.NUMERIC)return false
if(n===c.EXTEND||n===c.FORMAT||a===c.EXTEND||a===c.FORMAT||r===c.EXTEND||r===c.FORMAT)return false
if(n===c.CR&&r===c.LF)return false
if(n===c.NEWLINE||n===c.CR||n===c.LF)return true
if(r===c.NEWLINE||r===c.CR||r===c.LF)return true
if(n===c.KATAKANA&&r===c.KATAKANA)return false
if(r===c.EXTENDNUMLET&&(n===c.ALETTER||n===c.NUMERIC||n===c.KATAKANA||n===c.EXTENDNUMLET))return false
if(n===c.EXTENDNUMLET&&(r===c.ALETTER||r===c.NUMERIC||r===c.KATAKANA))return false
if(n===c.AT)return false
return true}
var y=l
var w=v
var x=f
var C=function(t){return"http"===t||"https"===t}
var S=function(t,e){var n
for(n=e;n<t.length;n++)if(w.test(t[n]))break
return n}
var O=function(t,e){var n=S(t,e+1)
var r=t.slice(e+1,n).join(y)
return"://"===r.substr(0,3)?n:e}
var k=function(t,e,n,r){var o=[]
var a=[]
for(var i=0;i<n.length;++i){a.push(t[i])
if(b(n,i)){var u=e[i]
if((r.includeWhitespace||!w.test(u))&&(r.includePunctuation||!x.test(u))){var c=i-a.length+1
var s=i+1
var l=e.slice(c,s).join(y)
if(C(l)){var f=O(e,i)
var v=t.slice(s,f)
Array.prototype.push.apply(a,v)
i=f}o.push(a)}a=[]}}return o}
var T=function(){return{includeWhitespace:false,includePunctuation:false}}
var _=function(t,e,o){o=n(n({},T()),o)
var a=[]
var i=[]
for(var u=0;u<t.length;u++){var c=e(t[u])
if(c!==r){a.push(t[u])
i.push(c)}}var s=p(i)
return k(a,i,s,o)}
var z=_
var M=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var E=function(t,e){var n=e.getBlockElements()
var r=e.getShortEndedElements()
var a=function(t){return n[t.nodeName]||r[t.nodeName]}
var i=[]
var u=""
var c=new M(t,t)
while(t=c.next())if(3===t.nodeType)u+=o(t.data)
else if(a(t)&&u.length){i.push(u)
u=""}u.length&&i.push(u)
return i}
var D=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}
var A=function(t,n){var r=E(t,n).join("\n")
return z(r.split(""),e).length}
var R=function(t,e){var n=E(t,e).join("")
return D(n)}
var H=function(t,e){var n=E(t,e).join("").replace(/\s/g,"")
return D(n)}
var B=function(t,e){return function(){return e(t.getBody(),t.schema)}}
var I=function(t,e){return function(){return e(t.selection.getRng().cloneContents(),t.schema)}}
var L=function(t){return B(t,A)}
var P=function(t){return{body:{getWordCount:L(t),getCharacterCount:B(t,R),getCharacterCountWithoutSpaces:B(t,H)},selection:{getWordCount:I(t,A),getCharacterCount:I(t,R),getCharacterCountWithoutSpaces:I(t,H)},getCount:L(t)}}
var V=tinymce.util.Tools.resolve("tinymce.util.Delay")
var F=function(t,e){t.fire("wordCountUpdate",{wordCount:{words:e.body.getWordCount(),characters:e.body.getCharacterCount(),charactersWithoutSpaces:e.body.getCharacterCountWithoutSpaces()}})}
var N=function(t,e){F(t,e)}
var j=function(t,e,n){var r=V.debounce((function(){return N(t,e)}),n)
t.on("init",(function(){N(t,e)
V.setEditorTimeout(t,(function(){t.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))}
var W=function(t,e){t.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(e.body.getWordCount()),String(e.selection.getWordCount())],["Characters (no spaces)",String(e.body.getCharacterCountWithoutSpaces()),String(e.selection.getCharacterCountWithoutSpaces())],["Characters",String(e.body.getCharacterCount()),String(e.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:true}]})}
var U=function(t,e){t.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return W(t,e)}})
t.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return W(t,e)}})}
function q(e){void 0===e&&(e=300)
t.add("wordcount",(function(t){var n=P(t)
U(t,n)
j(t,n,e)
return n}))}q()})()},HF4P:function(t,e){(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(t){if(t.hasPlugin("powerpaste",true)){"undefined"!==typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")
return true}return false}
var r=function(t,e){return{clipboard:t,quirks:e}}
var o=function(){}
var a=function(t){return function(){return t}}
var i=a(false)
var u=a(true)
var c=function(){return s}
var s=(l=function(t){return t.isNone()},f=function(t){return t()},v=function(t){return t},d={fold:function(t,e){return t()},is:i,isSome:i,isNone:u,getOr:v,getOrThunk:f,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:v,orThunk:f,map:c,each:o,bind:c,exists:i,forall:u,filter:c,equals:l,equals_:l,toArray:function(){return[]},toString:a("none()")},d)
var l,f,v,d
var m=function(t){var e=a(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:u,isNone:i,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return m(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:s},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(i,(function(e){return n(t,e)}))}}
return o}
var g=function(t){return null===t||void 0===t?s:m(t)}
var h={some:m,none:c,from:g}
var p=function(t){return function(e){return typeof e===t}}
var b=function(t){return null===t||void 0===t}
var y=function(t){return!b(t)}
var w=p("function")
var x=Array.prototype.slice
var C=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return true}return false}
var S=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var O=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var k=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var T=function(t,e,n){O(t,(function(t){n=e(n,t)}))
return n}
var _=w(Array.from)?Array.from:function(t){return x.call(t)}
var z=function(){var e=t(h.none())
var n=function(){return e.set(h.none())}
var r=function(t){return e.set(h.some(t))}
var o=function(){return e.get().isSome()}
var a=function(t){return e.get().each(t)}
return{clear:n,set:r,isSet:o,on:a}}
var M=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var E=function(t,e){return M(t,e,0)}
var D=function(t,e){return M(t,e,t.length-e.length)}
var A=function(t,e){return e<=0?"":new Array(e+1).join(t)}
var R=tinymce.util.Tools.resolve("tinymce.Env")
var H=tinymce.util.Tools.resolve("tinymce.util.Delay")
var B=tinymce.util.Tools.resolve("tinymce.util.Promise")
var I=tinymce.util.Tools.resolve("tinymce.util.VK")
var L=function(t,e,n,r){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:r})}
var P=function(t,e,n,r){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:r})}
var V=function(t,e){return t.fire("PastePlainTextToggle",{state:e})}
var F=function(t,e){return t.fire("paste",{ieFake:e})}
var N=tinymce.util.Tools.resolve("tinymce.util.Tools")
var j=function(t){return t.getParam("paste_block_drop",false)}
var W=function(t){return t.getParam("paste_data_images",false)}
var U=function(t){return t.getParam("paste_filter_drop",true)}
var q=function(t){return t.getParam("paste_preprocess")}
var G=function(t){return t.getParam("paste_postprocess")}
var J=function(t){return t.getParam("paste_webkit_styles")}
var X=function(t){return t.getParam("paste_remove_styles_if_webkit",true)}
var $=function(t){return t.getParam("paste_merge_formats",true)}
var K=function(t){return t.getParam("smart_paste",true)}
var Y=function(t){return t.getParam("paste_as_text",false)}
var Q=function(t){return t.getParam("paste_retain_style_properties")}
var Z=function(t){var e="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"
return t.getParam("paste_word_valid_elements",e)}
var tt=function(t){return t.getParam("paste_convert_word_fake_lists",true)}
var et=function(t){return t.getParam("paste_enable_default_filters",true)}
var nt=function(t){return t.getParam("validate")}
var rt=function(t){return t.getParam("allow_html_data_urls",false,"boolean")}
var ot=function(t){return t.getParam("paste_data_images",false,"boolean")}
var at=function(t){return t.getParam("images_dataimg_filter")}
var it=function(t){return t.getParam("images_reuse_filename")}
var ut=function(t){return t.getParam("forced_root_block")}
var ct=function(t){return t.getParam("forced_root_block_attrs")}
var st=function(t){return t.getParam("paste_tab_spaces",4,"number")}
var lt=function(t){var e="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"
return N.explode(t.getParam("images_file_types",e,"string"))}
var ft="x-tinymce/html"
var vt="\x3c!-- "+ft+" --\x3e"
var dt=function(t){return vt+t}
var mt=function(t){return t.replace(vt,"")}
var gt=function(t){return-1!==t.indexOf(vt)}
var ht=function(){return ft}
var pt=tinymce.util.Tools.resolve("tinymce.html.Entities")
var bt=function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)}
var yt=function(t){return t.replace(/\r?\n/g,"<br>")}
var wt=function(t,e){var n
var r=[]
var o="<"+t
if("object"===typeof e){for(n in e)e.hasOwnProperty(n)&&r.push(n+'="'+pt.encodeAllRaw(e[n])+'"')
r.length&&(o+=" "+r.join(" "))}return o+">"}
var xt=function(t,e,n){var r=t.split(/\n\n/)
var o=wt(e,n)
var a="</"+e+">"
var i=N.map(r,(function(t){return t.split(/\n/).join("<br />")}))
var u=function(t){return o+t+a}
return 1===i.length?i[0]:N.map(i,u).join("")}
var Ct=function(t,e,n){return e?xt(t,true===e?"p":e,n):yt(t)}
var St=tinymce.util.Tools.resolve("tinymce.html.DomParser")
var Ot=tinymce.util.Tools.resolve("tinymce.html.Serializer")
var kt=""
var Tt=tinymce.util.Tools.resolve("tinymce.html.Node")
var _t=tinymce.util.Tools.resolve("tinymce.html.Schema")
function zt(t,e){N.each(e,(function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])}))
return t}function Mt(t){var e=_t()
var n=St({},e)
var r=""
var o=e.getShortEndedElements()
var a=N.makeMap("script noscript style textarea video audio iframe object"," ")
var i=e.getBlockElements()
function u(t){var e=t.name,n=t
if("br"===e){r+="\n"
return}if("wbr"===e)return
o[e]&&(r+=" ")
if(a[e]){r+=" "
return}3===t.type&&(r+=t.value)
if(!t.shortEnded&&(t=t.firstChild))do{u(t)}while(t=t.next)
if(i[e]&&n.next){r+="\n"
"p"===e&&(r+="\n")}}t=zt(t,[/<!\[[^\]]+\]>/g])
u(n.parse(t))
return r}function Et(t){function e(t,e,n){if(!e&&!n)return" "
return kt}t=zt(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,e],/<br class="Apple-interchange-newline">/g,/<br>$/i])
return t}function Dt(t){var e=0
return function(){return t+e++}}var At=function(t){var e={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"}
return N.hasOwn(e,t)?"image/"+e[t]:"image/"+t}
function Rt(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)}function Ht(t){var e
var n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/]
t=t.replace(/^[\u00a0 ]+/,"")
N.each(n,(function(n){if(n.test(t)){e=true
return false}}))
return e}function Bt(t){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(t)}function It(t){var e,n,r=1
function o(t){var e=""
if(3===t.type)return t.value
if(t=t.firstChild)do{e+=o(t)}while(t=t.next)
return e}function a(t,e){if(3===t.type&&e.test(t.value)){t.value=t.value.replace(e,"")
return false}if(t=t.firstChild)do{if(!a(t,e))return false}while(t=t.next)
return true}function i(t){if(t._listIgnore){t.remove()
return}if(t=t.firstChild)do{i(t)}while(t=t.next)}function u(t,o,u){var c=t._listLevel||r
if(c!==r)if(c<r)e&&(e=e.parent.parent)
else{n=e
e=null}if(e&&e.name===o)e.append(t)
else{n=n||e
e=new Tt(o,1)
u>1&&e.attr("start",""+u)
t.wrap(e)}t.name="li"
c>r&&n&&n.lastChild.append(e)
r=c
i(t)
a(t,/^\u00a0+/)
a(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/)
a(t,/^\u00a0+/)}var c=[]
var s=t.firstChild
while("undefined"!==typeof s&&null!==s){c.push(s)
s=s.walk()
if(null!==s)while("undefined"!==typeof s&&s.parent!==t)s=s.walk()}for(var l=0;l<c.length;l++){t=c[l]
if("p"===t.name&&t.firstChild){var f=o(t)
if(Bt(f)){u(t,"ul")
continue}if(Ht(f)){var v=/([0-9]+)\./.exec(f)
var d=1
v&&(d=parseInt(v[1],10))
u(t,"ol",d)
continue}if(t._listLevel){u(t,"ul",1)
continue}e=null}else{n=e
e=null}}}function Lt(t,e,n,r){var o,a={}
var i=t.dom.parseStyle(r)
N.each(i,(function(i,u){switch(u){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r)
o&&(n._listLevel=parseInt(o[1],10))
if(/Ignore/i.test(i)&&n.firstChild){n._listIgnore=true
n.firstChild._listIgnore=true}break
case"horiz-align":u="text-align"
break
case"vert-align":u="vertical-align"
break
case"font-color":case"mso-foreground":u="color"
break
case"mso-background":case"mso-highlight":u="background"
break
case"font-weight":case"font-style":"normal"!==i&&(a[u]=i)
return
case"mso-element":if(/^(comment|comment-list)$/i.test(i)){n.remove()
return}}if(0===u.indexOf("mso-comment")){n.remove()
return}if(0===u.indexOf("mso-"))return;("all"===Q(t)||e&&e[u])&&(a[u]=i)}))
if(/(bold)/i.test(a["font-weight"])){delete a["font-weight"]
n.wrap(new Tt("b",1))}if(/(italic)/i.test(a["font-style"])){delete a["font-style"]
n.wrap(new Tt("i",1))}a=t.dom.serializeStyle(a,n.name)
if(a)return a
return null}var Pt=function(t,e){var n
var r=Q(t)
r&&(n=N.makeMap(r.split(/[, ]/)))
e=zt(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,kt],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join(kt):""}]])
var o=Z(t)
var a=_t({valid_elements:o,valid_children:"-li[p]"})
N.each(a.elements,(function(t){if(!t.attributes.class){t.attributes.class={}
t.attributesOrder.push("class")}if(!t.attributes.style){t.attributes.style={}
t.attributesOrder.push("style")}}))
var i=St({},a)
i.addAttributeFilter("style",(function(e){var r,o=e.length
while(o--){r=e[o]
r.attr("style",Lt(t,n,r,r.attr("style")))
"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()}}))
i.addAttributeFilter("class",(function(t){var e,n,r=t.length
while(r--){e=t[r]
n=e.attr("class");/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove()
e.attr("class",null)}}))
i.addNodeFilter("del",(function(t){var e=t.length
while(e--)t[e].remove()}))
i.addNodeFilter("a",(function(t){var e,n,r,o=t.length
while(o--){e=t[o]
n=e.attr("href")
r=e.attr("name")
if(n&&-1!==n.indexOf("#_msocom_")){e.remove()
continue}if(n&&0===n.indexOf("file://")){n=n.split("#")[1]
n&&(n="#"+n)}if(n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){e.unwrap()
continue}e.attr({href:n,name:r})}else e.unwrap()}}))
var u=i.parse(e)
tt(t)&&It(u)
e=Ot({validate:nt(t)},a).serialize(u)
return e}
var Vt=function(t,e){return et(t)?Pt(t,e):e}
var Ft=function(t,e){var n=St({},t.schema)
n.addNodeFilter("meta",(function(t){N.each(t,(function(t){t.remove()}))}))
var r=n.parse(e,{forced_root_block:false,isRootContent:true})
return Ot({validate:nt(t)},t.schema).serialize(r)}
var Nt=function(t,e){return{content:t,cancelled:e}}
var jt=function(t,e,n,r){var o=t.dom.create("div",{style:"display:none"},e)
var a=P(t,o,n,r)
return Nt(a.node.innerHTML,a.isDefaultPrevented())}
var Wt=function(t,e,n,r){var o=L(t,e,n,r)
var a=Ft(t,o.content)
return t.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?jt(t,a,n,r):Nt(a,o.isDefaultPrevented())}
var Ut=function(t,e,n){var r=Rt(e)
var o=r?Vt(t,e):e
return Wt(t,o,n,r)}
var qt=function(t,e){t.insertContent(e,{merge:$(t),paste:true})
return true}
var Gt=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)}
var Jt=function(t,e){return Gt(e)&&C(lt(t),(function(t){return D(e,"."+t)}))}
var Xt=function(t,e,n){t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')}))
return true}
var $t=function(t,e,n){t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",false,e)}))
return true}
var Kt=function(t,e,n){return!(false!==t.selection.isCollapsed()||!Gt(e))&&$t(t,e,n)}
var Yt=function(t,e,n){return!!Jt(t,e)&&Xt(t,e,n)}
var Qt=function(t,e){N.each([Kt,Yt,qt],(function(n){return true!==n(t,e,qt)}))}
var Zt=function(t,e,n){n||false===K(t)?qt(t,e):Qt(t,e)}
var te=function(t){return-1!==" \f\t\v".indexOf(t)}
var ee=function(t){return"\n"===t||"\r"===t}
var ne=function(t,e){return e<t.length&&e>=0&&ee(t[e])}
var re=function(t,e){var n=A(" ",st(t))
var r=e.replace(/\t/g,n)
var o=T(r,(function(t,e){return te(e)||e===kt?t.pcIsSpace||""===t.str||t.str.length===r.length-1||ne(r,t.str.length+1)?{pcIsSpace:false,str:t.str+kt}:{pcIsSpace:true,str:t.str+" "}:{pcIsSpace:ee(e),str:t.str+e}}),{pcIsSpace:false,str:""})
return o.str}
var oe=function(t,e,n,r){var o=Ut(t,e,n)
false===o.cancelled&&Zt(t,o.content,r)}
var ae=function(t,e,n){var r=n||gt(e)
oe(t,mt(e),r,false)}
var ie=function(t,e){var n=t.dom.encode(e).replace(/\r\n/g,"\n")
var r=re(t,n)
var o=Ct(r,ut(t),ct(t))
oe(t,o,false,true)}
var ue=function(t){var e={}
var n="data:text/mce-internal,"
if(t){if(t.getData){var r=t.getData("Text")
r&&r.length>0&&-1===r.indexOf(n)&&(e["text/plain"]=r)}if(t.types)for(var o=0;o<t.types.length;o++){var a=t.types[o]
try{e[a]=t.getData(a)}catch(t){e[a]=""}}}return e}
var ce=function(t,e){return ue(e.clipboardData||t.getDoc().dataTransfer)}
var se=function(t,e){return e in t&&t[e].length>0}
var le=function(t){return se(t,"text/html")||se(t,"text/plain")}
var fe=function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t)
return e?{type:e[1],data:decodeURIComponent(e[2])}:{type:null,data:null}}
var ve=function(t,e){var n=at(t)
return!n||n(e)}
var de=function(t,e){var n=e.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i)
return y(n)?t.dom.encode(n[1]):null}
var me=Dt("mceclip")
var ge=function(t,e){var n=fe(e.uri),r=n.data,o=n.type
var a=me()
var i=e.blob
var u=new Image
u.src=e.uri
if(ve(t,u)){var c=t.editorUpload.blobCache
var s=void 0
var l=c.getByData(r,o)
if(l)s=l
else{var f=it(t)&&y(i.name)
var v=f?de(t,i.name):a
var d=f?i.name:void 0
s=c.create(a,i,r,v,d)
c.add(s)}ae(t,'<img src="'+s.blobUri()+'">',false)}else ae(t,'<img src="'+e.uri+'">',false)}
var he=function(t){return"paste"===t.type}
var pe=function(t){return y(t.getAsFile)}
var be=function(t){return B.all(S(t,(function(t){return new B((function(e){var n=pe(t)?t.getAsFile():t
var r=new window.FileReader
r.onload=function(){e({blob:n,uri:r.result})}
r.readAsDataURL(n)}))})))}
var ye=function(t){var e=lt(t)
return function(t){return E(t.type,"image/")&&C(e,(function(e){return At(e)===t.type}))}}
var we=function(t,e){var n=e.items?S(_(e.items),(function(t){return t.getAsFile()})):[]
var r=e.files?_(e.files):[]
return k(n.length>0?n:r,ye(t))}
var xe=function(t,e,n){var r=he(e)?e.clipboardData:e.dataTransfer
if(ot(t)&&r){var o=we(t,r)
if(o.length>0){e.preventDefault()
be(o).then((function(e){n&&t.selection.setRng(n)
O(e,(function(e){ge(t,e)}))}))
return true}}return false}
var Ce=function(t){var e=t.clipboardData
return-1!==navigator.userAgent.indexOf("Android")&&e&&e.items&&0===e.items.length}
var Se=function(t){return I.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode}
var Oe=function(t,e,n){var r=z()
var o=z()
var a
t.on("keyup",o.clear)
t.on("keydown",(function(n){var i=function(t){Se(t)&&!t.isDefaultPrevented()&&e.remove()}
if(Se(n)&&!n.isDefaultPrevented()){a=n.shiftKey&&86===n.keyCode
if(a&&R.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return
n.stopImmediatePropagation()
r.set(n)
o.set(true)
if(R.ie&&a){n.preventDefault()
F(t,true)
return}e.remove()
e.create()
t.once("keyup",i)
t.once("paste",(function(){t.off("keyup",i)}))}}))
function i(t,n,r,o,a){var i
if(se(n,"text/html"))i=n["text/html"]
else{i=e.getHtml()
a=a||gt(i)
e.isDefaultContent(i)&&(o=true)}i=Et(i)
e.remove()
var u=false===a&&bt(i)
var c=Jt(t,i);(!i.length||u&&!c)&&(o=true);(o||c)&&(i=se(n,"text/plain")&&u?n["text/plain"]:Mt(i))
if(e.isDefaultContent(i)){r||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")
return}o?ie(t,i):ae(t,i,a)}var u=function(){return e.getLastRng()||t.selection.getRng()}
t.on("paste",(function(c){var s=r.isSet()||o.isSet()
s&&r.clear()
var l=ce(t,c)
var f="text"===n.get()||a
var v=se(l,ht())
a=false
if(c.isDefaultPrevented()||Ce(c)){e.remove()
return}if(!le(l)&&xe(t,c,u())){e.remove()
return}s||c.preventDefault()
if(R.ie&&(!s||c.ieFake)&&!se(l,"text/html")){e.create()
t.dom.bind(e.getEl(),"paste",(function(t){t.stopPropagation()}))
t.getDoc().execCommand("Paste",false,null)
l["text/html"]=e.getHtml()}if(se(l,"text/html")){c.preventDefault()
v||(v=gt(l["text/html"]))
i(t,l,s,f,v)}else H.setEditorTimeout(t,(function(){i(t,l,s,f,v)}),0)}))}
var ke=function(t,e,n){Oe(t,e,n)
var r
t.parser.addNodeFilter("img",(function(e,n,o){var a=function(t){return t.data&&true===t.data.paste}
var i=function(t){t.attr("data-mce-object")||r===R.transparentSrc||t.remove()}
var u=function(t){return 0===t.indexOf("webkit-fake-url")}
var c=function(t){return 0===t.indexOf("data:")}
if(!ot(t)&&a(o)){var s=e.length
while(s--){r=e[s].attr("src")
if(!r)continue;(u(r)||!rt(t)&&c(r))&&i(e[s])}}}))}
var Te=function(t){return R.ie&&t.inline?document.body:t.getBody()}
var _e=function(t){return Te(t)!==t.getBody()}
var ze=function(t,e,n){_e(t)&&t.dom.bind(e,"paste keyup",(function(e){Ie(t,n)||t.fire("paste")}))}
var Me=function(t,e,n){var r=t.dom,o=t.getBody()
e.set(t.selection.getRng())
var a=t.dom.add(Te(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:true,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(R.ie||R.gecko)&&r.setStyle(a,"left","rtl"===r.getStyle(o,"direction",true)?65535:-65535)
r.bind(a,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()}))
ze(t,a,n)
a.focus()
t.selection.select(a,true)}
var Ee=function(t,e){if(De(t)){var n=void 0
var r=e.get()
while(n=t.dom.get("mcepastebin")){t.dom.remove(n)
t.dom.unbind(n)}r&&t.selection.setRng(r)}e.set(null)}
var De=function(t){return t.dom.get("mcepastebin")}
var Ae=function(t){var e=function(e,n){e.appendChild(n)
t.dom.remove(n,true)}
var n=N.grep(Te(t).childNodes,(function(t){return"mcepastebin"===t.id}))
var r=n.shift()
N.each(n,(function(t){e(r,t)}))
var o=t.dom.select("div[id=mcepastebin]",r)
for(var a=o.length-1;a>=0;a--){var i=t.dom.create("div")
r.insertBefore(i,o[a])
e(i,o[a])}return r?r.innerHTML:""}
var Re=function(t){return t.get()}
var He=function(t,e){return e===t}
var Be=function(t){return t&&"mcepastebin"===t.id}
var Ie=function(t,e){var n=De(t)
return Be(n)&&He(e,n.innerHTML)}
var Le=function(e){var n=t(null)
var r="%MCEPASTEBIN%"
return{create:function(){return Me(e,n,r)},remove:function(){return Ee(e,n)},getEl:function(){return De(e)},getHtml:function(){return Ae(e)},getLastRng:function(){return Re(n)},isDefault:function(){return Ie(e,r)},isDefaultContent:function(t){return He(r,t)}}}
var Pe=function(t,e){var n=Le(t)
t.on("PreInit",(function(){return ke(t,n,e)}))
return{pasteFormat:e,pasteHtml:function(e,n){return ae(t,e,n)},pasteText:function(e){return ie(t,e)},pasteImageData:function(e,n){return xe(t,e,n)},getDataTransferItems:ue,hasHtmlOrText:le,hasContentType:se}}
var Ve=function(t,e){if("text"===e.pasteFormat.get()){e.pasteFormat.set("html")
V(t,false)}else{e.pasteFormat.set("text")
V(t,true)}t.focus()}
var Fe=function(t,e){t.addCommand("mceTogglePlainTextPaste",(function(){Ve(t,e)}))
t.addCommand("mceInsertClipboardContent",(function(t,n){n.content&&e.pasteHtml(n.content,n.internal)
n.text&&e.pasteText(n.text)}))}
var Ne=function(t){return false===R.iOS&&"function"===typeof(null===t||void 0===t?void 0:t.setData)}
var je=function(t,e,n){if(!Ne(t))return false
try{t.clearData()
t.setData("text/html",e)
t.setData("text/plain",n)
t.setData(ht(),e)
return true}catch(t){return false}}
var We=function(t,e,n,r){if(je(t.clipboardData,e.html,e.text)){t.preventDefault()
r()}else n(e.html,r)}
var Ue=function(t){return function(e,n){var r=dt(e)
var o=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"})
var a=t.dom.create("div",{contenteditable:"true"},r)
t.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"})
o.appendChild(a)
t.dom.add(t.getBody(),o)
var i=t.selection.getRng()
a.focus()
var u=t.dom.createRng()
u.selectNodeContents(a)
t.selection.setRng(u)
H.setTimeout((function(){t.selection.setRng(i)
o.parentNode.removeChild(o)
n()}),0)}}
var qe=function(t){return{html:t.selection.getContent({contextual:true}),text:t.selection.getContent({format:"text"})}}
var Ge=function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())}
var Je=function(t){return!t.selection.isCollapsed()||Ge(t)}
var Xe=function(t){return function(e){Je(t)&&We(e,qe(t),Ue(t),(function(){if(R.browser.isChrome()||R.browser.isFirefox()){var e=t.selection.getRng()
H.setEditorTimeout(t,(function(){t.selection.setRng(e)
t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}}
var $e=function(t){return function(e){Je(t)&&We(e,qe(t),Ue(t),(function(){}))}}
var Ke=function(t){t.on("cut",Xe(t))
t.on("copy",$e(t))}
var Ye=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils")
var Qe=function(t,e){return Ye.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())}
var Ze=function(t){var e=t["text/plain"]
return!!e&&0===e.indexOf("file://")}
var tn=function(t,e){t.focus()
t.selection.setRng(e)}
var en=function(t,e,n){j(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault()
t.stopPropagation()}))
W(t)||t.on("drop",(function(t){var e=t.dataTransfer
e&&e.files&&e.files.length>0&&t.preventDefault()}))
t.on("drop",(function(r){var o=Qe(t,r)
if(r.isDefaultPrevented()||n.get())return
var a=e.getDataTransferItems(r.dataTransfer)
var i=e.hasContentType(a,ht())
if((!e.hasHtmlOrText(a)||Ze(a))&&e.pasteImageData(r,o))return
if(o&&U(t)){var u=a["mce-internal"]||a["text/html"]||a["text/plain"]
if(u){r.preventDefault()
H.setEditorTimeout(t,(function(){t.undoManager.transact((function(){a["mce-internal"]&&t.execCommand("Delete")
tn(t,o)
u=Et(u)
a["text/html"]?e.pasteHtml(u,i):e.pasteText(u)}))}))}}}))
t.on("dragstart",(function(t){n.set(true)}))
t.on("dragover dragend",(function(e){if(W(t)&&false===n.get()){e.preventDefault()
tn(t,Qe(t,e))}"dragend"===e.type&&n.set(false)}))}
var nn=function(t){var e=t.plugins.paste
var n=q(t)
n&&t.on("PastePreProcess",(function(t){n.call(e,e,t)}))
var r=G(t)
r&&t.on("PastePostProcess",(function(t){r.call(e,e,t)}))}
function rn(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal,n.wordContent)}))}function on(t,e){t.on("PastePostProcess",(function(n){e(t,n.node)}))}function an(t,e){if(!Rt(e))return e
var n=[]
N.each(t.schema.getBlockElements(),(function(t,e){n.push(e)}))
var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g")
e=zt(e,[[r,"$1"]])
e=zt(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])
return e}function un(t,e,n,r){if(r||n)return e
var o=J(t)
var a
if(false===X(t)||"all"===o)return e
o&&(a=o.split(/[, ]/))
if(a){var i=t.dom,u=t.selection.getNode()
e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,r){var o=i.parseStyle(i.decode(n))
var c={}
if("none"===a)return e+r
for(var s=0;s<a.length;s++){var l=o[a[s]],f=i.getStyle(u,a[s],true)
if(/color/.test(a[s])){l=i.toHex(l)
f=i.toHex(f)}f!==l&&(c[a[s]]=l)}c=i.serializeStyle(c,"span")
if(c)return e+' style="'+c+'"'+r
return e+r}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")
e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,r){return e+' style="'+n+'"'+r}))
return e}function cn(t,e){t.$("a",e).find("font,u").each((function(e,n){t.dom.remove(n,true)}))}var sn=function(t){R.webkit&&rn(t,un)
if(R.ie){rn(t,an)
on(t,cn)}}
var ln=function(t,e){return function(n){n.setActive("text"===e.pasteFormat.get())
var r=function(t){return n.setActive(t.state)}
t.on("PastePlainTextToggle",r)
return function(){return t.off("PastePlainTextToggle",r)}}}
var fn=function(t,e){t.ui.registry.addToggleButton("pastetext",{active:false,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:ln(t,e)})
t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:ln(t,e)})}
function vn(){e.add("paste",(function(e){if(false===n(e)){var o=t(false)
var a=t(Y(e)?"text":"html")
var i=Pe(e,a)
var u=sn(e)
fn(e,i)
Fe(e,i)
nn(e)
Ke(e)
en(e,i,o)
return r(i,u)}}))}vn()})()},"I9W/":function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(){}
var n=function(t){return function(){return t}}
var r=function(t){return function(e){return!t(e)}}
var o=n(false)
var a=n(true)
var i=function(){return u}
var u=function(){var t=function(t){return t.isNone()}
var r=function(t){return t()}
var u=function(t){return t}
var c={fold:function(t,e){return t()},is:o,isSome:o,isNone:a,getOr:u,getOrThunk:r,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:u,orThunk:r,map:i,each:e,bind:i,exists:o,forall:a,filter:i,equals:t,equals_:t,toArray:function(){return[]},toString:n("none()")}
return c}()
var c=function(t){var e=n(t)
var r=function(){return s}
var i=function(e){return e(t)}
var s={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:a,isNone:o,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:r,orThunk:r,map:function(e){return c(e(t))},each:function(e){e(t)},bind:i,exists:i,forall:i,filter:function(e){return e(t)?s:u},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(o,(function(e){return n(t,e)}))}}
return s}
var s=function(t){return null===t||void 0===t?u:c(t)}
var l={some:c,none:i,from:s}
var f=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var v=function(t){return function(e){return f(e)===t}}
var d=function(t){return function(e){return typeof e===t}}
var m=v("string")
var g=v("array")
var h=d("boolean")
var p=d("function")
var b=d("number")
var y=Array.prototype.slice
var w=Array.prototype.push
var x=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var C=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var S=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var O=function(t,e){if(0===t.length)return[]
var n=e(t[0])
var r=[]
var o=[]
for(var a=0,i=t.length;a<i;a++){var u=t[a]
var c=e(u)
if(c!==n){r.push(o)
o=[]}n=c
o.push(u)}0!==o.length&&r.push(o)
return r}
var k=function(t,e,n){C(t,(function(t){n=e(n,t)}))
return n}
var T=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return l.some(a)
if(n(a,r))break}return l.none()}
var _=function(t,e){return T(t,e,o)}
var z=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!g(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
w.apply(e,t[n])}return e}
var M=function(t,e){return z(x(t,e))}
var E=function(t){var e=y.call(t,0)
e.reverse()
return e}
var D=function(t,e){return e>=0&&e<t.length?l.some(t[e]):l.none()}
var A=function(t){return D(t,0)}
var R=function(t){return D(t,t.length-1)}
var H=function(){H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return H.apply(this,arguments)}
var B=function(t){var e=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!e){e=true
n=t.apply(null,r)}return n}}
var I=function(t,e,r,o){var a=t.isiOS()&&true===/ipad/i.test(r)
var i=t.isiOS()&&!a
var u=t.isiOS()||t.isAndroid()
var c=u||o("(pointer:coarse)")
var s=a||!i&&u&&o("(min-device-width:768px)")
var l=i||u&&!s
var f=e.isSafari()&&t.isiOS()&&false===/safari/i.test(r)
var v=!l&&!s&&!f
return{isiPad:n(a),isiPhone:n(i),isTablet:n(s),isPhone:n(l),isTouch:n(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:n(f),isDesktop:n(v)}}
var L=function(t,e){for(var n=0;n<t.length;n++){var r=t[n]
if(r.test(e))return r}return}
var P=function(t,e){var n=L(t,e)
if(!n)return{major:0,minor:0}
var r=function(t){return Number(e.replace(n,"$"+t))}
return N(r(1),r(2))}
var V=function(t,e){var n=String(e).toLowerCase()
if(0===t.length)return F()
return P(t,n)}
var F=function(){return N(0,0)}
var N=function(t,e){return{major:t,minor:e}}
var j={nu:N,detect:V,unknown:F}
var W=function(t,e){var n=String(e).toLowerCase()
return _(t,(function(t){return t.search(n)}))}
var U=function(t,e){return W(t,e).map((function(t){var n=j.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var q=function(t,e){return W(t,e).map((function(t){var n=j.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var G={detectBrowser:U,detectOs:q}
var J=function(t,e){return-1!==t.indexOf(e)}
var X=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var $=function(t){return function(e){return J(e,t)}}
var K=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return J(t,"edge/")&&J(t,"chrome")&&J(t,"safari")&&J(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,X],search:function(t){return J(t,"chrome")&&!J(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return J(t,"msie")||J(t,"trident")}},{name:"Opera",versionRegexes:[X,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$("firefox")},{name:"Safari",versionRegexes:[X,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(J(t,"safari")||J(t,"mobile/"))&&J(t,"applewebkit")}}]
var Y=[{name:"Windows",search:$("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return J(t,"iphone")||J(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:$("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$("linux"),versionRegexes:[]},{name:"Solaris",search:$("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var Q={browsers:n(K),oses:n(Y)}
var Z="Edge"
var tt="Chrome"
var et="IE"
var nt="Opera"
var rt="Firefox"
var ot="Safari"
var at=function(){return it({current:void 0,version:j.unknown()})}
var it=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isEdge:r(Z),isChrome:r(tt),isIE:r(et),isOpera:r(nt),isFirefox:r(rt),isSafari:r(ot)}}
var ut={unknown:at,nu:it,edge:n(Z),chrome:n(tt),ie:n(et),opera:n(nt),firefox:n(rt),safari:n(ot)}
var ct="Windows"
var st="iOS"
var lt="Android"
var ft="Linux"
var vt="OSX"
var dt="Solaris"
var mt="FreeBSD"
var gt="ChromeOS"
var ht=function(){return pt({current:void 0,version:j.unknown()})}
var pt=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isWindows:r(ct),isiOS:r(st),isAndroid:r(lt),isOSX:r(vt),isLinux:r(ft),isSolaris:r(dt),isFreeBSD:r(mt),isChromeOS:r(gt)}}
var bt={unknown:ht,nu:pt,windows:n(ct),ios:n(st),android:n(lt),linux:n(ft),osx:n(vt),solaris:n(dt),freebsd:n(mt),chromeos:n(gt)}
var yt=function(t,e){var n=Q.browsers()
var r=Q.oses()
var o=G.detectBrowser(n,t).fold(ut.unknown,ut.nu)
var a=G.detectOs(r,t).fold(bt.unknown,bt.nu)
var i=I(a,o,t,e)
return{browser:o,os:a,deviceType:i}}
var wt={detect:yt}
var xt=function(t){return window.matchMedia(t).matches}
var Ct=B((function(){return wt.detect(navigator.userAgent,xt)}))
var St=function(){return Ct()}
var Ot=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)}
var kt=function(t,e){return Ot(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Tt=1
var _t=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return Et(r.childNodes[0])}
var zt=function(t,e){var n=e||document
var r=n.createElement(t)
return Et(r)}
var Mt=function(t,e){var n=e||document
var r=n.createTextNode(t)
return Et(r)}
var Et=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var Dt=function(t,e,n){return l.from(t.dom.elementFromPoint(e,n)).map(Et)}
var At={fromHtml:_t,fromTag:zt,fromText:Mt,fromDom:Et,fromPoint:Dt}
var Rt=function(t,e){var n=t.dom
if(n.nodeType!==Tt)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var Ht=function(t,e){return t.dom===e.dom}
var Bt=function(t,e){var n=t.dom
var r=e.dom
return n!==r&&n.contains(r)}
var It=function(t,e){return kt(t.dom,e.dom)}
var Lt=function(t,e){return St().browser.isIE()?It(t,e):Bt(t,e)}
var Pt=Rt
var Vt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils")
var Ft=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var Nt=tinymce.util.Tools.resolve("tinymce.util.VK")
var jt=Object.keys
var Wt=function(t,e){var n=jt(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var Ut=function(t){return function(e,n){t[n]=e}}
var qt=function(t,e,n,r){var o={}
Wt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var Gt=function(t,n){var r={}
qt(t,n,Ut(r),e)
return r}
"undefined"!==typeof window?window:Function("return this;")()
var Jt=function(t){var e=t.dom.nodeName
return e.toLowerCase()}
var Xt=function(t){return t.dom.nodeType}
var $t=function(t){return function(e){return Xt(e)===t}}
var Kt=$t(Tt)
var Yt=function(t,e,n){if(!(m(n)||h(n)||b(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var Qt=function(t,e){var n=t.dom
Wt(e,(function(t,e){Yt(n,e,t)}))}
var Zt=function(t){return k(t.dom.attributes,(function(t,e){t[e.name]=e.value
return t}),{})}
var te=function(t){return l.from(t.dom.parentNode).map(At.fromDom)}
var ee=function(t){return x(t.dom.childNodes,At.fromDom)}
var ne=function(t,e){var n=t.dom.childNodes
return l.from(n[e]).map(At.fromDom)}
var re=function(t){return ne(t,0)}
var oe=function(t){return ne(t,t.dom.childNodes.length-1)}
var ae=function(t,e){var n=te(t)
n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))}
var ie=function(t,e){t.dom.appendChild(e.dom)}
var ue=function(t,e){C(e,(function(e){ae(t,e)}))}
var ce=function(t,e){C(e,(function(e){ie(t,e)}))}
var se=function(t){var e=t.dom
null!==e.parentNode&&e.parentNode.removeChild(e)}
var le=function(t,e){return At.fromDom(t.dom.cloneNode(e))}
var fe=function(t){return le(t,true)}
var ve=function(t,e){var n=At.fromTag(e)
var r=Zt(t)
Qt(n,r)
return n}
var de=function(t,e){var n=ve(t,e)
ae(t,n)
var r=ee(t)
ce(n,r)
se(t)
return n}
var me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var ge=tinymce.util.Tools.resolve("tinymce.util.Tools")
var he=function(t){return function(e){return e&&e.nodeName.toLowerCase()===t}}
var pe=function(t){return function(e){return e&&t.test(e.nodeName)}}
var be=function(t){return t&&3===t.nodeType}
var ye=pe(/^(OL|UL|DL)$/)
var we=pe(/^(OL|UL)$/)
var xe=he("ol")
var Ce=pe(/^(LI|DT|DD)$/)
var Se=pe(/^(DT|DD)$/)
var Oe=pe(/^(TH|TD)$/)
var ke=he("br")
var Te=function(t){return t.parentNode.firstChild===t}
var _e=function(t,e){return e&&!!t.schema.getTextBlockElements()[e.nodeName]}
var ze=function(t,e){return t&&t.nodeName in e}
var Me=function(t,e){if(!ke(e))return false
return t.isBlock(e.nextSibling)&&!ke(e.previousSibling)}
var Ee=function(t,e,n){var r=t.isEmpty(e)
if(n&&t.select("span[data-mce-type=bookmark]",e).length>0)return false
return r}
var De=function(t,e){return t.isChildOf(e,t.getRoot())}
var Ae=function(t){return t.getParam("lists_indent_on_tab",true)}
var Re=function(t){var e=t.getParam("forced_root_block","p")
return false===e?"":true===e?"p":e}
var He=function(t){return t.getParam("forced_root_block_attrs",{})}
var Be=function(t,e){var n=t.dom
var r=t.schema.getBlockElements()
var o=n.createFragment()
var a=Re(t)
var i,u,c
if(a){u=n.create(a)
u.tagName===a.toUpperCase()&&n.setAttribs(u,He(t))
ze(e.firstChild,r)||o.appendChild(u)}if(e)while(i=e.firstChild){var s=i.nodeName
c||"SPAN"===s&&"bookmark"===i.getAttribute("data-mce-type")||(c=true)
if(ze(i,r)){o.appendChild(i)
u=null}else if(a){if(!u){u=n.create(a)
o.appendChild(u)}u.appendChild(i)}else o.appendChild(i)}a?c||u.appendChild(n.create("br",{"data-mce-bogus":"1"})):o.appendChild(n.create("br"))
return o}
var Ie=me.DOM
var Le=function(t,e,n){var r=function(t){ge.each(o,(function(e){t.parentNode.insertBefore(e,n.parentNode)}))
Ie.remove(t)}
var o=Ie.select('span[data-mce-type="bookmark"]',e)
var a=Be(t,n)
var i=Ie.createRng()
i.setStartAfter(n)
i.setEndAfter(e)
var u=i.extractContents()
for(var c=u.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&t.dom.isEmpty(c)){Ie.remove(c)
break}t.dom.isEmpty(u)||Ie.insertAfter(u,e)
Ie.insertAfter(a,e)
Ee(t.dom,n.parentNode)&&r(n.parentNode)
Ie.remove(n)
Ee(t.dom,e)&&Ie.remove(e)}
var Pe=function(t,e){Pt(e,"dd")?de(e,"dt"):Pt(e,"dt")&&te(e).each((function(n){return Le(t,n.dom,e.dom)}))}
var Ve=function(t){Pt(t,"dt")&&de(t,"dd")}
var Fe=function(t,e,n){C(n,"Indent"===e?Ve:function(e){return Pe(t,e)})}
var Ne=function(t,e){if(be(t))return{container:t,offset:e}
var n=Vt.getNode(t,e)
if(be(n))return{container:n,offset:e>=t.childNodes.length?n.data.length:0}
if(n.previousSibling&&be(n.previousSibling))return{container:n.previousSibling,offset:n.previousSibling.data.length}
if(n.nextSibling&&be(n.nextSibling))return{container:n.nextSibling,offset:0}
return{container:t,offset:e}}
var je=function(t){var e=t.cloneRange()
var n=Ne(t.startContainer,t.startOffset)
e.setStart(n.container,n.offset)
var r=Ne(t.endContainer,t.endOffset)
e.setEnd(r.container,r.offset)
return e}
var We=tinymce.util.Tools.resolve("tinymce.dom.DomQuery")
var Ue=function(t,e){var n=e||t.selection.getStart(true)
return t.dom.getParent(n,"OL,UL,DL",Ye(t,n))}
var qe=function(t,e){return t&&1===e.length&&e[0]===t}
var Ge=function(t){return ge.grep(t.querySelectorAll("ol,ul,dl"),(function(t){return ye(t)}))}
var Je=function(t){var e=Ue(t)
var n=t.selection.getSelectedBlocks()
return qe(e,n)?Ge(e):ge.grep(n,(function(t){return ye(t)&&e!==t}))}
var Xe=function(t,e){var n=ge.map(e,(function(e){var n=t.dom.getParent(e,"li,dd,dt",Ye(t,e))
return n||e}))
return We.unique(n)}
var $e=function(t){var e=t.selection.getSelectedBlocks()
return ge.grep(Xe(t,e),(function(t){return Ce(t)}))}
var Ke=function(t){return S($e(t),Se)}
var Ye=function(t,e){var n=t.dom.getParents(e,"TD,TH")
var r=n.length>0?n[0]:t.getBody()
return r}
var Qe=function(t,e){var n=t.dom.getParents(e,"ol,ul",Ye(t,e))
return R(n)}
var Ze=function(t){var e=Qe(t,t.selection.getStart())
var n=S(t.selection.getSelectedBlocks(),we)
return e.toArray().concat(n)}
var tn=function(t){var e=Ze(t)
return en(t,e)}
var en=function(t,e){var n=x(e,(function(e){return Qe(t,e).getOr(e)}))
return We.unique(n)}
var nn=function(t,e,n){return t.isSome()&&e.isSome()?l.some(n(t.getOrDie(),e.getOrDie())):l.none()}
var rn=function(t,e){var n=e||document
var r=n.createDocumentFragment()
C(t,(function(t){r.appendChild(t.dom)}))
return At.fromDom(r)}
var on=function(t,e,n){return t.fire("ListMutation",{action:e,element:n})}
var an=function(t){return void 0!==t.style&&p(t.style.getPropertyValue)}
var un=function(t,e,n){if(!m(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}an(t)&&t.style.setProperty(e,n)}
var cn=function(t,e,n){var r=t.dom
un(r,e,n)}
var sn=function(t,e){ie(t.item,e.list)}
var ln=function(t){for(var e=1;e<t.length;e++)sn(t[e-1],t[e])}
var fn=function(t,e){nn(R(t),A(e),sn)}
var vn=function(t,e){var n={list:At.fromTag(e,t),item:At.fromTag("li",t)}
ie(n.list,n.item)
return n}
var dn=function(t,e,n){var r=[]
for(var o=0;o<n;o++)r.push(vn(t,e.listType))
return r}
var mn=function(t,e){for(var n=0;n<t.length-1;n++)cn(t[n].item,"list-style-type","none")
R(t).each((function(t){Qt(t.list,e.listAttributes)
Qt(t.item,e.itemAttributes)
ce(t.item,e.content)}))}
var gn=function(t,e){Jt(t.list)!==e.listType&&(t.list=de(t.list,e.listType))
Qt(t.list,e.listAttributes)}
var hn=function(t,e,n){var r=At.fromTag("li",t)
Qt(r,e)
ce(r,n)
return r}
var pn=function(t,e){ie(t.list,e)
t.item=e}
var bn=function(t,e,n){var r=e.slice(0,n.depth)
R(r).each((function(e){var r=hn(t,n.itemAttributes,n.content)
pn(e,r)
gn(e,n)}))
return r}
var yn=function(t,e,n){var r=dn(t,n,n.depth-e.length)
ln(r)
mn(r,n)
fn(e,r)
return e.concat(r)}
var wn=function(t,e){var n=k(e,(function(e,n){return n.depth>e.length?yn(t,e,n):bn(t,e,n)}),[])
return A(n).map((function(t){return t.list}))}
var xn=function(t){return Pt(t,"OL,UL")}
var Cn=function(t){return re(t).map(xn).getOr(false)}
var Sn=function(t){return oe(t).map(xn).getOr(false)}
var On=function(t){return t.depth>0}
var kn=function(t){return t.isSelected}
var Tn=function(t){var e=ee(t)
var n=Sn(t)?e.slice(0,-1):e
return x(n,fe)}
var _n=function(t,e,n){return te(t).filter(Kt).map((function(r){return{depth:e,dirty:false,isSelected:n,content:Tn(t),itemAttributes:Zt(t),listAttributes:Zt(r),listType:Jt(r)}}))}
var zn=function(t,e){switch(t){case"Indent":e.depth++
break
case"Outdent":e.depth--
break
case"Flatten":e.depth=0}e.dirty=true}
var Mn=function(t,e){t.listType=e.listType
t.listAttributes=H({},e.listAttributes)}
var En=function(t){t.listAttributes=Gt(t.listAttributes,(function(t,e){return"start"!==e}))}
var Dn=function(t,e){var n=t[e].depth
var r=function(t){return t.depth===n&&!t.dirty}
var o=function(t){return t.depth<n}
return T(E(t.slice(0,e)),r,o).orThunk((function(){return T(t.slice(e+1),r,o)}))}
var An=function(t){C(t,(function(e,n){Dn(t,n).fold((function(){e.dirty&&En(e)}),(function(t){return Mn(e,t)}))}))
return t}
var Rn=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var Hn=function(t,e,n,r){return re(r).filter(xn).fold((function(){e.each((function(t){Ht(t.start,r)&&n.set(true)}))
var o=_n(r,t,n.get())
e.each((function(t){Ht(t.end,r)&&n.set(false)}))
var a=oe(r).filter(xn).map((function(r){return Bn(t,e,n,r)})).getOr([])
return o.toArray().concat(a)}),(function(r){return Bn(t,e,n,r)}))}
var Bn=function(t,e,n,r){return M(ee(r),(function(r){var o=xn(r)?Bn:Hn
var a=t+1
return o(a,e,n,r)}))}
var In=function(t,e){var n=Rn(false)
var r=0
return x(t,(function(t){return{sourceList:t,entries:Bn(r,e,n,t)}}))}
var Ln=function(t,e){var n=An(e)
return x(n,(function(e){var n=rn(e.content)
return At.fromDom(Be(t,n.dom))}))}
var Pn=function(t,e){var n=An(e)
return wn(t.contentDocument,n).toArray()}
var Vn=function(t,e){return M(O(e,On),(function(e){var n=A(e).map(On).getOr(false)
return n?Pn(t,e):Ln(t,e)}))}
var Fn=function(t,e){C(S(t,kn),(function(t){return zn(e,t)}))}
var Nn=function(t){var e=x($e(t),At.fromDom)
return nn(_(e,r(Cn)),_(E(e),r(Cn)),(function(t,e){return{start:t,end:e}}))}
var jn=function(t,e,n){var r=In(e,Nn(t))
C(r,(function(e){Fn(e.entries,n)
var r=Vn(t,e.entries)
C(r,(function(e){on(t,"Indent"===n?"IndentList":"OutdentList",e.dom)}))
ue(e.sourceList,r)
se(e.sourceList)}))}
var Wn=function(t,e){var n=x(tn(t),At.fromDom)
var r=x(Ke(t),At.fromDom)
var o=false
if(n.length||r.length){var a=t.selection.getBookmark()
jn(t,n,e)
Fe(t,e,r)
t.selection.moveToBookmark(a)
t.selection.setRng(je(t.selection.getRng()))
t.nodeChanged()
o=true}return o}
var Un=function(t){return Wn(t,"Indent")}
var qn=function(t){return Wn(t,"Outdent")}
var Gn=function(t){return Wn(t,"Flatten")}
var Jn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager")
var Xn=me.DOM
var $n=function(t){var e={}
var n=function(n){var r,o,a
o=t[n?"startContainer":"endContainer"]
a=t[n?"startOffset":"endOffset"]
if(1===o.nodeType){r=Xn.create("span",{"data-mce-type":"bookmark"})
if(o.hasChildNodes()){a=Math.min(a,o.childNodes.length-1)
n?o.insertBefore(r,o.childNodes[a]):Xn.insertAfter(r,o.childNodes[a])}else o.appendChild(r)
o=r
a=0}e[n?"startContainer":"endContainer"]=o
e[n?"startOffset":"endOffset"]=a}
n(true)
t.collapsed||n()
return e}
var Kn=function(t){function e(e){var n,r,o
var a=function(t){var e=t.parentNode.firstChild,n=0
while(e){if(e===t)return n
1===e.nodeType&&"bookmark"===e.getAttribute("data-mce-type")||n++
e=e.nextSibling}return-1}
n=o=t[e?"startContainer":"endContainer"]
r=t[e?"startOffset":"endOffset"]
if(!n)return
if(1===n.nodeType){r=a(n)
n=n.parentNode
Xn.remove(o)
!n.hasChildNodes()&&Xn.isBlock(n)&&n.appendChild(Xn.create("br"))}t[e?"startContainer":"endContainer"]=n
t[e?"startOffset":"endOffset"]=r}e(true)
e()
var n=Xn.createRng()
n.setStart(t.startContainer,t.startOffset)
t.endContainer&&n.setEnd(t.endContainer,t.endOffset)
return je(n)}
var Yn=function(t){switch(t){case"UL":return"ToggleUlList"
case"OL":return"ToggleOlList"
case"DL":return"ToggleDLList"}}
var Qn=function(t){return/\btox\-/.test(t.className)}
var Zn=function(t,e,n){var r=function(t){var r=T(t.parents,ye,Oe).filter((function(t){return t.nodeName===e&&!Qn(t)})).isSome()
n(r)}
var o=t.dom.getParents(t.selection.getNode())
r({parents:o})
t.on("NodeChange",r)
return function(){return t.off("NodeChange",r)}}
var tr=function(t,e,n){var r=n["list-style-type"]?n["list-style-type"]:null
t.setStyle(e,"list-style-type",r)}
var er=function(t,e){ge.each(e,(function(e,n){t.setAttribute(n,e)}))}
var nr=function(t,e,n){er(e,n["list-attributes"])
ge.each(t.select("li",e),(function(t){er(t,n["list-item-attributes"])}))}
var rr=function(t,e,n){tr(t,e,n)
nr(t,e,n)}
var or=function(t,e,n){ge.each(n,(function(n){var r
return t.setStyle(e,(r={},r[n]="",r))}))}
var ar=function(t,e,n,r){var o=e[n?"startContainer":"endContainer"]
var a=e[n?"startOffset":"endOffset"]
1===o.nodeType&&(o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o)
!n&&ke(o.nextSibling)&&(o=o.nextSibling)
while(o.parentNode!==r){if(_e(t,o))return o
if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o
o=o.parentNode}return o}
var ir=function(t,e,n){var r=[],o=t.dom
var a=ar(t,e,true,n)
var i=ar(t,e,false,n)
var u
var c=[]
for(var s=a;s;s=s.nextSibling){c.push(s)
if(s===i)break}ge.each(c,(function(e){if(_e(t,e)){r.push(e)
u=null
return}if(o.isBlock(e)||ke(e)){ke(e)&&o.remove(e)
u=null
return}var a=e.nextSibling
if(Jn.isBookmarkNode(e)&&(_e(t,a)||!a&&e.parentNode===n)){u=null
return}if(!u){u=o.create("p")
e.parentNode.insertBefore(u,e)
r.push(u)}u.appendChild(e)}))
return r}
var ur=function(t,e,n){var r=t.getStyle(e,"list-style-type")
var o=n?n["list-style-type"]:""
o=null===o?"":o
return r===o}
var cr=function(t,e,n){void 0===n&&(n={})
var r=t.selection.getRng()
var o="LI"
var a=Ye(t,t.selection.getStart(true))
var i=t.dom
if("false"===i.getContentEditable(t.selection.getNode()))return
e=e.toUpperCase()
"DL"===e&&(o="DT")
var u=$n(r)
ge.each(ir(t,r,a),(function(r){var a
var u=r.previousSibling
if(u&&ye(u)&&u.nodeName===e&&ur(i,u,n)){a=u
r=i.rename(r,o)
u.appendChild(r)}else{a=i.create(e)
r.parentNode.insertBefore(a,r)
a.appendChild(r)
r=i.rename(r,o)}or(i,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"])
rr(i,a,n)
dr(t.dom,a)}))
t.selection.setRng(Kn(u))}
var sr=function(t,e){return t&&e&&ye(t)&&t.nodeName===e.nodeName}
var lr=function(t,e,n){var r=t.getStyle(e,"list-style-type",true)
var o=t.getStyle(n,"list-style-type",true)
return r===o}
var fr=function(t,e){return t.className===e.className}
var vr=function(t,e,n){return sr(e,n)&&lr(t,e,n)&&fr(e,n)}
var dr=function(t,e){var n,r
n=e.nextSibling
if(vr(t,e,n)){while(r=n.firstChild)e.appendChild(r)
t.remove(n)}n=e.previousSibling
if(vr(t,e,n)){while(r=n.lastChild)e.insertBefore(r,e.firstChild)
t.remove(n)}}
var mr=function(t,e,n,r){if(e.nodeName!==n){var o=t.dom.rename(e,n)
rr(t.dom,o,r)
on(t,Yn(n),o)}else{rr(t.dom,e,r)
on(t,Yn(n),e)}}
var gr=function(t,e,n,r,o){if(e.nodeName!==r||hr(o)){var a=$n(t.selection.getRng(true))
ge.each([e].concat(n),(function(e){mr(t,e,r,o)}))
t.selection.setRng(Kn(a))}else Gn(t)}
var hr=function(t){return"list-style-type"in t}
var pr=function(t,e,n,r){if(e===t.getBody())return
if(e)if(e.nodeName!==n||hr(r)||Qn(e)){var o=$n(t.selection.getRng(true))
rr(t.dom,e,r)
var a=t.dom.rename(e,n)
dr(t.dom,a)
t.selection.setRng(Kn(o))
on(t,Yn(n),a)}else Gn(t)
else{cr(t,n,r)
on(t,Yn(n),e)}}
var br=function(t,e,n){var r=Ue(t)
var o=Je(t)
n=n||{}
r&&o.length>0?gr(t,r,o,e,n):pr(t,r,e,n)}
var yr=me.DOM
var wr=function(t,e){var n
var r=e.parentNode
if("LI"===r.nodeName&&r.firstChild===e){n=r.previousSibling
if(n&&"LI"===n.nodeName){n.appendChild(e)
Ee(t,r)&&yr.remove(r)}else yr.setStyle(r,"listStyleType","none")}if(ye(r)){n=r.previousSibling
n&&"LI"===n.nodeName&&n.appendChild(e)}}
var xr=function(t,e){ge.each(ge.grep(t.select("ol,ul",e)),(function(e){wr(t,e)}))}
var Cr=function(t,e,n,r){var o=e.startContainer
var a=e.startOffset
if(be(o)&&(n?a<o.data.length:a>0))return o
var i=t.schema.getNonEmptyElements()
1===o.nodeType&&(o=Vt.getNode(o,a))
var u=new Ft(o,r)
n&&Me(t.dom,o)&&u.next()
while(o=u[n?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o
if(i[o.nodeName])return o
if(be(o)&&o.data.length>0)return o}}
var Sr=function(t,e){var n=e.childNodes
return 1===n.length&&!ye(n[0])&&t.isBlock(n[0])}
var Or=function(t,e){Sr(t,e)&&t.remove(e.firstChild,true)}
var kr=function(t,e,n){var r
var o=Sr(t,n)?n.firstChild:n
Or(t,e)
if(!Ee(t,e,true))while(r=e.firstChild)o.appendChild(r)}
var Tr=function(t,e,n){var r
var o=e.parentNode
if(!De(t,e)||!De(t,n))return
ye(n.lastChild)&&(r=n.lastChild)
o===n.lastChild&&ke(o.previousSibling)&&t.remove(o.previousSibling)
var a=n.lastChild
a&&ke(a)&&e.hasChildNodes()&&t.remove(a)
Ee(t,n,true)&&t.$(n).empty()
kr(t,e,n)
r&&n.appendChild(r)
var i=Lt(At.fromDom(n),At.fromDom(e))
var u=i?t.getParents(e,ye,n):[]
t.remove(e)
C(u,(function(e){Ee(t,e)&&e!==t.getRoot()&&t.remove(e)}))}
var _r=function(t,e,n){t.dom.$(n).empty()
Tr(t.dom,e,n)
t.selection.setCursorLocation(n)}
var zr=function(t,e,n,r){var o=t.dom
if(o.isEmpty(r))_r(t,n,r)
else{var a=$n(e)
Tr(o,n,r)
t.selection.setRng(Kn(a))}}
var Mr=function(t,e,n,r){var o=$n(e)
Tr(t.dom,n,r)
var a=Kn(o)
t.selection.setRng(a)}
var Er=function(t,e){var n=t.dom,r=t.selection
var o=r.getStart()
var a=Ye(t,o)
var i=n.getParent(r.getStart(),"LI",a)
if(i){var u=i.parentNode
if(u===t.getBody()&&Ee(n,u))return true
var c=je(r.getRng())
var s=n.getParent(Cr(t,c,e,a),"LI",a)
if(s&&s!==i){t.undoManager.transact((function(){e?zr(t,c,s,i):Te(i)?qn(t):Mr(t,c,i,s)}))
return true}if(!s&&!e&&0===c.startOffset&&0===c.endOffset){t.undoManager.transact((function(){Gn(t)}))
return true}}return false}
var Dr=function(t,e,n){var r=t.getParent(e.parentNode,t.isBlock,n)
t.remove(e)
r&&t.isEmpty(r)&&t.remove(r)}
var Ar=function(t,e){var n=t.dom
var r=t.selection.getStart()
var o=Ye(t,r)
var a=n.getParent(r,n.isBlock,o)
if(a&&n.isEmpty(a)){var i=je(t.selection.getRng())
var u=n.getParent(Cr(t,i,e,o),"LI",o)
if(u){t.undoManager.transact((function(){Dr(n,a,o)
dr(n,u.parentNode)
t.selection.select(u,true)
t.selection.collapse(e)}))
return true}}return false}
var Rr=function(t,e){return Er(t,e)||Ar(t,e)}
var Hr=function(t){var e=t.selection.getStart()
var n=Ye(t,e)
var r=t.dom.getParent(e,"LI,DT,DD",n)
if(r||$e(t).length>0){t.undoManager.transact((function(){t.execCommand("Delete")
xr(t.dom,t.getBody())}))
return true}return false}
var Br=function(t,e){return t.selection.isCollapsed()?Rr(t,e):Hr(t)}
var Ir=function(t){t.on("keydown",(function(e){e.keyCode===Nt.BACKSPACE?Br(t,false)&&e.preventDefault():e.keyCode===Nt.DELETE&&Br(t,true)&&e.preventDefault()}))}
var Lr=function(t){return{backspaceDelete:function(e){Br(t,e)}}}
var Pr=function(t){var e=t.dom
var n=Ue(t)
if(!xe(n))return
t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:e.getAttrib(n,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:function(n){var r=n.getData()
t.undoManager.transact((function(){e.setAttrib(Ue(t),"start","1"===r.start?"":r.start)}))
n.close()}})}
var Vr=function(t,e){return function(){var n=t.dom.getParent(t.selection.getStart(),"UL,OL,DL")
return n&&n.nodeName===e}}
var Fr=function(t){t.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase()
"indent"===n?Un(t):"outdent"===n&&qn(t)}))
t.addCommand("InsertUnorderedList",(function(e,n){br(t,"UL",n)}))
t.addCommand("InsertOrderedList",(function(e,n){br(t,"OL",n)}))
t.addCommand("InsertDefinitionList",(function(e,n){br(t,"DL",n)}))
t.addCommand("RemoveList",(function(){Gn(t)}))
t.addCommand("mceListProps",(function(){Pr(t)}))
t.addQueryStateHandler("InsertUnorderedList",Vr(t,"UL"))
t.addQueryStateHandler("InsertOrderedList",Vr(t,"OL"))
t.addQueryStateHandler("InsertDefinitionList",Vr(t,"DL"))}
var Nr=function(t){t.on("keydown",(function(e){if(e.keyCode!==Nt.TAB||Nt.metaKeyPressed(e))return
t.undoManager.transact((function(){(e.shiftKey?qn(t):Un(t))&&e.preventDefault()}))}))}
var jr=function(t){Ae(t)&&Nr(t)
Ir(t)}
var Wr=function(t){var e=function(e){return function(){return t.execCommand(e)}}
if(!t.hasPlugin("advlist")){t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:false,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:function(e){return Zn(t,"OL",e.setActive)}})
t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:false,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:function(e){return Zn(t,"UL",e.setActive)}})}}
var Ur=function(t){var e={text:"List properties...",icon:"ordered-list",onAction:function(){return Pr(t)},onSetup:function(e){return Zn(t,"OL",(function(t){return e.setDisabled(!t)}))}}
t.ui.registry.addMenuItem("listprops",e)
t.ui.registry.addContextMenu("lists",{update:function(e){var n=Ue(t,e)
return xe(n)?["listprops"]:[]}})}
function qr(){t.add("lists",(function(t){if(false===t.hasPlugin("rtc",true)){jr(t)
Fr(t)}Wr(t)
Ur(t)
return Lr(t)}))}qr()})()},IpHG:function(t,e,n){"use strict"
n.d(e,"a",(function(){return Z}))
var r=n("rePB")
var o=n("1OyB")
var a=n("vuIU")
var i=n("Ji7U")
var u=n("LK+K")
n("u8Ln")
var c=n("q1tI")
var s=n.n(c)
var l=n("17x9")
var f=n.n(l)
var v=n("3zPy")
var d=n.n(v)
var m=n("TSYQ")
var g=n.n(m)
var h=n("9A6W")
var p=n("lYvi")
var b=n("osg9")
var y=n("LUBb")
var w=n("mEzX")
var x=n("PPnB")
var C=n("at/O")
var S=n("NvwV")
var O=n("DzMK")
var k=n("97gy")
function T(t){var e=t.colors,n=t.borders,r=t.spacing,o=t.typography
return{color:e.textLightest,borderWidth:n.widthSmall,borderColor:e.borderDark,borderRadius:n.radiusMedium,background:e.backgroundLightest,marginRight:r.xSmall,padding:r.xxxSmall,checkedBackground:e.backgroundDarkest,checkedBorderColor:e.borderDarkest,hoverBorderColor:e.borderDarkest,focusBorderColor:e.borderBrand,focusBorderWidth:n.widthMedium,focusBorderStyle:n.style,labelColor:e.textDarkest,checkedLabelColor:e.textDarkest,labelFontFamily:o.fontFamily,labelFontWeight:o.fontWeightNormal,labelLineHeight:o.lineHeightCondensed,facadeSizeSmall:"1rem",facadeSizeMedium:"1.25rem",facadeSizeLarge:"1.75rem",labelFontSizeSmall:o.fontSizeSmall,labelFontSizeMedium:o.fontSizeMedium,labelFontSizeLarge:o.fontSizeLarge,iconSizeSmall:"0.625rem",iconSizeMedium:"0.75rem",iconSizeLarge:"1rem"}}T.canvas=function(t){return{focusBorderColor:t["ic-brand-primary"],labelColor:t["ic-brand-font-color-dark"],checkedLabelColor:t["ic-brand-font-color-dark"],checkedBackground:t["ic-brand-font-color-dark"],checkedBorderColor:t["ic-brand-font-color-dark"],hoverBorderColor:t["ic-brand-font-color-dark"]}}
var _,z,M,E
var D={componentId:"yyQPt",template:function(t){return"\n\n.yyQPt_bGBk{align-items:flex-start;display:flex}\n\n.yyQPt_cSXm{-webkit-margin-end:".concat(t.marginRight||"inherit",";-webkit-margin-start:0;align-items:center;background:").concat(t.background||"inherit",";border:").concat(t.borderWidth||"inherit"," solid ").concat(t.borderColor||"inherit",";border-radius:").concat(t.borderRadius||"inherit",";box-sizing:border-box;color:").concat(t.color||"inherit",";display:flex;flex-shrink:0;justify-content:center;margin-inline-end:").concat(t.marginRight||"inherit",";margin-inline-start:0;padding:").concat(t.padding||"inherit",";position:relative;transition:all 0.2s}\n\n[dir=ltr] .yyQPt_cSXm{margin-left:0;margin-right:").concat(t.marginRight||"inherit","}\n\n[dir=rtl] .yyQPt_cSXm{margin-left:").concat(t.marginRight||"inherit",";margin-right:0}\n\n.yyQPt_cSXm:before{border:").concat(t.focusBorderWidth||"inherit"," ").concat(t.focusBorderStyle||"inherit"," ").concat(t.focusBorderColor||"inherit",";border-radius:calc(").concat(t.borderRadius||"inherit",'*1.5);bottom:-0.3125rem;box-sizing:border-box;content:"";left:-0.3125rem;opacity:0;pointer-events:none;position:absolute;right:-0.3125rem;top:-0.3125rem;transform:scale(0.75);transition:all 0.2s}\n\n.yyQPt_blJt{color:').concat(t.labelColor||"inherit",";flex:1 1 auto;font-family:").concat(t.labelFontFamily||"inherit",";font-weight:").concat(t.labelFontWeight||"inherit",";line-height:").concat(t.labelLineHeight||"inherit",";min-width:0.0625rem}\n\n.yyQPt_doqw .yyQPt_blJt{font-size:").concat(t.labelFontSizeSmall||"inherit","}\n\n.yyQPt_doqw .yyQPt_cSXm{font-size:").concat(t.iconSizeSmall||"inherit",";height:").concat(t.facadeSizeSmall||"inherit",";width:").concat(t.facadeSizeSmall||"inherit","}\n\n.yyQPt_ycrn .yyQPt_blJt{font-size:").concat(t.labelFontSizeMedium||"inherit","}\n\n.yyQPt_ycrn .yyQPt_cSXm{font-size:").concat(t.iconSizeMedium||"inherit",";height:").concat(t.facadeSizeMedium||"inherit",";width:").concat(t.facadeSizeMedium||"inherit","}\n\n.yyQPt_cMDj .yyQPt_blJt{font-size:").concat(t.labelFontSizeLarge||"inherit","}\n\n.yyQPt_cMDj .yyQPt_cSXm{font-size:").concat(t.iconSizeLarge||"inherit",";height:").concat(t.facadeSizeLarge||"inherit",";width:").concat(t.facadeSizeLarge||"inherit","}\n\n.yyQPt_cjfS .yyQPt_cSXm{background:").concat(t.checkedBackground||"inherit",";border-color:").concat(t.checkedBorderColor||"inherit","}\n\n.yyQPt_cjfS .yyQPt_blJt{color:").concat(t.checkedLabelColor||"inherit","}\n\n.yyQPt_cVYB .yyQPt_cSXm:before{opacity:1;transform:scale(1)}\n\n.yyQPt_Ffcq .yyQPt_cSXm{border-color:").concat(t.hoverBorderColor||"inherit","}")},root:"yyQPt_bGBk",facade:"yyQPt_cSXm",label:"yyQPt_blJt",small:"yyQPt_doqw",medium:"yyQPt_ycrn",large:"yyQPt_cMDj",checked:"yyQPt_cjfS",focused:"yyQPt_cVYB",hovered:"yyQPt_Ffcq"}
var A=s.a.createElement(O["a"],{viewBox:"0 0 1920 1920",inline:false},s.a.createElement("rect",{x:"140",y:"820",width:"1640",height:"280"}))
var R=s.a.createElement(k["a"],{inline:false})
var H=(_=Object(x["h"])(T,D),_(z=(E=M=function(t){Object(i["a"])(n,t)
var e=Object(u["a"])(n)
function n(){Object(o["a"])(this,n)
return e.apply(this,arguments)}Object(a["a"])(n,[{key:"renderIcon",value:function(){return this.props.indeterminate?A:this.props.checked?R:null}},{key:"render",value:function(){var t
var e=this.props,n=e.size,o=e.checked,a=e.focused,i=e.hovered,u=e.indeterminate
var c=(t={},Object(r["a"])(t,D.root,true),Object(r["a"])(t,D.checked,o||u),Object(r["a"])(t,D.focused,a),Object(r["a"])(t,D.hovered,i),Object(r["a"])(t,D[n],true),t)
return s.a.createElement("span",{className:g()(c)},s.a.createElement("span",{className:D.facade,"aria-hidden":"true"},this.renderIcon()),s.a.createElement("span",{className:D.label},this.props.children))}}])
n.displayName="CheckboxFacade"
return n}(c["Component"]),M.propTypes={children:f.a.node.isRequired,checked:f.a.bool,focused:f.a.bool,hovered:f.a.bool,size:f.a.oneOf(["small","medium","large"]),indeterminate:f.a.bool},M.defaultProps={checked:false,focused:false,hovered:false,size:"medium",indeterminate:false},E))||z)
var B=n("ZbFs")
var I=n("IRk9")
function L(t){var e=t.colors,n=t.borders,r=t.forms,o=t.shadows,a=t.spacing,i=t.typography
return{color:e.textLightest,background:e.backgroundLight,borderColor:e.borderMedium,borderWidth:n.widthMedium,borderRadius:"4rem",marginEnd:a.small,marginStart:a.small,marginVertical:a.xSmall,checkedBackground:e.backgroundSuccess,uncheckedIconColor:e.textDarkest,checkedIconColor:e.textSuccess,focusOutlineColor:e.borderBrand,focusBorderWidth:n.widthMedium,focusBorderStyle:n.style,toggleBackground:e.backgroundLightest,toggleShadow:o.depth1,toggleSize:r.inputHeightSmall,labelColor:e.textDarkest,labelFontFamily:i.fontFamily,labelFontWeight:i.fontWeightNormal,labelLineHeight:i.lineHeightCondensed,labelFontSizeSmall:i.fontSizeSmall,labelFontSizeMedium:i.fontSizeMedium,labelFontSizeLarge:i.fontSizeLarge}}L["canvas-a11y"]=L["canvas-high-contrast"]=function(t){var e=t.colors
return{background:e.backgroundDarkest,borderColor:e.borderDarkest}}
L.canvas=function(t){return{focusOutlineColor:t["ic-brand-primary"],labelColor:t["ic-brand-font-color-dark"]}}
var P={baseSizeSmall:"toggleSize",baseSizeMedium:"toggleSize",baseSizeLarge:"toggleSize"}
var V=Object(x["b"])({map:P,version:"8.0.0"})
var F,N,j,W
var U={componentId:"faJyW",template:function(t){return"\n\n.faJyW_bGBk{align-items:center;display:flex}\n\n.faJyW_bGBk.faJyW_dacV{display:block}\n\n.faJyW_bGBk .faJyW_cSXm.faJyW_cjfS{background:".concat(t.checkedBackground||"inherit",";box-shadow:none}\n\n.faJyW_bGBk .faJyW_cSXm.faJyW_cjfS .faJyW_dnnz{transform:translate3d(50%,0,0)}\n\n.faJyW_bGBk .faJyW_cSXm.faJyW_cjfS .faJyW_eoCh{color:").concat(t.checkedIconColor||"inherit","}\n\n.faJyW_bGBk .faJyW_cSXm.faJyW_cVYB:before{opacity:1;transform:scale(1)}\n\n[dir=rtl] .faJyW_bGBk .faJyW_cSXm.faJyW_cjfS .faJyW_dnnz{transform:translate3d(-50%,0,0)}\n\n.faJyW_cSXm.faJyW_dxfV{-webkit-margin-end:0;-webkit-margin-start:").concat(t.marginStart||"inherit",";margin-inline-end:0;margin-inline-start:").concat(t.marginStart||"inherit","}\n\n[dir=ltr] .faJyW_cSXm.faJyW_dxfV{margin-left:").concat(t.marginStart||"inherit",";margin-right:0}\n\n[dir=rtl] .faJyW_cSXm.faJyW_dxfV{margin-left:0;margin-right:").concat(t.marginStart||"inherit","}\n\n.faJyW_cSXm.faJyW_bYta{-webkit-margin-end:").concat(t.marginEnd||"inherit",";-webkit-margin-start:0;margin-inline-end:").concat(t.marginEnd||"inherit",";margin-inline-start:0}\n\n[dir=ltr] .faJyW_cSXm.faJyW_bYta{margin-left:0;margin-right:").concat(t.marginEnd||"inherit","}\n\n[dir=rtl] .faJyW_cSXm.faJyW_bYta{margin-left:").concat(t.marginEnd||"inherit",";margin-right:0}\n\n.faJyW_cSXm.faJyW_dacV{margin-top:").concat(t.marginVertical||"inherit","}\n\n.faJyW_cSXm{-ms-user-select:none;-webkit-user-select:none;background:").concat(t.background||"inherit",";border-color:").concat(t.borderColor||"inherit",";border-radius:3rem;box-shadow:inset 0 0 0 ").concat(t.borderWidth||"inherit"," ").concat(t.borderColor||"inherit",";cursor:pointer;display:inline-block;position:relative;user-select:none;vertical-align:middle}\n\n.faJyW_cSXm:before{border:").concat(t.focusBorderWidth||"inherit"," ").concat(t.focusBorderStyle||"inherit"," ").concat(t.focusOutlineColor||"inherit",";border-radius:").concat(t.borderRadius||"inherit",';box-sizing:border-box;content:"";height:calc(100% + 0.5rem);left:-0.25rem;opacity:0;pointer-events:none;top:-0.25rem;transform:scale(0.75);width:calc(100% + 0.5rem)}\n\n.faJyW_cSXm:before,.faJyW_dnnz{position:absolute;transition:all 0.2s}\n\n.faJyW_dnnz{display:block;inset-inline-end:auto;inset-inline-start:0;text-align:center;top:0;transform:translateZ(0)}\n\n[dir=ltr] .faJyW_dnnz{left:0;right:auto;text-align:center}\n\n[dir=rtl] .faJyW_dnnz{left:auto;right:0;text-align:center}\n\n.faJyW_cMpH{align-items:center;display:flex;height:100%;justify-content:center;position:relative;width:100%}\n\n.faJyW_cMpH:before{background:').concat(t.toggleBackground||"inherit",";border-radius:100%;box-shadow:").concat(t.toggleShadow||"inherit",';content:"";height:calc(100% - ').concat(t.borderWidth||"inherit","*2);left:").concat(t.borderWidth||"inherit",";position:absolute;top:").concat(t.borderWidth||"inherit",";width:calc(100% - ").concat(t.borderWidth||"inherit","*2)}\n\n.faJyW_eoCh{color:").concat(t.uncheckedIconColor||"inherit",";display:block;position:relative;z-index:1}\n\n.faJyW_blJt{color:").concat(t.labelColor||"inherit",";flex:1;font-family:").concat(t.labelFontFamily||"inherit",";font-weight:").concat(t.labelFontWeight||"inherit",";line-height:").concat(t.labelLineHeight||"inherit",";min-width:0.0625rem}\n\n.faJyW_blJt.faJyW_dxfV{text-align:end}\n\n[dir=ltr] .faJyW_blJt.faJyW_dxfV{text-align:right}\n\n[dir=rtl] .faJyW_blJt.faJyW_dxfV{text-align:left}\n\n.faJyW_blJt.faJyW_dacV{display:block}\n\n.faJyW_cMDj,.faJyW_ycrn,.faJyW_doqw{height:").concat(t.toggleSize||"inherit",";width:calc(").concat(t.toggleSize||"inherit","*1.5)}\n\n.faJyW_cMDj .faJyW_dnnz,.faJyW_ycrn .faJyW_dnnz,.faJyW_doqw .faJyW_dnnz{font-size:0.875rem;height:").concat(t.toggleSize||"inherit",";width:").concat(t.toggleSize||"inherit","}\n\n.faJyW_doqw+.faJyW_blJt{font-size:").concat(t.labelFontSizeSmall||"inherit","}\n\n.faJyW_ycrn+.faJyW_blJt{font-size:").concat(t.labelFontSizeMedium||"inherit","}\n\n.faJyW_cMDj+.faJyW_blJt{font-size:").concat(t.labelFontSizeLarge||"inherit","}")},root:"faJyW_bGBk",top:"faJyW_dacV",facade:"faJyW_cSXm",checked:"faJyW_cjfS",icon:"faJyW_dnnz",iconSVG:"faJyW_eoCh",focused:"faJyW_cVYB",start:"faJyW_dxfV",end:"faJyW_bYta",iconToggle:"faJyW_cMpH",label:"faJyW_blJt",large:"faJyW_cMDj",medium:"faJyW_ycrn",small:"faJyW_doqw"}
var q=(F=Object(x["h"])(L,U,V),F(N=(W=j=function(t){Object(i["a"])(n,t)
var e=Object(u["a"])(n)
function n(){Object(o["a"])(this,n)
return e.apply(this,arguments)}Object(a["a"])(n,[{key:"renderIcon",value:function(){return this.props.checked?s.a.createElement(B["a"],{className:U.iconSVG}):s.a.createElement(I["a"],{className:U.iconSVG})}},{key:"renderLabel",value:function(){var t
var e=this.props,n=e.children,o=e.labelPlacement
var a=(t={},Object(r["a"])(t,U.label,true),Object(r["a"])(t,U.top,"top"===o),Object(r["a"])(t,U.start,"start"===o),Object(r["a"])(t,U.end,"end"===o),t)
return s.a.createElement("span",{className:g()(a)},n)}},{key:"render",value:function(){var t
var e=this.props,n=e.size,o=e.checked,a=e.disabled,i=e.focused,u=e.labelPlacement
var c=(t={},Object(r["a"])(t,U.facade,true),Object(r["a"])(t,U.checked,o),Object(r["a"])(t,U.disabled,a),Object(r["a"])(t,U.focused,i),Object(r["a"])(t,U.top,"top"===u),Object(r["a"])(t,U.start,"start"===u),Object(r["a"])(t,U.end,"end"===u),Object(r["a"])(t,U[n],true),t)
var l=Object(r["a"])({},U.root,true)
"top"===u&&(l[U.top]=true)
return s.a.createElement("span",{className:g()(l)},("top"===u||"start"===u)&&this.renderLabel(),s.a.createElement("span",{className:g()(c),"aria-hidden":"true"},s.a.createElement("span",{className:U.icon},s.a.createElement("span",{className:U.iconToggle},this.renderIcon()))),"end"===u&&this.renderLabel())}}])
n.displayName="ToggleFacade"
return n}(c["Component"]),j.propTypes={children:f.a.node.isRequired,checked:f.a.bool,disabled:f.a.bool,readOnly:f.a.bool,focused:f.a.bool,size:f.a.oneOf(["small","medium","large"]),labelPlacement:f.a.oneOf(["top","start","end"])},j.defaultProps={checked:false,focused:false,size:"medium",disabled:false,readOnly:false,labelPlacement:"end"},W))||N)
var G=function(){return{}}
var J,X,$,K,Y
var Q={componentId:"epRMX",template:function(t){return"\n\n.epRMX_bGBk{position:relative;width:100%}\n\n.epRMX_bOnW{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;direction:inherit;display:inline;display:block;empty-cells:show;float:none;font-family:serif;font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align:start;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto}\n\n[dir=ltr] .epRMX_bOnW{text-align:left}\n\n[dir=rtl] .epRMX_bOnW{text-align:right}\n\n.epRMX_cwos{font-size:inherit;inset-inline-end:auto;inset-inline-start:0;line-height:inherit;margin:0;opacity:0.0001;padding:0;position:absolute;top:0;width:auto}\n\n[dir=ltr] .epRMX_cwos{left:0;right:auto}\n\n[dir=rtl] .epRMX_cwos{left:auto;right:0}\n\n.epRMX_ywdX{cursor:not-allowed;opacity:0.5;pointer-events:none}\n\n.epRMX_eXrk{display:inline-block;vertical-align:middle;width:auto}"},root:"epRMX_bGBk",control:"epRMX_bOnW",input:"epRMX_cwos",disabled:"epRMX_ywdX",inline:"epRMX_eXrk"}
var Z=(J=Object(S["a"])(),X=Object(x["h"])(G,Q),J($=X($=(Y=K=function(t){Object(i["a"])(n,t)
var e=Object(u["a"])(n)
function n(t){var r
Object(o["a"])(this,n)
r=e.call(this,t)
r.handleChange=function(t){var e=r.props,n=e.onChange,o=e.disabled,a=e.checked,i=e.readOnly
if(o||i){t.preventDefault()
return}"undefined"===typeof a&&r.setState({checked:!r.state.checked})
"function"===typeof n&&n(t)}
r.handleKeyDown=function(t){if("toggle"===r.props.variant&&(t.keyCode===d.a.codes.enter||t.keyCode===d.a.codes.return)){r._input.click()
t.preventDefault()}}
r.handleFocus=function(t){r.setState({focused:true})}
r.handleBlur=function(t){r.setState({focused:false})}
r.handleMouseOver=function(t){r.setState({hovered:true})}
r.handleMouseOut=function(t){r.setState({hovered:false})}
r.state={focused:false,hovered:false}
"undefined"===typeof t.checked&&(r.state.checked=!!t.defaultChecked)
r._defaultId=Object(y["a"])("Checkbox")
return r}Object(a["a"])(n,[{key:"componentDidMount",value:function(){this._input.indeterminate=this.props.indeterminate}},{key:"componentDidUpdate",value:function(t){t.indeterminate!==this.props.indeterminate&&(this._input.indeterminate=this.props.indeterminate)}},{key:"focus",value:function(){this._input&&this._input.focus()}},{key:"renderFacade",value:function(){var t=this.props,e=t.size,n=t.disabled,r=t.variant,o=t.label,a=t.readOnly,i=t.indeterminate,u=t.labelPlacement
var c=this.state,l=c.hovered,f=c.focused
return"toggle"===r?s.a.createElement(q,{disabled:n,size:e,hovered:l,focused:f,checked:this.checked,readOnly:a,labelPlacement:u},o):s.a.createElement(H,{size:e,hovered:l,focused:f,checked:this.checked,indeterminate:i},o)}},{key:"render",value:function(){var t,e=this
var o=this.props,a=o.inline,i=o.disabled,u=o.readOnly,c=o.messages,l=o.value,f=o.onKeyDown,v=o.onFocus,d=o.onBlur,m=o.onMouseOver,h=o.onMouseOut,y=o.indeterminate
o.variant
var w=Object(C["a"])(this.props,n.propTypes)
var x=(t={},Object(r["a"])(t,Q.root,true),Object(r["a"])(t,Q.disabled,i),Object(r["a"])(t,Q.inline,a),t)
return s.a.createElement("div",{className:g()(x),onMouseOver:Object(b["a"])(m,this.handleMouseOver),onMouseOut:Object(b["a"])(h,this.handleMouseOut)},s.a.createElement("input",Object.assign({},w,{id:this.id,value:l,type:"checkbox",ref:function(t){e._input=t},disabled:i||u,"aria-checked":y?"mixed":null,className:Q.input,onChange:this.handleChange,onKeyDown:Object(b["a"])(f,this.handleKeyDown),onFocus:Object(b["a"])(v,this.handleFocus),onBlur:Object(b["a"])(d,this.handleBlur),checked:this.checked})),s.a.createElement("label",{htmlFor:this.id,className:Q.control},this.renderFacade(),s.a.createElement(p["c"],{messages:c})))}},{key:"id",get:function(){return this.props.id||this._defaultId}},{key:"checked",get:function(){return"undefined"===typeof this.props.checked?this.state.checked:this.props.checked}},{key:"focused",get:function(){return Object(w["a"])(this._input)}}])
n.displayName="Checkbox"
return n}(c["Component"]),K.propTypes={label:f.a.node.isRequired,id:f.a.string,value:f.a.oneOfType([f.a.string,f.a.number]),messages:f.a.arrayOf(p["d"].message),defaultChecked:f.a.bool,checked:Object(h["a"])(f.a.bool,"onChange","defaultChecked"),onChange:f.a.func,onKeyDown:f.a.func,onFocus:f.a.func,onBlur:f.a.func,onMouseOver:f.a.func,onMouseOut:f.a.func,disabled:f.a.bool,readOnly:f.a.bool,indeterminate:f.a.bool,size:f.a.oneOf(["small","medium","large"]),variant:f.a.oneOf(["simple","toggle"]),inline:f.a.bool,labelPlacement:f.a.oneOf(["top","start","end"])},K.defaultProps={size:"medium",variant:"simple",disabled:false,inline:false,indeterminate:false,readOnly:false,onChange:void 0,onKeyDown:void 0,onFocus:void 0,onBlur:void 0,onMouseOut:void 0,onMouseOver:void 0,checked:void 0,defaultChecked:void 0,messages:void 0,id:void 0,value:void 0,labelPlacement:"end"},Y))||$)||$)},LCgA:function(t,e){(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=tinymce.util.Tools.resolve("tinymce.Env")
var r=tinymce.util.Tools.resolve("tinymce.util.Delay")
var o=function(t){return t.fire("ResizeEditor")}
var a=function(t){return t.getParam("min_height",t.getElement().offsetHeight,"number")}
var i=function(t){return t.getParam("max_height",0,"number")}
var u=function(t){return t.getParam("autoresize_overflow_padding",1,"number")}
var c=function(t){return t.getParam("autoresize_bottom_margin",50,"number")}
var s=function(t){return t.getParam("autoresize_on_init",true,"boolean")}
var l=function(t){return t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen()}
var f=function(t,e,n,o,a){r.setEditorTimeout(t,(function(){m(t,e)
n--?f(t,e,n,o,a):a&&a()}),o)}
var v=function(t,e){var n=t.getBody()
if(n){n.style.overflowY=e?"":"hidden"
e||(n.scrollTop=0)}}
var d=function(t,e,n,r){var o=parseInt(t.getStyle(e,n,r),10)
return isNaN(o)?0:o}
var m=function(t,e){var r=t.dom
var u=t.getDoc()
if(!u)return
if(l(t)){v(t,true)
return}var s=u.documentElement
var f=c(t)
var g=a(t)
var h=d(r,s,"margin-top",true)
var p=d(r,s,"margin-bottom",true)
var b=s.offsetHeight+h+p+f
b<0&&(b=0)
var y=t.getContainer().offsetHeight
var w=t.getContentAreaContainer().offsetHeight
var x=y-w
b+x>a(t)&&(g=b+x)
var C=i(t)
if(C&&g>C){g=C
v(t,true)}else v(t,false)
if(g!==e.get()){var S=g-e.get()
r.setStyle(t.getContainer(),"height",g+"px")
e.set(g)
o(t)
if(n.browser.isSafari()&&n.mac){var O=t.getWin()
O.scrollTo(O.pageXOffset,O.pageYOffset)}t.hasFocus()&&t.selection.scrollIntoView(t.selection.getNode())
n.webkit&&S<0&&m(t,e)}}
var g=function(t,e){t.on("init",(function(){var e=u(t)
var n=t.dom
n.setStyles(t.getDoc().documentElement,{height:"auto"})
n.setStyles(t.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})}))
t.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(){m(t,e)}))
s(t)&&t.on("init",(function(){f(t,e,20,100,(function(){f(t,e,5,1e3)}))}))}
var h=function(t,e){t.addCommand("mceAutoResize",(function(){m(t,e)}))}
function p(){e.add("autoresize",(function(e){e.settings.hasOwnProperty("resize")||(e.settings.resize=false)
if(!e.inline){var n=t(0)
h(e,n)
g(e,n)}}))}p()})()},NhbT:function(t,e,n){n("rU96")},Rwab:function(t,e){(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(t){return{isFullscreen:function(){return null!==t.get()}}}
var r=function(){}
var o=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t(e.apply(null,n))}}
var a=function(t,e){return function(n){return t(e(n))}}
var i=function(t){return function(){return t}}
function u(t){var e=[]
for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=e.concat(n)
return t.apply(null,o)}}var c=i(false)
var s=i(true)
var l=function(){return f}
var f=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var o={fold:function(t,e){return t()},is:c,isSome:c,isNone:s,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:e,map:l,each:r,bind:l,exists:c,forall:s,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")}
return o}()
var v=function(t){var e=i(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:s,isNone:c,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return v(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(c,(function(e){return n(t,e)}))}}
return o}
var d=function(t){return null===t||void 0===t?f:v(t)}
var m={some:v,none:l,from:d}
var g=function(e){var n=t(m.none())
var r=function(){return n.get().each(e)}
var o=function(){r()
n.set(m.none())}
var a=function(){return n.get().isSome()}
var i=function(t){r()
n.set(m.some(t))}
return{clear:o,isSet:a,set:i}}
var h=function(){return g((function(t){return t.unbind()}))}
var p=function(){var e=t(m.none())
var n=function(){return e.set(m.none())}
var r=function(t){return e.set(m.some(t))}
var o=function(){return e.get().isSome()}
var a=function(t){return e.get().each(t)}
return{clear:n,set:r,isSet:o,on:a}}
var b=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var y=function(t){return function(e){return b(e)===t}}
var w=function(t){return function(e){return typeof e===t}}
var x=y("string")
var C=y("array")
var S=w("boolean")
var O=function(t){return null===t||void 0===t}
var k=function(t){return!O(t)}
var T=w("function")
var _=w("number")
var z=Array.prototype.push
var M=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var E=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var D=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var A=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!C(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
z.apply(e,t[n])}return e}
var R=function(t,e){return A(M(t,e))}
var H=function(t,e){return e>=0&&e<t.length?m.some(t[e]):m.none()}
var B=function(t){return H(t,0)}
var I=Object.keys
var L=function(t,e){var n=I(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var P=function(t){return void 0!==t.style&&T(t.style.getPropertyValue)}
var V=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return j(r.childNodes[0])}
var F=function(t,e){var n=e||document
var r=n.createElement(t)
return j(r)}
var N=function(t,e){var n=e||document
var r=n.createTextNode(t)
return j(r)}
var j=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var W=function(t,e,n){return m.from(t.dom.elementFromPoint(e,n)).map(j)}
var U={fromHtml:V,fromTag:F,fromText:N,fromDom:j,fromPoint:W}
"undefined"!==typeof window?window:Function("return this;")()
var q=9
var G=11
var J=1
var X=3
var $=function(t){return t.dom.nodeType}
var K=function(t){return function(e){return $(e)===t}}
var Y=K(J)
var Q=K(X)
var Z=K(q)
var tt=K(G)
var et=function(t,e){var n=t.dom
if(n.nodeType!==J)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var nt=function(t){return t.nodeType!==J&&t.nodeType!==q&&t.nodeType!==G||0===t.childElementCount}
var rt=function(t,e){var n=void 0===e?document:e.dom
return nt(n)?[]:M(n.querySelectorAll(t),U.fromDom)}
var ot=function(t,e){return t.dom===e.dom}
var at=function(t){return U.fromDom(t.dom.ownerDocument)}
var it=function(t){return Z(t)?t:at(t)}
var ut=function(t){return m.from(t.dom.parentNode).map(U.fromDom)}
var ct=function(t,e){var n=T(e)?e:c
var r=t.dom
var o=[]
while(null!==r.parentNode&&void 0!==r.parentNode){var a=r.parentNode
var i=U.fromDom(a)
o.push(i)
if(true===n(i))break
r=a}return o}
var st=function(t){var e=function(e){return D(e,(function(e){return!ot(t,e)}))}
return ut(t).map(lt).map(e).getOr([])}
var lt=function(t){return M(t.dom.childNodes,U.fromDom)}
var ft=function(t){return tt(t)}
var vt=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode)
var dt=i(vt)
var mt=vt?function(t){return U.fromDom(t.dom.getRootNode())}:it
var gt=function(t){var e=mt(t)
return ft(e)?m.some(e):m.none()}
var ht=function(t){return U.fromDom(t.dom.host)}
var pt=function(t){if(dt()&&k(t.target)){var e=U.fromDom(t.target)
if(Y(e)&&bt(e)&&t.composed&&t.composedPath){var n=t.composedPath()
if(n)return B(n)}}return m.from(t.target)}
var bt=function(t){return k(t.dom.shadowRoot)}
var yt=function(t){var e=Q(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return gt(U.fromDom(e)).fold((function(){return n.body.contains(e)}),a(yt,ht))}
var wt=function(t){var e=t.dom.body
if(null===e||void 0===e)throw new Error("Body is not available yet")
return U.fromDom(e)}
var xt=function(t,e,n){if(!(x(n)||S(n)||_(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var Ct=function(t,e,n){xt(t.dom,e,n)}
var St=function(t,e){var n=t.dom.getAttribute(e)
return null===n?void 0:n}
var Ot=function(t,e){t.dom.removeAttribute(e)}
var kt=function(t,e,n){if(!x(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}P(t)&&t.style.setProperty(e,n)}
var Tt=function(t,e){var n=t.dom
L(e,(function(t,e){kt(n,e,t)}))}
var _t=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||yt(t)?o:zt(n,e)}
var zt=function(t,e){return P(t)?t.style.getPropertyValue(e):""}
var Mt=function(t,e,n,r,o,a,i){return{target:t,x:e,y:n,stop:r,prevent:o,kill:a,raw:i}}
var Et=function(t){var e=U.fromDom(pt(t).getOr(t.target))
var n=function(){return t.stopPropagation()}
var r=function(){return t.preventDefault()}
var a=o(r,n)
return Mt(e,t.clientX,t.clientY,n,r,a,t)}
var Dt=function(t,e){return function(n){t(n)&&e(Et(n))}}
var At=function(t,e,n,r,o){var a=Dt(n,r)
t.dom.addEventListener(e,a,o)
return{unbind:u(Ht,t,e,a,o)}}
var Rt=function(t,e,n,r){return At(t,e,n,r,false)}
var Ht=function(t,e,n,r){t.dom.removeEventListener(e,n,r)}
var Bt=s
var It=function(t,e,n){return Rt(t,e,Bt,n)}
var Lt=function(t,e){var n=function(n,r){return Lt(t+n,e+r)}
return{left:t,top:e,translate:n}}
var Pt=Lt
var Vt=function(t){var e=void 0!==t?t.dom:document
var n=e.body.scrollLeft||e.documentElement.scrollLeft
var r=e.body.scrollTop||e.documentElement.scrollTop
return Pt(n,r)}
var Ft=function(t){var e=void 0===t?window:t
return m.from(e["visualViewport"])}
var Nt=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}
var jt=function(t){var e=void 0===t?window:t
var n=e.document
var r=Vt(U.fromDom(n))
return Ft(e).fold((function(){var t=e.document.documentElement
var n=t.clientWidth
var o=t.clientHeight
return Nt(r.left,r.top,n,o)}),(function(t){return Nt(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))}
var Wt=function(t,e,n){return Ft(n).map((function(n){var r=function(t){return e(Et(t))}
n.addEventListener(t,r)
return{unbind:function(){return n.removeEventListener(t,r)}}})).getOrThunk((function(){return{unbind:r}}))}
var Ut=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var qt=tinymce.util.Tools.resolve("tinymce.Env")
var Gt=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Jt=function(t,e){t.fire("FullscreenStateChanged",{state:e})}
var Xt=function(t){return t.getParam("fullscreen_native",false,"boolean")}
var $t=function(t){var e=U.fromDom(t.getElement())
return gt(e).map(ht).getOrThunk((function(){return wt(at(e))}))}
var Kt=function(t){return void 0!==t.fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null}
var Yt=function(){return void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange"}
var Qt=function(t){var e=t.dom
e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}
var Zt=function(t){var e=t.dom
e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen()}
var te=function(t){return t.dom===Kt(at(t).dom)}
var ee=function(t,e,n){return D(ct(t,n),e)}
var ne=function(t,e){return D(st(t),e)}
var re=function(t){return rt(t)}
var oe=function(t,e,n){return ee(t,(function(t){return et(t,e)}),n)}
var ae=function(t,e){return ne(t,(function(t){return et(t,e)}))}
var ie="data-ephox-mobile-fullscreen-style"
var ue="display:none!important;"
var ce="position:absolute!important;"
var se="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;"
var le="background-color:rgb(255,255,255)!important;"
var fe=qt.os.isAndroid()
var ve=function(t){var e=_t(t,"background-color")
return void 0!==e&&""!==e?"background-color:"+e+"!important":le}
var de=function(t,e,n){var r=function(t){return ae(t,"*:not(.tox-silver-sink)")}
var o=function(e){return function(n){var r=St(n,"style")
var o=void 0===r?"no-styles":r.trim()
if(o===e)return
Ct(n,ie,o)
Tt(n,t.parseStyle(e))}}
var a=oe(e,"*")
var i=R(a,r)
var u=ve(n)
E(i,o(ue))
E(a,o(ce+se+u))
var c=true===fe?"":ce
o(c+se+u)(e)}
var me=function(t){var e=re("["+ie+"]")
E(e,(function(e){var n=St(e,ie)
"no-styles"!==n?Tt(e,t.parseStyle(n)):Ot(e,"style")
Ot(e,ie)}))}
var ge=Ut.DOM
var he=function(){var t=jt(window)
return{x:t.x,y:t.y}}
var pe=function(t){window.scrollTo(t.x,t.y)}
var be=Ft().fold((function(){return{bind:r,unbind:r}}),(function(t){var e=p()
var n=h()
var r=h()
var o=function(){document.body.scrollTop=0
document.documentElement.scrollTop=0}
var a=function(){window.requestAnimationFrame((function(){e.on((function(e){return Tt(e,{top:t.offsetTop+"px",left:t.offsetLeft+"px",height:t.height+"px",width:t.width+"px"})}))}))}
var i=Gt.throttle((function(){o()
a()}),50)
var u=function(t){e.set(t)
i()
n.set(Wt("resize",i))
r.set(Wt("scroll",i))}
var c=function(){e.on((function(){n.clear()
r.clear()}))
e.clear()}
return{bind:u,unbind:c}}))
var ye=function(t,e){var n=document.body
var r=document.documentElement
var o=t.getContainer()
var a=U.fromDom(o)
var i=$t(t)
var u=e.get()
var c=U.fromDom(t.getBody())
var s=qt.deviceType.isTouch()
var l=o.style
var f=t.iframeElement
var v=f.style
var d=function(t){t(n,"tox-fullscreen")
t(r,"tox-fullscreen")
t(o,"tox-fullscreen")
gt(a).map((function(t){return ht(t).dom})).each((function(e){t(e,"tox-fullscreen")
t(e,"tox-shadowhost")}))}
var g=function(){s&&me(t.dom)
d(ge.removeClass)
be.unbind()
m.from(e.get()).each((function(t){return t.fullscreenChangeHandler.unbind()}))}
if(u){u.fullscreenChangeHandler.unbind()
Xt(t)&&te(i)&&Zt(at(i))
v.width=u.iframeWidth
v.height=u.iframeHeight
l.width=u.containerWidth
l.height=u.containerHeight
l.top=u.containerTop
l.left=u.containerLeft
pe(u.scrollPos)
e.set(null)
Jt(t,false)
g()
t.off("remove",g)}else{var h=It(at(i),Yt(),(function(n){Xt(t)&&(te(i)||null===e.get()||ye(t,e))}))
var p={scrollPos:he(),containerWidth:l.width,containerHeight:l.height,containerTop:l.top,containerLeft:l.left,iframeWidth:v.width,iframeHeight:v.height,fullscreenChangeHandler:h}
s&&de(t.dom,a,c)
v.width=v.height="100%"
l.width=l.height=""
d(ge.addClass)
be.bind(a)
t.on("remove",g)
e.set(p)
Xt(t)&&Qt(i)
Jt(t,true)}}
var we=function(t,e){t.addCommand("mceFullScreen",(function(){ye(t,e)}))}
var xe=function(t,e){return function(n){n.setActive(null!==e.get())
var r=function(t){return n.setActive(t.state)}
t.on("FullscreenStateChanged",r)
return function(){return t.off("FullscreenStateChanged",r)}}}
var Ce=function(t,e){t.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:xe(t,e)})
t.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:xe(t,e)})}
function Se(){e.add("fullscreen",(function(e){var r=t(null)
if(e.inline)return n(r)
we(e,r)
Ce(e,r)
e.addShortcut("Meta+Shift+F","","mceFullScreen")
return n(r)}))}Se()})()},Xg8j:function(t,e){(function(){"use strict"
var t=function(){}
var e=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t(e.apply(null,n))}}
var n=function(t,e){return function(n){return t(e(n))}}
var r=function(t){return function(){return t}}
var o=function(t){return t}
function a(t){var e=[]
for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=e.concat(n)
return t.apply(null,o)}}var i=function(t){return function(e){return!t(e)}}
var u=function(t){return function(){throw new Error(t)}}
var c=r(false)
var s=r(true)
var l=function(){return f}
var f=function(){var e=function(t){return t.isNone()}
var n=function(t){return t()}
var o=function(t){return t}
var a={fold:function(t,e){return t()},is:c,isSome:c,isNone:s,getOr:o,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:n,map:l,each:t,bind:l,exists:c,forall:s,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")}
return a}()
var v=function(t){var e=r(t)
var n=function(){return a}
var o=function(e){return e(t)}
var a={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:s,isNone:c,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return v(e(t))},each:function(e){e(t)},bind:o,exists:o,forall:o,filter:function(e){return e(t)?a:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(c,(function(e){return n(t,e)}))}}
return a}
var d=function(t){return null===t||void 0===t?f:v(t)}
var m={some:v,none:l,from:d}
var g=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var h=function(t){return function(e){return g(e)===t}}
var p=function(t){return function(e){return typeof e===t}}
var b=function(t){return function(e){return t===e}}
var y=h("string")
var w=h("object")
var x=h("array")
var C=p("boolean")
var S=b(void 0)
var O=function(t){return null===t||void 0===t}
var k=function(t){return!O(t)}
var T=p("function")
var _=p("number")
var z=Array.prototype.slice
var M=Array.prototype.indexOf
var E=Array.prototype.push
var D=function(t,e){return M.call(t,e)}
var A=function(t,e){return D(t,e)>-1}
var R=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return true}return false}
var H=function(t,e){var n=[]
for(var r=0;r<t;r++)n.push(e(r))
return n}
var B=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var I=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var L=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n]
e(r,n)}}
var P=function(t,e){var n=[]
var r=[]
for(var o=0,a=t.length;o<a;o++){var i=t[o]
var u=e(i,o)?n:r
u.push(i)}return{pass:n,fail:r}}
var V=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var F=function(t,e,n){L(t,(function(t){n=e(n,t)}))
return n}
var N=function(t,e,n){I(t,(function(t){n=e(n,t)}))
return n}
var j=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return m.some(a)
if(n(a,r))break}return m.none()}
var W=function(t,e){return j(t,e,c)}
var U=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return m.some(n)}return m.none()}
var q=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!x(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
E.apply(e,t[n])}return e}
var G=function(t,e){return q(B(t,e))}
var J=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n]
if(true!==e(o,n))return false}return true}
var X=function(t){var e=z.call(t,0)
e.reverse()
return e}
var $=function(t){return[t]}
var K=function(t,e){return e>=0&&e<t.length?m.some(t[e]):m.none()}
var Y=function(t){return K(t,0)}
var Q=function(t){return K(t,t.length-1)}
var Z=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n)
if(r.isSome())return r}return m.none()}
var tt=function(){tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return tt.apply(this,arguments)}
function et(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var nt=function(t){var e=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!e){e=true
n=t.apply(null,r)}return n}}
var rt=function(t,e,n,o){var a=t.isiOS()&&true===/ipad/i.test(n)
var i=t.isiOS()&&!a
var u=t.isiOS()||t.isAndroid()
var c=u||o("(pointer:coarse)")
var s=a||!i&&u&&o("(min-device-width:768px)")
var l=i||u&&!s
var f=e.isSafari()&&t.isiOS()&&false===/safari/i.test(n)
var v=!l&&!s&&!f
return{isiPad:r(a),isiPhone:r(i),isTablet:r(s),isPhone:r(l),isTouch:r(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:r(f),isDesktop:r(v)}}
var ot=function(t,e){for(var n=0;n<t.length;n++){var r=t[n]
if(r.test(e))return r}return}
var at=function(t,e){var n=ot(t,e)
if(!n)return{major:0,minor:0}
var r=function(t){return Number(e.replace(n,"$"+t))}
return ct(r(1),r(2))}
var it=function(t,e){var n=String(e).toLowerCase()
if(0===t.length)return ut()
return at(t,n)}
var ut=function(){return ct(0,0)}
var ct=function(t,e){return{major:t,minor:e}}
var st={nu:ct,detect:it,unknown:ut}
var lt=function(t,e){var n=String(e).toLowerCase()
return W(t,(function(t){return t.search(n)}))}
var ft=function(t,e){return lt(t,e).map((function(t){var n=st.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var vt=function(t,e){return lt(t,e).map((function(t){var n=st.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var dt={detectBrowser:ft,detectOs:vt}
var mt=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var gt=function(t,e){return-1!==t.indexOf(e)}
var ht=function(t,e){return mt(t,e,0)}
var pt=function(t,e){return mt(t,e,t.length-e.length)}
var bt=function(t){return function(e){return e.replace(t,"")}}
var yt=bt(/^\s+|\s+$/g)
var wt=function(t){return t.length>0}
var xt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var Ct=function(t){return function(e){return gt(e,t)}}
var St=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return gt(t,"edge/")&&gt(t,"chrome")&&gt(t,"safari")&&gt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,xt],search:function(t){return gt(t,"chrome")&&!gt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return gt(t,"msie")||gt(t,"trident")}},{name:"Opera",versionRegexes:[xt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ct("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ct("firefox")},{name:"Safari",versionRegexes:[xt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(gt(t,"safari")||gt(t,"mobile/"))&&gt(t,"applewebkit")}}]
var Ot=[{name:"Windows",search:Ct("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return gt(t,"iphone")||gt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ct("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ct("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ct("linux"),versionRegexes:[]},{name:"Solaris",search:Ct("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ct("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ct("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var kt={browsers:r(St),oses:r(Ot)}
var Tt="Edge"
var _t="Chrome"
var zt="IE"
var Mt="Opera"
var Et="Firefox"
var Dt="Safari"
var At=function(){return Rt({current:void 0,version:st.unknown()})}
var Rt=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isEdge:r(Tt),isChrome:r(_t),isIE:r(zt),isOpera:r(Mt),isFirefox:r(Et),isSafari:r(Dt)}}
var Ht={unknown:At,nu:Rt,edge:r(Tt),chrome:r(_t),ie:r(zt),opera:r(Mt),firefox:r(Et),safari:r(Dt)}
var Bt="Windows"
var It="iOS"
var Lt="Android"
var Pt="Linux"
var Vt="OSX"
var Ft="Solaris"
var Nt="FreeBSD"
var jt="ChromeOS"
var Wt=function(){return Ut({current:void 0,version:st.unknown()})}
var Ut=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isWindows:r(Bt),isiOS:r(It),isAndroid:r(Lt),isOSX:r(Vt),isLinux:r(Pt),isSolaris:r(Ft),isFreeBSD:r(Nt),isChromeOS:r(jt)}}
var qt={unknown:Wt,nu:Ut,windows:r(Bt),ios:r(It),android:r(Lt),linux:r(Pt),osx:r(Vt),solaris:r(Ft),freebsd:r(Nt),chromeos:r(jt)}
var Gt=function(t,e){var n=kt.browsers()
var r=kt.oses()
var o=dt.detectBrowser(n,t).fold(Ht.unknown,Ht.nu)
var a=dt.detectOs(r,t).fold(qt.unknown,qt.nu)
var i=rt(a,o,t,e)
return{browser:o,os:a,deviceType:i}}
var Jt={detect:Gt}
var Xt=function(t){return window.matchMedia(t).matches}
var $t=nt((function(){return Jt.detect(navigator.userAgent,Xt)}))
var Kt=function(){return $t()}
var Yt=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)}
var Qt=function(t,e){return Yt(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Zt=8
var te=9
var ee=11
var ne=1
var re=3
var oe=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return ue(r.childNodes[0])}
var ae=function(t,e){var n=e||document
var r=n.createElement(t)
return ue(r)}
var ie=function(t,e){var n=e||document
var r=n.createTextNode(t)
return ue(r)}
var ue=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var ce=function(t,e,n){return m.from(t.dom.elementFromPoint(e,n)).map(ue)}
var se={fromHtml:oe,fromTag:ae,fromText:ie,fromDom:ue,fromPoint:ce}
var le=function(t,e){var n=t.dom
if(n.nodeType!==ne)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var fe=function(t){return t.nodeType!==ne&&t.nodeType!==te&&t.nodeType!==ee||0===t.childElementCount}
var ve=function(t,e){var n=void 0===e?document:e.dom
return fe(n)?[]:B(n.querySelectorAll(t),se.fromDom)}
var de=function(t,e){var n=void 0===e?document:e.dom
return fe(n)?m.none():m.from(n.querySelector(t)).map(se.fromDom)}
var me=function(t,e){return t.dom===e.dom}
var ge=function(t,e){var n=t.dom
var r=e.dom
return n!==r&&n.contains(r)}
var he=function(t,e){return Qt(t.dom,e.dom)}
var pe=function(t,e){return Kt().browser.isIE()?he(t,e):ge(t,e)}
var be=le
var ye=Object.keys
var we=Object.hasOwnProperty
var xe=function(t,e){var n=ye(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var Ce=function(t,e){return Se(t,(function(t,n){return{k:n,v:e(t,n)}}))}
var Se=function(t,e){var n={}
xe(t,(function(t,r){var o=e(t,r)
n[o.k]=o.v}))
return n}
var Oe=function(t){return function(e,n){t[n]=e}}
var ke=function(t,e,n,r){var o={}
xe(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var Te=function(e,n){var r={}
ke(e,n,Oe(r),t)
return r}
var _e=function(t,e){var n=[]
xe(t,(function(t,r){n.push(e(t,r))}))
return n}
var ze=function(t){return _e(t,(function(t){return t}))}
var Me=function(t,e){return Ee(t,e)?m.from(t[e]):m.none()}
var Ee=function(t,e){return we.call(t,e)}
var De=function(t,e){return Ee(t,e)&&void 0!==t[e]&&null!==t[e]}
var Ae=function(t){for(var e in t)if(we.call(t,e))return false
return true}
var Re=["tfoot","thead","tbody","colgroup"]
var He=function(t){return A(Re,t)}
var Be=function(t,e){return{rows:t,columns:e}}
var Ie=function(t,e){return{row:t,column:e}}
var Le=function(t,e,n){return{element:t,rowspan:e,colspan:n}}
var Pe=function(t,e,n,r){return{element:t,rowspan:e,colspan:n,isNew:r}}
var Ve=function(t,e,n,r,o){return{element:t,rowspan:e,colspan:n,row:r,column:o}}
var Fe=function(t,e,n){return{element:t,cells:e,section:n}}
var Ne=function(t,e){return{element:t,isNew:e}}
var je=function(t,e,n,r){return{element:t,cells:e,section:n,isNew:r}}
var We=function(t,e){return{cells:t,section:e}}
var Ue=function(t,e){return{details:t,section:e}}
var qe=function(t,e,n,r){return{startRow:t,startCol:e,finishRow:n,finishCol:r}}
var Ge=function(t,e,n){return{element:t,colspan:e,column:n}}
"undefined"!==typeof window?window:Function("return this;")()
var Je=function(t){var e=t.dom.nodeName
return e.toLowerCase()}
var Xe=function(t){return t.dom.nodeType}
var $e=function(t){return function(e){return Xe(e)===t}}
var Ke=function(t){return Xe(t)===Zt||"#comment"===Je(t)}
var Ye=$e(ne)
var Qe=$e(re)
var Ze=$e(te)
var tn=$e(ee)
var en=function(t){return function(e){return Ye(e)&&Je(e)===t}}
var nn=function(t){return se.fromDom(t.dom.ownerDocument)}
var rn=function(t){return Ze(t)?t:nn(t)}
var on=function(t){return se.fromDom(rn(t).dom.defaultView)}
var an=function(t){return m.from(t.dom.parentNode).map(se.fromDom)}
var un=function(t,e){var n=T(e)?e:c
var r=t.dom
var o=[]
while(null!==r.parentNode&&void 0!==r.parentNode){var a=r.parentNode
var i=se.fromDom(a)
o.push(i)
if(true===n(i))break
r=a}return o}
var cn=function(t){return m.from(t.dom.offsetParent).map(se.fromDom)}
var sn=function(t){return m.from(t.dom.previousSibling).map(se.fromDom)}
var ln=function(t){return m.from(t.dom.nextSibling).map(se.fromDom)}
var fn=function(t){return B(t.dom.childNodes,se.fromDom)}
var vn=function(t,e){var n=t.dom.childNodes
return m.from(n[e]).map(se.fromDom)}
var dn=function(t){return vn(t,0)}
var mn=function(t){return tn(t)}
var gn=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode)
var hn=r(gn)
var pn=gn?function(t){return se.fromDom(t.dom.getRootNode())}:rn
var bn=function(t){var e=pn(t)
return mn(e)?m.some(e):m.none()}
var yn=function(t){return se.fromDom(t.dom.host)}
var wn=function(t){if(hn()&&k(t.target)){var e=se.fromDom(t.target)
if(Ye(e)&&xn(e)&&t.composed&&t.composedPath){var n=t.composedPath()
if(n)return Y(n)}}return m.from(t.target)}
var xn=function(t){return k(t.dom.shadowRoot)}
var Cn=function(t){var e=Qe(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var r=e.ownerDocument
return bn(se.fromDom(e)).fold((function(){return r.body.contains(e)}),n(Cn,yn))}
var Sn=function(){return On(se.fromDom(document))}
var On=function(t){var e=t.dom.body
if(null===e||void 0===e)throw new Error("Body is not available yet")
return se.fromDom(e)}
var kn=function(t,e,n){return V(un(t,n),e)}
var Tn=function(t,e){return V(fn(t),e)}
var _n=function(t,e){var n=[]
I(fn(t),(function(t){e(t)&&(n=n.concat([t]))
n=n.concat(_n(t,e))}))
return n}
var zn=function(t,e,n){return kn(t,(function(t){return le(t,e)}),n)}
var Mn=function(t,e){return Tn(t,(function(t){return le(t,e)}))}
var En=function(t,e){return ve(e,t)}
function Dn(t,e,n,r,o){return t(n,r)?m.some(n):T(o)&&o(n)?m.none():e(n,r,o)}var An=function(t,e,n){var r=t.dom
var o=T(n)?n:c
while(r.parentNode){r=r.parentNode
var a=se.fromDom(r)
if(e(a))return m.some(a)
if(o(a))break}return m.none()}
var Rn=function(t,e,n){var r=function(t,e){return e(t)}
return Dn(r,An,t,e,n)}
var Hn=function(t,e){var n=function(t){return e(se.fromDom(t))}
var r=W(t.dom.childNodes,n)
return r.map(se.fromDom)}
var Bn=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=se.fromDom(t.childNodes[r])
if(e(o))return m.some(o)
var a=n(t.childNodes[r])
if(a.isSome())return a}return m.none()}
return n(t.dom)}
var In=function(t,e,n){return An(t,(function(t){return le(t,e)}),n)}
var Ln=function(t,e){return Hn(t,(function(t){return le(t,e)}))}
var Pn=function(t,e){return de(e,t)}
var Vn=function(t,e,n){var r=function(t,e){return le(t,e)}
return Dn(r,In,t,e,n)}
var Fn=function(t,e,n){if(!(y(n)||C(n)||_(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var Nn=function(t,e,n){Fn(t.dom,e,n)}
var jn=function(t,e){var n=t.dom
xe(e,(function(t,e){Fn(n,e,t)}))}
var Wn=function(t,e){var n=t.dom.getAttribute(e)
return null===n?void 0:n}
var Un=function(t,e){return m.from(Wn(t,e))}
var qn=function(t,e){t.dom.removeAttribute(e)}
var Gn=function(t){return N(t.dom.attributes,(function(t,e){t[e.name]=e.value
return t}),{})}
var Jn=function(t){return void 0!==t.style&&T(t.style.getPropertyValue)}
var Xn=function(t,e,n){if(!y(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}Jn(t)&&t.style.setProperty(e,n)}
var $n=function(t,e){Jn(t)&&t.style.removeProperty(e)}
var Kn=function(t,e,n){var r=t.dom
Xn(r,e,n)}
var Yn=function(t,e){var n=t.dom
xe(e,(function(t,e){Xn(n,e,t)}))}
var Qn=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||Cn(t)?o:Zn(n,e)}
var Zn=function(t,e){return Jn(t)?t.style.getPropertyValue(e):""}
var tr=function(t,e){var n=t.dom
var r=Zn(n,e)
return m.from(r).filter((function(t){return t.length>0}))}
var er=function(t,e){var n=t.dom
$n(n,e)
Un(t,"style").map(yt).is("")&&qn(t,"style")}
var nr=function(t,e){var n=t.dom
var r=e.dom
Jn(n)&&Jn(r)&&(r.style.cssText=n.style.cssText)}
var rr=function(t,e,n){void 0===n&&(n=0)
return Un(t,e).map((function(t){return parseInt(t,10)})).getOr(n)}
var or=function(t,e){return rr(t,e,1)}
var ar=function(t){return or(t,"colspan")>1}
var ir=function(t){return or(t,"rowspan")>1}
var ur=function(t,e){return parseInt(Qn(t,e),10)}
var cr=r(10)
var sr=r(10)
var lr=function(t,e){return fr(t,e,s)}
var fr=function(t,e,n){return G(fn(t),(function(t){return le(t,e)?n(t)?[t]:[]:fr(t,e,n)}))}
var vr=function(t,e,n){void 0===n&&(n=c)
if(n(e))return m.none()
if(A(t,Je(e)))return m.some(e)
var r=function(t){return le(t,"table")||n(t)}
return In(e,t.join(","),r)}
var dr=function(t,e){return vr(["td","th"],t,e)}
var mr=function(t){return lr(t,"th,td")}
var gr=function(t){return le(t,"colgroup")?Mn(t,"col"):G(br(t),(function(t){return Mn(t,"col")}))}
var hr=function(t,e){return Vn(t,"table",e)}
var pr=function(t){return lr(t,"tr")}
var br=function(t){return hr(t).fold(r([]),(function(t){return Mn(t,"colgroup")}))}
var yr=function(t,e){return B(t,(function(t){if("colgroup"===Je(t)){var n=B(gr(t),(function(t){var e=rr(t,"span",1)
return Le(t,1,e)}))
return Fe(t,n,"colgroup")}n=B(mr(t),(function(t){var e=rr(t,"rowspan",1)
var n=rr(t,"colspan",1)
return Le(t,e,n)}))
return Fe(t,n,e(t))}))}
var wr=function(t){return an(t).map((function(t){var e=Je(t)
return He(e)?e:"tbody"})).getOr("tbody")}
var xr=function(t){var e=pr(t)
var n=br(t)
var r=et(n,e)
return yr(r,wr)}
var Cr=function(t,e){return yr(t,(function(){return e}))}
var Sr=function(t,e){return t+","+e}
var Or=function(t,e,n){var r=t.access[Sr(e,n)]
return void 0!==r?m.some(r):m.none()}
var kr=function(t,e,n){var r=Tr(t,(function(t){return n(e,t.element)}))
return r.length>0?m.some(r[0]):m.none()}
var Tr=function(t,e){var n=G(t.all,(function(t){return t.cells}))
return V(n,e)}
var _r=function(t){var e={}
var n=0
I(t.cells,(function(t){var r=t.colspan
H(r,(function(o){var a=n+o
e[a]=Ge(t.element,r,a)}))
n+=r}))
return e}
var zr=function(t){var e={}
var n=[]
var r={}
var o=0
var a=0
var i=0
I(t,(function(t){if("colgroup"===t.section)r=_r(t)
else{var u=[]
I(t.cells,(function(t){var n=0
while(void 0!==e[Sr(i,n)])n++
var r=Ve(t.element,t.rowspan,t.colspan,i,n)
for(var o=0;o<t.colspan;o++)for(var c=0;c<t.rowspan;c++){var s=i+c
var l=n+o
var f=Sr(s,l)
e[f]=r
a=Math.max(a,l+1)}u.push(r)}))
o++
n.push(Fe(t.element,u,t.section))
i++}}))
var u=Be(o,a)
return{grid:u,access:e,all:n,columns:r}}
var Mr=function(t){var e=xr(t)
return zr(e)}
var Er=function(t){return G(t.all,(function(t){return t.cells}))}
var Dr=function(t){return ze(t.columns)}
var Ar=function(t){return ye(t.columns).length>0}
var Rr=function(t,e){return m.from(t.columns[e])}
var Hr={fromTable:Mr,generate:zr,getAt:Or,findItem:kr,filterItems:Tr,justCells:Er,justColumns:Dr,hasColumns:Ar,getColumnAt:Rr}
var Br=function(t,e){var n=e.column
var r=e.column+e.colspan-1
var o=e.row
var a=e.row+e.rowspan-1
return n<=t.finishCol&&r>=t.startCol&&o<=t.finishRow&&a>=t.startRow}
var Ir=function(t,e){return e.column>=t.startCol&&e.column+e.colspan-1<=t.finishCol&&e.row>=t.startRow&&e.row+e.rowspan-1<=t.finishRow}
var Lr=function(t,e){var n=true
var r=a(Ir,e)
for(var o=e.startRow;o<=e.finishRow;o++)for(var i=e.startCol;i<=e.finishCol;i++)n=n&&Hr.getAt(t,o,i).exists(r)
return n?m.some(e):m.none()}
var Pr=function(t,e){return qe(Math.min(t.row,e.row),Math.min(t.column,e.column),Math.max(t.row+t.rowspan-1,e.row+e.rowspan-1),Math.max(t.column+t.colspan-1,e.column+e.colspan-1))}
var Vr=function(t,e,n){var r=Hr.findItem(t,e,me)
var o=Hr.findItem(t,n,me)
return r.bind((function(t){return o.map((function(e){return Pr(t,e)}))}))}
var Fr=function(t,e,n){return Vr(t,e,n).bind((function(e){return Lr(t,e)}))}
var Nr=function(t,e,n,r){return Hr.findItem(t,e,me).bind((function(e){var o=n>0?e.row+e.rowspan-1:e.row
var a=r>0?e.column+e.colspan-1:e.column
var i=Hr.getAt(t,o+n,a+r)
return i.map((function(t){return t.element}))}))}
var jr=function(t,e,n){return Vr(t,e,n).map((function(e){var n=Hr.filterItems(t,a(Br,e))
return B(n,(function(t){return t.element}))}))}
var Wr=function(t,e){var n=function(t,e){return pe(e,t)}
return Hr.findItem(t,e,n).map((function(t){return t.element}))}
var Ur=function(t,e,n){return hr(t).bind((function(r){var o=Xr(r)
return Nr(o,t,e,n)}))}
var qr=function(t,e,n){var r=Xr(t)
return jr(r,e,n)}
var Gr=function(t,e,n,r,o){var a=Xr(t)
var i=me(t,n)?m.some(e):Wr(a,e)
var u=me(t,o)?m.some(r):Wr(a,r)
return i.bind((function(t){return u.bind((function(e){return jr(a,t,e)}))}))}
var Jr=function(t,e,n){var r=Xr(t)
return Fr(r,e,n)}
var Xr=Hr.fromTable
var $r=function(t,e){var n=an(t)
n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))}
var Kr=function(t,e){var n=ln(t)
n.fold((function(){var n=an(t)
n.each((function(t){Qr(t,e)}))}),(function(t){$r(t,e)}))}
var Yr=function(t,e){var n=dn(t)
n.fold((function(){Qr(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))}
var Qr=function(t,e){t.dom.appendChild(e.dom)}
var Zr=function(t,e){$r(t,e)
Qr(e,t)}
var to=function(t,e){I(e,(function(e){$r(t,e)}))}
var eo=function(t,e){I(e,(function(n,r){var o=0===r?t:e[r-1]
Kr(o,n)}))}
var no=function(t,e){I(e,(function(e){Qr(t,e)}))}
var ro=function(t){t.dom.textContent=""
I(fn(t),(function(t){oo(t)}))}
var oo=function(t){var e=t.dom
null!==e.parentNode&&e.parentNode.removeChild(e)}
var ao=function(t){var e=fn(t)
e.length>0&&to(t,e)
oo(t)}
function io(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node")
return r(n).getOr("")}
var r=function(e){return t(e)?m.from(e.dom.nodeValue):m.none()}
var o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node")
n.dom.nodeValue=r}
return{get:n,getOption:r,set:o}}var uo=io(Qe,"text")
var co=function(t){return uo.get(t)}
var so=function(t){return uo.getOption(t)}
var lo=function(t,e){return uo.set(t,e)}
var fo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]
function vo(){var t=function(t){return se.fromDom(t.dom.cloneNode(false))}
var e=function(t){return rn(t).dom}
var n=function(t){if(!Ye(t))return false
if("body"===Je(t))return true
return A(fo,Je(t))}
var o=function(t){if(!Ye(t))return false
return A(["br","img","hr","input"],Je(t))}
var a=function(t){return Ye(t)&&"false"===Wn(t,"contenteditable")}
var i=function(t,e){return t.dom.compareDocumentPosition(e.dom)}
var u=function(t,e){var n=Gn(t)
jn(e,n)}
return{up:r({selector:In,closest:Vn,predicate:An,all:un}),down:r({selector:En,predicate:_n}),styles:r({get:Qn,getRaw:tr,set:Kn,remove:er}),attrs:r({get:Wn,set:Nn,remove:qn,copyTo:u}),insert:r({before:$r,after:Kr,afterAll:eo,append:Qr,appendAll:no,prepend:Yr,wrap:Zr}),remove:r({unwrap:ao,remove:oo}),create:r({nu:se.fromTag,clone:t,text:se.fromText}),query:r({comparePosition:i,prevSibling:sn,nextSibling:ln}),property:r({children:fn,name:Je,parent:an,document:e,isText:Qe,isComment:Ke,isElement:Ye,getText:co,setText:lo,isBoundary:n,isEmptyTag:o,isNonEditable:a}),eq:me,is:be}}var mo=function(t,e,n,r){var o=n[0]
var a=n.slice(1)
return r(t,e,o,a)}
var go=function(t,e,n){return n.length>0?mo(t,e,n,ho):m.none()}
var ho=function(t,e,n,r){var o=e(t,n)
return F(r,(function(n,r){var o=e(t,r)
return po(t,n,o)}),o)}
var po=function(t,e,n){return e.bind((function(e){return n.filter(a(t.eq,e))}))}
var bo=function(t,e){return a(t.eq,e)}
var yo=function(t,e,n,r){void 0===r&&(r=c)
var o=[e].concat(t.up().all(e))
var a=[n].concat(t.up().all(n))
var i=function(t){var e=U(t,r)
return e.fold((function(){return t}),(function(e){return t.slice(0,e+1)}))}
var u=i(o)
var s=i(a)
var l=W(u,(function(e){return R(s,bo(t,e))}))
return{firstpath:u,secondpath:s,shared:l}}
var wo=go
var xo=yo
var Co=vo()
var So=function(t,e){return wo(Co,(function(e,n){return t(n)}),e)}
var Oo=function(t,e,n){return xo(Co,t,e,n)}
var ko=function(t){return In(t,"table")}
var To=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||me(e,t)}}
return me(t,e)?m.some({boxes:m.some([t]),start:t,finish:e}):ko(t).bind((function(o){return ko(e).bind((function(a){if(me(o,a))return m.some({boxes:qr(o,t,e),start:t,finish:e})
if(pe(o,a)){var i=zn(e,"td,th",r(o))
var u=i.length>0?i[i.length-1]:e
return m.some({boxes:Gr(o,t,o,e,a),start:t,finish:u})}if(pe(a,o)){i=zn(t,"td,th",r(a))
var c=i.length>0?i[i.length-1]:t
return m.some({boxes:Gr(a,t,o,e,a),start:t,finish:c})}return Oo(t,e).shared.bind((function(i){return Vn(i,"table",n).bind((function(n){var i=zn(e,"td,th",r(n))
var u=i.length>0?i[i.length-1]:e
var c=zn(t,"td,th",r(n))
var s=c.length>0?c[c.length-1]:t
return m.some({boxes:Gr(n,t,o,e,a),start:s,finish:u})}))}))}))}))}
var _o=function(t,e){var n=En(t,e)
return n.length>0?m.some(n):m.none()}
var zo=function(t,e){return W(t,(function(t){return le(t,e)}))}
var Mo=function(t,e,n){return Pn(t,e).bind((function(e){return Pn(t,n).bind((function(t){return So(ko,[e,t]).map((function(n){return{first:e,last:t,table:n}}))}))}))}
var Eo=function(t,e){return In(t,"table").bind((function(n){return Pn(n,e).bind((function(e){return To(e,t).bind((function(t){return t.boxes.map((function(e){return{boxes:e,start:t.start,finish:t.finish}}))}))}))}))}
var Do=function(t,e,n,r,o){return zo(t,o).bind((function(t){return Ur(t,e,n).bind((function(t){return Eo(t,r)}))}))}
var Ao=function(t,e){return _o(t,e)}
var Ro=function(t,e,n){return Mo(t,e,n).bind((function(e){var n=function(e){return me(t,e)}
var r="thead,tfoot,tbody,table"
var o=In(e.first,r,n)
var a=In(e.last,r,n)
return o.bind((function(t){return a.bind((function(n){return me(t,n)?Jr(e.table,e.first,e.last):m.none()}))}))}))}
var Ho=function(t){if(!x(t))throw new Error("cases must be an array")
if(0===t.length)throw new Error("there must be at least one case")
var e=[]
var n={}
I(t,(function(r,o){var a=ye(r)
if(1!==a.length)throw new Error("one and only one name per case")
var i=a[0]
var u=r[i]
if(void 0!==n[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!x(u))throw new Error("case arguments must be an array")
e.push(i)
n[i]=function(){var n=arguments.length
if(n!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+n)
var r=new Array(n)
for(var a=0;a<r.length;a++)r[a]=arguments[a]
var c=function(t){var n=ye(t)
if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","))
var o=J(e,(function(t){return A(n,t)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "))
return t[i].apply(null,r)}
return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length)
var e=arguments[o]
return e.apply(null,r)},match:c,log:function(t){console.log(t,{constructors:e,constructor:i,params:r})}}}}))
return n}
var Bo={generate:Ho}
var Io=Bo.generate([{none:[]},{multiple:["elements"]},{single:["element"]}])
var Lo=function(t,e,n,r){return t.fold(e,n,r)}
var Po=Io.none
var Vo=Io.multiple
var Fo=Io.single
var No=function(t,e,n){var r=function(){return Ao(t(),n).fold((function(){return e().map(Fo).getOrThunk(Po)}),(function(t){return Vo(t)}))}
return{get:r}}
var jo=tinymce.util.Tools.resolve("tinymce.PluginManager")
var Wo=function(t,e,n,r){return{minRow:t,minCol:e,maxRow:n,maxCol:r}}
var Uo=function(t,e){var n=t.grid.columns
var r=t.grid.rows
var o=r
var a=n
var i=0
var u=0
xe(t.access,(function(t){if(e(t)){var n=t.row
var r=n+t.rowspan-1
var c=t.column
var s=c+t.colspan-1
n<o?o=n:r>i&&(i=r)
c<a?a=c:s>u&&(u=s)}}))
return Wo(o,a,i,u)}
var qo=function(t,e,n){var r=t[n].element
var o=se.fromTag("td")
Qr(o,se.fromTag("br"))
var a=e?Qr:Yr
a(r,o)}
var Go=function(t,e,n,r){var o=e.grid.columns
var a=e.grid.rows
for(var i=0;i<a;i++){var u=false
for(var c=0;c<o;c++)if(!(i<n.minRow||i>n.maxRow||c<n.minCol||c>n.maxCol)){var s=Hr.getAt(e,i,c).filter(r).isNone()
s?qo(t,u,i):u=true}}}
var Jo=function(t,e){var n=V(lr(t,"tr"),(function(t){return 0===t.dom.childElementCount}))
I(n,oo)
e.minCol!==e.maxCol&&e.minRow!==e.maxRow||I(lr(t,"th,td"),(function(t){qn(t,"rowspan")
qn(t,"colspan")}))
qn(t,"width")
qn(t,"height")
er(t,"width")
er(t,"height")}
var Xo=function(t,e){var n=function(t){return le(t.element,e)}
var r=xr(t)
var o=Hr.generate(r)
var a=Uo(o,n)
var i="th:not("+e+"),td:not("+e+")"
var u=fr(t,"th,td",(function(t){return le(t,i)}))
I(u,oo)
Go(r,o,a,n)
Jo(t,a)
return t}
var $o=""
var Ko=function(t){return"img"===Je(t)?1:so(t).fold((function(){return fn(t).length}),(function(t){return t.length}))}
var Yo=function(t){return so(t).filter((function(t){return 0!==t.trim().length||t.indexOf($o)>-1})).isSome()}
var Qo=["img","br"]
var Zo=function(t){var e=Yo(t)
return e||A(Qo,Je(t))}
var ta=function(t){return Bn(t,Zo)}
var ea=function(t){return na(t,Zo)}
var na=function(t,e){var n=function(t){var r=fn(t)
for(var o=r.length-1;o>=0;o--){var a=r[o]
if(e(a))return m.some(a)
var i=n(a)
if(i.isSome())return i}return m.none()}
return n(t)}
var ra=function(t,e){return se.fromDom(t.dom.cloneNode(e))}
var oa=function(t){return ra(t,false)}
var aa=function(t){return ra(t,true)}
var ia=function(t,e){var n=se.fromTag(e)
var r=Gn(t)
jn(n,r)
return n}
var ua=function(t,e){var n=ia(t,e)
var r=fn(aa(t))
no(n,r)
return n}
var ca={scope:["row","col"]}
var sa=function(){var t=se.fromTag("td")
Qr(t,se.fromTag("br"))
return t}
var la=function(){return se.fromTag("col")}
var fa=function(){return se.fromTag("colgroup")}
var va=function(t,e,n){var r=ua(t,e)
xe(n,(function(t,e){null===t?qn(r,e):Nn(r,e,t)}))
return r}
var da=function(t){return t}
var ma=function(t){return function(){return se.fromTag("tr",t.dom)}}
var ga=function(t,e,n){var r=ta(t)
return r.map((function(r){var o=n.join(",")
var a=zn(r,o,(function(e){return me(e,t)}))
return F(a,(function(t,e){var n=oa(e)
qn(n,"contenteditable")
Qr(t,n)
return n}),e)})).getOr(e)}
var ha=function(t,e){xe(ca,(function(n,r){return Un(t,r).filter((function(t){return A(n,t)})).each((function(t){return Nn(e,r,t)}))}))}
var pa=function(t,e,n){var r=function(t,e){nr(t.element,e)
er(e,"height")
1!==t.colspan&&er(t.element,"width")}
var o=function(e){var o=nn(e.element)
var a=se.fromTag(Je(e.element),o.dom)
var i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"])
var u=i.length>0?ga(e.element,a,i):a
Qr(u,se.fromTag("br"))
r(e,a)
ha(e.element,a)
t(e.element,a)
return a}
var a=function(e){var n=nn(e.element)
var o=se.fromTag(Je(e.element),n.dom)
r(e,o)
t(e.element,o)
return o}
return{col:a,colgroup:fa,row:ma(e),cell:o,replace:va,gap:sa}}
var ba=function(t){return{col:la,colgroup:fa,row:ma(t),cell:sa,replace:da,gap:sa}}
var ya=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
return fn(se.fromDom(r))}
var wa=function(t){return B(t,se.fromDom)}
var xa=function(t){return Lo(t.get(),r([]),o,$)}
var Ca=function(t){var e=function(t,e){return Un(t,e).exists((function(t){return parseInt(t,10)>1}))}
var n=function(t){return e(t,"rowspan")||e(t,"colspan")}
var r=xa(t)
return r.length>0&&J(r,n)?m.some(r):m.none()}
var Sa=function(t,e,n){return Lo(e.get(),m.none,(function(e){return e.length<=1?m.none():Ro(t,n.firstSelectedSelector,n.lastSelectedSelector).map((function(t){return{bounds:t,cells:e}}))}),m.none)}
var Oa="data-mce-selected"
var ka="td["+Oa+"],th["+Oa+"]"
var Ta="["+Oa+"]"
var _a="data-mce-first-selected"
var za="td["+_a+"],th["+_a+"]"
var Ma="data-mce-last-selected"
var Ea="td["+Ma+"],th["+Ma+"]"
var Da=Ta
var Aa={selected:Oa,selectedSelector:ka,firstSelected:_a,firstSelectedSelector:za,lastSelected:Ma,lastSelectedSelector:Ea}
var Ra=function(t){return{element:t,mergable:m.none(),unmergable:m.none(),selection:[t]}}
var Ha=function(t,e,n){return{element:n,mergable:Sa(e,t,Aa),unmergable:Ca(t),selection:xa(t)}}
var Ba=function(t,e,n){return{element:t,clipboard:e,generators:n}}
var Ia=function(t,e,n,r){return{selection:xa(t),clipboard:n,generators:r}}
var La=function(t){return hr(t[0]).map(aa).map((function(t){return[Xo(t,Da)]}))}
var Pa=function(t,e){return B(e,(function(e){return t.selection.serializer.serialize(e.dom,{})})).join("")}
var Va=function(t){return B(t,(function(t){return t.dom.innerText})).join("")}
var Fa=function(e,n,r,o){e.on("BeforeGetContent",(function(r){var o=function(t){r.preventDefault()
La(t).each((function(t){r.content="text"===r.format?Va(t):Pa(e,t)}))}
true===r.selection&&Lo(n.get(),t,o,t)}))
e.on("BeforeSetContent",(function(t){if(true===t.selection&&true===t.paste){var n=m.from(e.dom.getParent(e.selection.getStart(),"th,td"))
n.each((function(n){var a=se.fromDom(n)
hr(a).each((function(n){var i=V(ya(t.content),(function(t){return"meta"!==Je(t)}))
var u=function(t){return"table"===Je(t)}
if(1===i.length&&u(i[0])){t.preventDefault()
var c=se.fromDom(e.getDoc())
var s=ba(c)
var l=Ba(a,i[0],s)
r.pasteCells(n,l).each((function(t){e.selection.setRng(t)
e.focus()
o.clear(n)}))}}))}))}}))}
var Na=Bo.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])
var ja=tt({},Na)
var Wa=function(t,e){if(0===t.length)return ja.none()
if(1===t.length)return ja.only(0)
if(0===e)return ja.left(0,1)
if(e===t.length-1)return ja.right(e-1,e)
if(e>0&&e<t.length-1)return ja.middle(e-1,e,e+1)
return ja.none()}
var Ua=function(t,e,n,o,a){var i=t.slice(0)
var u=Wa(t,e)
var c=r(B(i,r(0)))
var s=function(t){return o.singleColumnWidth(i[t],n)}
var l=function(t,e){return a.calcLeftEdgeDeltas(i,t,e,n,o.minCellWidth(),o.isRelative)}
var f=function(t,e,r){return a.calcMiddleDeltas(i,t,e,r,n,o.minCellWidth(),o.isRelative)}
var v=function(t,e){return a.calcRightEdgeDeltas(i,t,e,n,o.minCellWidth(),o.isRelative)}
return u.fold(c,s,l,f,v)}
var qa=function(t){var e=[]
var n=function(t){e.push(t)}
for(var r=0;r<t.length;r++)t[r].each(n)
return e}
var Ga=function(t,e,n){return t.isSome()&&e.isSome()?m.some(n(t.getOrDie(),e.getOrDie())):m.none()}
var Ja=function(t,e){return void 0!==t&&null!==t?e(t):m.none()}
function Xa(t,e){var n=function(e,n){if(!_(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n)
var r=e.dom
Jn(r)&&(r.style[t]=n+"px")}
var r=function(n){var r=e(n)
if(r<=0||null===r){var o=Qn(n,t)
return parseFloat(o)||0}return r}
var o=r
var a=function(t,e){return N(e,(function(e,n){var r=Qn(t,n)
var o=void 0===r?0:parseInt(r,10)
return isNaN(o)?e:e+o}),0)}
var i=function(t,e,n){var r=a(t,n)
var o=e>r?e-r:0
return o}
return{set:n,get:r,getOuter:o,aggregate:a,max:i}}var $a=Xa("width",(function(t){return t.dom.offsetWidth}))
var Ka=function(t){return $a.get(t)}
var Ya=function(t){return $a.getOuter(t)}
var Qa=function(t){var e=t.grid
var n=H(e.columns,o)
var r=H(e.rows,o)
return B(n,(function(e){var n=function(){return G(r,(function(n){return Hr.getAt(t,n,e).filter((function(t){return t.column===e})).toArray()}))}
var o=function(t){return 1===t.colspan}
var a=function(){return Hr.getAt(t,0,e)}
return Za(n,o,a)}))}
var Za=function(t,e,n){var r=t()
var o=W(r,e)
var a=o.orThunk((function(){return m.from(r[0]).orThunk(n)}))
return a.map((function(t){return t.element}))}
var ti=function(t){var e=t.grid
var n=H(e.rows,o)
var a=H(e.columns,o)
return B(n,(function(e){var n=function(){return G(a,(function(n){return Hr.getAt(t,e,n).filter((function(t){return t.row===e})).fold(r([]),(function(t){return[t]}))}))}
var o=function(t){return 1===t.rowspan}
var i=function(){return Hr.getAt(t,e,0)}
return Za(n,o,i)}))}
var ei=function(t,e){if(e<0||e>=t.length-1)return m.none()
var n=t[e].fold((function(){var n=X(t.slice(0,e))
return Z(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return m.some({value:t,delta:0})}))
var r=t[e+1].fold((function(){var n=t.slice(e+1)
return Z(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return m.some({value:t,delta:1})}))
return n.bind((function(t){return r.map((function(e){var n=e.delta+t.delta
return Math.abs(e.value-t.value)/n}))}))}
var ni=function(t,e){return function(n){return"rtl"===ri(n)?e:t}}
var ri=function(t){return"rtl"===Qn(t,"direction")?"rtl":"ltr"}
var oi=Xa("height",(function(t){var e=t.dom
return Cn(t)?e.getBoundingClientRect().height:e.offsetHeight}))
var ai=function(t){return oi.get(t)}
var ii=function(t){return oi.getOuter(t)}
var ui=function(t,e){var n=function(n,r){return ui(t+n,e+r)}
return{left:t,top:e,translate:n}}
var ci=ui
var si=function(t){var e=t.getBoundingClientRect()
return ci(e.left,e.top)}
var li=function(t,e){return void 0!==t?t:void 0!==e?e:0}
var fi=function(t){var e=t.dom.ownerDocument
var n=e.body
var r=e.defaultView
var o=e.documentElement
if(n===t.dom)return ci(n.offsetLeft,n.offsetTop)
var a=li(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop)
var i=li(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft)
var u=li(o.clientTop,n.clientTop)
var c=li(o.clientLeft,n.clientLeft)
return vi(t).translate(i-c,a-u)}
var vi=function(t){var e=t.dom
var n=e.ownerDocument
var r=n.body
if(r===e)return ci(r.offsetLeft,r.offsetTop)
if(!Cn(t))return ci(0,0)
return si(e)}
var di=function(t,e){return{row:t,y:e}}
var mi=function(t,e){return{col:t,x:e}}
var gi=function(t){var e=fi(t)
return e.left+Ya(t)}
var hi=function(t){return fi(t).left}
var pi=function(t,e){return mi(t,hi(e))}
var bi=function(t,e){return mi(t,gi(e))}
var yi=function(t){return fi(t).top}
var wi=function(t,e){return di(t,yi(e))}
var xi=function(t,e){return di(t,yi(e)+ii(e))}
var Ci=function(t,e,n){if(0===n.length)return[]
var r=B(n.slice(1),(function(e,n){return e.map((function(e){return t(n,e)}))}))
var o=n[n.length-1].map((function(t){return e(n.length-1,t)}))
return r.concat([o])}
var Si=function(t){return-t}
var Oi={delta:o,positions:function(t){return Ci(wi,xi,t)},edge:yi}
var ki={delta:o,edge:hi,positions:function(t){return Ci(pi,bi,t)}}
var Ti={delta:Si,edge:gi,positions:function(t){return Ci(bi,pi,t)}}
var _i=ni(ki,Ti)
var zi={delta:function(t,e){return _i(e).delta(t,e)},positions:function(t,e){return _i(e).positions(t,e)},edge:function(t){return _i(t).edge(t)}}
var Mi={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]}
var Ei=(Di="[0-9]+",Ai="[+-]?"+Di,Ri="[eE]"+Ai,Hi="\\.",Bi=function(t){return"(?:"+t+")?"},Ii=["Infinity",Di+Hi+Bi(Di)+Bi(Ri),Hi+Di+Bi(Ri),Di+Bi(Ri)].join("|"),Li="[+-]?(?:"+Ii+")",new RegExp("^("+Li+")(.*)$"))
var Di,Ai,Ri,Hi,Bi,Ii,Li
var Pi=function(t,e){return R(e,(function(e){return R(Mi[e],(function(e){return t===e}))}))}
var Vi=function(t,e){var n=m.from(Ei.exec(t))
return n.bind((function(t){var n=Number(t[1])
var r=t[2]
return Pi(r,e)?m.some({value:n,unit:r}):m.none()}))}
var Fi=function(){var t=Kt().browser
return t.isIE()||t.isEdge()}
var Ni=function(t,e){var n=parseFloat(t)
return isNaN(n)?e:n}
var ji=function(t,e,n){return Ni(Qn(t,e),n)}
var Wi=function(t){var e=t.dom.getBoundingClientRect().height
var n=Qn(t,"box-sizing")
if("border-box"===n)return e
var r=ji(t,"padding-top",0)
var o=ji(t,"padding-bottom",0)
var a=ji(t,"border-top-width",0)
var i=ji(t,"border-bottom-width",0)
var u=a+i
return e-r-o-u}
var Ui=function(t){var e=t.dom.getBoundingClientRect().width
var n=Qn(t,"box-sizing")
if("border-box"===n)return e
var r=ji(t,"padding-left",0)
var o=ji(t,"padding-right",0)
var a=ji(t,"border-left-width",0)
var i=ji(t,"border-right-width",0)
var u=a+i
return e-r-o-u}
var qi=function(t){return Fi()?Wi(t):ji(t,"height",ai(t))}
var Gi=function(t){return Fi()?Ui(t):ji(t,"width",Ka(t))}
var Ji=/(\d+(\.\d+)?)%/
var Xi=/(\d+(\.\d+)?)px|em/
var $i=function(t,e){var n=cn(t).getOr(On(nn(t)))
return e(t)/e(n)*100}
var Ki=function(t,e){Kn(t,"width",e+"px")}
var Yi=function(t,e){Kn(t,"width",e+"%")}
var Qi=function(t,e){Kn(t,"height",e+"px")}
var Zi=function(t){return tr(t,"height").getOrThunk((function(){return qi(t)+"px"}))}
var tu=function(t,e,n,r){var o=hr(t).map((function(t){var r=n(t)
return Math.floor(e/100*r)})).getOr(e)
r(t,o)
return o}
var eu=function(t,e,n,r){var o=parseInt(t,10)
return pt(t,"%")&&"table"!==Je(e)?tu(e,o,n,r):o}
var nu=function(t){var e=Zi(t)
if(!e)return ai(t)
return eu(e,t,ai,Qi)}
var ru=function(t,e,n){var r=n(t)
var o=or(t,e)
return r/o}
var ou=function(t){var e=tr(t,"width")
return e.fold((function(){return m.from(Wn(t,"width"))}),(function(t){return m.some(t)}))}
var au=function(t,e){return t/e.pixelWidth()*100}
var iu=function(t,e,n){var r=Ji.exec(e)
if(null!==r)return parseFloat(r[1])
var o=Gi(t)
return au(o,n)}
var uu=function(t,e){var n=ou(t)
return n.fold((function(){var n=Ka(t)
return au(n,e)}),(function(n){return iu(t,n,e)}))}
var cu=function(t,e){return t/100*e.pixelWidth()}
var su=function(t,e,n){var r=Xi.exec(e)
if(null!==r)return parseInt(r[1],10)
var o=Ji.exec(e)
if(null!==o){var a=parseFloat(o[1])
return cu(a,n)}return Gi(t)}
var lu=function(t,e){var n=ou(t)
return n.fold((function(){return Gi(t)}),(function(n){return su(t,n,e)}))}
var fu=function(t){return ru(t,"rowspan",nu)}
var vu=function(t){var e=ou(t)
return e.bind((function(t){return Vi(t,["fixed","relative","empty"])}))}
var du=function(t,e,n){Kn(t,"width",e+n)}
var mu=function(t){return Ka(t)+"px"}
var gu=function(t){return $i(t,Ka)+"%"}
var hu=function(t){return ou(t).exists((function(t){return Ji.test(t)}))}
var pu=function(t){return ou(t).exists((function(t){return Xi.test(t)}))}
var bu=function(t){return ou(t).isNone()}
var yu=r(Ji)
var wu=r(Xi)
var xu=en("col")
var Cu=function(t,e,n){return tr(t,e).fold((function(){return n(t)+"px"}),(function(t){return t}))}
var Su=function(t,e){var n=function(t){return xu(t)?Ka(t):lu(t,e)}
return Cu(t,"width",n)}
var Ou=function(t){return Cu(t,"height",fu)}
var ku=function(t){return B(Hr.justColumns(t),(function(t){return m.from(t.element)}))}
var Tu=function(t){return!xu(t)||tr(t,"width").isSome()}
var _u=function(t,e,n,r,o,a){return t.filter(r).fold((function(){return a(ei(n,e))}),(function(t){return o(t)}))}
var zu=function(t,e,n,r,a){var u=Qa(t)
var c=Hr.hasColumns(t)?ku(t):u
var s=[m.some(zi.edge(e))].concat(B(zi.positions(u,e),(function(t){return t.map((function(t){return t.x}))})))
var l=i(ar)
return B(c,(function(t,e){return _u(t,e,s,l,(function(t){if(Tu(t))return n(t,a)
var i=Ja(u[e],o)
return _u(i,e,s,l,(function(t){return r(m.some(Ka(t)))}),r)}),r)}))}
var Mu=function(t){return t.map((function(t){return t+"px"})).getOr("")}
var Eu=function(t,e,n){return zu(t,e,Su,Mu,n)}
var Du=function(t,e,n){return zu(t,e,uu,(function(t){return t.fold((function(){return n.minCellWidth()}),(function(t){return t/n.pixelWidth()*100}))}),n)}
var Au=function(t,e,n){return zu(t,e,lu,(function(t){return t.getOrThunk(n.minCellWidth)}),n)}
var Ru=function(t,e,n,r,o){var a=ti(t)
var u=[m.some(n.edge(e))].concat(B(n.positions(a,e),(function(t){return t.map((function(t){return t.y}))})))
return B(a,(function(t,e){return _u(t,e,u,i(ir),r,o)}))}
var Hu=function(t,e,n){return Ru(t,e,n,fu,(function(t){return t.getOrThunk(sr)}))}
var Bu=function(t,e,n){return Ru(t,e,n,Ou,Mu)}
var Iu=function(t,e,n){var r=0
for(var o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0
return r}
var Lu=function(t,e){var n=Hr.justCells(t)
return B(n,(function(t){var n=Iu(t.column,t.column+t.colspan,e)
return{element:t.element,width:n,colspan:t.colspan}}))}
var Pu=function(t,e){var n=Hr.justColumns(t)
return B(n,(function(t,n){return{element:t.element,width:e[n],colspan:t.colspan}}))}
var Vu=function(t,e){var n=Hr.justCells(t)
return B(n,(function(t){var n=Iu(t.row,t.row+t.rowspan,e)
return{element:t.element,height:n,rowspan:t.rowspan}}))}
var Fu=function(t,e){return B(t.all,(function(t,n){return{element:t.element,height:e[n]}}))}
var Nu=function(t){return F(t,(function(t,e){return t+e}),0)}
var ju=function(t,e){return Hr.hasColumns(t)?Pu(t,e):Lu(t,e)}
var Wu=function(t,e,n){var r=ju(t,e)
I(r,(function(t){n.setElementWidth(t.element,t.width)}))}
var Uu=function(t,e,n,r,o){var a=Hr.fromTable(t)
var i=o.getCellDelta(e)
var u=o.getWidths(a,o)
var c=n===a.grid.columns-1
var s=r.clampTableDelta(u,n,i,o.minCellWidth(),c)
var l=Ua(u,n,s,o,r)
var f=B(l,(function(t,e){return t+u[e]}))
Wu(a,f,o)
r.resizeTable(o.adjustTableWidth,s,c)}
var qu=function(t,e,n,r){var o=Hr.fromTable(t)
var a=Hu(o,t,r)
var i=B(a,(function(t,r){return n===r?Math.max(e+t,sr()):t}))
var u=Vu(o,i)
var c=Fu(o,i)
I(c,(function(t){Qi(t.element,t.height)}))
I(u,(function(t){Qi(t.element,t.height)}))
var s=Nu(i)
Qi(t,s)}
var Gu=function(t,e,n){var r=Hr.generate(e)
var o=n.getWidths(r,n)
Wu(r,o,n)}
var Ju=function(t){return B(t,r(0))}
var Xu=function(t,e,n,r,o){return o(t.slice(0,e)).concat(r).concat(o(t.slice(n)))}
var $u=function(t){return function(e,n,r,o){if(t(r)){var a=Math.max(o,e[n]-Math.abs(r))
var i=Math.abs(a-e[n])
return r>=0?i:-i}return r}}
var Ku=$u((function(t){return t<0}))
var Yu=$u(s)
var Qu=function(){var t=function(t,e,n,r,o){var a=Ku(t,e,r,o)
return Xu(t,e,n+1,[a,0],Ju)}
var e=function(t,e,n,r){var o=(100+n)/100
var a=Math.max(r,(t[e]+n)/o)
return B(t,(function(t,n){var r=n===e?a:t/o
return r-t}))}
var n=function(n,r,o,a,i,u){return u?e(n,r,a,i):t(n,r,o,a,i)}
var r=function(t,e,r,o,a,i,u){return n(t,r,o,a,i,u)}
var o=function(t,e){return t(e)}
var a=function(t,n,r,o,a,i){if(i)return e(t,r,o,a)
var u=Ku(t,r,o,a)
return Ju(t.slice(0,r)).concat([u])}
return{resizeTable:o,clampTableDelta:Ku,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:a}}
var Zu=function(){var t=function(t,e,n,r,o){var a=r>=0?n:e
var i=Yu(t,a,r,o)
return Xu(t,e,n+1,[i,-i],Ju)}
var e=function(e,n,r,o,a,i){return t(e,r,o,a,i)}
var n=function(t,e,n){n&&t(e)}
var o=function(t,e,n,o,a,i){if(i)return Ju(t)
var u=o/t.length
return B(t,r(u))}
var a=function(t,e,n,r,o){if(o){if(n>=0)return n
var a=N(t,(function(t,e){return t+e-r}),0)
return Math.max(-a,n)}return Ku(t,e,n,r)}
return{resizeTable:n,clampTableDelta:a,calcLeftEdgeDeltas:t,calcMiddleDeltas:e,calcRightEdgeDeltas:o}}
var tc=function(t,e){var n=m.from(t.dom.documentElement).map(se.fromDom).getOr(t)
return{parent:r(n),view:r(t),origin:r(ci(0,0)),isResizable:e}}
var ec=function(t,e,n){var o=function(){return fi(e)}
return{parent:r(e),view:r(t),origin:o,isResizable:n}}
var nc=function(t,e,n){return{parent:r(e),view:r(t),origin:r(ci(0,0)),isResizable:n}}
var rc={only:tc,detached:ec,body:nc}
var oc=Bo.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}])
var ac=function(t,e,n){var r=n.substring(0,n.length-t.length)
var o=parseFloat(r)
return r===o.toString()?e(o):oc.invalid(n)}
var ic=function(t){if(pt(t,"%"))return ac("%",oc.percent,t)
if(pt(t,"px"))return ac("px",oc.pixels,t)
return oc.invalid(t)}
var uc=tt(tt({},oc),{from:ic})
var cc=function(t,e){return B(t,(function(t){var n=uc.from(t)
return n.fold((function(){return t}),(function(t){var n=t/e*100
return n+"%"}),(function(t){return t+"%"}))}))}
var sc=function(t,e,n){var r=n/e
return B(t,(function(t){var e=uc.from(t)
return e.fold((function(){return t}),(function(t){return t*r+"px"}),(function(t){return t/100*n+"px"}))}))}
var lc=function(t,e){var n=t.fold((function(){return r("")}),(function(t){var n=t/e
return r(n+"px")}),(function(){var t=100/e
return r(t+"%")}))
return H(e,n)}
var fc=function(t,e,n){return t.fold((function(){return e}),(function(t){return sc(e,n,t)}),(function(t){return cc(e,n)}))}
var vc=function(t,e,n){var r=uc.from(n)
var o=J(t,(function(t){return"0px"===t}))?lc(r,t.length):fc(r,t,e)
return hc(o)}
var dc=function(t,e){if(0===t.length)return e
return F(t,(function(t,e){return uc.from(e).fold(r(0),o,o)+t}),0)}
var mc=function(t,e){var n=Math.floor(t)
return{value:n+e,remainder:t-n}}
var gc=function(t,e){return uc.from(t).fold(r(t),(function(t){return t+e+"px"}),(function(t){return t+e+"%"}))}
var hc=function(t){if(0===t.length)return t
var e=F(t,(function(t,e){var n=uc.from(e).fold((function(){return{value:e,remainder:0}}),(function(t){return mc(t,"px")}),(function(t){return{value:t+"%",remainder:0}}))
return{output:[n.value].concat(t.output),remainder:t.remainder+n.remainder}}),{output:[],remainder:0})
var n=e.output
return n.slice(0,n.length-1).concat([gc(n[n.length-1],Math.round(e.remainder))])}
var pc=uc.from
var bc=function(t,e,n){I(e,(function(e){var r=t.slice(e.column,e.colspan+e.column)
var o=dc(r,cr())
Kn(e.element,"width",o+n)}))}
var yc=function(t,e,n){I(e,(function(e,r){var o=dc([t[r]],cr())
Kn(e.element,"width",o+n)}))}
var wc=function(t,e,n,r){I(n,(function(e){var n=t.slice(e.row,e.rowspan+e.row)
var o=dc(n,sr())
Kn(e.element,"height",o+r)}))
I(e,(function(e,n){Kn(e.element,"height",t[n])}))}
var xc=function(t){return pc(t).fold(r("px"),r("px"),r("%"))}
var Cc=function(t,e,n,r){var o=Hr.fromTable(t)
var a=o.all
var i=Hr.justCells(o)
var u=Hr.justColumns(o)
e.each((function(e){var n=xc(e)
var a=Ka(t)
var c=Eu(o,t,r)
var s=vc(c,a,e)
Hr.hasColumns(o)?yc(s,u,n):bc(s,i,n)
Kn(t,"width",e)}))
n.each((function(e){var n=xc(e)
var r=ai(t)
var u=Bu(o,t,Oi)
var c=vc(u,r,e)
wc(c,a,i,n)
Kn(t,"height",e)}))}
var Sc=hu
var Oc=pu
var kc=bu
var Tc=gu
var _c=function(t){var e=Hr.fromTable(t)
return e.grid}
var zc=function(t){var e=[]
var n=function(t){if(void 0===t)throw new Error("Event bind error: undefined handler")
e.push(t)}
var r=function(t){e=V(e,(function(e){return e!==t}))}
var o=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o={}
I(t,(function(t,e){o[t]=n[e]}))
I(e,(function(t){t(o)}))}
return{bind:n,unbind:r,trigger:o}}
var Mc=function(t){var e=Ce(t,(function(t){return{bind:t.bind,unbind:t.unbind}}))
var n=Ce(t,(function(t){return t.trigger}))
return{registry:e,trigger:n}}
var Ec=function(t,e){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null!==n&&clearTimeout(n)
n=setTimeout((function(){t.apply(null,r)
n=null}),e)}
return{cancel:r,throttle:o}}
var Dc=function(t){return t.slice(0).sort()}
var Ac=function(t,e){throw new Error("All required keys ("+Dc(t).join(", ")+") were not specified. Specified keys were: "+Dc(e).join(", ")+".")}
var Rc=function(t){throw new Error("Unsupported keys for object: "+Dc(t).join(", "))}
var Hc=function(t,e){if(!x(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".")
I(e,(function(e){if(!y(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))}
var Bc=function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+Dc(t).join(", ")+") were not.")}
var Ic=function(t){var e=Dc(t)
var n=W(e,(function(t,n){return n<e.length-1&&t===e[n+1]}))
n.each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))}
var Lc=function(t,e){return Pc(t,e,{validate:T,label:"function"})}
var Pc=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.")
Hc("required",e)
Ic(e)
return function(r){var o=ye(r)
var a=J(e,(function(t){return A(o,t)}))
a||Ac(e,o)
t(e,o)
var i=V(e,(function(t){return!n.validate(r[t],t)}))
i.length>0&&Bc(i,n.label)
return r}}
var Vc=function(t,e){var n=V(e,(function(e){return!A(t,e)}))
n.length>0&&Rc(n)}
var Fc=function(t){return Lc(Vc,t)}
var Nc=Fc(["compare","extract","mutate","sink"])
var jc=Fc(["element","start","stop","destroy"])
var Wc=Fc(["forceDrop","drop","move","delayDrop"])
function Uc(){var t=m.none()
var e=function(){t=m.none()}
var n=function(e,n){var r=t.map((function(t){return e.compare(t,n)}))
t=m.some(n)
return r}
var r=function(t,e){var r=e.extract(t)
r.each((function(t){var r=n(e,t)
r.each((function(t){o.trigger.move(t)}))}))}
var o=Mc({move:zc(["info"])})
return{onEvent:r,reset:e,events:o.registry}}function qc(){return{onEvent:t,reset:t}}function Gc(){var t=qc()
var e=Uc()
var n=t
var r=function(){n.reset()
n=e}
var o=function(){n.reset()
n=t}
var a=function(t,e){n.onEvent(t,e)}
var i=function(){return n===e}
return{on:r,off:o,isOn:i,onEvent:a,events:e.events}}var Jc=function(t,e,n){var r=false
var o=Mc({start:zc([]),stop:zc([])})
var a=Gc()
var i=function(){d.stop()
if(a.isOn()){a.off()
o.trigger.stop()}}
var u=Ec(i,200)
var c=function(t){d.start(t)
a.on()
o.trigger.start()}
var s=function(t){u.cancel()
a.onEvent(t,e)}
a.events.move.bind((function(n){e.mutate(t,n.info)}))
var l=function(){r=true}
var f=function(){r=false}
var v=function(t){return function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
r&&t.apply(null,e)}}
var d=e.sink(Wc({forceDrop:i,drop:v(i),move:v(s),delayDrop:v(u.throttle)}),n)
var m=function(){d.destroy()}
return{element:d.element,go:c,on:l,off:f,destroy:m,events:o.registry}}
var Xc=function(t,e,n,r,o,a,i){return{target:t,x:e,y:n,stop:r,prevent:o,kill:a,raw:i}}
var $c=function(t){var n=se.fromDom(wn(t).getOr(t.target))
var r=function(){return t.stopPropagation()}
var o=function(){return t.preventDefault()}
var a=e(o,r)
return Xc(n,t.clientX,t.clientY,r,o,a,t)}
var Kc=function(t,e){return function(n){t(n)&&e($c(n))}}
var Yc=function(t,e,n,r,o){var i=Kc(n,r)
t.dom.addEventListener(e,i,o)
return{unbind:a(Zc,t,e,i,o)}}
var Qc=function(t,e,n,r){return Yc(t,e,n,r,false)}
var Zc=function(t,e,n,r){t.dom.removeEventListener(e,n,r)}
var ts=s
var es=function(t,e,n){return Qc(t,e,ts,n)}
var ns=$c
var rs=function(t,e){var n=Wn(t,e)
return void 0===n||""===n?[]:n.split(" ")}
var os=function(t,e,n){var r=rs(t,e)
var o=r.concat([n])
Nn(t,e,o.join(" "))
return true}
var as=function(t,e,n){var r=V(rs(t,e),(function(t){return t!==n}))
r.length>0?Nn(t,e,r.join(" ")):qn(t,e)
return false}
var is=function(t){return void 0!==t.dom.classList}
var us=function(t){return rs(t,"class")}
var cs=function(t,e){return os(t,"class",e)}
var ss=function(t,e){return as(t,"class",e)}
var ls=function(t,e){is(t)?t.dom.classList.add(e):cs(t,e)}
var fs=function(t){var e=is(t)?t.dom.classList:us(t)
0===e.length&&qn(t,"class")}
var vs=function(t,e){if(is(t)){var n=t.dom.classList
n.remove(e)}else ss(t,e)
fs(t)}
var ds=function(t,e){return is(t)&&t.dom.classList.contains(e)}
var ms=function(t){var e=t.replace(/\./g,"-")
var n=function(t){return e+"-"+t}
return{resolve:n}}
var gs=ms("ephox-dragster")
var hs=gs.resolve
var ps=function(t){var e=tt({layerClass:hs("blocker")},t)
var n=se.fromTag("div")
Nn(n,"role","presentation")
Yn(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"})
ls(n,hs("blocker"))
ls(n,e.layerClass)
var r=function(){return n}
var o=function(){oo(n)}
return{element:r,destroy:o}}
var bs=function(t,e){return ci(e.left-t.left,e.top-t.top)}
var ys=function(t){return m.some(ci(t.x,t.y))}
var ws=function(t,e){t.mutate(e.left,e.top)}
var xs=function(t,e){var n=ps(e)
var r=es(n.element(),"mousedown",t.forceDrop)
var o=es(n.element(),"mouseup",t.drop)
var a=es(n.element(),"mousemove",t.move)
var i=es(n.element(),"mouseout",t.delayDrop)
var u=function(){n.destroy()
o.unbind()
a.unbind()
i.unbind()
r.unbind()}
var c=function(t){Qr(t,n.element())}
var s=function(){oo(n.element())}
return jc({element:n.element,start:c,stop:s,destroy:u})}
var Cs=Nc({compare:bs,extract:ys,sink:xs,mutate:ws})
var Ss=function(t,e){void 0===e&&(e={})
var n=void 0!==e.mode?e.mode:Cs
return Jc(t,n,e)}
var Os=function(t){return"true"===Wn(t,"contenteditable")}
var ks=function(t,e){return Vn(t,"[contenteditable]",e)}
var Ts=ms("ephox-snooker")
var _s=Ts.resolve
var zs=function(){var t=Mc({drag:zc(["xDelta","yDelta"])})
var e=function(e,n){t.trigger.drag(e,n)}
return{mutate:e,events:t.registry}}
var Ms=function(){var t=Mc({drag:zc(["xDelta","yDelta","target"])})
var e=m.none()
var n=zs()
n.events.drag.bind((function(n){e.each((function(e){t.trigger.drag(n.xDelta,n.yDelta,e)}))}))
var r=function(t){e=m.some(t)}
var o=function(){return e}
return{assign:r,get:o,mutate:n.mutate,events:t.registry}}
var Es=function(t,e,n,r,o){var a=se.fromTag("div")
Yn(a,{position:"absolute",left:e-r/2+"px",top:n+"px",height:o+"px",width:r+"px"})
jn(a,{"data-column":t,role:"presentation"})
return a}
var Ds=function(t,e,n,r,o){var a=se.fromTag("div")
Yn(a,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"})
jn(a,{"data-row":t,role:"presentation"})
return a}
var As=_s("resizer-bar")
var Rs=_s("resizer-rows")
var Hs=_s("resizer-cols")
var Bs=7
var Is=function(t,e){return G(t.all,(function(t,n){return e(t.element)?[n]:[]}))}
var Ls=function(t,e){var n=[]
H(t.grid.columns,(function(r){var o=Hr.getColumnAt(t,r).map((function(t){return t.element}))
o.forall(e)&&n.push(r)}))
return V(n,(function(n){var r=Hr.filterItems(t,(function(t){return t.column===n}))
return J(r,(function(t){return e(t.element)}))}))}
var Ps=function(t){var e=En(t.parent(),"."+As)
I(e,oo)}
var Vs=function(t,e,n){var r=t.origin()
I(e,(function(e){e.each((function(e){var o=n(r,e)
ls(o,As)
Qr(t.parent(),o)}))}))}
var Fs=function(t,e,n,r){Vs(t,e,(function(t,e){var o=Es(e.col,e.x-t.left,n.top-t.top,Bs,r)
ls(o,Hs)
return o}))}
var Ns=function(t,e,n,r){Vs(t,e,(function(t,e){var o=Ds(e.row,n.left-t.left,e.y-t.top,r,Bs)
ls(o,Rs)
return o}))}
var js=function(t,e,n,r,o){var a=fi(n)
var i=e.isResizable
var u=r.length>0?Oi.positions(r,n):[]
var c=u.length>0?Is(t,i):[]
var s=V(u,(function(t,e){return R(c,(function(t){return e===t}))}))
Ns(e,s,a,Ya(n))
var l=o.length>0?zi.positions(o,n):[]
var f=l.length>0?Ls(t,i):[]
var v=V(l,(function(t,e){return R(f,(function(t){return e===t}))}))
Fs(e,v,a,ii(n))}
var Ws=function(t,e){Ps(t)
if(t.isResizable(e)){var n=Hr.fromTable(e)
var r=ti(n)
var o=Qa(n)
js(n,t,e,r,o)}}
var Us=function(t,e){var n=En(t.parent(),"."+As)
I(n,e)}
var qs=function(t){Us(t,(function(t){Kn(t,"display","none")}))}
var Gs=function(t){Us(t,(function(t){Kn(t,"display","block")}))}
var Js=function(t){return ds(t,Rs)}
var Xs=function(t){return ds(t,Hs)}
var $s=_s("resizer-bar-dragging")
var Ks=function(t){var e=Ms()
var n=Ss(e,{})
var r=m.none()
var o=function(t,e){return m.from(Wn(t,e))}
e.events.drag.bind((function(t){o(t.target,"data-row").each((function(e){var n=ur(t.target,"top")
Kn(t.target,"top",n+t.yDelta+"px")}))
o(t.target,"data-column").each((function(e){var n=ur(t.target,"left")
Kn(t.target,"left",n+t.xDelta+"px")}))}))
var i=function(t,e){var n=ur(t,e)
var r=rr(t,"data-initial-"+e,0)
return n-r}
n.events.stop.bind((function(){e.get().each((function(e){r.each((function(n){o(e,"data-row").each((function(t){var r=i(e,"top")
qn(e,"data-initial-top")
g.trigger.adjustHeight(n,r,parseInt(t,10))}))
o(e,"data-column").each((function(t){var r=i(e,"left")
qn(e,"data-initial-left")
g.trigger.adjustWidth(n,r,parseInt(t,10))}))
Ws(t,n)}))}))}))
var u=function(r,o){g.trigger.startAdjust()
e.assign(r)
Nn(r,"data-initial-"+o,ur(r,o))
ls(r,$s)
Kn(r,"opacity","0.2")
n.go(t.parent())}
var c=es(t.parent(),"mousedown",(function(t){Js(t.target)&&u(t.target,"top")
Xs(t.target)&&u(t.target,"left")}))
var s=function(e){return me(e,t.view())}
var l=function(t){return Vn(t,"table",s).filter((function(t){return ks(t,s).exists(Os)}))}
var f=es(t.view(),"mouseover",(function(e){l(e.target).fold((function(){Cn(e.target)&&Ps(t)}),(function(e){r=m.some(e)
Ws(t,e)}))}))
var v=function(){c.unbind()
f.unbind()
n.destroy()
Ps(t)}
var d=function(e){Ws(t,e)}
var g=Mc({adjustHeight:zc(["table","delta","row"]),adjustWidth:zc(["table","delta","column"]),startAdjust:zc([])})
return{destroy:v,refresh:d,on:n.on,off:n.off,hideBars:a(qs,t),showBars:a(Gs,t),events:g.registry}}
var Ys=function(t,e,n){var r=Oi
var o=zi
var a=Ks(t)
var i=Mc({beforeResize:zc(["table","type"]),afterResize:zc(["table","type"]),startDrag:zc([])})
a.events.adjustHeight.bind((function(t){var e=t.table
i.trigger.beforeResize(e,"row")
var n=r.delta(t.delta,e)
qu(e,n,t.row,r)
i.trigger.afterResize(e,"row")}))
a.events.startAdjust.bind((function(t){i.trigger.startDrag()}))
a.events.adjustWidth.bind((function(t){var r=t.table
i.trigger.beforeResize(r,"col")
var a=o.delta(t.delta,r)
var u=n(r)
Uu(r,a,t.column,e,u)
i.trigger.afterResize(r,"col")}))
return{on:a.on,off:a.off,hideBars:a.hideBars,showBars:a.showBars,destroy:a.destroy,events:i.registry}}
var Qs={create:Ys}
var Zs=function(t,e){return t.fire("newrow",{node:e})}
var tl=function(t,e){return t.fire("newcell",{node:e})}
var el=function(t,e,n,r,o){t.fire("ObjectResizeStart",{target:e,width:n,height:r,origin:o})}
var nl=function(t,e,n,r,o){t.fire("ObjectResized",{target:e,width:n,height:r,origin:o})}
var rl=function(t,e,n,r,o){t.fire("TableSelectionChange",{cells:e,start:n,finish:r,otherCells:o})}
var ol=function(t){t.fire("TableSelectionClear")}
var al=function(t,e,n){t.fire("TableModified",tt(tt({},n),{table:e}))}
var il="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"
var ul={"border-collapse":"collapse",width:"100%"}
var cl=function(t){if(_l(t)){var e=t.getBody().offsetWidth
return tt(tt({},ul),{width:e+"px"})}return zl(t)?Te(ul,(function(t,e){return"width"!==e})):ul}
var sl={border:"1"}
var ll="preservetable"
var fl=function(t){return t.getParam("table_sizing_mode","auto")}
var vl=function(t){return t.getParam("table_responsive_width")}
var dl=function(t){return t.getParam("table_default_attributes",sl,"object")}
var ml=function(t){return t.getParam("table_default_styles",cl(t),"object")}
var gl=function(t){return t.getParam("table_resize_bars",true,"boolean")}
var hl=function(t){return t.getParam("table_tab_navigation",true,"boolean")}
var pl=function(t){return t.getParam("table_cell_advtab",true,"boolean")}
var bl=function(t){return t.getParam("table_row_advtab",true,"boolean")}
var yl=function(t){return t.getParam("table_advtab",true,"boolean")}
var wl=function(t){return t.getParam("table_appearance_options",true,"boolean")}
var xl=function(t){return t.getParam("table_grid",true,"boolean")}
var Cl=function(t){return t.getParam("table_style_by_css",false,"boolean")}
var Sl=function(t){return t.getParam("table_cell_class_list",[],"array")}
var Ol=function(t){return t.getParam("table_row_class_list",[],"array")}
var kl=function(t){return t.getParam("table_class_list",[],"array")}
var Tl=function(t){return"relative"===fl(t)||true===vl(t)}
var _l=function(t){return"fixed"===fl(t)||false===vl(t)}
var zl=function(t){return"responsive"===fl(t)}
var Ml=function(t){return t.getParam("table_toolbar",il)}
var El=function(t){return t.getParam("table_use_colgroups",false,"boolean")}
var Dl=function(t){var e="section"
var n=t.getParam("table_header_type",e,"string")
var r=["section","cells","sectionCells","auto"]
return A(r,n)?n:e}
var Al=function(t){var e=["preservetable","resizetable"]
var n=t.getParam("table_column_resizing",ll,"string")
return W(e,(function(t){return t===n})).getOr(ll)}
var Rl=function(t){return"preservetable"===Al(t)}
var Hl=function(t){var e=t.getParam("table_clone_elements")
return y(e)?m.some(e.split(/[ ,]/)):Array.isArray(e)?m.some(e):m.none()}
var Bl=function(t){var e=t.getParam("object_resizing",true)
return y(e)?"table"===e:e}
var Il=function(t){return t.nodeName.toLowerCase()}
var Ll=function(t){return se.fromDom(t.getBody())}
var Pl=function(t){return t.getBoundingClientRect().width}
var Vl=function(t){return t.getBoundingClientRect().height}
var Fl=function(t){return function(e){return me(e,Ll(t))}}
var Nl=function(t){return t?t.replace(/px$/,""):""}
var jl=function(t){return/^\d+(\.\d+)?$/.test(t)?t+"px":t}
var Wl=function(t){qn(t,"data-mce-style")
var e=function(t){return qn(t,"data-mce-style")}
I(mr(t),e)
I(gr(t),e)}
var Ul=function(t,e){var n=t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width")
return m.from(n).filter(wt)}
var ql=function(t){return/^(\d+(\.\d+)?)%$/.test(t)}
var Gl=function(t){return/^(\d+(\.\d+)?)px$/.test(t)}
var Jl=function(t){return se.fromDom(t.selection.getStart())}
var Xl=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var $l=function(e){var n=function(){return Ka(e)}
var o=r(0)
var a=function(t,n){return Au(t,e,n)}
return{width:n,pixelWidth:n,getWidths:a,getCellDelta:o,singleColumnWidth:r([0]),minCellWidth:o,setElementWidth:t,adjustTableWidth:t,isRelative:true,label:"none"}}
var Kl=function(t,e){var n=Xl(parseFloat(t))
var r=Xl(Ka(e))
var o=function(t){return t/r.get()*100}
var a=function(t,e){return[100-t]}
var i=function(){return cr()/r.get()*100}
var u=function(t){var o=n.get()
var a=t/100*o
var i=o+a
Yi(e,i)
n.set(i)
r.set(Ka(e))}
var c=function(t,n){return Du(t,e,n)}
return{width:n.get,pixelWidth:r.get,getWidths:c,getCellDelta:o,singleColumnWidth:a,minCellWidth:i,setElementWidth:Yi,adjustTableWidth:u,isRelative:true,label:"percent"}}
var Yl=function(t,e){var n=Xl(t)
var r=n.get
var a=o
var i=function(t,e){var n=Math.max(cr(),t+e)
return[n-t]}
var u=function(t){var o=r()+t
Ki(e,o)
n.set(o)}
var c=function(t,n){return Au(t,e,n)}
return{width:r,pixelWidth:r,getWidths:c,getCellDelta:a,singleColumnWidth:i,minCellWidth:cr,setElementWidth:Ki,adjustTableWidth:u,isRelative:false,label:"pixel"}}
var Ql=function(t,e){var n=yu().exec(e)
if(null!==n)return Kl(n[1],t)
var r=wu().exec(e)
if(null!==r){var o=parseInt(r[1],10)
return Yl(o,t)}var a=Ka(t)
return Yl(a,t)}
var Zl=function(t){var e=ou(t)
return e.fold((function(){return $l(t)}),(function(e){return Ql(t,e)}))}
var tf={getTableSize:Zl,pixelSize:Yl,percentageSize:Kl,noneSize:$l}
var ef=function(t,e){if(Tl(t)){var n=Ul(t,e.dom).filter(ql).getOrThunk((function(){return Tc(e)}))
return tf.percentageSize(n,e)}return _l(t)?tf.pixelSize(Ka(e),e):tf.getTableSize(e)}
var nf=function(t){qn(t,"width")}
var rf=function(t,e){var n=gu(t)
Cc(t,m.some(n),m.none(),e)
nf(t)}
var of=function(t,e){var n=mu(t)
Cc(t,m.some(n),m.none(),e)
nf(t)}
var af=function(t){er(t,"width")
var e=gr(t)
var n=e.length>0?e:mr(t)
I(n,(function(t){er(t,"width")
nf(t)}))
nf(t)}
var uf=function(t,e){var n=ef(t,e)
rf(e,n)}
var cf=function(t,e){var n=ef(t,e)
of(e,n)}
var sf=af
var lf=function(t){var e=Hr.fromTable(t)
Hr.hasColumns(e)||I(mr(t),(function(t){var e=Qn(t,"width")
Kn(t,"width",e)
qn(t,"width")}))}
var ff=function(){var t=se.fromTag("div")
Yn(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"})
Qr(Sn(),t)
return t}
var vf=function(t,e){return t.inline?rc.body(Ll(t),ff(),e):rc.only(se.fromDom(t.getDoc()),e)}
var df=function(t,e){t.inline&&oo(e.parent())}
var mf="bar-"
var gf=function(t){return"false"!==Wn(t,"data-mce-resize")}
var hf=function(t){var e=m.none()
var n=m.none()
var r=m.none()
var o
var a
var i=function(t){return"TABLE"===t.nodeName}
var u=function(){return n}
var c=function(){return r.getOr(rc.only(se.fromDom(t.getBody()),gf))}
var s=function(e){return ef(t,e)}
var l=function(){return Rl(t)?Zu():Qu()}
var f=function(t){return _c(t).columns}
var v=function(e,n,r){var i=pt(n,"e")
""===a&&uf(t,e)
if(r!==o&&""!==a){Kn(e,"width",a)
var u=l()
var c=s(e)
var v=Rl(t)||i?f(e)-1:0
Uu(e,r-o,v,u,c)}else if(ql(a)){var d=parseFloat(a.replace("%",""))
var m=r*d/o
Kn(e,"width",m+"%")}Gl(a)&&lf(e)}
var d=function(){n.each((function(t){t.destroy()}))
r.each((function(e){df(t,e)}))}
t.on("init",(function(){var o=vf(t,gf)
r=m.some(o)
if(Bl(t)&&gl(t)){var a=l()
var i=Qs.create(o,a,s)
i.on()
i.events.startDrag.bind((function(n){e=m.some(t.selection.getRng())}))
i.events.beforeResize.bind((function(e){var n=e.table.dom
el(t,n,Pl(n),Vl(n),mf+e.type)}))
i.events.afterResize.bind((function(n){var r=n.table
var o=r.dom
Wl(r)
e.each((function(e){t.selection.setRng(e)
t.focus()}))
nl(t,o,Pl(o),Vl(o),mf+n.type)
t.undoManager.add()}))
n=m.some(i)}}))
t.on("ObjectResizeStart",(function(e){var n=e.target
if(i(n)){var r=se.fromDom(n)
I(t.dom.select(".mce-clonedresizable"),(function(e){t.dom.addClass(e,"mce-"+Al(t)+"-columns")}))
!Oc(r)&&_l(t)?cf(t,r):!Sc(r)&&Tl(t)&&uf(t,r)
kc(r)&&ht(e.origin,mf)&&uf(t,r)
o=e.width
a=zl(t)?"":Ul(t,n).getOr("")}}))
t.on("ObjectResized",(function(e){var n=e.target
if(i(n)){var r=se.fromDom(n)
var o=e.origin
ht(o,"corner-")&&v(r,o,e.width)
Wl(r)
al(t,r.dom)}}))
t.on("SwitchMode",(function(){u().each((function(e){t.mode.isReadOnly()?e.hideBars():e.showBars()}))}))
return{lazyResize:u,lazyWire:c,destroy:d}}
var pf=function(t,e){return{element:t,offset:e}}
var bf=function(t,e,n){return t.property().isText(e)&&0===t.property().getText(e).trim().length||t.property().isComment(e)?n(e).bind((function(e){return bf(t,e,n).orThunk((function(){return m.some(e)}))})):m.none()}
var yf=function(t,e){if(t.property().isText(e))return t.property().getText(e).length
var n=t.property().children(e)
return n.length}
var wf=function(t,e){var n=bf(t,e,t.query().prevSibling).getOr(e)
if(t.property().isText(n))return pf(n,yf(t,n))
var r=t.property().children(n)
return r.length>0?wf(t,r[r.length-1]):pf(n,yf(t,n))}
var xf=wf
var Cf=vo()
var Sf=function(t){return xf(Cf,t)}
var Of=function(t,e){var n=vu(t)
n.each((function(n){var r=n.value/2
du(t,r,n.unit)
du(e,r,n.unit)}))}
var kf=function(t,e,n){var r=t.cells
var o=r.slice(0,e)
var a=r.slice(e)
var i=o.concat([n]).concat(a)
return _f(t,i)}
var Tf=function(t,e,n){var r=t.cells
r[e]=n}
var _f=function(t,e){return We(e,t.section)}
var zf=function(t,e){var n=t.cells
var r=B(n,e)
return We(r,t.section)}
var Mf=function(t,e){return t.cells[e]}
var Ef=function(t,e){return Mf(t,e).element}
var Df=function(t){return t.cells.length}
var Af=function(t){var e=P(t,(function(t){return"colgroup"===t.section}))
return{rows:e.fail,cols:e.pass}}
var Rf=function(t,e,n,r){n===r?qn(t,e):Nn(t,e,n)}
var Hf=function(t,e,n){Q(Mn(t,e)).fold((function(){return Yr(t,n)}),(function(t){return Kr(t,n)}))}
var Bf=function(t,e){var n=Ln(t,e).getOrThunk((function(){var n=se.fromTag(e,nn(t).dom)
"thead"===e?Hf(t,"caption,colgroup",n):"colgroup"===e?Hf(t,"caption",n):Qr(t,n)
return n}))
ro(n)
return n}
var If=function(t,e){var n=[]
var r=[]
var o=function(t){return B(t,(function(t){t.isNew&&n.push(t.element)
var e=t.element
ro(e)
I(t.cells,(function(t){t.isNew&&r.push(t.element)
Rf(t.element,"colspan",t.colspan,1)
Rf(t.element,"rowspan",t.rowspan,1)
Qr(e,t.element)}))
return e}))}
var a=function(t){return G(t,(function(t){return B(t.cells,(function(t){Rf(t.element,"span",t.colspan,1)
return t.element}))}))}
var i=function(e,n){var r=Bf(t,n)
var i="colgroup"===n?a:o
var u=i(e)
no(r,u)}
var u=function(e){Ln(t,e).each(oo)}
var c=function(t,e){t.length>0?i(t,e):u(e)}
var s=[]
var l=[]
var f=[]
var v=[]
I(e,(function(t){switch(t.section){case"thead":s.push(t)
break
case"tbody":l.push(t)
break
case"tfoot":f.push(t)
break
case"colgroup":v.push(t)}}))
c(v,"colgroup")
c(s,"thead")
c(l,"tbody")
c(f,"tfoot")
return{newRows:n,newCells:r}}
var Lf=function(t){return B(t,(function(t){var e=oa(t.element)
I(t.cells,(function(t){var n=aa(t.element)
Rf(n,"colspan",t.colspan,1)
Rf(n,"rowspan",t.rowspan,1)
Qr(e,n)}))
return e}))}
var Pf=function(t,e){return B(t,(function(t){return Mf(t,e)}))}
var Vf=function(t,e){return t[e]}
var Ff=function(t,e){if(0===t.length)return 0
var n=t[0]
var r=U(t,(function(t){return!e(n.element,t.element)}))
return r.fold((function(){return t.length}),(function(t){return t}))}
var Nf=function(t,e,n,r){var o=Vf(t,e).cells.slice(n)
var a=Ff(o,r)
var i=Pf(t,n).slice(e)
var u=Ff(i,r)
return{colspan:a,rowspan:u}}
var jf=function(t,e){var n=B(t,(function(t){return B(t.cells,c)}))
var r=function(t,e,r,o){for(var a=t;a<t+r;a++)for(var i=e;i<e+o;i++)n[a][i]=true}
return B(t,(function(o,a){var i=G(o.cells,(function(o,i){if(false===n[a][i]){var u=Nf(t,a,i,e)
r(a,i,u.rowspan,u.colspan)
return[Pe(o.element,u.rowspan,u.colspan,o.isNew)]}return[]}))
return Ue(i,o.section)}))}
var Wf=function(t,e,n){var r=[]
if(Hr.hasColumns(t)){var o=B(Hr.justColumns(t),(function(t){return Ne(t.element,n)}))
r.push(We(o,"colgroup"))}for(var a=0;a<t.grid.rows;a++){var i=[]
for(var u=0;u<t.grid.columns;u++){var c=Hr.getAt(t,a,u).map((function(t){return Ne(t.element,n)})).getOrThunk((function(){return Ne(e.gap(),true)}))
i.push(c)}var s=We(i,t.all[a].section)
r.push(s)}return r}
var Uf=function(t,e){return Wf(t,e,false)}
var qf=function(t,e){var n=function(t){var n=Z(t,(function(t){return an(t.element).map((function(t){var e=an(t).isNone()
return Ne(t,e)}))}))
return n.getOrThunk((function(){return Ne(e.row(),true)}))}
return B(t,(function(t){var e=n(t.details)
return je(e.element,t.details,t.section,e.isNew)}))}
var Gf=function(t,e){var n=jf(t,me)
return qf(n,e)}
var Jf=function(t,e){return Z(t.all,(function(t){return W(t.cells,(function(t){return me(e,t.element)}))}))}
var Xf=function(t,e,n,r,o){return function(a,i,u,c,s){var l=Hr.fromTable(i)
var f=e(l,u).map((function(e){var n=Uf(l,c)
var r=t(n,e,me,o(c))
var a=Gf(r.grid,c)
return{grid:a,cursor:r.cursor}}))
return f.fold((function(){return m.none()}),(function(t){var e=If(i,t.grid)
var o=m.from(s).getOrThunk((function(){return tf.getTableSize(i)}))
n(i,t.grid,o)
r(i)
Ws(a,i)
return m.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})}))}}
var $f=function(t,e){return dr(e.element).bind((function(e){return Jf(t,e)}))}
var Kf=function(t,e){return dr(e.element).bind((function(n){return Jf(t,n).map((function(t){var n=tt(tt({},t),{generators:e.generators,clipboard:e.clipboard})
return n}))}))}
var Yf=function(t,e){var n=B(e.selection,(function(e){return dr(e).bind((function(e){return Jf(t,e)}))}))
var r=qa(n)
return r.length>0?m.some({cells:r,generators:e.generators,clipboard:e.clipboard}):m.none()}
var Qf=function(t,e){return e.mergable}
var Zf=function(t,e){return e.unmergable}
var tv=function(t,e){var n=B(e.selection,(function(e){return dr(e).bind((function(e){return Jf(t,e)}))}))
var r=qa(n)
return r.length>0?m.some(r):m.none()}
var ev=function(t,e,n,r){var o=Af(t).rows
if(0===o.length)return t
for(var a=e.startRow;a<=e.finishRow;a++)for(var i=e.startCol;i<=e.finishCol;i++)Tf(o[a],i,Ne(r(),false))
return t}
var nv=function(t,e,n,r){var o=Af(t).rows
var a=true
for(var i=0;i<o.length;i++)for(var u=0;u<Df(o[0]);u++){var c=Ef(o[i],u)
var s=n(c,e)
true===s&&false===a?Tf(o[i],u,Ne(r(),true)):true===s&&(a=false)}return t}
var rv=function(t,e){return N(t,(function(t,n){return R(t,(function(t){return e(t.element,n.element)}))?t:t.concat([n])}),[])}
var ov=function(t,e,n,r){e>0&&e<t[0].cells.length&&I(t,(function(t){var o=t.cells[e-1]
var a=t.cells[e]
var i=n(a.element,o.element)
i&&Tf(t,e,Ne(r(),true))}))
return t}
var av=function(t,e,n,r){var o=Af(t).rows
if(e>0&&e<o.length){var a=o[e-1].cells
var i=rv(a,n)
I(i,(function(t){var a=m.none()
var i=function(e){var i=function(i){var u=o[e].cells[i]
var c=n(u.element,t.element)
if(c){a.isNone()&&(a=m.some(r()))
a.each((function(t){Tf(o[e],i,Ne(t,true))}))}}
for(var u=0;u<Df(o[0]);u++)i(u)}
for(var u=e;u<o.length;u++)i(u)}))}return t}
var iv=function(t){var e=function(e){return t===e}
var n=function(e){return iv(t)}
var o=function(e){return iv(t)}
var a=function(e){return iv(e(t))}
var i=function(e){return iv(t)}
var u=function(e){e(t)}
var l=function(e){return e(t)}
var f=function(e,n){return n(t)}
var v=function(e){return e(t)}
var d=function(e){return e(t)}
var g=function(){return m.some(t)}
return{is:e,isValue:s,isError:c,getOr:r(t),getOrThunk:r(t),getOrDie:r(t),or:n,orThunk:o,fold:f,map:a,mapError:i,each:u,bind:l,exists:v,forall:d,toOptional:g}}
var uv=function(e){var n=function(t){return t()}
var r=function(){return u(String(e))()}
var a=function(t){return t}
var i=function(t){return t()}
var l=function(t){return uv(e)}
var f=function(t){return uv(t(e))}
var v=function(t){return uv(e)}
var d=function(t,n){return t(e)}
return{is:c,isValue:c,isError:s,getOr:o,getOrThunk:n,getOrDie:r,or:a,orThunk:i,fold:d,map:l,mapError:f,each:t,bind:v,exists:c,forall:s,toOptional:m.none}}
var cv=function(t,e){return t.fold((function(){return uv(e)}),iv)}
var sv={value:iv,error:uv,fromOption:cv}
var lv=function(t,e,n){if(t.row>=e.length||t.column>Df(e[0]))return sv.error("invalid start address out of table bounds, row: "+t.row+", column: "+t.column)
var r=e.slice(t.row)
var o=r[0].cells.slice(t.column)
var a=Df(n[0])
var i=n.length
return sv.value({rowDelta:r.length-i,colDelta:o.length-a})}
var fv=function(t,e){var n=Df(t[0])
var r=Df(e[0])
return{rowDelta:0,colDelta:n-r}}
var vv=function(t,e){var n=t.length
var r=e.length
return{rowDelta:n-r,colDelta:0}}
var dv=function(t,e,n){var r="colgroup"===e.section?n.col:n.cell
return B(t,(function(){return Ne(r(),true)}))}
var mv=function(t,e,n){return t.concat(H(e,(function(){var e=t[t.length-1]
return _f(e,dv(e.cells,e,n))})))}
var gv=function(t,e,n){return B(t,(function(t){var r=dv(H(e,o),t,n)
return _f(t,t.cells.concat(r))}))}
var hv=function(t,e,n){var r=e.colDelta<0?gv:o
var a=e.rowDelta<0?mv:o
var i=r(t,Math.abs(e.colDelta),n)
return a(i,Math.abs(e.rowDelta),n)}
var pv=function(t,e,n,r){var o=Mf(t[e],n)
var i=a(r,o.element)
var u=t[e]
return t.length>1&&Df(u)>1&&(n>0&&i(Ef(u,n-1))||n<u.cells.length-1&&i(Ef(u,n+1))||e>0&&i(Ef(t[e-1],n))||e<t.length-1&&i(Ef(t[e+1],n)))}
var bv=function(t,e,n,r,o){var a=t.row
var i=t.column
var u=n.length
var c=Df(n[0])
var s=a+u
var l=i+c
for(var f=a;f<s;f++)for(var v=i;v<l;v++){pv(e,f,v,o)&&nv(e,Ef(e[f],v),o,r.cell)
var d=Ef(n[f-a],v-i)
var m=r.replace(d)
Tf(e[f],v,Ne(m,true))}return e}
var yv=function(t,e,n,r,o){var a=lv(t,e,n)
return a.map((function(a){var i=hv(e,a,r)
return bv(t,i,n,r,o)}))}
var wv=function(t,e,n,r,o){ov(e,t,o,r.cell)
var a=vv(n,e)
var i=hv(n,a,r)
var u=vv(e,i)
var c=hv(e,u,r)
return B(c,(function(e,n){var r=e.cells.slice(0,t).concat(i[n].cells).concat(e.cells.slice(t,e.cells.length))
return _f(e,r)}))}
var xv=function(t,e,n,r,o){av(e,t,o,r.cell)
var a=fv(n,e)
var i=hv(n,a,r)
var u=fv(e,i)
var c=hv(e,u,r)
var s=Af(c),l=s.cols,f=s.rows
return l.concat(f.slice(0,t)).concat(i).concat(f.slice(t,f.length))}
var Cv=function(t,e,n,r,o){var a=Af(t),i=a.rows,u=a.cols
var c=i.slice(0,e)
var s=i.slice(e)
var l=zf(i[n],(function(t,n){var a=e>0&&e<i.length&&r(Ef(i[e-1],n),Ef(i[e],n))
var u=a?Mf(i[e],n):Ne(o(t.element,r),true)
return u}))
return u.concat(c).concat([l]).concat(s)}
var Sv=function(t,e,n,r,o,a,i){return"colgroup"!==n&&r?Mf(t,e):Ne(i(Ef(t,o),a),true)}
var Ov=function(t,e,n,r,o){return B(t,(function(t){var a=e>0&&e<Df(t)&&r(Ef(t,e-1),Ef(t,e))
var i=Sv(t,e,t.section,a,n,r,o)
return kf(t,e,i)}))}
var kv=function(t,e,n){var r=B(t,(function(t){var r=t.cells.slice(0,e).concat(t.cells.slice(n+1))
return We(r,t.section)}))
return V(r,(function(t){return t.cells.length>0}))}
var Tv=function(t,e,n){var r=Af(t),o=r.rows,a=r.cols
return a.concat(o.slice(0,e)).concat(o.slice(n+1))}
var _v=function(t,e,n,r){var o=function(t){return R(e,(function(e){return n(t.element,e.element)}))}
return B(t,(function(t){return zf(t,(function(t){return o(t)?Ne(r(t.element,n),true):t}))}))}
var zv=function(t,e,n,r){return void 0!==Ef(t[e],n)&&e>0&&r(Ef(t[e-1],n),Ef(t[e],n))}
var Mv=function(t,e,n){return e>0&&n(Ef(t,e-1),Ef(t,e))}
var Ev=function(t,e,n,r){var o=G(t,(function(r,o){var a=zv(t,o,e,n)||Mv(r,e,n)
return a?[]:[Mf(r,e)]}))
return _v(t,o,n,r)}
var Dv=function(t,e,n,r){var o=Af(t).rows
var a=o[e]
var i=G(a.cells,(function(t,r){var i=zv(o,e,r,n)||Mv(a,r,n)
return i?[]:[t]}))
return _v(t,i,n,r)}
var Av=Fc(["cell","row","replace","gap","col","colgroup"])
var Rv=function(t){var e=rr(t,"colspan",1)
var n=rr(t,"rowspan",1)
return{element:t,colspan:e,rowspan:n}}
var Hv=function(t,e){void 0===e&&(e=Rv)
Av(t)
var n=Xl(m.none())
var r=function(e){switch(Je(e.element)){case"col":return t.col(e)
default:return t.cell(e)}}
var o=function(t){var n=e(t)
return r(n)}
var a=function(t){var e=o(t)
n.get().isNone()&&n.set(m.some(e))
i=m.some({item:t,replacement:e})
return e}
var i=m.none()
var u=function(t,e){return i.fold((function(){return a(t)}),(function(n){return e(t,n.item)?n.replacement:a(t)}))}
return{getOrInit:u,cursor:n.get}}
var Bv=function(t,e){return function(n){var r=Xl(m.none())
Av(n)
var o=[]
var a=function(t,e){return W(o,(function(n){return e(n.item,t)}))}
var i=function(a){var i={scope:t}
var u=n.replace(a,e,i)
o.push({item:a,sub:u})
r.get().isNone()&&r.set(m.some(u))
return u}
var u=function(t,e){return a(t,e).fold((function(){return i(t)}),(function(n){return e(t,n.item)?n.sub:i(t)}))}
return{replaceOrInit:u,cursor:r.get}}}
var Iv=function(t){Av(t)
var e=Xl(m.none())
var n=function(n){e.get().isNone()&&e.set(m.some(n))
return function(){var e=t.cell({element:n,colspan:1,rowspan:1})
er(e,"width")
er(n,"width")
return e}}
return{combine:n,cursor:e.get}}
var Lv={modification:Hv,transform:Bv,merging:Iv}
var Pv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]
var Vv=function(t,e){var n=t.property().name(e)
return A(["ol","ul"],n)}
var Fv=function(t,e){var n=t.property().name(e)
return A(Pv,n)}
var Nv=function(t,e){return A(["br","img","hr","input"],t.property().name(e))}
var jv=vo()
var Wv=function(t){return Fv(jv,t)}
var Uv=function(t){return Vv(jv,t)}
var qv=function(t){return Nv(jv,t)}
var Gv=function(t){var e=function(t){return"br"===Je(t)}
var n=function(t){return J(t,(function(t){return e(t)||Qe(t)&&0===co(t).trim().length}))}
var r=function(t){return"li"===Je(t)||An(t,Uv).isSome()}
var o=function(t){return ln(t).map((function(t){if(Wv(t))return true
if(qv(t))return"img"!==Je(t)
return false})).getOr(false)}
var a=function(t){return ea(t).bind((function(n){var a=o(n)
return an(n).map((function(o){return true===a||r(o)||e(n)||Wv(o)&&!me(t,o)?[]:[se.fromTag("br")]}))})).getOr([])}
var i=function(){var e=G(t,(function(t){var e=fn(t)
return n(e)?[]:e.concat(a(t))}))
return 0===e.length?[se.fromTag("br")]:e}
var u=i()
ro(t[0])
no(t[0],u)}
var Jv=function(t){var e=mr(t)
0===e.length&&oo(t)}
var Xv=function(t,e){return{grid:t,cursor:e}}
var $v=function(t,e,n){var r=Af(t).rows
return Kv(r,e,n).orThunk((function(){return Kv(r,0,0)}))}
var Kv=function(t,e,n){return m.from(t[e]).bind((function(t){return m.from(t.cells[n]).bind((function(t){return m.from(t.element)}))}))}
var Yv=function(t,e,n){var r=Af(t).rows
return Xv(t,Kv(r,e,n))}
var Qv=function(t){var e=function(t,e){var n=R(t,(function(t){return t.row===e.row}))
return n?t:t.concat([e])}
return N(t,e,[]).sort((function(t,e){return t.row-e.row}))}
var Zv=function(t){var e=function(t,e){var n=R(t,(function(t){return t.column===e.column}))
return n?t:t.concat([e])}
return N(t,e,[]).sort((function(t,e){return t.column-e.column}))}
var td=function(t,e,n,r){var o=e[0].row
var a=e[0].row
var i=Qv(e)
var u=N(i,(function(t,e){return Cv(t,a,o,n,r.getOrInit)}),t)
return Yv(u,a,e[0].column)}
var ed=function(t,e,n,r){var o=Qv(e)
var a=o[o.length-1].row
var i=o[o.length-1].row+o[o.length-1].rowspan
var u=N(o,(function(t,e){return Cv(t,i,a,n,r.getOrInit)}),t)
return Yv(u,i,e[0].column)}
var nd=function(t,e,n,r){var o=Zv(e)
var a=o[0].column
var i=o[0].column
var u=N(o,(function(t,e){return Ov(t,i,a,n,r.getOrInit)}),t)
return Yv(u,e[0].row,i)}
var rd=function(t,e,n,r){var o=e[e.length-1].column
var a=e[e.length-1].column+e[e.length-1].colspan
var i=Zv(e)
var u=N(i,(function(t,e){return Ov(t,a,o,n,r.getOrInit)}),t)
return Yv(u,e[0].row,a)}
var od=function(t,e,n,r){var o=Dv(t,e.row,n,r.replaceOrInit)
return Yv(o,e.row,e.column)}
var ad=function(t,e,n,r){var o=Qv(e)
var a=function(t,e){return Dv(t,e.row,n,r.replaceOrInit)}
var i=N(o,a,t)
return Yv(i,e[0].row,e[0].column)}
var id=function(t,e,n,r){var o=Ev(t,e.column,n,r.replaceOrInit)
return Yv(o,e.row,e.column)}
var ud=function(t,e,n,r){var o=Zv(e)
var a=function(t,e){return Ev(t,e.column,n,r.replaceOrInit)}
var i=N(o,a,t)
return Yv(i,e[0].row,e[0].column)}
var cd=function(t,e,n,r){var o=Dv(t,e.row,n,r.replaceOrInit)
return Yv(o,e.row,e.column)}
var sd=function(t,e,n,r){var o=Qv(e)
var a=function(t,e){return Dv(t,e.row,n,r.replaceOrInit)}
var i=N(o,a,t)
return Yv(i,e[0].row,e[0].column)}
var ld=function(t,e,n,r){var o=Ev(t,e.column,n,r.replaceOrInit)
return Yv(o,e.row,e.column)}
var fd=function(t,e,n,r){var o=Zv(e)
var a=function(t,e){return Ev(t,e.column,n,r.replaceOrInit)}
var i=N(o,a,t)
return Yv(i,e[0].row,e[0].column)}
var vd=function(t,e,n,r){var o=Zv(e)
var a=kv(t,o[0].column,o[o.length-1].column)
var i=$v(a,e[0].row,e[0].column)
return Xv(a,i)}
var dd=function(t,e,n,r){var o=Qv(e)
var a=Tv(t,o[0].row,o[o.length-1].row)
var i=$v(a,e[0].row,e[0].column)
return Xv(a,i)}
var md=function(t,e,n,o){var a=e.cells
Gv(a)
var i=ev(t,e.bounds,n,r(a[0]))
return Xv(i,m.from(a[0]))}
var gd=function(t,e,n,r){var o=F(e,(function(t,e){return nv(t,e,n,r.combine(e))}),t)
return Xv(o,m.from(e[0]))}
var hd=function(t,e,n,r){var o=function(t,e){var n=Hr.fromTable(t)
return Wf(n,e,true)}
var a=o(e.clipboard,e.generators)
var i=Ie(e.row,e.column)
var u=yv(i,t,a,e.generators,n)
return u.fold((function(){return Xv(t,m.some(e.element))}),(function(t){var n=$v(t,e.row,e.column)
return Xv(t,n)}))}
var pd=function(t,e,n){var r=Cr(t,n.section)
var o=Hr.generate(r)
return Wf(o,e,true)}
var bd=function(t,e,n,r){var o=Af(t).rows
var a=e.cells[0].column
var i=o[e.cells[0].row]
var u=pd(e.clipboard,e.generators,i)
var c=wv(a,t,u,e.generators,n)
var s=$v(c,e.cells[0].row,e.cells[0].column)
return Xv(c,s)}
var yd=function(t,e,n,r){var o=Af(t).rows
var a=e.cells[e.cells.length-1].column+e.cells[e.cells.length-1].colspan
var i=o[e.cells[0].row]
var u=pd(e.clipboard,e.generators,i)
var c=wv(a,t,u,e.generators,n)
var s=$v(c,e.cells[0].row,e.cells[0].column)
return Xv(c,s)}
var wd=function(t,e,n,r){var o=Af(t).rows
var a=e.cells[0].row
var i=o[a]
var u=pd(e.clipboard,e.generators,i)
var c=xv(a,t,u,e.generators,n)
var s=$v(c,e.cells[0].row,e.cells[0].column)
return Xv(c,s)}
var xd=function(t,e,n,r){var o=Af(t).rows
var a=e.cells[e.cells.length-1].row+e.cells[e.cells.length-1].rowspan
var i=o[e.cells[0].row]
var u=pd(e.clipboard,e.generators,i)
var c=xv(a,t,u,e.generators,n)
var s=$v(c,e.cells[0].row,e.cells[0].column)
return Xv(c,s)}
var Cd=function(t,e){var n=Hr.fromTable(t)
var r=tv(n,e)
return r.bind((function(t){var e=t[t.length-1]
var r=t[0].column
var o=e.column+e.colspan
var a=q(B(n.all,(function(t){return V(t.cells,(function(t){return t.column>=r&&t.column<o}))})))
return Sd(a,(function(t){return"th"===Je(t.element)}))})).getOr("")}
var Sd=function(t,e){var n=V(t,e)
return 0===n.length?m.some("td"):n.length===t.length?m.some("th"):m.none()}
var Od=Gu
var kd=Xf(td,tv,t,t,Lv.modification)
var Td=Xf(ed,tv,t,t,Lv.modification)
var _d=Xf(nd,tv,Od,t,Lv.modification)
var zd=Xf(rd,tv,Od,t,Lv.modification)
var Md=Xf(vd,tv,Od,Jv,Lv.modification)
var Ed=Xf(dd,tv,t,Jv,Lv.modification)
Xf(id,$f,t,t,Lv.transform("row","th"))
var Dd=Xf(ud,tv,t,t,Lv.transform("row","th"))
Xf(ld,$f,t,t,Lv.transform(null,"td"))
var Ad=Xf(fd,tv,t,t,Lv.transform(null,"td"))
Xf(od,$f,t,t,Lv.transform("col","th"))
Xf(ad,tv,t,t,Lv.transform("col","th"))
Xf(cd,$f,t,t,Lv.transform(null,"td"))
Xf(sd,tv,t,t,Lv.transform(null,"td"))
var Rd=Xf(md,Qf,t,t,Lv.merging)
var Hd=Xf(gd,Zf,Od,t,Lv.merging)
var Bd=Xf(hd,Kf,Od,t,Lv.modification)
var Id=Xf(bd,Yf,t,t,Lv.modification)
var Ld=Xf(yd,Yf,t,t,Lv.modification)
var Pd=Xf(wd,Yf,t,t,Lv.modification)
var Vd=Xf(xd,Yf,t,t,Lv.modification)
var Fd=Cd
var Nd=function(t){return Il(t.parentNode)}
var jd=function(t){return"thead"===t?"header":"tfoot"===t?"footer":"body"}
var Wd=function(t,e){var n="thead"===Nd(e)
var r=!R(e.cells,(function(t){return"th"!==Il(t)}))
return n||r?m.some({thead:n,ths:r}):m.none()}
var Ud=function(t,e){return jd(Wd(t,e).fold((function(){return Nd(e)}),(function(t){return"thead"})))}
var qd=function(t,e,n){var r=t.getParent(e,"table")
var o=e.parentNode
var a=Il(o)
if(n!==a){var i=t.select(n,r)[0]
if(!i){i=t.create(n)
var u=r.firstChild
"thead"===n?Q(Mn(se.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(i,u)}),(function(e){return t.insertAfter(i,e.dom)})):r.appendChild(i)}"tbody"===n&&"thead"===a&&i.firstChild?i.insertBefore(e,i.firstChild):i.appendChild(e)
o.hasChildNodes()||t.remove(o)}}
var Gd=function(t,e,n){if(k(n)&&Il(e)!==n){var r=t.dom.rename(e,n)
tl(t,r)
return r}return e}
var Jd=function(t,e,n,r){var o=t.dom
var a=Gd(t,e,n)
S(r)||o.setAttrib(a,"scope",r)
return a}
var Xd=function(t,e,n,r){return I(e,(function(e){return Jd(t,e,n,r)}))}
var $d=function(t,e,n){var r=function(){var n=hr(se.fromDom(e.cells[0])).map((function(t){return pr(t)})).getOr([])
return Z(n,(function(e){return Wd(t,e.dom)})).map((function(t){return t.thead&&t.ths?"sectionCells":t.thead?"section":"cells"})).getOr("section")}
var o=t.dom
if("header"===n){var a=Dl(t)
var i="auto"===a?r():a
Xd(t,e.cells,"section"===i?"td":"th","col")
qd(o,e,"cells"===i?"tbody":"thead")}else{Xd(t,e.cells,"td",null)
qd(o,e,"footer"===n?"tfoot":"tbody")}}
var Kd=function(t){return hr(t).bind((function(t){return Ao(t,Aa.firstSelectedSelector)})).fold((function(){return t}),(function(t){return t[0]}))}
var Yd=function(t){return function(e){var n=Je(e)
var r="col"===n||"colgroup"===n?Kd(e):e
return Vn(r,t)}}
var Qd=Yd("th,td")
var Zd=Yd("th,td,caption")
var tm=function(t,e){return Qd(t).map((function(t){return xa(e)})).getOr([])}
var em=function(t,e){var n=Qd(t)
var r=n.bind((function(t){return hr(t)})).map((function(t){return pr(t)}))
return Ga(n,r,(function(t,n){return V(n,(function(n){return R(wa(n.dom.cells),(function(n){return"1"===Wn(n,e)||me(n,t)}))}))})).getOr([])}
var nm=function(e,n,r){var o=function(t){return"table"===Je(Ll(t))}
var a=function(t){return false===o(e)||_c(t).rows>1}
var i=function(t){return false===o(e)||_c(t).columns>1}
var u=Hl(e)
var c=function(t,n,r,o){return function(a,i){Wl(a)
var c=o()
var s=se.fromDom(e.getDoc())
var l=pa(r,s,u)
var f=ef(e,a)
return n(a)?t(c,a,i,l,f).bind((function(t){I(t.newRows,(function(t){Zs(e,t.dom)}))
I(t.newCells,(function(t){tl(e,t.dom)}))
return t.cursor.map((function(t){var n=Sf(t)
var r=e.dom.createRng()
r.setStart(n.element.dom,n.offset)
r.setEnd(n.element.dom,n.offset)
return r}))})):m.none()}}
var l=c(Ed,a,t,n)
var f=c(Md,i,t,n)
var v=c(kd,s,t,n)
var d=c(Td,s,t,n)
var g=c(_d,s,Of,n)
var h=c(zd,s,Of,n)
var p=c(Rd,s,t,n)
var b=c(Hd,s,t,n)
var y=c(Id,s,t,n)
var w=c(Ld,s,t,n)
var x=c(Pd,s,t,n)
var C=c(Vd,s,t,n)
var S=c(Bd,s,t,n)
var O=function(t,e){return Me(t,"type").filter((function(t){return A(e,t)}))}
var k=function(t,e){return O(e,["td","th"]).each((function(e){var n=B(tm(Jl(t),r),(function(t){return t.dom}))
Xd(t,n,e,null)}))}
var T=function(t,e){return O(e,["header","body","footer"]).each((function(e){B(em(Jl(t),Aa.selected),(function(n){return $d(t,n.dom,e)}))}))}
var _=c(Dd,s,t,n)
var z=c(Ad,s,t,n)
var M=function(t){var e=em(Jl(t),Aa.selected)
if(e.length>0){var n=B(e,(function(e){return Ud(t,e.dom)}))
var r=A(n,"header")
var o=A(n,"footer")
if(r||o){var a=A(n,"body")
return!r||a||o?r||a||!o?"":"footer":"header"}return"body"}}
var E=function(t){return Sd(tm(Jl(t),r),(function(t){return"th"===Je(t)})).getOr("")}
var D=Fd
return{deleteRow:l,deleteColumn:f,insertRowsBefore:v,insertRowsAfter:d,insertColumnsBefore:g,insertColumnsAfter:h,mergeCells:p,unmergeCells:b,pasteColsBefore:y,pasteColsAfter:w,pasteRowsBefore:x,pasteRowsAfter:C,pasteCells:S,setTableCellType:k,setTableRowType:T,makeColumnsHeader:_,unmakeColumnsHeader:z,getTableRowType:M,getTableCellType:E,getTableColType:D}}
var rm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:false}
var om=function(){return se.fromTag("th")}
var am=function(){return se.fromTag("td")}
var im=function(){return se.fromTag("col")}
var um=function(t,e,n,r){var o=se.fromTag("tr")
for(var a=0;a<t;a++){var i=r<e||a<n?om():am()
a<n&&Nn(i,"scope","row")
r<e&&Nn(i,"scope","col")
Qr(i,se.fromTag("br"))
Qr(o,i)}return o}
var cm=function(t){var e=se.fromTag("colgroup")
H(t,(function(){return Qr(e,im())}))
return e}
var sm=function(t,e,n,r){return H(t,(function(t){return um(e,n,r,t)}))}
var lm=function(t,e,n,r,o,a){void 0===a&&(a=rm)
var i=se.fromTag("table")
var u="cells"!==o
Yn(i,a.styles)
jn(i,a.attributes)
a.colGroups&&Qr(i,cm(e))
var c=Math.min(t,n)
if(u&&n>0){var s=se.fromTag("thead")
Qr(i,s)
var l="sectionCells"===o?c:0
var f=sm(n,e,l,r)
no(s,f)}var v=se.fromTag("tbody")
Qr(i,v)
var d=u?t-c:t
var m=u?0:n
var g=sm(d,e,m,r)
no(v,g)
return i}
var fm=function(t){return t.dom.innerHTML}
var vm=function(t){var e=se.fromTag("div")
var n=se.fromDom(t.dom.cloneNode(true))
Qr(e,n)
return fm(e)}
var dm=function(t,e){t.selection.select(e.dom,true)
t.selection.collapse(true)}
var mm=function(t,e){Pn(e,"td,th").each(a(dm,t))}
var gm=function(t,e){I(En(e,"tr"),(function(e){Zs(t,e.dom)
I(En(e,"th,td"),(function(e){tl(t,e.dom)}))}))}
var hm=function(t){return y(t)&&-1!==t.indexOf("%")}
var pm=function(t,e,n,r,o){var a=ml(t)
var i={styles:a,attributes:dl(t),colGroups:El(t)}
t.undoManager.ignore((function(){var a=lm(n,e,o,r,Dl(t),i)
Nn(a,"data-mce-id","__mce")
var u=vm(a)
t.insertContent(u)
t.addVisual()}))
return Pn(Ll(t),'table[data-mce-id="__mce"]').map((function(e){_l(t)?cf(t,e):zl(t)?sf(e):(Tl(t)||hm(a.width))&&uf(t,e)
Wl(e)
qn(e,"data-mce-id")
gm(t,e)
mm(t,e)
return e.dom})).getOr(null)}
var bm=function(t,e,n,r,o){void 0===r&&(r={})
var a=function(t){return _(t)&&t>0}
if(a(e)&&a(n)){var i=r.headerRows||0
var u=r.headerColumns||0
return pm(t,n,e,u,i)}console.error(o)
return null}
var ym=function(t){return function(){return t().fold((function(){return[]}),(function(t){return B(t,(function(t){return t.dom}))}))}}
var wm=function(t){return function(e){var n=e.length>0?m.some(wa(e)):m.none()
t(n)}}
var xm=function(t){return function(e,n,r){void 0===r&&(r={})
var o=bm(t,n,e,r,"Invalid values for insertTable - rows and columns values are required to insert a table.")
t.undoManager.add()
return o}}
var Cm=function(t,e,n,r){return{insertTable:xm(t),setClipboardRows:wm(e.setRows),getClipboardRows:ym(e.getRows),setClipboardCols:wm(e.setColumns),getClipboardCols:ym(e.getColumns),resizeHandler:n,selectionTargets:r}}
var Sm=function(t,e,n){var r=rr(t,e,1)
1===n||r<=1?qn(t,e):Nn(t,e,Math.min(n,r))}
var Om=function(t,e,n){if(Hr.hasColumns(t)){var r=V(Hr.justColumns(t),(function(t){return t.column>=e&&t.column<n}))
var o=B(r,(function(t){var r=aa(t.element)
Sm(r,"span",n-e)
return r}))
var a=se.fromTag("colgroup")
no(a,o)
return[a]}return[]}
var km=function(t,e,n){return B(t.all,(function(t){var r=V(t.cells,(function(t){return t.column>=e&&t.column<n}))
var o=B(r,(function(t){var r=aa(t.element)
Sm(r,"colspan",n-e)
return r}))
var a=se.fromTag("tr")
no(a,o)
return a}))}
var Tm=function(t,e){var n=Hr.fromTable(t)
var r=tv(n,e)
return r.map((function(t){var e=t[t.length-1]
var r=t[0].column
var o=e.column+e.colspan
var a=Om(n,r,o)
var i=km(n,r,o)
return et(a,i)}))}
var _m=function(t,e,n){var r=Hr.fromTable(t)
var o=tv(r,e)
return o.map((function(t){var e=Wf(r,n,false)
var o=Af(e).rows
var a=o.slice(t[0].row,t[t.length-1].row+t[t.length-1].rowspan)
var i=Gf(a,n)
return Lf(i)}))}
var zm=tinymce.util.Tools.resolve("tinymce.util.Tools")
var Mm=function(t,e,n){var r=t.select("td,th",e)
var o
var a=function(e,r){for(var o=0;o<r.length;o++){var a=t.getStyle(r[o],n)
"undefined"===typeof e&&(e=a)
if(e!==a)return""}return e}
return a(o,r)}
var Em=function(t,e,n){n&&t.formatter.apply("align"+n,{},e)}
var Dm=function(t,e,n){n&&t.formatter.apply("valign"+n,{},e)}
var Am=function(t,e){zm.each("left center right".split(" "),(function(n){t.formatter.remove("align"+n,{},e)}))}
var Rm=function(t,e){zm.each("top middle bottom".split(" "),(function(n){t.formatter.remove("valign"+n,{},e)}))}
var Hm=function(t){return De(t,"menu")}
var Bm=function(t,e){var n=function(t,e){return e.concat(B(t,(function(t){var e=t.text||t.title
return Hm(t)?{text:e,items:Bm(t.menu)}:{text:e,value:t.value}})))}
return n(t,e||[])}
var Im=function(t){return function(e){return ht(e,"rgb")?t.toHex(e):e}}
var Lm=function(t,e){var n=se.fromDom(e)
return{borderwidth:tr(n,"border-width").getOr(""),borderstyle:tr(n,"border-style").getOr(""),bordercolor:tr(n,"border-color").map(Im(t)).getOr(""),backgroundcolor:tr(n,"background-color").map(Im(t)).getOr("")}}
var Pm=function(t){var e=t[0]
var n=t.slice(1)
I(n,(function(t){I(ye(e),(function(n){xe(t,(function(t,r){var o=e[n]
""!==o&&n===r&&o!==t&&(e[n]="")}))}))}))
return e}
var Vm=function(t){var e=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}]
var n={name:"borderwidth",type:"input",label:"Border width"}
var r="cell"===t?[n].concat(e):e
return{title:"Advanced",name:"advanced",items:r}}
var Fm=function(t,e,n,r){return W(t,(function(t){return n.formatter.matchNode(r,e+t)})).getOr("")}
var Nm=a(Fm,["left","center","right"],"align")
var jm=a(Fm,["top","middle","bottom"],"valign")
var Wm=function(t,e){var n=ml(t)
var r=dl(t)
var o=function(t){return{borderstyle:Me(n,"border-style").getOr(""),bordercolor:Im(t)(Me(n,"border-color").getOr("")),backgroundcolor:Im(t)(Me(n,"background-color").getOr(""))}}
var a={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:false,class:"",align:"",border:""}
var i=function(){var e=n["border-width"]
if(Cl(t)&&e)return{border:e}
return Me(r,"border").fold((function(){return{}}),(function(t){return{border:t}}))}
var u=e?o(t.dom):{}
var c=function(){var t=Me(n,"border-spacing").or(Me(r,"cellspacing")).fold((function(){return{}}),(function(t){return{cellspacing:t}}))
var e=Me(n,"border-padding").or(Me(r,"cellpadding")).fold((function(){return{}}),(function(t){return{cellpadding:t}}))
return tt(tt({},t),e)}
var s=tt(tt(tt(tt(tt(tt({},a),n),r),u),i()),c())
return s}
var Um=function(t,e,n){var r=function(e,n){var r=tr(se.fromDom(n),"border-width")
if(Cl(t)&&r.isSome())return r.getOr("")
return e.getAttrib(n,"border")||Mm(t.dom,n,"border-width")||Mm(t.dom,n,"border")}
var o=t.dom
return tt({width:o.getStyle(e,"width")||o.getAttrib(e,"width"),height:o.getStyle(e,"height")||o.getAttrib(e,"height"),cellspacing:o.getStyle(e,"border-spacing")||o.getAttrib(e,"cellspacing"),cellpadding:o.getAttrib(e,"cellpadding")||Mm(t.dom,e,"padding"),border:r(o,e),caption:!!o.select("caption",e)[0],class:o.getAttrib(e,"class",""),align:Nm(t,e)},n?Lm(o,e):{})}
var qm=function(t,e,n){var r=t.dom
return tt({height:r.getStyle(e,"height")||r.getAttrib(e,"height"),scope:r.getAttrib(e,"scope"),class:r.getAttrib(e,"class",""),type:Ud(t,e),align:Nm(t,e)},n?Lm(r,e):{})}
var Gm=function(t,e,n,r){var o=t.dom
var a=r.getOr(e)
var i=function(t,e){return o.getStyle(t,e)||o.getAttrib(t,e)}
return tt({width:i(a,"width"),height:i(e,"height"),scope:o.getAttrib(e,"scope"),celltype:Il(e),class:o.getAttrib(e,"class",""),halign:Nm(t,e),valign:jm(t,e)},n?Lm(o,e):{})}
var Jm=function(t){var e=Bm(Sl(t))
if(e.length>0)return m.some({name:"class",type:"listbox",label:"Class",items:e})
return m.none()}
var Xm=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]
var $m=function(t){return Xm.concat(Jm(t).toArray())}
var Km=function(t){return function(e,n){var r=e.dom
var o=function(e,o){t&&!o||r.setAttrib(n,e,o)}
var a=function(e,o){t&&!o||r.setStyle(n,e,o)}
var i=function(r,o){t&&!o||(""===o?e.formatter.remove(r,{value:null},n,true):e.formatter.apply(r,{value:o},n))}
return{setAttrib:o,setStyle:a,setFormat:i}}}
var Ym={normal:Km(false),ifTruthy:Km(true)}
var Qm=function(t){return hr(t[0]).map((function(e){var n=Hr.fromTable(e)
var r=Hr.justCells(n)
var o=V(r,(function(e){return R(t,(function(t){return me(e.element,t)}))}))
return B(o,(function(t){return{element:t.element.dom,column:Hr.getColumnAt(n,t.column).map((function(t){return t.element.dom}))}}))}))}
var Zm=function(t,e,n){t.setAttrib("scope",n.scope)
t.setAttrib("class",n.class)
t.setStyle("height",jl(n.height))
e.setStyle("width",jl(n.width))}
var tg=function(t,e){t.setFormat("tablecellbackgroundcolor",e.backgroundcolor)
t.setFormat("tablecellbordercolor",e.bordercolor)
t.setFormat("tablecellborderstyle",e.borderstyle)
t.setFormat("tablecellborderwidth",jl(e.borderwidth))}
var eg=function(t,e,n){var r=1===e.length
if(e.length>=1){var o=hr(e[0])
Qm(e).each((function(e){I(e,(function(e){var o=Jd(t,e.element,n.celltype)
var a=r?Ym.normal(t,o):Ym.ifTruthy(t,o)
var i=e.column.map((function(e){return r?Ym.normal(t,e):Ym.ifTruthy(t,e)})).getOr(a)
Zm(a,i,n)
pl(t)&&tg(a,n)
if(r){Am(t,o)
Rm(t,o)}n.halign&&Em(t,o,n.halign)
n.valign&&Dm(t,o,n.valign)}))}))
o.each((function(e){return al(t,e.dom)}))}}
var ng=function(t,e,n){var r=n.getData()
n.close()
t.undoManager.transact((function(){eg(t,e,r)
t.focus()}))}
var rg=function(t,e){var n=Qm(e).map((function(e){return B(e,(function(e){return Gm(t,e.element,pl(t),e.column)}))}))
return Pm(n.getOrDie())}
var og=function(t,e){var n=tm(Jl(t),e)
if(0===n.length)return
var r=rg(t,n)
var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:$m(t)},Vm("cell")]}
var i={type:"panel",items:[{type:"grid",columns:2,items:$m(t)}]}
t.windowManager.open({title:"Cell Properties",size:"normal",body:pl(t)?o:i,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:a(ng,t,n)})}
var ag=function(t){var e=Bm(Ol(t))
if(e.length>0)return m.some({name:"class",type:"listbox",label:"Class",items:e})
return m.none()}
var ig=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}]
var ug=function(t){return ig.concat(ag(t).toArray())}
var cg=function(t,e){t.setAttrib("scope",e.scope)
t.setAttrib("class",e.class)
t.setStyle("height",jl(e.height))}
var sg=function(t,e){t.setStyle("background-color",e.backgroundcolor)
t.setStyle("border-color",e.bordercolor)
t.setStyle("border-style",e.borderstyle)}
var lg=function(t,e,n,r){var o=1===e.length
I(e,(function(e){r.type!==Il(e.parentNode)&&$d(t,e,r.type)
var a=o?Ym.normal(t,e):Ym.ifTruthy(t,e)
cg(a,r)
bl(t)&&sg(a,r)
if(r.align!==n.align){Am(t,e)
Em(t,e,r.align)}}))
hr(se.fromDom(e[0])).each((function(e){return al(t,e.dom)}))}
var fg=function(t,e,n,r){var o=r.getData()
r.close()
t.undoManager.transact((function(){lg(t,e,n,o)
t.focus()}))}
var vg=function(t){var e=em(Jl(t),Aa.selected)
if(0===e.length)return
var n=B(e,(function(e){return qm(t,e.dom,bl(t))}))
var r=Pm(n)
var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:ug(t)},Vm("row")]}
var i={type:"panel",items:[{type:"grid",columns:2,items:ug(t)}]}
t.windowManager.open({title:"Row Properties",size:"normal",body:bl(t)?o:i,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:a(fg,t,B(e,(function(t){return t.dom})),r)})}
var dg=tinymce.util.Tools.resolve("tinymce.Env")
var mg=function(t,e,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[]
var o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]
var a=wl(t)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]
var i=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]
var u=e.length>0?[{type:"listbox",name:"class",label:"Class",items:e}]:[]
return r.concat(o).concat(a).concat(i).concat(u)}
var gg=function(t,e,n,r){if("TD"===e.tagName||"TH"===e.tagName)y(n)?t.setStyle(e,n,r):t.setStyle(e,n)
else if(e.children)for(var o=0;o<e.children.length;o++)gg(t,e.children[o],n,r)}
var hg=function(t,e,n){var r=t.dom
var o={}
var a={}
o.class=n.class
a.height=jl(n.height)
r.getAttrib(e,"width")&&!Cl(t)?o.width=Nl(n.width):a.width=jl(n.width)
if(Cl(t)){a["border-width"]=jl(n.border)
a["border-spacing"]=jl(n.cellspacing)}else{o.border=n.border
o.cellpadding=n.cellpadding
o.cellspacing=n.cellspacing}if(Cl(t)&&e.children)for(var i=0;i<e.children.length;i++){gg(r,e.children[i],{"border-width":jl(n.border),padding:jl(n.cellpadding)})
yl(t)&&gg(r,e.children[i],{"border-color":n.bordercolor})}if(yl(t)){a["background-color"]=n.backgroundcolor
a["border-color"]=n.bordercolor
a["border-style"]=n.borderstyle}o.style=r.serializeStyle(tt(tt({},ml(t)),a))
r.setAttribs(e,tt(tt({},dl(t)),o))
al(t,e)}
var pg=function(t,e,n){var r=t.dom
var o
var a=n.getData()
n.close()
""===a.class&&delete a.class
t.undoManager.transact((function(){if(!e){var n=parseInt(a.cols,10)||1
var i=parseInt(a.rows,10)||1
e=pm(t,n,i,0,0)}hg(t,e,a)
o=r.select("caption",e)[0]
o&&!a.caption&&r.remove(o)
if(!o&&a.caption){o=r.create("caption")
o.innerHTML=dg.ie?$o:'<br data-mce-bogus="1"/>'
e.insertBefore(o,e.firstChild)}""===a.align?Am(t,e):Em(t,e,a.align)
t.focus()
t.addVisual()}))}
var bg=function(t,e){var n=t.dom
var r
var o=Wm(t,yl(t))
if(false===e){r=n.getParent(t.selection.getStart(),"table")
if(r)o=Um(t,r,yl(t))
else if(yl(t)){o.borderstyle=""
o.bordercolor=""
o.backgroundcolor=""}}else{o.cols="1"
o.rows="1"
if(yl(t)){o.borderstyle=""
o.bordercolor=""
o.backgroundcolor=""}}var i=Bm(kl(t))
i.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""))
var u={type:"grid",columns:2,items:mg(t,i,e)}
var c=function(){return{type:"panel",items:[u]}}
var s=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},Vm("table")]}}
var l=yl(t)?s():c()
t.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:a(pg,t,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:o})}
var yg=function(t){return Zd(Jl(t))}
var wg=function(t){return Qd(Jl(t))}
var xg=function(e,n,r,o,u){var c=Fl(e)
var s=function(){return yg(e).each((function(t){hr(t,c).filter(i(c)).each((function(t){var n=se.fromText("")
Kr(t,n)
oo(t)
if(e.dom.isEmpty(e.getBody())){e.setContent("")
e.selection.setCursorLocation()}else{var r=e.dom.createRng()
r.setStart(n.dom,0)
r.setEnd(n.dom,0)
e.selection.setRng(r)
e.nodeChanged()}}))}))}
var l=function(t){return yg(e).each((function(n){var r=zl(e)||_l(e)||Tl(e)
r||hr(n,c).each((function(n){"relative"!==t||Sc(n)?"fixed"!==t||Oc(n)?"responsive"!==t||kc(n)||sf(n):cf(e,n):uf(e,n)
Wl(n)
al(e,n.dom)}))}))}
var f=function(t){return hr(t,c)}
var v=function(t){return function(n){e.selection.setRng(n)
e.focus()
r.clear(t)
Wl(t)
al(e,t.dom)}}
var d=function(t){return wg(e).each((function(e){f(e).each((function(n){var r=Ha(o,n,e)
t(n,r).each(v(n))}))}))}
var g=function(){return wg(e).map((function(n){return f(n).bind((function(r){var a=Ha(o,r,n)
var i=pa(t,se.fromDom(e.getDoc()),m.none())
return _m(r,a,i)}))}))}
var h=function(){return wg(e).map((function(t){return f(t).bind((function(e){var n=Ha(o,e,t)
return Tm(e,n)}))}))}
var p=function(t,n){return n().each((function(n){var r=B(n,(function(t){return aa(t)}))
wg(e).each((function(n){return f(n).each((function(a){var i=ba(se.fromDom(e.getDoc()))
var u=Ia(o,n,r,i)
t(a,u).each(v(a))}))}))}))}
xe({mceTableSplitCells:function(){return d(n.unmergeCells)},mceTableMergeCells:function(){return d(n.mergeCells)},mceTableInsertRowBefore:function(){return d(n.insertRowsBefore)},mceTableInsertRowAfter:function(){return d(n.insertRowsAfter)},mceTableInsertColBefore:function(){return d(n.insertColumnsBefore)},mceTableInsertColAfter:function(){return d(n.insertColumnsAfter)},mceTableDeleteCol:function(){return d(n.deleteColumn)},mceTableDeleteRow:function(){return d(n.deleteRow)},mceTableCutCol:function(t){return h().each((function(t){u.setColumns(t)
d(n.deleteColumn)}))},mceTableCutRow:function(t){return g().each((function(t){u.setRows(t)
d(n.deleteRow)}))},mceTableCopyCol:function(t){return h().each((function(t){return u.setColumns(t)}))},mceTableCopyRow:function(t){return g().each((function(t){return u.setRows(t)}))},mceTablePasteColBefore:function(t){return p(n.pasteColsBefore,u.getColumns)},mceTablePasteColAfter:function(t){return p(n.pasteColsAfter,u.getColumns)},mceTablePasteRowBefore:function(t){return p(n.pasteRowsBefore,u.getRows)},mceTablePasteRowAfter:function(t){return p(n.pasteRowsAfter,u.getRows)},mceTableDelete:s,mceTableSizingMode:function(t,e){return l(e)}},(function(t,n){return e.addCommand(n,t)}))
var b=function(t,e){e.each((function(e){al(t,e.dom)}))}
xe({mceTableCellType:function(t,r){var o=hr(Jl(e),c)
n.setTableCellType(e,r)
b(e,o)},mceTableRowType:function(t,r){var o=hr(Jl(e),c)
n.setTableRowType(e,r)
b(e,o)}},(function(t,n){return e.addCommand(n,t)}))
e.addCommand("mceTableColType",(function(t,e){return Me(e,"type").each((function(t){return d("th"===t?n.makeColumnsHeader:n.unmakeColumnsHeader)}))}))
xe({mceTableProps:a(bg,e,false),mceTableRowProps:a(vg,e),mceTableCellProps:a(og,e,o)},(function(t,n){return e.addCommand(n,(function(){return t()}))}))
e.addCommand("mceInsertTable",(function(t,n){w(n)&&ye(n).length>0?bm(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):bg(e,true)}))
e.addCommand("mceTableApplyCellStyle",(function(t,n){var r=function(t){return"tablecell"+t.toLowerCase().replace("-","")}
if(!w(n))return
var a=tm(Jl(e),o)
if(0===a.length)return
var i=Te(n,(function(t,n){return e.formatter.has(r(n))&&y(t)}))
if(Ae(i))return
xe(i,(function(t,n){I(a,(function(o){Ym.normal(e,o.dom).setFormat(r(n),t)}))}))
f(a[0]).each((function(t){return al(e,t.dom,{structure:false,style:true})}))}))}
var Cg=function(t,e,n){var r=Fl(t)
var o=function(t){return hr(t,r)}
xe({mceTableRowType:function(){return e.getTableRowType(t)},mceTableCellType:function(){return e.getTableCellType(t)},mceTableColType:function(){return Qd(Jl(t)).bind((function(t){return o(t).map((function(r){var o=Ha(n,r,t)
return e.getTableColType(r,o)}))})).getOr("")}},(function(e,n){return t.addQueryValueHandler(n,e)}))}
var Sg=function(){var t=Xl(m.none())
var e=Xl(m.none())
var n=function(t){t.set(m.none())}
return{getRows:t.get,setRows:function(r){t.set(r)
n(e)},clearRows:function(){return n(t)},getColumns:e.get,setColumns:function(r){e.set(r)
n(t)},clearColumns:function(){return n(e)}}}
var Og={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:true},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:true},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:true},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:true}}
var kg=function(t){t.formatter.register(Og)}
var Tg=Bo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}])
var _g=function(t){void 0===t&&(t=void 0)
return Tg.none(t)}
var zg=tt(tt({},Tg),{none:_g})
var Mg=function(t,e){return hr(t,e).bind((function(e){var n=mr(e)
var r=U(n,(function(e){return me(t,e)}))
return r.map((function(t){return{index:t,all:n}}))}))}
var Eg=function(t,e){var n=Mg(t,e)
return n.fold((function(){return zg.none(t)}),(function(e){return e.index+1<e.all.length?zg.middle(t,e.all[e.index+1]):zg.last(t)}))}
var Dg=function(t,e){var n=Mg(t,e)
return n.fold((function(){return zg.none()}),(function(e){return e.index-1>=0?zg.middle(t,e.all[e.index-1]):zg.first(t)}))}
var Ag=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}}
var Rg={create:Ag}
var Hg=Bo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var Bg=function(t,e,n,r){return t.fold(e,n,r)}
var Ig=function(t){return t.fold(o,o,o)}
var Lg=Hg.before
var Pg=Hg.on
var Vg=Hg.after
var Fg={before:Lg,on:Pg,after:Vg,cata:Bg,getStart:Ig}
var Ng=Bo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var jg=function(t){return Ng.exact(t.start,t.soffset,t.finish,t.foffset)}
var Wg=function(t){return t.match({domRange:function(t){return se.fromDom(t.startContainer)},relative:function(t,e){return Fg.getStart(t)},exact:function(t,e,n,r){return t}})}
var Ug=Ng.domRange
var qg=Ng.relative
var Gg=Ng.exact
var Jg=function(t){var e=Wg(t)
return on(e)}
var Xg=Rg.create
var $g={domRange:Ug,relative:qg,exact:Gg,exactFromRange:jg,getWin:Jg,range:Xg}
var Kg=function(t,e){var n=t.document.createRange()
Yg(n,e)
return n}
var Yg=function(t,e){return t.selectNodeContents(e.dom)}
var Qg=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))}
var Zg=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))}
var th=function(t,e,n){var r=t.document.createRange()
Qg(r,e)
Zg(r,n)
return r}
var eh=function(t,e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a}
var nh=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}}
var rh=function(t){var e=t.getClientRects()
var n=e.length>0?e[0]:t.getBoundingClientRect()
return n.width>0||n.height>0?m.some(n).map(nh):m.none()}
var oh=Bo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}])
var ah=function(t,e,n){return e(se.fromDom(n.startContainer),n.startOffset,se.fromDom(n.endContainer),n.endOffset)}
var ih=function(t,e){return e.match({domRange:function(t){return{ltr:r(t),rtl:m.none}},relative:function(e,n){return{ltr:nt((function(){return th(t,e,n)})),rtl:nt((function(){return m.some(th(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:nt((function(){return eh(t,e,n,r,o)})),rtl:nt((function(){return m.some(eh(t,r,o,e,n))}))}}})}
var uh=function(t,e){var n=e.ltr()
if(n.collapsed){var r=e.rtl().filter((function(t){return false===t.collapsed}))
return r.map((function(t){return oh.rtl(se.fromDom(t.endContainer),t.endOffset,se.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return ah(t,oh.ltr,n)}))}return ah(t,oh.ltr,n)}
var ch=function(t,e){var n=ih(t,e)
return uh(t,n)}
var sh=function(t,e){var n=ch(t,e)
return n.match({ltr:function(e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a},rtl:function(e,n,r,o){var a=t.document.createRange()
a.setStart(r.dom,o)
a.setEnd(e.dom,n)
return a}})}
oh.ltr
oh.rtl
var lh=function(t,e,n,r,o){if(0===o)return 0
if(e===r)return o-1
var a=r
for(var i=1;i<o;i++){var u=t(i)
var c=Math.abs(e-u.left)
if(n<=u.bottom){if(n<u.top||c>a)return i-1
a=c}}return 0}
var fh=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}
var vh=function(t,e,n,r,o){var a=function(n){var r=t.dom.createRange()
r.setStart(e.dom,n)
r.collapse(true)
return r}
var i=function(t){var e=a(t)
return e.getBoundingClientRect()}
var u=co(e).length
var c=lh(i,n,r,o.right,u)
return a(c)}
var dh=function(t,e,n,r){var o=t.dom.createRange()
o.selectNode(e.dom)
var a=o.getClientRects()
var i=Z(a,(function(t){return fh(t,n,r)?m.some(t):m.none()}))
return i.map((function(o){return vh(t,e,n,r,o)}))}
var mh=function(t,e,n,r){var o=t.dom.createRange()
var a=fn(e)
return Z(a,(function(e){o.selectNode(e.dom)
return fh(o.getBoundingClientRect(),n,r)?gh(t,e,n,r):m.none()}))}
var gh=function(t,e,n,r){return Qe(e)?dh(t,e,n,r):mh(t,e,n,r)}
var hh=function(t,e,n,r){var o=t.dom.createRange()
o.selectNode(e.dom)
var a=o.getBoundingClientRect()
var i=Math.max(a.left,Math.min(a.right,n))
var u=Math.max(a.top,Math.min(a.bottom,r))
return gh(t,e,i,u)}
var ph=true
var bh=false
var yh=function(t,e){return e-t.left<t.right-e?ph:bh}
var wh=function(t,e,n){var r=t.dom.createRange()
r.selectNode(e.dom)
r.collapse(n)
return r}
var xh=function(t,e,n){var r=t.dom.createRange()
r.selectNode(e.dom)
var o=r.getBoundingClientRect()
var a=yh(o,n)
var i=a===ph?ta:ea
return i(e).map((function(e){return wh(t,e,a)}))}
var Ch=function(t,e,n){var r=e.dom.getBoundingClientRect()
var o=yh(r,n)
return m.some(wh(t,e,o))}
var Sh=function(t,e,n){var r=0===fn(e).length?Ch:xh
return r(t,e,n)}
var Oh=function(t,e,n){return m.from(t.dom.caretPositionFromPoint(e,n)).bind((function(e){if(null===e.offsetNode)return m.none()
var n=t.dom.createRange()
n.setStart(e.offsetNode,e.offset)
n.collapse()
return m.some(n)}))}
var kh=function(t,e,n){return m.from(t.dom.caretRangeFromPoint(e,n))}
var Th=function(t,e,n,r){var o=t.dom.createRange()
o.selectNode(e.dom)
var a=o.getBoundingClientRect()
var i=Math.max(a.left,Math.min(a.right,n))
var u=Math.max(a.top,Math.min(a.bottom,r))
return hh(t,e,i,u)}
var _h=function(t,e,n){return se.fromPoint(t,e,n).bind((function(r){var o=function(){return Sh(t,r,e)}
return 0===fn(r).length?o():Th(t,r,e,n).orThunk(o)}))}
var zh=document.caretPositionFromPoint?Oh:document.caretRangeFromPoint?kh:_h
var Mh=function(t,e,n){var r=se.fromDom(t.document)
return zh(r,e,n).map((function(t){return Rg.create(se.fromDom(t.startContainer),t.startOffset,se.fromDom(t.endContainer),t.endOffset)}))}
var Eh=function(t,e){var n=Je(t)
return"input"===n?Fg.after(t):A(["br","img"],n)?0===e?Fg.before(t):Fg.after(t):Fg.on(t,e)}
var Dh=function(t,e){var n=t.fold(Fg.before,Eh,Fg.after)
var r=e.fold(Fg.before,Eh,Fg.after)
return $g.relative(n,r)}
var Ah=function(t,e,n,r){var o=Eh(t,e)
var a=Eh(n,r)
return $g.relative(o,a)}
var Rh=function(t){return t.match({domRange:function(t){var e=se.fromDom(t.startContainer)
var n=se.fromDom(t.endContainer)
return Ah(e,t.startOffset,n,t.endOffset)},relative:Dh,exact:Ah})}
var Hh=function(t,e,n,r){var o=nn(t)
var a=o.dom.createRange()
a.setStart(t.dom,e)
a.setEnd(n.dom,r)
return a}
var Bh=function(t,e,n,r){var o=Hh(t,e,n,r)
var a=me(t,n)&&e===r
return o.collapsed&&!a}
var Ih=function(t){return m.from(t.getSelection())}
var Lh=function(t,e){Ih(t).each((function(t){t.removeAllRanges()
t.addRange(e)}))}
var Ph=function(t,e,n,r,o){var a=eh(t,e,n,r,o)
Lh(t,a)}
var Vh=function(t,e,n,r,o,a){e.collapse(n.dom,r)
e.extend(o.dom,a)}
var Fh=function(t,e){return ch(t,e).match({ltr:function(e,n,r,o){Ph(t,e,n,r,o)},rtl:function(e,n,r,o){Ih(t).each((function(a){if(a.setBaseAndExtent)a.setBaseAndExtent(e.dom,n,r.dom,o)
else if(a.extend)try{Vh(t,a,e,n,r,o)}catch(a){Ph(t,r,o,e,n)}else Ph(t,r,o,e,n)}))}})}
var Nh=function(t,e,n,r,o){var a=Ah(e,n,r,o)
Fh(t,a)}
var jh=function(t,e,n){var r=Dh(e,n)
Fh(t,r)}
var Wh=function(t){var e=$g.getWin(t).dom
var n=function(t,n,r,o){return eh(e,t,n,r,o)}
var r=Rh(t)
return ch(e,r).match({ltr:n,rtl:n})}
var Uh=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0)
var n=t.getRangeAt(t.rangeCount-1)
return m.some(Rg.create(se.fromDom(e.startContainer),e.startOffset,se.fromDom(n.endContainer),n.endOffset))}return m.none()}
var qh=function(t){if(null===t.anchorNode||null===t.focusNode)return Uh(t)
var e=se.fromDom(t.anchorNode)
var n=se.fromDom(t.focusNode)
return Bh(e,t.anchorOffset,n,t.focusOffset)?m.some(Rg.create(e,t.anchorOffset,n,t.focusOffset)):Uh(t)}
var Gh=function(t,e){var n=Kg(t,e)
Lh(t,n)}
var Jh=function(t){return Ih(t).filter((function(t){return t.rangeCount>0})).bind(qh)}
var Xh=function(t){return Jh(t).map((function(t){return $g.exact(t.start,t.soffset,t.finish,t.foffset)}))}
var $h=function(t,e){var n=sh(t,e)
return rh(n)}
var Kh=function(t,e,n){return Mh(t,e,n)}
var Yh=function(t){Ih(t).each((function(t){return t.removeAllRanges()}))}
var Qh=tinymce.util.Tools.resolve("tinymce.util.VK")
var Zh=function(t,e,n,r){return rp(t,e,Eg(n),r)}
var tp=function(t,e,n,r){return rp(t,e,Dg(n),r)}
var ep=function(t,e){var n=$g.exact(e,0,e,0)
return Wh(n)}
var np=function(t,e){var n=En(e,"tr")
return Q(n).bind((function(e){return Pn(e,"td,th").map((function(e){return ep(t,e)}))}))}
var rp=function(t,e,n,r){return n.fold(m.none,m.none,(function(e,n){return ta(n).map((function(e){return ep(t,e)}))}),(function(n){return hr(n,e).bind((function(e){var o=Ra(n)
t.undoManager.transact((function(){r.insertRowsAfter(e,o)}))
return np(t,e)}))}))}
var op=["table","li","dl"]
var ap=function(t,e,n){if(t.keyCode===Qh.TAB){var r=Ll(e)
var o=function(t){var e=Je(t)
return me(t,r)||A(op,e)}
var a=e.selection.getRng()
if(a.collapsed){var i=se.fromDom(a.startContainer)
dr(i,o).each((function(r){t.preventDefault()
var a=t.shiftKey?tp:Zh
var i=a(e,o,r,n)
i.each((function(t){e.selection.setRng(t)}))}))}}}
var ip=function(t,e){return{selection:t,kill:e}}
var up={create:ip}
var cp=function(t,e,n,r){return{start:Fg.on(t,e),finish:Fg.on(n,r)}}
var sp={create:cp}
var lp=function(t,e){var n=sh(t,e)
return Rg.create(se.fromDom(n.startContainer),n.startOffset,se.fromDom(n.endContainer),n.endOffset)}
var fp=sp.create
var vp=function(t,e,n,r,o,a,i){return me(n,o)&&r===a?m.none():Vn(n,"td,th",e).bind((function(n){return Vn(o,"td,th",e).bind((function(r){return dp(t,e,n,r,i)}))}))}
var dp=function(t,e,n,r,o){return me(n,r)?m.none():To(n,r,e).bind((function(e){var r=e.boxes.getOr([])
if(r.length>0){o(t,r,e.start,e.finish)
return m.some(up.create(m.some(fp(n,0,n,Ko(n))),true))}return m.none()}))}
var mp=function(t,e,n,r,o){var a=function(t){o.clearBeforeUpdate(n)
o.selectRange(n,t.boxes,t.start,t.finish)
return t.boxes}
return Do(r,t,e,o.firstSelectedSelector,o.lastSelectedSelector).map(a)}
var gp=function(t,e){return{item:t,mode:e}}
var hp=function(t,e,n,r){void 0===r&&(r=pp)
return t.property().parent(e).map((function(t){return gp(t,r)}))}
var pp=function(t,e,n,r){void 0===r&&(r=bp)
return n.sibling(t,e).map((function(t){return gp(t,r)}))}
var bp=function(t,e,n,r){void 0===r&&(r=bp)
var o=t.property().children(e)
var a=n.first(o)
return a.map((function(t){return gp(t,r)}))}
var yp=[{current:hp,next:pp,fallback:m.none()},{current:pp,next:bp,fallback:m.some(hp)},{current:bp,next:bp,fallback:m.some(pp)}]
var wp=function(t,e,n,r,o){void 0===o&&(o=yp)
var a=W(o,(function(t){return t.current===n}))
return a.bind((function(n){return n.current(t,e,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return wp(t,e,n,r)}))}))}))}
var xp=function(){var t=function(t,e){return t.query().prevSibling(e)}
var e=function(t){return t.length>0?m.some(t[t.length-1]):m.none()}
return{sibling:t,first:e}}
var Cp=function(){var t=function(t,e){return t.query().nextSibling(e)}
var e=function(t){return t.length>0?m.some(t[0]):m.none()}
return{sibling:t,first:e}}
var Sp={left:xp,right:Cp}
var Op=function(t,e,n,r,o,a){var i=wp(t,e,r,o)
return i.bind((function(e){return a(e.item)?m.none():n(e.item)?m.some(e.item):Op(t,e.item,n,e.mode,o,a)}))}
var kp=function(t,e,n,r){return Op(t,e,n,pp,Sp.left(),r)}
var Tp=function(t,e,n,r){return Op(t,e,n,pp,Sp.right(),r)}
var _p=function(t){return function(e){return 0===t.property().children(e).length}}
var zp=function(t,e,n){return Ep(t,e,_p(t),n)}
var Mp=function(t,e,n){return Dp(t,e,_p(t),n)}
var Ep=kp
var Dp=Tp
var Ap=vo()
var Rp=function(t,e){return zp(Ap,t,e)}
var Hp=function(t,e){return Mp(Ap,t,e)}
var Bp=function(t,e,n){return Ep(Ap,t,e,n)}
var Ip=function(t,e,n){return Dp(Ap,t,e,n)}
var Lp=function(t,e,n){return An(t,e,n).isSome()}
var Pp=Bo.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])
var Vp=function(t,e,n){var r=t.getRect(e)
var o=t.getRect(n)
return o.right>r.left&&o.left<r.right}
var Fp=function(t){return Vn(t,"tr")}
var Np=function(t,e,n,r,o,a,i){return Vn(r,"td,th",i).bind((function(n){return Vn(e,"td,th",i).map((function(e){return me(n,e)?me(r,n)&&Ko(n)===o?a(e):Pp.none("in same cell"):So(Fp,[n,e]).fold((function(){return Vp(t,e,n)?Pp.success():a(e)}),(function(t){return a(e)}))}))})).getOr(Pp.none("default"))}
var jp=function(t,e,n,r,o){return t.fold(e,n,r,o)}
var Wp=tt(tt({},Pp),{verify:Np,cata:jp})
var Up=function(t,e,n,r){return{parent:t,children:e,element:n,index:r}}
var qp=function(t){return an(t).bind((function(e){var n=fn(e)
return Gp(n,t).map((function(r){return Up(e,n,t,r)}))}))}
var Gp=function(t,e){return U(t,a(me,e))}
var Jp=function(t){return"br"===Je(t)}
var Xp=function(t,e,n){return e(t,n).bind((function(t){return Qe(t)&&0===co(t).trim().length?Xp(t,e,n):m.some(t)}))}
var $p=function(t,e,n){return n.traverse(e).orThunk((function(){return Xp(e,n.gather,t)})).map(n.relative)}
var Kp=function(t,e){return vn(t,e).filter(Jp).orThunk((function(){return vn(t,e-1).filter(Jp)}))}
var Yp=function(t,e,n,r){return Kp(e,n).bind((function(e){return r.traverse(e).fold((function(){return Xp(e,r.gather,t).map(r.relative)}),(function(t){return qp(t).map((function(t){return Fg.on(t.parent,t.index)}))}))}))}
var Qp=function(t,e,n,r){var o=Jp(e)?$p(t,e,r):Yp(t,e,n,r)
return o.map((function(t){return{start:t,finish:t}}))}
var Zp=function(t){return Wp.cata(t,(function(t){return m.none()}),(function(){return m.none()}),(function(t){return m.some(pf(t,0))}),(function(t){return m.some(pf(t,Ko(t)))}))}
var tb=function(t,e){return{left:t.left,top:t.top+e,right:t.right,bottom:t.bottom+e}}
var eb=function(t,e){return{left:t.left,top:t.top-e,right:t.right,bottom:t.bottom-e}}
var nb=function(t,e,n){return{left:t.left+e,top:t.top+n,right:t.right+e,bottom:t.bottom+n}}
var rb=function(t){return t.top}
var ob=function(t){return t.bottom}
var ab=function(t,e,n){if(n>=0&&n<Ko(e))return t.getRangedRect(e,n,e,n+1)
if(n>0)return t.getRangedRect(e,n-1,e,n)
return m.none()}
var ib=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}
var ub=function(t,e){return m.some(t.getRect(e))}
var cb=function(t,e,n){return Ye(e)?ub(t,e).map(ib):Qe(e)?ab(t,e,n).map(ib):m.none()}
var sb=function(t,e){return Ye(e)?ub(t,e).map(ib):Qe(e)?t.getRangedRect(e,0,e,Ko(e)).map(ib):m.none()}
var lb=5
var fb=100
var vb=Bo.generate([{none:[]},{retry:["caret"]}])
var db=function(t,e){return t.left<e.left||Math.abs(e.right-t.left)<1||t.left>e.right}
var mb=function(t,e,n){return Rn(e,Wv).fold(c,(function(e){return sb(t,e).exists((function(t){return db(n,t)}))}))}
var gb=function(t,e,n,r,o){var a=tb(o,lb)
return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?vb.retry(a):n.top===o.bottom?vb.retry(tb(o,1)):mb(t,e,o)?vb.retry(nb(a,lb,0)):vb.none()}
var hb=function(t,e,n,r,o){var a=eb(o,lb)
return Math.abs(n.top-r.top)<1||n.bottom<o.top?vb.retry(a):n.bottom===o.top?vb.retry(eb(o,1)):mb(t,e,o)?vb.retry(nb(a,lb,0)):vb.none()}
var pb={point:rb,adjuster:hb,move:eb,gather:Rp}
var bb={point:ob,adjuster:gb,move:tb,gather:Hp}
var yb=function(t,e,n){return t.elementFromPoint(e,n).filter((function(t){return"table"===Je(t)})).isSome()}
var wb=function(t,e,n,r,o){return xb(t,e,n,e.move(r,lb),o)}
var xb=function(t,e,n,r,o){if(0===o)return m.some(r)
if(yb(t,r.left,e.point(r)))return wb(t,e,n,r,o-1)
return t.situsFromPoint(r.left,e.point(r)).bind((function(a){return a.start.fold(m.none,(function(a){return sb(t,a).bind((function(i){return e.adjuster(t,a,i,n,r).fold(m.none,(function(r){return xb(t,e,n,r,o-1)}))})).orThunk((function(){return m.some(r)}))}),m.none)}))}
var Cb=function(t,e){return t.situsFromPoint(e.left,e.bottom+lb)}
var Sb=function(t,e){return t.situsFromPoint(e.left,e.top-lb)}
var Ob=function(t,e,n){return t.point(e)>n.getInnerHeight()?m.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?m.some(-t.point(e)):m.none()}
var kb=function(t,e,n){var r=t.move(n,lb)
var o=xb(e,t,n,r,fb).getOr(r)
return Ob(t,o,e).fold((function(){return e.situsFromPoint(o.left,t.point(o))}),(function(n){e.scrollBy(0,n)
return e.situsFromPoint(o.left,t.point(o)-n)}))}
var Tb={tryUp:a(kb,pb),tryDown:a(kb,bb),ieTryUp:Sb,ieTryDown:Cb,getJumpSize:r(lb)}
var _b=20
var zb=function(t,e,n){return t.getSelection().bind((function(r){return Qp(e,r.finish,r.foffset,n).fold((function(){return m.some(pf(r.finish,r.foffset))}),(function(o){var a=t.fromSitus(o)
var i=Wp.verify(t,r.finish,r.foffset,a.finish,a.foffset,n.failure,e)
return Zp(i)}))}))}
var Mb=function(t,e,n,r,o,a){if(0===a)return m.none()
return Ab(t,e,n,r,o).bind((function(i){var u=t.fromSitus(i)
var c=Wp.verify(t,n,r,u.finish,u.foffset,o.failure,e)
return Wp.cata(c,(function(){return m.none()}),(function(){return m.some(i)}),(function(i){return me(n,i)&&0===r?Eb(t,n,r,eb,o):Mb(t,e,i,0,o,a-1)}),(function(i){return me(n,i)&&r===Ko(i)?Eb(t,n,r,tb,o):Mb(t,e,i,Ko(i),o,a-1)}))}))}
var Eb=function(t,e,n,r,o){return cb(t,e,n).bind((function(e){return Db(t,o,r(e,Tb.getJumpSize()))}))}
var Db=function(t,e,n){var r=Kt().browser
return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?e.otherRetry(t,n):r.isIE()?e.ieRetry(t,n):m.none()}
var Ab=function(t,e,n,r,o){return cb(t,n,r).bind((function(e){return Db(t,o,e)}))}
var Rb=function(t,e,n){return zb(t,e,n).bind((function(r){return Mb(t,e,r.element,r.offset,n,_b).map(t.fromSitus)}))}
var Hb=function(t,e){return Lp(t,(function(t){return an(t).exists((function(t){return me(t,e)}))}))}
var Bb=function(t,e,n,r,o){return Vn(r,"td,th",e).bind((function(r){return Vn(r,"table",e).bind((function(a){if(!Hb(o,a))return m.none()
return Rb(t,e,n).bind((function(t){return Vn(t.finish,"td,th",e).map((function(e){return{start:r,finish:e,range:t}}))}))}))}))}
var Ib=function(t,e,n,r,o,a){return Kt().browser.isIE()?m.none():a(r,e).orThunk((function(){return Bb(t,e,n,r,o).map((function(t){var e=t.range
return up.create(m.some(fp(e.start,e.soffset,e.finish,e.foffset)),true)}))}))}
var Lb=function(t,e){return Vn(t,"tr",e).bind((function(t){return Vn(t,"table",e).bind((function(n){var r=En(n,"tr")
return me(t,r[0])?Bp(n,(function(t){return ea(t).isSome()}),e).map((function(t){var e=Ko(t)
return up.create(m.some(fp(t,e,t,e)),true)})):m.none()}))}))}
var Pb=function(t,e){return Vn(t,"tr",e).bind((function(t){return Vn(t,"table",e).bind((function(n){var r=En(n,"tr")
return me(t,r[r.length-1])?Ip(n,(function(t){return ta(t).isSome()}),e).map((function(t){return up.create(m.some(fp(t,0,t,0)),true)})):m.none()}))}))}
var Vb=function(t,e,n,r,o,a,i){return Bb(t,n,r,o,a).bind((function(t){return dp(e,n,t.start,t.finish,i)}))}
var Fb=function(){var t=Xl(m.none())
var e=function(){return t.set(m.none())}
var n=function(e){return t.set(m.some(e))}
var r=function(){return t.get().isSome()}
var o=function(e){return t.get().each(e)}
return{clear:e,set:n,isSet:r,on:o}}
var Nb=function(t,e){return Vn(t,"td,th",e)}
function jb(t,e,n,r){var o=Fb()
var a=o.clear
var i=function(t){r.clear(e)
Nb(t.target,n).each(o.set)}
var u=function(a){o.on((function(o){r.clearBeforeUpdate(e)
Nb(a.target,n).each((function(a){To(o,a,n).each((function(n){var i=n.boxes.getOr([])
if(i.length>1||1===i.length&&!me(o,a)){r.selectRange(e,i,n.start,n.finish)
t.selectContents(a)}}))}))}))}
var c=function(t){a()}
return{clearstate:a,mousedown:i,mouseover:u,mouseup:c}}var Wb={traverse:ln,gather:Hp,relative:Fg.before,otherRetry:Tb.tryDown,ieRetry:Tb.ieTryDown,failure:Wp.failedDown}
var Ub={traverse:sn,gather:Rp,relative:Fg.before,otherRetry:Tb.tryUp,ieRetry:Tb.ieTryUp,failure:Wp.failedUp}
var qb=function(t){return function(e){return e===t}}
var Gb=qb(38)
var Jb=qb(40)
var Xb=function(t){return t>=37&&t<=40}
var $b={isBackward:qb(37),isForward:qb(39)}
var Kb={isBackward:qb(39),isForward:qb(37)}
var Yb=function(t){var e=void 0!==t?t.dom:document
var n=e.body.scrollLeft||e.documentElement.scrollLeft
var r=e.body.scrollTop||e.documentElement.scrollTop
return ci(n,r)}
var Qb=function(t,e,n){var r=void 0!==n?n.dom:document
var o=r.defaultView
o&&o.scrollBy(t,e)}
var Zb=function(t){var e=function(e,n){return se.fromPoint(se.fromDom(t.document),e,n)}
var n=function(t){return t.dom.getBoundingClientRect()}
var r=function(e,n,r,o){var a=$g.exact(e,n,r,o)
return $h(t,a)}
var o=function(){return Xh(t).map((function(e){return lp(t,e)}))}
var a=function(e){var n=$g.relative(e.start,e.finish)
return lp(t,n)}
var i=function(e,n){return Kh(t,e,n).map((function(t){return sp.create(t.start,t.soffset,t.finish,t.foffset)}))}
var u=function(){Yh(t)}
var c=function(e){void 0===e&&(e=false)
Xh(t).each((function(n){return n.fold((function(t){return t.collapse(e)}),(function(n,r){var o=e?n:r
jh(t,o,o)}),(function(n,r,o,a){var i=e?n:o
var u=e?r:a
Nh(t,i,u,i,u)}))}))}
var s=function(e){Gh(t,e)}
var l=function(e){Nh(t,e.start,e.soffset,e.finish,e.foffset)}
var f=function(e,n){jh(t,e,n)}
var v=function(){return t.innerHeight}
var d=function(){var e=Yb(se.fromDom(t.document))
return e.top}
var m=function(e,n){Qb(e,n,se.fromDom(t.document))}
return{elementFromPoint:e,getRect:n,getRangedRect:r,getSelection:o,fromSitus:a,situsFromPoint:i,clearSelection:u,collapseSelection:c,setSelection:l,setRelativeSelection:f,selectContents:s,getInnerHeight:v,getScrollY:d,scrollBy:m}}
var ty=function(t,e){return{rows:t,cols:e}}
var ey=function(t,e,n,r){var o=Zb(t)
var a=jb(o,e,n,r)
return{clearstate:a.clearstate,mousedown:a.mousedown,mouseover:a.mouseover,mouseup:a.mouseup}}
var ny=function(t,e,n,r){var o=Zb(t)
var i=function(){r.clear(e)
return m.none()}
var u=function(t,u,c,s,l,f){var v=t.raw
var d=v.which
var g=true===v.shiftKey
var h=_o(e,r.selectedSelector).fold((function(){return Jb(d)&&g?a(Vb,o,e,n,Wb,s,u,r.selectRange):Gb(d)&&g?a(Vb,o,e,n,Ub,s,u,r.selectRange):Jb(d)?a(Ib,o,n,Wb,s,u,Pb):Gb(d)?a(Ib,o,n,Ub,s,u,Lb):m.none}),(function(t){var n=function(n){return function(){var a=Z(n,(function(n){return mp(n.rows,n.cols,e,t,r)}))
return a.fold((function(){return Mo(e,r.firstSelectedSelector,r.lastSelectedSelector).map((function(t){var n=Jb(d)||f.isForward(d)?Fg.after:Fg.before
o.setRelativeSelection(Fg.on(t.first,0),n(t.table))
r.clear(e)
return up.create(m.none(),true)}))}),(function(t){return m.some(up.create(m.none(),true))}))}}
return Jb(d)&&g?n([ty(1,0)]):Gb(d)&&g?n([ty(-1,0)]):f.isBackward(d)&&g?n([ty(0,-1),ty(-1,0)]):f.isForward(d)&&g?n([ty(0,1),ty(1,0)]):Xb(d)&&false===g?i:m.none}))
return h()}
var c=function(t,o,a,i,u){return _o(e,r.selectedSelector).fold((function(){var c=t.raw
var s=c.which
var l=true===c.shiftKey
if(false===l)return m.none()
return Xb(s)?vp(e,n,o,a,i,u,r.selectRange):m.none()}),m.none)}
return{keydown:u,keyup:c}}
var ry=function(t,e,n,r){var o=Zb(t)
return function(t,a){r.clearBeforeUpdate(e)
To(t,a,n).each((function(t){var n=t.boxes.getOr([])
r.selectRange(e,n,t.start,t.finish)
o.selectContents(a)
o.collapseSelection()}))}}
var oy=function(t,e){I(e,(function(e){vs(t,e)}))}
var ay=function(t){return function(e){ls(e,t)}}
var iy=function(t){return function(e){oy(e,t)}}
var uy=function(t){var e=ay(t.selected)
var n=iy([t.selected,t.lastSelected,t.firstSelected])
var r=function(e){var r=En(e,t.selectedSelector)
I(r,n)}
var o=function(n,o,a,i){r(n)
I(o,e)
ls(a,t.firstSelected)
ls(i,t.lastSelected)}
return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}}
var cy=function(t,e,n){var r=function(e){qn(e,t.selected)
qn(e,t.firstSelected)
qn(e,t.lastSelected)}
var o=function(e){Nn(e,t.selected,"1")}
var a=function(t){i(t)
n()}
var i=function(e){var n=En(e,t.selectedSelector)
I(n,r)}
var u=function(n,r,i,u){a(n)
I(r,o)
Nn(i,t.firstSelected,"1")
Nn(u,t.lastSelected,"1")
e(r,i,u)}
return{clearBeforeUpdate:i,clear:a,selectRange:u,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}}
var sy={byClass:uy,byAttr:cy}
var ly=function(t,e,n){var r=t.slice(0,e[e.length-1].row+1)
var o=Gf(r,n)
return G(o,(function(t){var n=t.cells.slice(0,e[e.length-1].column+1)
return B(n,(function(t){return t.element}))}))}
var fy=function(t,e,n){var r=t.slice(e[0].row+e[0].rowspan-1,t.length)
var o=Gf(r,n)
return G(o,(function(t){var n=t.cells.slice(e[0].column+e[0].colspan-1,t.cells.length)
return B(n,(function(t){return t.element}))}))}
var vy=function(t,e,n){var r=Hr.fromTable(t)
var o=tv(r,e)
return o.map((function(t){var e=Wf(r,n,false)
var o=ly(e,t,n)
var a=fy(e,t,n)
return{upOrLeftCells:o,downOrRightCells:a}}))}
var dy=function(t){return false===ds(se.fromDom(t.target),"ephox-snooker-resizer-bar")}
function my(e,n,r){var o=function(n,o,a){r.targets().each((function(r){var i=hr(o)
i.each((function(i){var u=Hl(e)
var c=pa(t,se.fromDom(e.getDoc()),u)
var s=vy(i,r,c)
rl(e,n,o,a,s)}))}))}
var a=function(){return ol(e)}
var i=sy.byAttr(Aa,o,a)
e.on("init",(function(r){var o=e.getWin()
var a=Ll(e)
var u=Fl(e)
var c=function(){var n=e.selection
var r=se.fromDom(n.getStart())
var o=se.fromDom(n.getEnd())
var u=So(hr,[r,o])
u.fold((function(){return i.clear(a)}),t)}
var s=ey(o,a,u,i)
var l=ny(o,a,u,i)
var f=ry(o,a,u,i)
var v=function(t){return true===t.raw.shiftKey}
e.on("TableSelectorChange",(function(t){return f(t.start,t.finish)}))
var d=function(t,n){if(!v(t))return
n.kill&&t.kill()
n.selection.each((function(t){var n=$g.relative(t.start,t.finish)
var r=sh(o,n)
e.selection.setRng(r)}))}
var m=function(t){var n=ns(t)
if(n.raw.shiftKey&&Xb(n.raw.which)){var r=e.selection.getRng()
var o=se.fromDom(r.startContainer)
var a=se.fromDom(r.endContainer)
l.keyup(n,o,r.startOffset,a,r.endOffset).each((function(t){d(n,t)}))}}
var g=function(t){var r=ns(t)
n().each((function(t){return t.hideBars()}))
var o=e.selection.getRng()
var a=se.fromDom(o.startContainer)
var i=se.fromDom(o.endContainer)
var u=ni($b,Kb)(se.fromDom(e.selection.getStart()))
l.keydown(r,a,o.startOffset,i,o.endOffset,u).each((function(t){d(r,t)}))
n().each((function(t){return t.showBars()}))}
var h=function(t){return 0===t.button}
var p=function(t){if(void 0===t.buttons)return true
if(dg.browser.isEdge()&&0===t.buttons)return true
return 0!==(1&t.buttons)}
var b=function(t){s.clearstate()}
var y=function(t){h(t)&&dy(t)&&s.mousedown(ns(t))}
var w=function(t){p(t)&&dy(t)&&s.mouseover(ns(t))}
var x=function(t){h(t)&&dy(t)&&s.mouseup(ns(t))}
var C=function(){var t=Xl(se.fromDom(a))
var e=Xl(0)
var n=function(n){var r=se.fromDom(n.target)
if("td"===Je(r)||"th"===Je(r)){var o=t.get()
var a=e.get()
if(me(o,r)&&n.timeStamp-a<300){n.preventDefault()
f(r,r)}}t.set(r)
e.set(n.timeStamp)}
return{touchEnd:n}}
var S=C()
e.on("dragstart",b)
e.on("mousedown",y)
e.on("mouseover",w)
e.on("mouseup",x)
e.on("touchend",S.touchEnd)
e.on("keyup",m)
e.on("keydown",g)
e.on("NodeChange",c)}))
return{clear:i.clear}}var gy=function(t,e){var n=Xl(m.none())
var r=Xl([])
var o=function(){return Zd(Jl(t)).bind((function(t){var n=hr(t)
var r=function(t){return"caption"===Je(t)}
return n.map((function(n){return r(t)?Ra(t):Ha(e,n,t)}))}))}
var a=function(){n.set(nt(o)())
I(r.get(),(function(t){return t()}))}
var i=function(t,e){var o=function(){return n.get().fold((function(){t.setDisabled(true)}),(function(n){t.setDisabled(e(n))}))}
o()
r.set(r.get().concat([o]))
return function(){r.set(V(r.get(),(function(t){return t!==o})))}}
var u=function(t){return i(t,(function(t){return false}))}
var c=function(t){return i(t,(function(t){return"caption"===Je(t.element)}))}
var s=function(t){return function(e){return i(e,(function(e){return"caption"===Je(e.element)||t().isNone()}))}}
var l=function(t){return i(t,(function(t){return t.mergable.isNone()}))}
var f=function(t){return i(t,(function(t){return t.unmergable.isNone()}))}
t.on("NodeChange ExecCommand TableSelectorChange",a)
return{onSetupTable:u,onSetupCellOrRow:c,onSetupPasteable:s,onSetupMergeable:l,onSetupUnmergeable:f,resetTargets:a,targets:function(){return n.get()}}}
var hy=function(t,e,n){t.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(t){return t("inserttable | cell row column | advtablesort | tableprops deletetable")}})
var r=function(e){return function(){return t.execCommand(e)}}
t.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:e.onSetupTable})
t.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:e.onSetupTable})
t.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:e.onSetupMergeable})
t.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:e.onSetupUnmergeable})
t.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)})
t.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)})
t.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteable(n.getColumns)})
t.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteable(n.getColumns)})
t.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})}
var py=function(t){var e=function(e){return t.dom.is(e,"table")&&t.getBody().contains(e)}
var n=Ml(t)
n.length>0&&t.ui.registry.addContextToolbar("table",{predicate:e,items:n,scope:"node",position:"node"})}
var by=function(t,e,n){var r=function(e){return function(){return t.execCommand(e)}}
var o=function(e){t.execCommand("mceInsertTable",false,{rows:e.numRows,columns:e.numColumns})}
var a={text:"Table properties",onSetup:e.onSetupTable,onAction:r("mceTableProps")}
var i={text:"Delete table",icon:"table-delete-table",onSetup:e.onSetupTable,onAction:r("mceTableDelete")}
t.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)})
t.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)})
var u={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}}
t.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteable(n.getColumns)})
t.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteable(n.getColumns)})
var c={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}}
t.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:e.onSetupMergeable})
t.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:e.onSetupUnmergeable})
var s={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}}
false===xl(t)?t.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):t.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}})
t.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")})
t.ui.registry.addMenuItem("tableprops",a)
t.ui.registry.addMenuItem("deletetable",i)
t.ui.registry.addNestedMenuItem("row",u)
t.ui.registry.addNestedMenuItem("column",c)
t.ui.registry.addNestedMenuItem("cell",s)
t.ui.registry.addContextMenu("table",{update:function(){e.resetTargets()
return e.targets().fold((function(){return""}),(function(t){return"caption"===Je(t.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})}
function yy(t){var e=No((function(){return Ll(t)}),(function(){return Zd(Jl(t))}),Aa.selectedSelector)
var n=gy(t,e)
var r=hf(t)
var o=my(t,r.lazyResize,n)
var a=nm(t,r.lazyWire,e)
var i=Sg()
xg(t,a,o,e,i)
Cg(t,a,e)
Fa(t,e,a,o)
by(t,n,i)
hy(t,n,i)
py(t)
t.on("PreInit",(function(){t.serializer.addTempAttr(Aa.firstSelected)
t.serializer.addTempAttr(Aa.lastSelected)
kg(t)}))
hl(t)&&t.on("keydown",(function(e){ap(e,t,a)}))
t.on("remove",(function(){r.destroy()}))
return Cm(t,i,r,n)}function wy(){jo.add("table",yy)}wy()})()},YTLx:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.util.VK")
var n=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var r=function(t){return function(e){return n(e)===t}}
var o=function(t){return function(e){return typeof e===t}}
var a=function(t){return function(e){return t===e}}
var i=r("string")
var u=r("array")
var c=a(null)
var s=o("boolean")
var l=o("function")
var f=function(t){var e=t.getParam("link_assume_external_targets",false)
if(s(e)&&e)return 1
if(i(e)&&("http"===e||"https"===e))return e
return 0}
var v=function(t){return t.getParam("link_context_toolbar",false,"boolean")}
var d=function(t){return t.getParam("link_list")}
var m=function(t){return t.getParam("default_link_target")}
var g=function(t){return t.getParam("target_list",true)}
var h=function(t){return t.getParam("rel_list",[],"array")}
var p=function(t){return t.getParam("link_class_list",[],"array")}
var b=function(t){return t.getParam("link_title",true,"boolean")}
var y=function(t){return t.getParam("allow_unsafe_link_target",false,"boolean")}
var w=function(t){return t.getParam("link_quicklink",false,"boolean")}
var x=function(t){return t.getParam("link_default_protocol","http","string")}
var C=function(){}
var S=function(t){return function(){return t}}
var O=S(false)
var k=S(true)
var T=function(){return _}
var _=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:O,isSome:O,isNone:k,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:n,orThunk:e,map:T,each:C,bind:T,exists:O,forall:k,filter:T,equals:t,equals_:t,toArray:function(){return[]},toString:S("none()")}
return r}()
var z=function(t){var e=S(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:k,isNone:O,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return z(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:_},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(O,(function(e){return n(t,e)}))}}
return o}
var M=function(t){return null===t||void 0===t?_:z(t)}
var E={some:z,none:T,from:M}
var D=Array.prototype.indexOf
var A=Array.prototype.push
var R=function(t,e){return D.call(t,e)}
var H=function(t,e){return R(t,e)>-1}
var B=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var I=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var L=function(t,e,n){I(t,(function(t){n=e(n,t)}))
return n}
var P=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!u(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
A.apply(e,t[n])}return e}
var V=function(t,e){return P(B(t,e))}
var F=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n)
if(r.isSome())return r}return E.none()}
var N=function(t){var e=[]
var n=function(t){e.push(t)}
for(var r=0;r<t.length;r++)t[r].each(n)
return e}
var j=function(t,e){return t?E.some(e):E.none()}
var W=tinymce.util.Tools.resolve("tinymce.util.Tools")
var U=function(t){return i(t.value)?t.value:""}
var q=function(t){return i(t.text)?t.text:i(t.title)?t.title:""}
var G=function(t,e){var n=[]
W.each(t,(function(t){var r=q(t)
if(void 0!==t.menu){var o=G(t.menu,e)
n.push({text:r,items:o})}else{var a=e(t)
n.push({text:r,value:a})}}))
return n}
var J=function(t){void 0===t&&(t=U)
return function(e){return E.from(e).map((function(e){return G(e,t)}))}}
var X=function(t){return J(U)(t)}
var $=function(t,e){return function(n){return{name:t,type:"listbox",label:e,items:n}}}
var K={sanitize:X,sanitizeWith:J,createUi:$,getValue:U}
var Y=function(){Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return Y.apply(this,arguments)}
var Q=Object.keys
var Z=Object.hasOwnProperty
var tt=function(t,e){var n=Q(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var et=function(t){return function(e,n){t[n]=e}}
var nt=function(t,e,n,r){var o={}
tt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var rt=function(t,e){var n={}
nt(t,e,et(n),C)
return n}
var ot=function(t,e){return Z.call(t,e)}
var at=function(t,e){return ot(t,e)&&void 0!==t[e]&&null!==t[e]}
var it=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var ut=function(t){return t&&"a"===t.nodeName.toLowerCase()}
var ct=function(t){return ut(t)&&!!ft(t)}
var st=function(t,e){if(t.collapsed)return[]
var n=t.cloneContents()
var r=new it(n.firstChild,n)
var o=[]
var a=n.firstChild
do{e(a)&&o.push(a)}while(a=r.next())
return o}
var lt=function(t){return/^\w+:/i.test(t)}
var ft=function(t){var e=t.getAttribute("data-mce-href")
return e||t.getAttribute("href")}
var vt=function(t,e){var n=["noopener"]
var r=t?t.split(/\s+/):[]
var o=function(t){return W.trim(t.sort().join(" "))}
var a=function(t){t=i(t)
return t.length>0?t.concat(n):n}
var i=function(t){return t.filter((function(t){return-1===W.inArray(n,t)}))}
var u=e?a(r):i(r)
return u.length>0?o(u):""}
var dt=function(t){return t.replace(/\uFEFF/g,"")}
var mt=function(t,e){e=e||t.selection.getNode()
return yt(e)?t.dom.select("a[href]",e)[0]:t.dom.getParent(e,"a[href]")}
var gt=function(t,e){var n=e?e.innerText||e.textContent:t.getContent({format:"text"})
return dt(n)}
var ht=function(t){return W.grep(t,ct).length>0}
var pt=function(t){return st(t,ct).length>0}
var bt=function(t){var e=t.schema.getTextInlineElements()
var n=function(t){return 1===t.nodeType&&!ut(t)&&!ot(e,t.nodeName.toLowerCase())}
var r=st(t.selection.getRng(),n)
return 0===r.length}
var yt=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)}
var wt=function(t){return L(["title","rel","class","target"],(function(e,n){t[n].each((function(t){e[n]=t.length>0?t:null}))
return e}),{href:t.href})}
var xt=function(t,e){if(("http"===e||"https"===e)&&!lt(t))return e+"://"+t
return t}
var Ct=function(t,e){var n=Y({},e)
if(!(h(t).length>0)&&false===y(t)){var r=vt(n.rel,"_blank"===n.target)
n.rel=r||null}E.from(n.target).isNone()&&false===g(t)&&(n.target=m(t))
n.href=xt(n.href,f(t))
return n}
var St=function(t,e,n,r){n.each((function(t){e.hasOwnProperty("innerText")?e.innerText=t:e.textContent=t}))
t.dom.setAttribs(e,r)
t.selection.select(e)}
var Ot=function(t,e,n,r){yt(e)?At(t,e,r):n.fold((function(){t.execCommand("mceInsertLink",false,r)}),(function(e){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(e)))}))}
var kt=function(t,e,n){var r=t.selection.getNode()
var o=mt(t,r)
var a=Ct(t,wt(n))
t.undoManager.transact((function(){n.href===e.href&&e.attach()
if(o){t.focus()
St(t,o,n.text,a)}else Ot(t,r,n.text,a)}))}
var Tt=function(t){var e=t.dom,n=t.selection
var r=n.getBookmark()
var o=n.getRng().cloneRange()
var a=e.getParent(o.startContainer,"a[href]",t.getBody())
var i=e.getParent(o.endContainer,"a[href]",t.getBody())
a&&o.setStartBefore(a)
i&&o.setEndAfter(i)
n.setRng(o)
t.execCommand("unlink")
n.moveToBookmark(r)}
var _t=function(t){t.undoManager.transact((function(){var e=t.selection.getNode()
yt(e)?Dt(t,e):Tt(t)
t.focus()}))}
var zt=function(t){var e=t.class,n=t.href,r=t.rel,o=t.target,a=t.text,i=t.title
return rt({class:e.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:a.getOrNull(),title:i.getOrNull()},(function(t,e){return false===c(t)}))}
var Mt=function(t,e,n){t.hasPlugin("rtc",true)?t.execCommand("createlink",false,zt(n)):kt(t,e,n)}
var Et=function(t){t.hasPlugin("rtc",true)?t.execCommand("unlink"):_t(t)}
var Dt=function(t,e){var n=t.dom.select("img",e)[0]
if(n){var r=t.dom.getParents(n,"a[href]",e)[0]
if(r){r.parentNode.insertBefore(n,r)
t.dom.remove(r)}}}
var At=function(t,e,n){var r=t.dom.select("img",e)[0]
if(r){var o=t.dom.create("a",n)
r.parentNode.insertBefore(o,r)
o.appendChild(r)}}
var Rt=function(t){return at(t,"items")}
var Ht=function(t,e){return F(e,(function(e){return Rt(e)?Ht(t,e.items):j(e.value===t,e)}))}
var Bt=function(t,e,n,r){var o=r[e]
var a=t.length>0
return void 0!==o?Ht(o,n).map((function(e){return{url:{value:e.value,meta:{text:a?t:e.text,attach:C}},text:a?t:e.text}})):E.none()}
var It=function(t,e){return"link"===e?t.link:"anchor"===e?t.anchor:E.none()}
var Lt=function(t,e){var n={text:t.text,title:t.title}
var r=function(t){return j(n.title.length<=0,E.from(t.meta.title).getOr(""))}
var o=function(t){return j(n.text.length<=0,E.from(t.meta.text).getOr(t.value))}
var a=function(t){var e=o(t.url)
var n=r(t.url)
return e.isSome()||n.isSome()?E.some(Y(Y({},e.map((function(t){return{text:t}})).getOr({})),n.map((function(t){return{title:t}})).getOr({}))):E.none()}
var i=function(t,r){var o=It(e,r.name).getOr([])
return Bt(n.text,r.name,o,t)}
var u=function(t,e){var r=e.name
if("url"===r)return a(t())
if(H(["anchor","link"],r))return i(t(),e)
if("text"===r||"title"===r){n[r]=t()[r]
return E.none()}return E.none()}
return{onChange:u}}
var Pt={init:Lt,getDelta:Bt}
var Vt=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Ft=tinymce.util.Tools.resolve("tinymce.util.Promise")
var Nt=function(t,e,n){var r=t.selection.getRng()
Vt.setEditorTimeout(t,(function(){t.windowManager.confirm(e,(function(e){t.selection.setRng(r)
n(e)}))}))}
var jt=function(t){var e=t.href
var n=e.indexOf("@")>0&&-1===e.indexOf("/")&&-1===e.indexOf("mailto:")
return n?E.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return Y(Y({},t),{href:"mailto:"+e})}}):E.none()}
var Wt=function(t,e){return function(n){var r=n.href
var o=1===t&&!lt(r)||0===t&&/^\s*www(\.|\d\.)/i.test(r)
return o?E.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+e+":// prefix?",preprocess:function(t){return Y(Y({},t),{href:e+"://"+r})}}):E.none()}}
var Ut=function(t,e){return F([jt,Wt(f(t),x(t))],(function(t){return t(e)})).fold((function(){return Ft.resolve(e)}),(function(n){return new Ft((function(r){Nt(t,n.message,(function(t){r(t?n.preprocess(e):e)}))}))}))}
var qt={preprocess:Ut}
var Gt=function(t){var e=t.dom.select("a:not([href])")
var n=V(e,(function(t){var e=t.name||t.id
return e?[{text:e,value:"#"+e}]:[]}))
return n.length>0?E.some([{text:"None",value:""}].concat(n)):E.none()}
var Jt={getAnchors:Gt}
var Xt=function(t){var e=p(t)
if(e.length>0)return K.sanitize(e)
return E.none()}
var $t={getClasses:Xt}
var Kt=tinymce.util.Tools.resolve("tinymce.util.XHR")
var Yt=function(t){try{return E.some(JSON.parse(t))}catch(t){return E.none()}}
var Qt=function(t){var e=function(e){return t.convertURL(e.value||e.url,"href")}
var n=d(t)
return new Ft((function(t){i(n)?Kt.send({url:n,success:function(e){return t(Yt(e))},error:function(e){return t(E.none())}}):l(n)?n((function(e){return t(E.some(e))})):t(E.from(n))})).then((function(t){return t.bind(K.sanitizeWith(e)).map((function(t){if(t.length>0){var e=[{text:"None",value:""}]
return e.concat(t)}return t}))}))}
var Zt={getLinks:Qt}
var te=function(t,e){var n=h(t)
if(n.length>0){var r=e.is("_blank")
var o=false===y(t)
var a=function(t){return vt(K.getValue(t),r)}
var i=o?K.sanitizeWith(a):K.sanitize
return i(n)}return E.none()}
var ee={getRels:te}
var ne=[{text:"Current window",value:""},{text:"New window",value:"_blank"}]
var re=function(t){var e=g(t)
if(u(e))return K.sanitize(e).orThunk((function(){return E.some(ne)}))
if(false===e)return E.none()
return E.some(ne)}
var oe={getTargets:re}
var ae=function(t,e,n){var r=t.getAttrib(e,n)
return null!==r&&r.length>0?E.some(r):E.none()}
var ie=function(t,e){var n=t.dom
var r=bt(t)
var o=r?E.some(gt(t.selection,e)):E.none()
var a=e?E.some(n.getAttrib(e,"href")):E.none()
var i=e?E.from(n.getAttrib(e,"target")):E.none()
var u=ae(n,e,"rel")
var c=ae(n,e,"class")
var s=ae(n,e,"title")
return{url:a,text:o,title:s,target:i,rel:u,linkClass:c}}
var ue=function(t,e){return Zt.getLinks(t).then((function(n){var r=ie(t,e)
return{anchor:r,catalogs:{targets:oe.getTargets(t),rels:ee.getRels(t,r.target),classes:$t.getClasses(t),anchor:Jt.getAnchors(t),link:n},optNode:E.from(e),flags:{titleEnabled:b(t)}}}))}
var ce={collect:ue}
var se=function(t,e){return function(n){var r=n.getData()
if(!r.url.value){Et(t)
n.close()
return}var o=function(t){return E.from(r[t]).filter((function(n){return!e.anchor[t].is(n)}))}
var a={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")}
var i={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:function(){}}
qt.preprocess(t,a).then((function(e){Mt(t,i,e)}))
n.close()}}
var le=function(t){var e=mt(t)
return ce.collect(t,e)}
var fe=function(t,e){var n=t.anchor
var r=n.url.getOr("")
return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(e).getOr(""),linkClass:n.linkClass.getOr("")}}
var ve=function(t,e,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}]
var o=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray()
var a=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[]
var i=E.from(m(n))
var u=fe(t,i)
var c=t.catalogs
var s=Pt.init(u,c)
var l={type:"panel",items:P([r,o,a,N([c.anchor.map(K.createUi("anchor","Anchors")),c.rels.map(K.createUi("rel","Rel")),c.targets.map(K.createUi("target","Open link in...")),c.link.map(K.createUi("link","Link list")),c.classes.map(K.createUi("linkClass","Class"))])])}
return{title:"Insert/Edit Link",size:"normal",body:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:u,onChange:function(t,e){var n=e.name
s.onChange(t.getData,{name:n}).each((function(e){t.setData(e)}))},onSubmit:e}}
var de=function(t){var e=le(t)
e.then((function(e){var n=se(t,e)
return ve(e,n,t)})).then((function(e){t.windowManager.open(e)}))}
var me=function(t,e){document.body.appendChild(t)
t.dispatchEvent(e)
document.body.removeChild(t)}
var ge=function(t){var e=document.createElement("a")
e.target="_blank"
e.href=t
e.rel="noreferrer noopener"
var n=document.createEvent("MouseEvents")
n.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null)
me(e,n)}
var he=function(t,e){return t.dom.getParent(e,"a[href]")}
var pe=function(t){return he(t,t.selection.getStart())}
var be=function(t){return true===t.altKey&&false===t.shiftKey&&false===t.ctrlKey&&false===t.metaKey}
var ye=function(t,e){if(e){var n=ft(e)
if(/^#/.test(n)){var r=t.$(n)
r.length&&t.selection.scrollIntoView(r[0],true)}else ge(e.href)}}
var we=function(t){return function(){de(t)}}
var xe=function(t){return function(){ye(t,pe(t))}}
var Ce=function(t){t.on("click",(function(n){var r=he(t,n.target)
if(r&&e.metaKeyPressed(n)){n.preventDefault()
ye(t,r)}}))
t.on("keydown",(function(e){var n=pe(t)
if(n&&13===e.keyCode&&be(e)){e.preventDefault()
ye(t,n)}}))}
var Se=function(t,e){t.on("NodeChange",e)
return function(){return t.off("NodeChange",e)}}
var Oe=function(t){return function(e){return Se(t,(function(){e.setActive(!t.mode.isReadOnly()&&null!==mt(t,t.selection.getNode()))}))}}
var ke=function(t){return function(e){var n=function(){return e.setDisabled(null===mt(t,t.selection.getNode()))}
n()
return Se(t,n)}}
var Te=function(t){return function(e){var n=function(e){return ht(e)||pt(t.selection.getRng())}
var r=t.dom.getParents(t.selection.getStart())
e.setDisabled(!n(r))
return Se(t,(function(t){return e.setDisabled(!n(t.parents))}))}}
var _e=function(t){t.addCommand("mceLink",(function(){w(t)?t.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):we(t)()}))}
var ze=function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))}
var Me=function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:we(t),onSetup:Oe(t)})
t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:xe(t),onSetup:ke(t)})
t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Et(t)},onSetup:Te(t)})}
var Ee=function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:xe(t),onSetup:ke(t)})
t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:we(t)})
t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Et(t)},onSetup:Te(t)})}
var De=function(t){var e="link unlink openlink"
var n="link"
t.ui.registry.addContextMenu("link",{update:function(r){return ht(t.dom.getParents(r,"a"))?e:n}})}
var Ae=function(t){var e=function(t){t.selection.collapse(false)}
var n=function(e){var n=t.selection.getNode()
e.setDisabled(!mt(t,n))
return function(){}}
t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Oe(t)},label:"Link",predicate:function(e){return!!mt(t,e)&&v(t)},initValue:function(){var e=mt(t)
return!e?"":ft(e)},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:true,onSetup:function(e){var n=t.selection.getNode()
e.setActive(!!mt(t,n))
return Oe(t)(e)},onAction:function(n){var r=mt(t)
var o=n.getValue()
if(r)t.undoManager.transact((function(){t.dom.setAttrib(r,"href",o)
e(t)
n.hide()}))
else{var a={href:o,attach:function(){}}
var i=bt(t)
var u=i?E.some(gt(t.selection,r)).filter((function(t){return t.length>0})).or(E.from(o)):E.none()
Mt(t,a,{href:o,text:u,title:E.none(),rel:E.none(),target:E.none(),class:E.none()})
n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(e){Et(t)
e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(e){xe(t)()
e.hide()}}]})}
function Re(){t.add("link",(function(t){Me(t)
Ee(t)
De(t)
Ae(t)
Ce(t)
_e(t)
ze(t)}))}Re()})()},"a+My":function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(t){t.addCommand("InsertHorizontalRule",(function(){t.execCommand("mceInsertContent",false,"<hr />")}))}
var n=function(t){t.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}})
t.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}})}
function r(){t.add("hr",(function(t){e(t)
n(t)}))}r()})()},dKDz:function(t,e,n){"use strict"
var r=/["'&<>]/
t.exports=o
function o(t){var e=""+t
var n=r.exec(e)
if(!n)return e
var o
var a=""
var i=0
var u=0
for(i=n.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:o="&quot;"
break
case 38:o="&amp;"
break
case 39:o="&#39;"
break
case 60:o="&lt;"
break
case 62:o="&gt;"
break
default:continue}u!==i&&(a+=e.substring(u,i))
u=i+1
a+=o}return u!==i?a+e.substring(u,i):a}},eYD6:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(){e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return e.apply(this,arguments)}
var n=function(){}
var r=function(t){return function(){return t}}
var o=r(false)
var a=r(true)
var i=function(){return u}
var u=(c=function(t){return t.isNone()},s=function(t){return t()},l=function(t){return t},f={fold:function(t,e){return t()},is:o,isSome:o,isNone:a,getOr:l,getOrThunk:s,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:l,orThunk:s,map:i,each:n,bind:i,exists:o,forall:a,filter:i,equals:c,equals_:c,toArray:function(){return[]},toString:r("none()")},f)
var c,s,l,f
var v=function(t){var e=r(t)
var n=function(){return c}
var i=function(e){return e(t)}
var c={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:a,isNone:o,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return v(e(t))},each:function(e){e(t)},bind:i,exists:i,forall:i,filter:function(e){return e(t)?c:u},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(o,(function(e){return n(t,e)}))}}
return c}
var d=function(t){return null===t||void 0===t?u:v(t)}
var m={some:v,none:i,from:d}
var g=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var h=function(t){return function(e){return g(e)===t}}
var p=h("string")
var b=h("object")
var y=h("array")
var w=Array.prototype.push
var x=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var C=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!y(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
w.apply(e,t[n])}return e}
var S=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var O=Object.keys
var k=Object.hasOwnProperty
var T=function(t,e){var n=O(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var _=function(t,e){return z(t,e)?m.from(t[e]):m.none()}
var z=function(t,e){return k.call(t,e)}
var M=function(t){return t.getParam("media_scripts")}
var E=function(t){return t.getParam("audio_template_callback")}
var D=function(t){return t.getParam("video_template_callback")}
var A=function(t){return t.getParam("media_live_embeds",true)}
var R=function(t){return t.getParam("media_filter_html",true)}
var H=function(t){return t.getParam("media_url_resolver")}
var B=function(t){return t.getParam("media_alt_source",true)}
var I=function(t){return t.getParam("media_poster",true)}
var L=function(t){return t.getParam("media_dimensions",true)}
var P=tinymce.util.Tools.resolve("tinymce.util.Tools")
var V=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var F=tinymce.util.Tools.resolve("tinymce.html.SaxParser")
var N=function(t,e){if(t)for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n].filter))return t[n]}
var j=V.DOM
var W=function(t){return t.replace(/px$/,"")}
var U=function(t){var e=t.map.style
var n=e?j.parseStyle(e):{}
return{type:"ephox-embed-iri",source:t.map["data-ephox-embed-iri"],altsource:"",poster:"",width:_(n,"max-width").map(W).getOr(""),height:_(n,"max-height").map(W).getOr("")}}
var q=function(t,e){var n=S(false)
var r={}
F({validate:false,allow_conditional_comments:true,start:function(e,o){if(n.get());else if(z(o.map,"data-ephox-embed-iri")){n.set(true)
r=U(o)}else{r.source||"param"!==e||(r.source=o.map.movie)
if("iframe"===e||"object"===e||"embed"===e||"video"===e||"audio"===e){r.type||(r.type=e)
r=P.extend(o.map,r)}if("script"===e){var a=N(t,o.map.src)
if(!a)return
r={type:"script",source:o.map.src,width:String(a.width),height:String(a.height)}}"source"===e&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src)
"img"!==e||r.poster||(r.poster=o.map.src)}}}).parse(e)
r.source=r.source||r.src||r.data
r.altsource=r.altsource||""
r.poster=r.poster||""
return r}
var G=function(t){var e={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}
var n=t.toLowerCase().split(".").pop()
var r=e[n]
return r||""}
var J=tinymce.util.Tools.resolve("tinymce.html.Schema")
var X=tinymce.util.Tools.resolve("tinymce.html.Writer")
var $=V.DOM
var K=function(t){return/^[0-9.]+$/.test(t)?t+"px":t}
var Y=function(t,e){T(e,(function(e,n){var r=""+e
if(t.map[n]){var o=t.length
while(o--){var a=t[o]
if(a.name===n)if(r){t.map[n]=r
a.value=r}else{delete t.map[n]
t.splice(o,1)}}}else if(r){t.push({name:n,value:r})
t.map[n]=r}}))}
var Q=function(t,e){var n=e.map.style
var r=n?$.parseStyle(n):{}
r["max-width"]=K(t.width)
r["max-height"]=K(t.height)
Y(e,{style:$.serializeStyle(r)})}
var Z=["source","altsource"]
var tt=function(t,e,n){var r=X()
var o=S(false)
var a=0
var i
F({validate:false,allow_conditional_comments:true,comment:function(t){r.comment(t)},cdata:function(t){r.cdata(t)},text:function(t,e){r.text(t,e)},start:function(t,u,c){if(o.get());else if(z(u.map,"data-ephox-embed-iri")){o.set(true)
Q(e,u)}else{switch(t){case"video":case"object":case"embed":case"img":case"iframe":void 0!==e.height&&void 0!==e.width&&Y(u,{width:e.width,height:e.height})}if(n)switch(t){case"video":Y(u,{poster:e.poster,src:""})
e.altsource&&Y(u,{src:""})
break
case"iframe":Y(u,{src:e.source})
break
case"source":if(a<2){Y(u,{src:e[Z[a]],type:e[Z[a]+"mime"]})
if(!e[Z[a]])return}a++
break
case"img":if(!e.poster)return
i=true}}r.start(t,u,c)},end:function(t){if(!o.get()){if("video"===t&&n)for(var u=0;u<2;u++)if(e[Z[u]]){var c=[]
c.map={}
if(a<=u){Y(c,{src:e[Z[u]],type:e[Z[u]+"mime"]})
r.start("source",c,true)}}if(e.poster&&"object"===t&&n&&!i){var s=[]
s.map={}
Y(s,{src:e.poster,width:e.width,height:e.height})
r.start("img",s,true)}}r.end(t)}},J({})).parse(t)
return r.getContent()}
var et=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:true},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:true},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:true},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:true},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:true},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:false},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:true},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:true}]
var nt=function(t){var e=t.match(/^(https?:\/\/|www\.)(.+)$/i)
return e&&e.length>1?"www."===e[1]?"https://":e[1]:"https://"}
var rt=function(t,e){var n=nt(e)
var r=t.regex.exec(e)
var o=n+t.url
var a=function(t){o=o.replace("$"+t,(function(){return r[t]?r[t]:""}))}
for(var i=0;i<r.length;i++)a(i)
return o.replace(/\?$/,"")}
var ot=function(t){var e=et.filter((function(e){return e.regex.test(t)}))
return e.length>0?P.extend({},e[0],{url:rt(e[0],t)}):null}
var at=function(t){var e=t.allowFullscreen?' allowFullscreen="1"':""
return'<iframe src="'+t.source+'" width="'+t.width+'" height="'+t.height+'"'+e+"></iframe>"}
var it=function(t){var e='<object data="'+t.source+'" width="'+t.width+'" height="'+t.height+'" type="application/x-shockwave-flash">'
t.poster&&(e+='<img src="'+t.poster+'" width="'+t.width+'" height="'+t.height+'" />')
e+="</object>"
return e}
var ut=function(t,e){return e?e(t):'<audio controls="controls" src="'+t.source+'">'+(t.altsource?'\n<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</audio>"}
var ct=function(t,e){return e?e(t):'<video width="'+t.width+'" height="'+t.height+'"'+(t.poster?' poster="'+t.poster+'"':"")+' controls="controls">\n<source src="'+t.source+'"'+(t.sourcemime?' type="'+t.sourcemime+'"':"")+" />\n"+(t.altsource?'<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</video>"}
var st=function(t){return'<script src="'+t.source+'"><\/script>'}
var lt=function(t,e){var n=P.extend({},e)
if(!n.source){P.extend(n,q(M(t),n.embed))
if(!n.source)return""}n.altsource||(n.altsource="")
n.poster||(n.poster="")
n.source=t.convertURL(n.source,"source")
n.altsource=t.convertURL(n.altsource,"source")
n.sourcemime=G(n.source)
n.altsourcemime=G(n.altsource)
n.poster=t.convertURL(n.poster,"poster")
var r=ot(n.source)
if(r){n.source=r.url
n.type=r.type
n.allowFullscreen=r.allowFullscreen
n.width=n.width||String(r.w)
n.height=n.height||String(r.h)}if(n.embed)return tt(n.embed,n,true)
var o=N(M(t),n.source)
if(o){n.type="script"
n.width=String(o.width)
n.height=String(o.height)}var a=E(t)
var i=D(t)
n.width=n.width||"300"
n.height=n.height||"150"
P.each(n,(function(e,r){n[r]=t.dom.encode(""+e)}))
return"iframe"===n.type?at(n):"application/x-shockwave-flash"===n.sourcemime?it(n):-1!==n.sourcemime.indexOf("audio")?ut(n,a):"script"===n.type?st(n):ct(n,i)}
var ft=tinymce.util.Tools.resolve("tinymce.util.Promise")
var vt={}
var dt=function(t,e,n){return new ft((function(r,o){var a=function(n){n.html&&(vt[t.source]=n)
return r({url:t.source,html:n.html?n.html:e(t)})}
vt[t.source]?a(vt[t.source]):n({url:t.source},a,o)}))}
var mt=function(t,e){return new ft((function(n){n({html:e(t),url:t.source})}))}
var gt=function(t){return function(e){return lt(t,e)}}
var ht=function(t,e){var n=H(t)
return n?dt(e,gt(t),n):mt(e,gt(t))}
var pt=function(t){return vt.hasOwnProperty(t)}
var bt=function(t,e){return _(e,t).bind((function(t){return _(t,"meta")}))}
var yt=function(t,e,n){return function(r){var o
var a=function(){return _(t,r)}
var i=function(){return _(e,r)}
var u=function(t){return _(t,"value").bind((function(t){return t.length>0?m.some(t):m.none()}))}
var c=function(){return a().bind((function(t){return b(t)?u(t).orThunk(i):i().orThunk((function(){return m.from(t)}))}))}
var s=function(){return i().orThunk((function(){return a().bind((function(t){return b(t)?u(t):m.from(t)}))}))}
return o={},o[r]=(r===n?c():s()).getOr(""),o}}
var wt=function(t,e){var n={}
_(t,"dimensions").each((function(t){x(["width","height"],(function(r){_(e,r).orThunk((function(){return _(t,r)})).each((function(t){return n[r]=t}))}))}))
return n}
var xt=function(t,n){var r=n?bt(n,t).getOr({}):{}
var o=yt(t,r,n)
return e(e(e(e(e({},o("source")),o("altsource")),o("poster")),o("embed")),wt(t,r))}
var Ct=function(t){var n=e(e({},t),{source:{value:_(t,"source").getOr("")},altsource:{value:_(t,"altsource").getOr("")},poster:{value:_(t,"poster").getOr("")}})
x(["width","height"],(function(e){_(t,e).each((function(t){var r=n.dimensions||{}
r[e]=t
n.dimensions=r}))}))
return n}
var St=function(t){return function(e){var n=e&&e.msg?"Media embed handler error: "+e.msg:"Media embed handler threw unknown error."
t.notificationManager.open({type:"error",text:n})}}
var Ot=function(t,e){return q(M(t),e)}
var kt=function(t){return t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri")}
var Tt=function(t){var n=t.selection.getNode()
var r=kt(n)?t.serializer.serialize(n,{selection:true}):""
return e({embed:r},q(M(t),r))}
var _t=function(t,n){return function(r){if(p(r.url)&&r.url.trim().length>0){var o=r.html
var a=Ot(n,o)
var i=e(e({},a),{source:r.url,embed:o})
t.setData(Ct(i))}}}
var zt=function(t,e){var n=t.dom.select("img[data-mce-object]")
for(var r=0;r<e.length;r++)for(var o=n.length-1;o>=0;o--)e[r]===n[o]&&n.splice(o,1)
t.selection.select(n[0])}
var Mt=function(t,e){var n=t.dom.select("img[data-mce-object]")
t.insertContent(e)
zt(t,n)
t.nodeChanged()}
var Et=function(t,e,n){e.embed=tt(e.embed,e)
e.embed&&(t.source===e.source||pt(e.source))?Mt(n,e.embed):ht(n,e).then((function(t){Mt(n,t.html)})).catch(St(n))}
var Dt=function(t){var n=Tt(t)
var r=S(n)
var o=Ct(n)
var a=function(e,n){var r=xt(n.getData(),"source")
if(e.source!==r.source){_t(p,t)({url:r.source,html:""})
ht(t,r).then(_t(p,t)).catch(St(t))}}
var i=function(e){var n=xt(e.getData())
var r=Ot(t,n.embed)
e.setData(Ct(r))}
var u=function(n,r){var o=xt(n.getData(),r)
var a=lt(t,o)
n.setData(Ct(e(e({},o),{embed:a})))}
var c=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}]
var s=L(t)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:true}]:[]
var l={title:"General",name:"general",items:C([c,s])}
var f={type:"textarea",name:"embed",label:"Paste your embed code below:"}
var v={title:"Embed",items:[f]}
var d=[]
B(t)&&d.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"})
I(t)&&d.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"})
var m={title:"Advanced",name:"advanced",items:d}
var g=[l,v]
d.length>0&&g.push(m)
var h={type:"tabpanel",tabs:g}
var p=t.windowManager.open({title:"Insert/Edit Media",size:"normal",body:h,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:function(e){var n=xt(e.getData())
Et(r.get(),n,t)
e.close()},onChange:function(t,e){switch(e.name){case"source":a(r.get(),t)
break
case"embed":i(t)
break
case"dimensions":case"altsource":case"poster":u(t,e.name)}r.set(xt(t.getData()))},initialData:o})}
var At=function(t){var e=function(){Dt(t)}
return{showDialog:e}}
var Rt=function(t){var e=function(){Dt(t)}
t.addCommand("mceMedia",e)}
var Ht=tinymce.util.Tools.resolve("tinymce.html.Node")
var Bt=tinymce.util.Tools.resolve("tinymce.Env")
var It=function(t,e){if(false===R(t))return e
var n=X()
var r
F({validate:false,allow_conditional_comments:false,comment:function(t){n.comment(t)},cdata:function(t){n.cdata(t)},text:function(t,e){n.text(t,e)},start:function(e,o,a){r=true
if("script"===e||"noscript"===e||"svg"===e)return
for(var i=o.length-1;i>=0;i--){var u=o[i].name
if(0===u.indexOf("on")){delete o.map[u]
o.splice(i,1)}"style"===u&&(o[i].value=t.dom.serializeStyle(t.dom.parseStyle(o[i].value),e))}n.start(e,o,a)
r=false},end:function(t){if(r)return
n.end(t)}},J({})).parse(e)
return n.getContent()}
var Lt=function(t,e){var n=e.name
var r=new Ht("img",1)
r.shortEnded=true
Vt(t,e,r)
r.attr({width:e.attr("width")||"300",height:e.attr("height")||("audio"===n?"30":"150"),style:e.attr("style"),src:Bt.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n})
return r}
var Pt=function(t,e){var n=e.name
var r=new Ht("span",1)
r.attr({contentEditable:"false",style:e.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n})
Vt(t,e,r)
var o=new Ht(n,1)
o.attr({src:e.attr("src"),allowfullscreen:e.attr("allowfullscreen"),style:e.attr("style"),class:e.attr("class"),width:e.attr("width"),height:e.attr("height"),frameborder:"0"})
var a=new Ht("span",1)
a.attr("class","mce-shim")
r.append(o)
r.append(a)
return r}
var Vt=function(t,e,n){var r
var o
var a
var i=e.attributes
a=i.length
while(a--){r=i[a].name
o=i[a].value
if("width"!==r&&"height"!==r&&"style"!==r){"data"!==r&&"src"!==r||(o=t.convertURL(o,r))
n.attr("data-mce-p-"+r,o)}}var u=e.firstChild&&e.firstChild.value
if(u){n.attr("data-mce-html",escape(It(t,u)))
n.firstChild=null}}
var Ft=function(t){var e=t.attr("class")
return e&&/\btiny-pageembed\b/.test(e)}
var Nt=function(t){while(t=t.parent)if(t.attr("data-ephox-embed-iri")||Ft(t))return true
return false}
var jt=function(t){return function(e){var n=e.length
var r
var o
while(n--){r=e[n]
if(!r.parent)continue
if(r.parent.attr("data-mce-object"))continue
if("script"===r.name){o=N(M(t),r.attr("src"))
if(!o)continue}if(o){o.width&&r.attr("width",o.width.toString())
o.height&&r.attr("height",o.height.toString())}"iframe"===r.name&&A(t)&&Bt.ceFalse?Nt(r)||r.replace(Pt(t,r)):Nt(r)||r.replace(Lt(t,r))}}}
var Wt=function(t){t.on("preInit",(function(){var e=t.schema.getSpecialElements()
P.each("video audio iframe object".split(" "),(function(t){e[t]=new RegExp("</"+t+"[^>]*>","gi")}))
var n=t.schema.getBoolAttrs()
P.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(t){n[t]={}}))
t.parser.addNodeFilter("iframe,video,audio,object,embed,script",jt(t))
t.serializer.addAttributeFilter("data-mce-object",(function(e,n){var r=e.length
var o
var a
var i
var u
var c
var s
var l
var f
while(r--){o=e[r]
if(!o.parent)continue
l=o.attr(n)
a=new Ht(l,1)
if("audio"!==l&&"script"!==l){f=o.attr("class")
f&&-1!==f.indexOf("mce-preview-object")?a.attr({width:o.firstChild.attr("width"),height:o.firstChild.attr("height")}):a.attr({width:o.attr("width"),height:o.attr("height")})}a.attr({style:o.attr("style")})
u=o.attributes
i=u.length
while(i--){var v=u[i].name
0===v.indexOf("data-mce-p-")&&a.attr(v.substr(11),u[i].value)}"script"===l&&a.attr("type","text/javascript")
c=o.attr("data-mce-html")
if(c){s=new Ht("#text",3)
s.raw=true
s.value=It(t,unescape(c))
a.append(s)}o.replace(a)}}))}))
t.on("SetContent",(function(){t.$("span.mce-preview-object").each((function(e,n){var r=t.$(n)
0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))}
var Ut=function(t){t.on("ResolveName",(function(t){var e
1===t.target.nodeType&&(e=t.target.getAttribute("data-mce-object"))&&(t.name=e)}))}
var qt=function(t){t.on("click keyup touchend",(function(){var e=t.selection.getNode()
e&&t.dom.hasClass(e,"mce-preview-object")&&t.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")}))
t.on("ObjectSelected",(function(t){var e=t.target.getAttribute("data-mce-object")
"audio"!==e&&"script"!==e||t.preventDefault()}))
t.on("ObjectResized",(function(t){var e=t.target
var n
if(e.getAttribute("data-mce-object")){n=e.getAttribute("data-mce-html")
if(n){n=unescape(n)
e.setAttribute("data-mce-html",escape(tt(n,{width:String(t.width),height:String(t.height)})))}}}))}
var Gt=function(t,e){return function(n){return t.selection.selectorChangedWithUnbind(e.join(","),n.setActive).unbind}}
var Jt=function(t){t.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){t.execCommand("mceMedia")},onSetup:Gt(t,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])})
t.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){t.execCommand("mceMedia")}})}
function Xt(){t.add("media",(function(t){Rt(t)
Jt(t)
Ut(t)
Wt(t)
qt(t)
return At(t)}))}Xt()})()},rU96:function(t,e){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},ujec:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.util.Tools")
var n=function(t,n){var r=t.dom
var o
var a=t.selection.getSelectedBlocks()
if(a.length){o=r.getAttrib(a[0],"dir")
e.each(a,(function(t){r.getParent(t.parentNode,'*[dir="'+n+'"]',r.getRoot())||r.setAttrib(t,"dir",o!==n?n:null)}))
t.nodeChanged()}}
var r=function(t){t.addCommand("mceDirectionLTR",(function(){n(t,"ltr")}))
t.addCommand("mceDirectionRTL",(function(){n(t,"rtl")}))}
var o=function(){}
var a=function(t,e){return function(n){return t(e(n))}}
var i=function(t){return function(){return t}}
var u=i(false)
var c=i(true)
var s=function(){return l}
var l=(f=function(t){return t.isNone()},v=function(t){return t()},d=function(t){return t},m={fold:function(t,e){return t()},is:u,isSome:u,isNone:c,getOr:d,getOrThunk:v,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:d,orThunk:v,map:s,each:o,bind:s,exists:u,forall:c,filter:s,equals:f,equals_:f,toArray:function(){return[]},toString:i("none()")},m)
var f,v,d,m
var g=function(t){var e=i(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return g(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:l},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(u,(function(e){return n(t,e)}))}}
return o}
var h=function(t){return null===t||void 0===t?l:g(t)}
var p={some:g,none:s,from:h}
var b=function(t){return function(e){return typeof e===t}}
var y=b("function")
var w=function(t){return void 0!==t.style&&y(t.style.getPropertyValue)}
var x=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return O(r.childNodes[0])}
var C=function(t,e){var n=e||document
var r=n.createElement(t)
return O(r)}
var S=function(t,e){var n=e||document
var r=n.createTextNode(t)
return O(r)}
var O=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var k=function(t,e,n){return p.from(t.dom.elementFromPoint(e,n)).map(O)}
var T={fromHtml:x,fromTag:C,fromText:S,fromDom:O,fromPoint:k}
"undefined"!==typeof window?window:Function("return this;")()
var _=9
var z=11
var M=3
var E=function(t){return t.dom.nodeType}
var D=function(t){return function(e){return E(e)===t}}
var A=D(M)
var R=D(_)
var H=D(z)
var B=function(t){return T.fromDom(t.dom.ownerDocument)}
var I=function(t){return R(t)?t:B(t)}
var L=function(t){return H(t)}
var P=y(Element.prototype.attachShadow)&&y(Node.prototype.getRootNode)
var V=P?function(t){return T.fromDom(t.dom.getRootNode())}:I
var F=function(t){var e=V(t)
return L(e)?p.some(e):p.none()}
var N=function(t){return T.fromDom(t.dom.host)}
var j=function(t){var e=A(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return F(T.fromDom(e)).fold((function(){return n.body.contains(e)}),a(j,N))}
var W=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||j(t)?o:U(n,e)}
var U=function(t,e){return w(t)?t.style.getPropertyValue(e):""}
var q=function(t){return"rtl"===W(t,"direction")?"rtl":"ltr"}
var G=function(t,e){return function(n){var r=function(t){var r=T.fromDom(t.element)
n.setActive(q(r)===e)}
t.on("NodeChange",r)
return function(){return t.off("NodeChange",r)}}}
var J=function(t){t.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return t.execCommand("mceDirectionLTR")},onSetup:G(t,"ltr")})
t.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return t.execCommand("mceDirectionRTL")},onSetup:G(t,"rtl")})}
function X(){t.add("directionality",(function(t){r(t)
J(t)}))}X()})()},xw2z:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.Env")
var n=function(t){return t.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)}
var r=function(t){return t.getParam("default_link_target",false)}
var o=function(t){return t.getParam("link_default_protocol","http","string")}
var a=function(t,e){return t===e||" "===t||160===t.charCodeAt(0)}
var i=function(t){v(t,-1,"(")}
var u=function(t){v(t,0,"")}
var c=function(t){v(t,-1,"")}
var s=function(t,e){e<0&&(e=0)
if(3===t.nodeType){var n=t.data.length
e>n&&(e=n)}return e}
var l=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setStart(e,s(e,n)):t.setStartBefore(e)}
var f=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setEnd(e,s(e,n)):t.setEndAfter(e)}
var v=function(t,e,i){var u,c,s,v,d,m,g
var h=n(t)
var p=r(t)
if("A"===t.selection.getNode().tagName)return
var b=t.selection.getRng().cloneRange()
if(b.startOffset<5){d=b.endContainer.previousSibling
if(!d){if(!b.endContainer.firstChild||!b.endContainer.firstChild.nextSibling)return
d=b.endContainer.firstChild.nextSibling}m=d.length
l(b,d,m)
f(b,d,m)
if(b.endOffset<5)return
u=b.endOffset
c=d}else{c=b.endContainer
if(3!==c.nodeType&&c.firstChild){while(3!==c.nodeType&&c.firstChild)c=c.firstChild
if(3===c.nodeType){l(b,c,0)
f(b,c,c.nodeValue.length)}}u=1===b.endOffset?2:b.endOffset-1-e}var y=u
do{l(b,c,u>=2?u-2:0)
f(b,c,u>=1?u-1:0)
u-=1
g=b.toString()}while(" "!==g&&""!==g&&160!==g.charCodeAt(0)&&u-2>=0&&g!==i)
if(a(b.toString(),i)){l(b,c,u)
f(b,c,y)
u+=1}else if(0===b.startOffset){l(b,c,0)
f(b,c,y)}else{l(b,c,u)
f(b,c,y)}v=b.toString()
"."===v.charAt(v.length-1)&&f(b,c,y-1)
v=b.toString().trim()
var w=v.match(h)
var x=o(t)
if(w){"www."===w[1]?w[1]=x+"://www.":/@$/.test(w[1])&&!/^mailto:/.test(w[1])&&(w[1]="mailto:"+w[1])
s=t.selection.getBookmark()
t.selection.setRng(b)
t.execCommand("createlink",false,w[1]+w[2])
false!==p&&t.dom.setAttrib(t.selection.getNode(),"target",p)
t.selection.moveToBookmark(s)
t.nodeChanged()}}
var d=function(t){var n
t.on("keydown",(function(e){if(13===e.keyCode)return c(t)}))
if(e.browser.isIE()){t.on("focus",(function(){if(!n){n=true
try{t.execCommand("AutoUrlDetect",false,true)}catch(t){}}}))
return}t.on("keypress",(function(e){if(41===e.keyCode)return i(t)}))
t.on("keyup",(function(e){if(32===e.keyCode)return u(t)}))}
function m(){t.add("autolink",(function(t){d(t)}))}m()})()}}])

//# sourceMappingURL=592-c-41a3d1de8e.js.map