(window["canvasWebpackJsonp"]=window["canvasWebpackJsonp"]||[]).push([[170],{"9Uei":function(e,t,r){(function(t,r){(function(){"use strict"
var n=function(e){if(null===e)return"null"
if(void 0===e)return"undefined"
var t=typeof e
if("object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name))return"array"
if("object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name))return"string"
return t}
var a=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}
var o=function(e,t){var r=Array.prototype.slice.call(e)
return r.sort(t)}
var i=function(e,t){return u((function(r,n){return e.eq(t(r),t(n))}))}
var u=function(e){return{eq:e}}
var f=u((function(e,t){return e===t}))
var c=f
var s=function(e){return u((function(t,r){if(t.length!==r.length)return false
var n=t.length
for(var a=0;a<n;a++)if(!e.eq(t[a],r[a]))return false
return true}))}
var l=function(e,t){return i(s(e),(function(e){return o(e,t)}))}
var d=function(e){return u((function(t,r){var n=Object.keys(t)
var a=Object.keys(r)
if(!l(c).eq(n,a))return false
var o=n.length
for(var i=0;i<o;i++){var u=n[i]
if(!e.eq(t[u],r[u]))return false}return true}))}
var v=u((function(e,t){if(e===t)return true
var r=n(e)
var o=n(t)
if(r!==o)return false
if(a(r))return e===t
if("array"===r)return s(v).eq(e,t)
if("object"===r)return d(v).eq(e,t)
return false}))
var m=function(){}
var p=function(e,t){return function(){var r=[]
for(var n=0;n<arguments.length;n++)r[n]=arguments[n]
return e(t.apply(null,r))}}
var g=function(e,t){return function(r){return e(t(r))}}
var h=function(e){return function(){return e}}
var y=function(e){return e}
function b(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
return function(){var r=[]
for(var n=0;n<arguments.length;n++)r[n]=arguments[n]
var a=t.concat(r)
return e.apply(null,a)}}var C=function(e){return function(t){return!e(t)}}
var w=function(e){return function(){throw new Error(e)}}
var x=function(e){e()}
var S=h(false)
var N=h(true)
var k=function(){return E}
var E=function(){var e=function(e){return e.isNone()}
var t=function(e){return e()}
var r=function(e){return e}
var n={fold:function(e,t){return e()},is:S,isSome:S,isNone:N,getOr:r,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(void 0),or:r,orThunk:t,map:k,each:m,bind:k,exists:S,forall:N,filter:k,equals:e,equals_:e,toArray:function(){return[]},toString:h("none()")}
return n}()
var _=function(e){var t=h(e)
var r=function(){return a}
var n=function(t){return t(e)}
var a={fold:function(t,r){return r(e)},is:function(t){return e===t},isSome:N,isNone:S,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:r,orThunk:r,map:function(t){return _(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?a:E},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(S,(function(t){return r(e,t)}))}}
return a}
var T=function(e){return null===e||void 0===e?E:_(e)}
var A={some:_,none:k,from:T}
var R=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var D=function(e){return function(t){return R(t)===e}}
var O=function(e){return function(t){return typeof t===e}}
var B=function(e){return function(t){return e===t}}
var P=D("string")
var L=D("object")
var I=D("array")
var M=B(null)
var F=O("boolean")
var U=B(void 0)
var z=function(e){return null===e||void 0===e}
var j=function(e){return!z(e)}
var H=O("function")
var V=O("number")
var q=Array.prototype.slice
var $=Array.prototype.indexOf
var W=Array.prototype.push
var K=function(e,t){return $.call(e,t)}
var X=function(e,t){var r=K(e,t)
return-1===r?A.none():A.some(r)}
var Y=function(e,t){return K(e,t)>-1}
var G=function(e,t){for(var r=0,n=e.length;r<n;r++){var a=e[r]
if(t(a,r))return true}return false}
var J=function(e,t){var r=e.length
var n=new Array(r)
for(var a=0;a<r;a++){var o=e[a]
n[a]=t(o,a)}return n}
var Q=function(e,t){for(var r=0,n=e.length;r<n;r++){var a=e[r]
t(a,r)}}
var Z=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r]
t(n,r)}}
var ee=function(e,t){var r=[]
var n=[]
for(var a=0,o=e.length;a<o;a++){var i=e[a]
var u=t(i,a)?r:n
u.push(i)}return{pass:r,fail:n}}
var te=function(e,t){var r=[]
for(var n=0,a=e.length;n<a;n++){var o=e[n]
t(o,n)&&r.push(o)}return r}
var re=function(e,t,r){Z(e,(function(e){r=t(r,e)}))
return r}
var ne=function(e,t,r){Q(e,(function(e){r=t(r,e)}))
return r}
var ae=function(e,t,r){for(var n=0,a=e.length;n<a;n++){var o=e[n]
if(t(o,n))return A.some(o)
if(r(o,n))break}return A.none()}
var oe=function(e,t){return ae(e,t,S)}
var ie=function(e,t){for(var r=0,n=e.length;r<n;r++){var a=e[r]
if(t(a,r))return A.some(r)}return A.none()}
var ue=function(e){var t=[]
for(var r=0,n=e.length;r<n;++r){if(!I(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e)
W.apply(t,e[r])}return t}
var fe=function(e,t){return ue(J(e,t))}
var ce=function(e,t){for(var r=0,n=e.length;r<n;++r){var a=e[r]
if(true!==t(a,r))return false}return true}
var se=function(e){var t=q.call(e,0)
t.reverse()
return t}
var le=function(e,t){return te(e,(function(e){return!Y(t,e)}))}
var de=function(e,t){var r={}
for(var n=0,a=e.length;n<a;n++){var o=e[n]
r[String(o)]=t(o,n)}return r}
var ve=function(e,t){var r=q.call(e,0)
r.sort(t)
return r}
var me=function(e,t){return t>=0&&t<e.length?A.some(e[t]):A.none()}
var pe=function(e){return me(e,0)}
var ge=function(e){return me(e,e.length-1)}
var he=H(Array.from)?Array.from:function(e){return q.call(e)}
var ye=function(e,t){for(var r=0;r<e.length;r++){var n=t(e[r],r)
if(n.isSome())return n}return A.none()}
var be=Object.keys
var Ce=Object.hasOwnProperty
var we=function(e,t){var r=be(e)
for(var n=0,a=r.length;n<a;n++){var o=r[n]
var i=e[o]
t(i,o)}}
var xe=function(e,t){return Se(e,(function(e,r){return{k:r,v:t(e,r)}}))}
var Se=function(e,t){var r={}
we(e,(function(e,n){var a=t(e,n)
r[a.k]=a.v}))
return r}
var Ne=function(e){return function(t,r){e[r]=t}}
var ke=function(e,t,r,n){var a={}
we(e,(function(e,a){(t(e,a)?r:n)(e,a)}))
return a}
var Ee=function(e,t){var r={}
var n={}
ke(e,t,Ne(r),Ne(n))
return{t:r,f:n}}
var _e=function(e,t){var r={}
ke(e,t,Ne(r),m)
return r}
var Te=function(e,t){var r=[]
we(e,(function(e,n){r.push(t(e,n))}))
return r}
var Ae=function(e){return Te(e,(function(e){return e}))}
var Re=function(e,t){return De(e,t)?A.from(e[t]):A.none()}
var De=function(e,t){return Ce.call(e,t)}
var Oe=function(e,t){return De(e,t)&&void 0!==e[t]&&null!==e[t]}
var Be=function(e,t,r){void 0===r&&(r=v)
return d(r).eq(e,t)}
var Pe=Array.isArray
var Le=function(e){if(Pe(e))return e
var t=[]
for(var r=0,n=e.length;r<n;r++)t[r]=e[r]
return t}
var Ie=function(e,t,r){var n,a
if(!e)return false
r=r||e
if(void 0!==e.length){for(n=0,a=e.length;n<a;n++)if(false===t.call(r,e[n],n,e))return false}else for(n in e)if(e.hasOwnProperty(n)&&false===t.call(r,e[n],n,e))return false
return true}
var Me=function(e,t){var r=[]
Ie(e,(function(n,a){r.push(t(n,a,e))}))
return r}
var Fe=function(e,t){var r=[]
Ie(e,(function(n,a){t&&!t(n,a,e)||r.push(n)}))
return r}
var Ue=function(e,t){if(e)for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r
return-1}
var ze=function(e,t,r,n){var a=U(r)?e[0]:r
for(var o=0;o<e.length;o++)a=t.call(n,a,e[o],o)
return a}
var je=function(e,t,r){var n,a
for(n=0,a=e.length;n<a;n++)if(t.call(r,e[n],n,e))return n
return-1}
var He=function(e){return e[e.length-1]}
var Ve=function(){Ve=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r]
for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}
return Ve.apply(this,arguments)}
function qe(e,t){var r={}
for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n])
if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0
for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function $e(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length
var n=Array(e),a=0
for(t=0;t<r;t++)for(var o=arguments[t],i=0,u=o.length;i<u;i++,a++)n[a]=o[i]
return n}var We=function(e){var t=false
var r
return function(){var n=[]
for(var a=0;a<arguments.length;a++)n[a]=arguments[a]
if(!t){t=true
r=e.apply(null,n)}return r}}
var Ke=function(e,t,r,n){var a=e.isiOS()&&true===/ipad/i.test(r)
var o=e.isiOS()&&!a
var i=e.isiOS()||e.isAndroid()
var u=i||n("(pointer:coarse)")
var f=a||!o&&i&&n("(min-device-width:768px)")
var c=o||i&&!f
var s=t.isSafari()&&e.isiOS()&&false===/safari/i.test(r)
var l=!c&&!f&&!s
return{isiPad:h(a),isiPhone:h(o),isTablet:h(f),isPhone:h(c),isTouch:h(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:h(s),isDesktop:h(l)}}
var Xe=function(e,t){for(var r=0;r<e.length;r++){var n=e[r]
if(n.test(t))return n}return}
var Ye=function(e,t){var r=Xe(e,t)
if(!r)return{major:0,minor:0}
var n=function(e){return Number(t.replace(r,"$"+e))}
return Qe(n(1),n(2))}
var Ge=function(e,t){var r=String(t).toLowerCase()
if(0===e.length)return Je()
return Ye(e,r)}
var Je=function(){return Qe(0,0)}
var Qe=function(e,t){return{major:e,minor:t}}
var Ze={nu:Qe,detect:Ge,unknown:Je}
var et=function(e,t){var r=String(t).toLowerCase()
return oe(e,(function(e){return e.search(r)}))}
var tt=function(e,t){return et(e,t).map((function(e){var r=Ze.detect(e.versionRegexes,t)
return{current:e.name,version:r}}))}
var rt=function(e,t){return et(e,t).map((function(e){var r=Ze.detect(e.versionRegexes,t)
return{current:e.name,version:r}}))}
var nt={detectBrowser:tt,detectOs:rt}
var at=function(e,t){return e.substring(t)}
var ot=function(e,t,r){return""===t||e.length>=t.length&&e.substr(r,r+t.length)===t}
var it=function(e,t){return ft(e,t)?at(e,t.length):e}
var ut=function(e,t){return-1!==e.indexOf(t)}
var ft=function(e,t){return ot(e,t,0)}
var ct=function(e){return function(t){return t.replace(e,"")}}
var st=ct(/^\s+|\s+$/g)
var lt=ct(/^\s+/g)
var dt=ct(/\s+$/g)
var vt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var mt=function(e){return function(t){return ut(t,e)}}
var pt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ut(e,"edge/")&&ut(e,"chrome")&&ut(e,"safari")&&ut(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vt],search:function(e){return ut(e,"chrome")&&!ut(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ut(e,"msie")||ut(e,"trident")}},{name:"Opera",versionRegexes:[vt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mt("firefox")},{name:"Safari",versionRegexes:[vt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ut(e,"safari")||ut(e,"mobile/"))&&ut(e,"applewebkit")}}]
var gt=[{name:"Windows",search:mt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ut(e,"iphone")||ut(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:mt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mt("linux"),versionRegexes:[]},{name:"Solaris",search:mt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var ht={browsers:h(pt),oses:h(gt)}
var yt="Edge"
var bt="Chrome"
var Ct="IE"
var wt="Opera"
var xt="Firefox"
var St="Safari"
var Nt=function(){return kt({current:void 0,version:Ze.unknown()})}
var kt=function(e){var t=e.current
var r=e.version
var n=function(e){return function(){return t===e}}
return{current:t,version:r,isEdge:n(yt),isChrome:n(bt),isIE:n(Ct),isOpera:n(wt),isFirefox:n(xt),isSafari:n(St)}}
var Et={unknown:Nt,nu:kt,edge:h(yt),chrome:h(bt),ie:h(Ct),opera:h(wt),firefox:h(xt),safari:h(St)}
var _t="Windows"
var Tt="iOS"
var At="Android"
var Rt="Linux"
var Dt="OSX"
var Ot="Solaris"
var Bt="FreeBSD"
var Pt="ChromeOS"
var Lt=function(){return It({current:void 0,version:Ze.unknown()})}
var It=function(e){var t=e.current
var r=e.version
var n=function(e){return function(){return t===e}}
return{current:t,version:r,isWindows:n(_t),isiOS:n(Tt),isAndroid:n(At),isOSX:n(Dt),isLinux:n(Rt),isSolaris:n(Ot),isFreeBSD:n(Bt),isChromeOS:n(Pt)}}
var Mt={unknown:Lt,nu:It,windows:h(_t),ios:h(Tt),android:h(At),linux:h(Rt),osx:h(Dt),solaris:h(Ot),freebsd:h(Bt),chromeos:h(Pt)}
var Ft=function(e,t){var r=ht.browsers()
var n=ht.oses()
var a=nt.detectBrowser(r,e).fold(Et.unknown,Et.nu)
var o=nt.detectOs(n,e).fold(Mt.unknown,Mt.nu)
var i=Ke(o,a,e,t)
return{browser:a,os:o,deviceType:i}}
var Ut={detect:Ft}
var zt=function(e){return window.matchMedia(e).matches}
var jt=We((function(){return Ut.detect(navigator.userAgent,zt)}))
var Ht=function(){return jt()}
var Vt=navigator.userAgent
var qt=Ht()
var $t=qt.browser
var Wt=qt.os
var Kt=qt.deviceType
var Xt=/WebKit/.test(Vt)&&!$t.isEdge()
var Yt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL
var Gt=-1!==Vt.indexOf("Windows Phone")
var Jt={opera:$t.isOpera(),webkit:Xt,ie:!(!$t.isIE()&&!$t.isEdge())&&$t.version.major,gecko:$t.isFirefox(),mac:Wt.isOSX()||Wt.isiOS(),iOS:Kt.isiPad()||Kt.isiPhone(),android:Wt.isAndroid(),contentEditable:true,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:true,range:window.getSelection&&"Range"in window,documentMode:$t.isIE()?document.documentMode||7:10,fileApi:Yt,ceFalse:true,cacheSuffix:null,container:null,experimentalShadowDom:false,canHaveCSP:!$t.isIE(),desktop:Kt.isDesktop(),windowsPhone:Gt,browser:{current:$t.current,version:$t.version,isChrome:$t.isChrome,isEdge:$t.isEdge,isFirefox:$t.isFirefox,isIE:$t.isIE,isOpera:$t.isOpera,isSafari:$t.isSafari},os:{current:Wt.current,version:Wt.version,isAndroid:Wt.isAndroid,isChromeOS:Wt.isChromeOS,isFreeBSD:Wt.isFreeBSD,isiOS:Wt.isiOS,isLinux:Wt.isLinux,isOSX:Wt.isOSX,isSolaris:Wt.isSolaris,isWindows:Wt.isWindows},deviceType:{isDesktop:Kt.isDesktop,isiPad:Kt.isiPad,isiPhone:Kt.isiPhone,isPhone:Kt.isPhone,isTablet:Kt.isTablet,isTouch:Kt.isTouch,isWebView:Kt.isWebView}}
var Qt=/^\s*|\s*$/g
var Zt=function(e){return null===e||void 0===e?"":(""+e).replace(Qt,"")}
var er=function(e,t){if(!t)return void 0!==e
if("array"===t&&Pe(e))return true
return typeof e===t}
var tr=function(e,t,r){var n
e=e||[]
t=t||","
"string"===typeof e&&(e=e.split(t))
r=r||{}
n=e.length
while(n--)r[e[n]]={}
return r}
var rr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}
var nr=function(e,t,r){var n=this
var a,o,i,u=0
e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e)
var f=e[3].match(/(^|\.)(\w+)$/i)[2]
var c=n.createNS(e[3].replace(/\.\w+$/,""),r)
if(c[f])return
if("static"===e[2]){c[f]=t
this.onCreate&&this.onCreate(e[2],e[3],c[f])
return}if(!t[f]){t[f]=function(){}
u=1}c[f]=t[f]
n.extend(c[f].prototype,t)
if(e[5]){a=n.resolve(e[5]).prototype
o=e[5].match(/\.(\w+)$/i)[1]
i=c[f]
c[f]=u?function(){return a[o].apply(this,arguments)}:function(){this.parent=a[o]
return i.apply(this,arguments)}
c[f].prototype[f]=c[f]
n.each(a,(function(e,t){c[f].prototype[t]=a[t]}))
n.each(t,(function(e,t){a[t]?c[f].prototype[t]=function(){this.parent=a[t]
return e.apply(this,arguments)}:t!==f&&(c[f].prototype[t]=e)}))}n.each(t.static,(function(e,t){c[f][t]=e}))}
var ar=function(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
for(var n=0;n<t.length;n++){var a=t[n]
for(var o in a)if(a.hasOwnProperty(o)){var i=a[o]
void 0!==i&&(e[o]=i)}}return e}
var or=function(e,t,r,n){n=n||this
if(e){r&&(e=e[r])
Ie(e,(function(e,a){if(false===t.call(n,e,a,r))return false
or(e,t,r,n)}))}}
var ir=function(e,t){var r,n
t=t||window
e=e.split(".")
for(r=0;r<e.length;r++){n=e[r]
t[n]||(t[n]={})
t=t[n]}return t}
var ur=function(e,t){var r,n
t=t||window
e=e.split(".")
for(r=0,n=e.length;r<n;r++){t=t[e[r]]
if(!t)break}return t}
var fr=function(e,t){if(!e||er(e,"array"))return e
return Me(e.split(t||","),Zt)}
var cr=function(e){var t=Jt.cacheSuffix
t&&(e+=(-1===e.indexOf("?")?"?":"&")+t)
return e}
var sr={trim:Zt,isArray:Pe,is:er,toArray:Le,makeMap:tr,each:Ie,map:Me,grep:Fe,inArray:Ue,hasOwn:rr,extend:ar,create:nr,walk:or,createNS:ir,resolve:ur,explode:fr,_addCacheSuffix:cr}
var lr=function(e,t){var r=t||document
var n=r.createElement("div")
n.innerHTML=e
if(!n.hasChildNodes()||n.childNodes.length>1){console.error("HTML does not have a single root node",e)
throw new Error("HTML must have a single root node")}return mr(n.childNodes[0])}
var dr=function(e,t){var r=t||document
var n=r.createElement(e)
return mr(n)}
var vr=function(e,t){var r=t||document
var n=r.createTextNode(e)
return mr(n)}
var mr=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined")
return{dom:e}}
var pr=function(e,t,r){return A.from(e.dom.elementFromPoint(t,r)).map(mr)}
var gr={fromHtml:lr,fromTag:dr,fromText:vr,fromDom:mr,fromPoint:pr}
var hr=function(e,t){var r=[]
var n=function(e){r.push(e)
return t(e)}
var a=t(e)
do{a=a.bind(n)}while(a.isSome())
return r}
var yr=function(e,t,r){return 0!==(e.compareDocumentPosition(t)&r)}
var br=function(e,t){return yr(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Cr=8
var wr=9
var xr=11
var Sr=1
var Nr=3
var kr=function(e,t){var r=e.dom
if(r.nodeType!==Sr)return false
var n=r
if(void 0!==n.matches)return n.matches(t)
if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t)
if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t)
if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t)
throw new Error("Browser lacks native selectors")}
var Er=function(e){return e.nodeType!==Sr&&e.nodeType!==wr&&e.nodeType!==xr||0===e.childElementCount}
var _r=function(e,t){var r=void 0===t?document:t.dom
return Er(r)?[]:J(r.querySelectorAll(e),gr.fromDom)}
var Tr=function(e,t){var r=void 0===t?document:t.dom
return Er(r)?A.none():A.from(r.querySelector(e)).map(gr.fromDom)}
var Ar=function(e,t){return e.dom===t.dom}
var Rr=function(e,t){var r=e.dom
var n=t.dom
return r!==n&&r.contains(n)}
var Dr=function(e,t){return br(e.dom,t.dom)}
var Or=function(e,t){return Ht().browser.isIE()?Dr(e,t):Rr(e,t)}
"undefined"!==typeof window?window:Function("return this;")()
var Br=function(e){var t=e.dom.nodeName
return t.toLowerCase()}
var Pr=function(e){return e.dom.nodeType}
var Lr=function(e){return function(t){return Pr(t)===e}}
var Ir=function(e){return Pr(e)===Cr||"#comment"===Br(e)}
var Mr=Lr(Sr)
var Fr=Lr(Nr)
var Ur=Lr(wr)
var zr=Lr(xr)
var jr=function(e){return gr.fromDom(e.dom.ownerDocument)}
var Hr=function(e){return Ur(e)?e:jr(e)}
var Vr=function(e){return gr.fromDom(Hr(e).dom.documentElement)}
var qr=function(e){return gr.fromDom(Hr(e).dom.defaultView)}
var $r=function(e){return A.from(e.dom.parentNode).map(gr.fromDom)}
var Wr=function(e,t){var r=H(t)?t:S
var n=e.dom
var a=[]
while(null!==n.parentNode&&void 0!==n.parentNode){var o=n.parentNode
var i=gr.fromDom(o)
a.push(i)
if(true===r(i))break
n=o}return a}
var Kr=function(e){var t=function(t){return te(t,(function(t){return!Ar(e,t)}))}
return $r(e).map(Qr).map(t).getOr([])}
var Xr=function(e){return A.from(e.dom.previousSibling).map(gr.fromDom)}
var Yr=function(e){return A.from(e.dom.nextSibling).map(gr.fromDom)}
var Gr=function(e){return se(hr(e,Xr))}
var Jr=function(e){return hr(e,Yr)}
var Qr=function(e){return J(e.dom.childNodes,gr.fromDom)}
var Zr=function(e,t){var r=e.dom.childNodes
return A.from(r[t]).map(gr.fromDom)}
var en=function(e){return Zr(e,0)}
var tn=function(e){return Zr(e,e.dom.childNodes.length-1)}
var rn=function(e){return e.dom.childNodes.length}
var nn=function(e){var t=e.dom.head
if(null===t||void 0===t)throw new Error("Head is not available yet")
return gr.fromDom(t)}
var an=function(e){return zr(e)}
var on=H(Element.prototype.attachShadow)&&H(Node.prototype.getRootNode)
var un=h(on)
var fn=on?function(e){return gr.fromDom(e.dom.getRootNode())}:Hr
var cn=function(e){return an(e)?e:nn(Hr(e))}
var sn=function(e){var t=fn(e)
return an(t)?A.some(t):A.none()}
var ln=function(e){return gr.fromDom(e.dom.host)}
var dn=function(e){if(un()&&j(e.target)){var t=gr.fromDom(e.target)
if(Mr(t)&&vn(t)&&e.composed&&e.composedPath){var r=e.composedPath()
if(r)return pe(r)}}return A.from(e.target)}
var vn=function(e){return j(e.dom.shadowRoot)}
var mn=function(e,t){var r=$r(e)
r.each((function(r){r.dom.insertBefore(t.dom,e.dom)}))}
var pn=function(e,t){var r=Yr(e)
r.fold((function(){var r=$r(e)
r.each((function(e){hn(e,t)}))}),(function(e){mn(e,t)}))}
var gn=function(e,t){var r=en(e)
r.fold((function(){hn(e,t)}),(function(r){e.dom.insertBefore(t.dom,r.dom)}))}
var hn=function(e,t){e.dom.appendChild(t.dom)}
var yn=function(e,t){mn(e,t)
hn(t,e)}
var bn=function(e,t){Q(t,(function(t){mn(e,t)}))}
var Cn=function(e,t){Q(t,(function(t){hn(e,t)}))}
var wn=function(e){e.dom.textContent=""
Q(Qr(e),(function(e){xn(e)}))}
var xn=function(e){var t=e.dom
null!==t.parentNode&&t.parentNode.removeChild(t)}
var Sn=function(e){var t=Qr(e)
t.length>0&&bn(e,t)
xn(e)}
var Nn=function(e){var t=Fr(e)?e.dom.parentNode:e.dom
if(void 0===t||null===t||null===t.ownerDocument)return false
var r=t.ownerDocument
return sn(gr.fromDom(t)).fold((function(){return r.body.contains(t)}),g(Nn,ln))}
var kn=function(e,t){var r=function(r,n){return kn(e+r,t+n)}
return{left:e,top:t,translate:r}}
var En=kn
var _n=function(e){var t=e.getBoundingClientRect()
return En(t.left,t.top)}
var Tn=function(e,t){return void 0!==e?e:void 0!==t?t:0}
var An=function(e){var t=e.dom.ownerDocument
var r=t.body
var n=t.defaultView
var a=t.documentElement
if(r===e.dom)return En(r.offsetLeft,r.offsetTop)
var o=Tn(null===n||void 0===n?void 0:n.pageYOffset,a.scrollTop)
var i=Tn(null===n||void 0===n?void 0:n.pageXOffset,a.scrollLeft)
var u=Tn(a.clientTop,r.clientTop)
var f=Tn(a.clientLeft,r.clientLeft)
return Rn(e).translate(i-f,o-u)}
var Rn=function(e){var t=e.dom
var r=t.ownerDocument
var n=r.body
if(n===t)return En(n.offsetLeft,n.offsetTop)
if(!Nn(e))return En(0,0)
return _n(t)}
var Dn=function(e){var t=void 0!==e?e.dom:document
var r=t.body.scrollLeft||t.documentElement.scrollLeft
var n=t.body.scrollTop||t.documentElement.scrollTop
return En(r,n)}
var On=function(e,t,r){var n=void 0!==r?r.dom:document
var a=n.defaultView
a&&a.scrollTo(e,t)}
var Bn=function(e,t){var r=Ht().browser.isSafari()
r&&H(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(false):e.dom.scrollIntoView(t)}
var Pn=function(e){var t=void 0===e?window:e
return A.from(t["visualViewport"])}
var Ln=function(e,t,r,n){return{x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}}
var In=function(e){var t=void 0===e?window:e
var r=t.document
var n=Dn(gr.fromDom(r))
return Pn(t).fold((function(){var e=t.document.documentElement
var r=e.clientWidth
var a=e.clientHeight
return Ln(n.left,n.top,r,a)}),(function(e){return Ln(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)}))}
var Mn=function(e){return function(t){return!!t&&t.nodeType===e}}
var Fn=function(e){return!!e&&!Object.getPrototypeOf(e)}
var Un=Mn(1)
var zn=function(e){var t=e.map((function(e){return e.toLowerCase()}))
return function(e){if(e&&e.nodeName){var r=e.nodeName.toLowerCase()
return Y(t,r)}return false}}
var jn=function(e,t){var r=t.toLowerCase().split(" ")
return function(t){var n,a
if(Un(t))for(n=0;n<r.length;n++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null)
a=o?o.getPropertyValue(e):null
if(a===r[n])return true}return false}}
var Hn=function(e){return function(t){return Un(t)&&t.hasAttribute(e)}}
var Vn=function(e,t){return function(r){return Un(r)&&r.getAttribute(e)===t}}
var qn=function(e){return Un(e)&&e.hasAttribute("data-mce-bogus")}
var $n=function(e){return Un(e)&&"all"===e.getAttribute("data-mce-bogus")}
var Wn=function(e){return Un(e)&&"TABLE"===e.tagName}
var Kn=function(e){return function(t){if(Un(t)){if(t.contentEditable===e)return true
if(t.getAttribute("data-mce-contenteditable")===e)return true}return false}}
var Xn=zn(["textarea","input"])
var Yn=Mn(3)
var Gn=Mn(8)
var Jn=Mn(9)
var Qn=Mn(11)
var Zn=zn(["br"])
var ea=zn(["img"])
var ta=Kn("true")
var ra=Kn("false")
var na=zn(["td","th"])
var aa=zn(["video","audio","object","embed"])
var oa=function(e){return void 0!==e.style&&H(e.style.getPropertyValue)}
var ia=function(e,t,r){if(!(P(r)||F(r)||V(r))){console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e)
throw new Error("Attribute value was not simple")}e.setAttribute(t,r+"")}
var ua=function(e,t,r){ia(e.dom,t,r)}
var fa=function(e,t){var r=e.dom
we(t,(function(e,t){ia(r,t,e)}))}
var ca=function(e,t){var r=e.dom.getAttribute(t)
return null===r?void 0:r}
var sa=function(e,t){return A.from(ca(e,t))}
var la=function(e,t){var r=e.dom
return!(!r||!r.hasAttribute)&&r.hasAttribute(t)}
var da=function(e,t){e.dom.removeAttribute(t)}
var va=function(e){return ne(e.dom.attributes,(function(e,t){e[t.name]=t.value
return e}),{})}
var ma=function(e,t,r){if(!P(r)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e)
throw new Error("CSS value must be a string: "+r)}oa(e)&&e.style.setProperty(t,r)}
var pa=function(e,t){var r=e.dom
we(t,(function(e,t){ma(r,t,e)}))}
var ga=function(e,t){var r=e.dom
var n=window.getComputedStyle(r)
var a=n.getPropertyValue(t)
return""!==a||Nn(e)?a:ha(r,t)}
var ha=function(e,t){return oa(e)?e.style.getPropertyValue(t):""}
var ya=function(e,t){var r=e.dom
var n=ha(r,t)
return A.from(n).filter((function(e){return e.length>0}))}
var ba=function(e){var t={}
var r=e.dom
if(oa(r))for(var n=0;n<r.style.length;n++){var a=r.style.item(n)
t[a]=r.style[a]}return t}
var Ca=function(e){return e.dom.offsetWidth}
var wa=Ht().browser
var xa=function(e){return oe(e,Mr)}
var Sa=function(e){return wa.isFirefox()&&"table"===Br(e)?xa(Qr(e)).filter((function(e){return"caption"===Br(e)})).bind((function(e){return xa(Jr(e)).map((function(t){var r=t.dom.offsetTop
var n=e.dom.offsetTop
var a=e.dom.offsetHeight
return r<=n?-a:0}))})).getOr(0):0}
var Na=function(e,t){return e.children&&Y(e.children,t)}
var ka=function(e,t,r){var n,a=0,o=0
var i=e.ownerDocument
var u
r=r||e
if(t){if(r===e&&t.getBoundingClientRect&&"static"===ga(gr.fromDom(e),"position")){u=t.getBoundingClientRect()
a=u.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft
o=u.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop
return{x:a,y:o}}n=t
while(n&&n!==r&&n.nodeType&&!Na(n,r)){a+=n.offsetLeft||0
o+=n.offsetTop||0
n=n.offsetParent}n=t.parentNode
while(n&&n!==r&&n.nodeType&&!Na(n,r)){a-=n.scrollLeft||0
o-=n.scrollTop||0
n=n.parentNode}o+=Sa(gr.fromDom(t))}return{x:a,y:o}}
var Ea={},_a={exports:Ea};(function(e,r,n,a){(function(a){if("object"===typeof r&&"undefined"!==typeof n)n.exports=a()
else if("function"===typeof e&&e.amd)e([],a)
else{var o
o="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this
o.EphoxContactWrapper=a()}})((function(){return function(){function e(t,r,n){function o(u,f){if(!r[u]){if(!t[u]){var c="function"==typeof a&&a
if(!f&&c)return c(u,!0)
if(i)return i(u,!0)
var s=new Error("Cannot find module '"+u+"'")
throw s.code="MODULE_NOT_FOUND",s}var l=r[u]={exports:{}}
t[u][0].call(l.exports,(function(e){var r=t[u][1][e]
return o(r||e)}),l,l.exports,e,t,r,n)}return r[u].exports}for(var i="function"==typeof a&&a,u=0;u<n.length;u++)o(n[u])
return o}return e}()({1:[function(e,t,r){var n=t.exports={}
var a
var o
function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{a="function"===typeof setTimeout?setTimeout:i}catch(e){a=i}try{o="function"===typeof clearTimeout?clearTimeout:u}catch(e){o=u}})()
function f(e){if(a===setTimeout)return setTimeout(e,0)
if((a===i||!a)&&setTimeout){a=setTimeout
return setTimeout(e,0)}try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e)
if((o===u||!o)&&clearTimeout){o=clearTimeout
return clearTimeout(e)}try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}var s=[]
var l=false
var d
var v=-1
function m(){if(!l||!d)return
l=false
d.length?s=d.concat(s):v=-1
s.length&&p()}function p(){if(l)return
var e=f(m)
l=true
var t=s.length
while(t){d=s
s=[]
while(++v<t)d&&d[v].run()
v=-1
t=s.length}d=null
l=false
c(e)}n.nextTick=function(e){var t=new Array(arguments.length-1)
if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
s.push(new g(e,t))
1!==s.length||l||f(p)}
function g(e,t){this.fun=e
this.array=t}g.prototype.run=function(){this.fun.apply(null,this.array)}
n.title="browser"
n.browser=true
n.env={}
n.argv=[]
n.version=""
n.versions={}
function h(){}n.on=h
n.addListener=h
n.once=h
n.off=h
n.removeListener=h
n.removeAllListeners=h
n.emit=h
n.prependListener=h
n.prependOnceListener=h
n.listeners=function(e){return[]}
n.binding=function(e){throw new Error("process.binding is not supported")}
n.cwd=function(){return"/"}
n.chdir=function(e){throw new Error("process.chdir is not supported")}
n.umask=function(){return 0}},{}],2:[function(e,t,r){(function(e){(function(r){var n=setTimeout
function a(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof e)throw new TypeError("not a function")
this._state=0
this._handled=false
this._value=void 0
this._deferreds=[]
d(e,this)}function u(e,t){while(3===e._state)e=e._value
if(0===e._state){e._deferreds.push(t)
return}e._handled=true
i._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected
if(null===r){(1===e._state?f:c)(t.promise,e._value)
return}var n
try{n=r(e._value)}catch(e){c(t.promise,e)
return}f(t.promise,n)}))}function f(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var r=t.then
if(t instanceof i){e._state=3
e._value=t
s(e)
return}if("function"===typeof r){d(o(r,t),e)
return}}e._state=1
e._value=t
s(e)}catch(t){c(e,t)}}function c(e,t){e._state=2
e._value=t
s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}))
for(var t=0,r=e._deferreds.length;t<r;t++)u(e,e._deferreds[t])
e._deferreds=null}function l(e,t,r){this.onFulfilled="function"===typeof e?e:null
this.onRejected="function"===typeof t?t:null
this.promise=r}function d(e,t){var r=false
try{e((function(e){if(r)return
r=true
f(t,e)}),(function(e){if(r)return
r=true
c(t,e)}))}catch(e){if(r)return
r=true
c(t,e)}}i.prototype["catch"]=function(e){return this.then(null,e)}
i.prototype.then=function(e,t){var r=new this.constructor(a)
u(this,new l(e,t,r))
return r}
i.all=function(e){var t=Array.prototype.slice.call(e)
return new i((function(e,r){if(0===t.length)return e([])
var n=t.length
function a(o,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(e){a(o,e)}),r)
return}}t[o]=i
0===--n&&e(t)}catch(e){r(e)}}for(var o=0;o<t.length;o++)a(o,t[o])}))}
i.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===i)return e
return new i((function(t){t(e)}))}
i.reject=function(e){return new i((function(t,r){r(e)}))}
i.race=function(e){return new i((function(t,r){for(var n=0,a=e.length;n<a;n++)e[n].then(t,r)}))}
i._immediateFn="function"===typeof e?function(t){e(t)}:function(e){n(e,0)}
i._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)}
i._setImmediateFn=function(e){i._immediateFn=e}
i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e}
"undefined"!==typeof t&&t.exports?t.exports=i:r.Promise||(r.Promise=i)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,r){(function(t,n){var a=e("process/browser.js").nextTick
var o=Function.prototype.apply
var i=Array.prototype.slice
var u={}
var f=0
r.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)}
r.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)}
r.clearTimeout=r.clearInterval=function(e){e.close()}
function c(e,t){this._id=e
this._clearFn=t}c.prototype.unref=c.prototype.ref=function(){}
c.prototype.close=function(){this._clearFn.call(window,this._id)}
r.enroll=function(e,t){clearTimeout(e._idleTimeoutId)
e._idleTimeout=t}
r.unenroll=function(e){clearTimeout(e._idleTimeoutId)
e._idleTimeout=-1}
r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId)
var t=e._idleTimeout
t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))}
r.setImmediate="function"===typeof t?t:function(e){var t=f++
var n=!(arguments.length<2)&&i.call(arguments,1)
u[t]=true
a((function(){if(u[t]){n?e.apply(null,n):e.call(null)
r.clearImmediate(t)}}))
return t}
r.clearImmediate="function"===typeof n?n:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,r){var n=e("promise-polyfill")
var a="undefined"!==typeof window?window:Function("return this;")()
t.exports={boltExport:a.Promise||n}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,Ea,_a,void 0)
var Ta=_a.exports.boltExport
var Aa=function(e){var t=A.none()
var r=[]
var n=function(e){return Aa((function(t){a((function(r){t(e(r))}))}))}
var a=function(e){i()?f(e):r.push(e)}
var o=function(e){if(!i()){t=A.some(e)
u(r)
r=[]}}
var i=function(){return t.isSome()}
var u=function(e){Q(e,f)}
var f=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))}
e(o)
return{get:a,map:n,isReady:i}}
var Ra=function(e){return Aa((function(t){t(e)}))}
var Da={nu:Aa,pure:Ra}
var Oa=function(e){setTimeout((function(){throw e}),0)}
var Ba=function(e){var t=function(t){e().then(t,Oa)}
var r=function(t){return Ba((function(){return e().then(t)}))}
var n=function(t){return Ba((function(){return e().then((function(e){return t(e).toPromise()}))}))}
var a=function(t){return Ba((function(){return e().then((function(){return t.toPromise()}))}))}
var o=function(){return Da.nu(t)}
var i=function(){var t=null
return Ba((function(){null===t&&(t=e())
return t}))}
var u=e
return{map:r,bind:n,anonBind:a,toLazy:o,toCached:i,toPromise:u,get:t}}
var Pa=function(e){return Ba((function(){return new Ta(e)}))}
var La=function(e){return Ba((function(){return Ta.resolve(e)}))}
var Ia={nu:Pa,pure:La}
var Ma=function(e,t){return t((function(t){var r=[]
var n=0
var a=function(a){return function(o){r[a]=o
n++
n>=e.length&&t(r)}}
0===e.length?t([]):Q(e,(function(e,t){e.get(a(t))}))}))}
var Fa=function(e){return Ma(e,Ia.nu)}
var Ua=function(e){var t=function(t){return e===t}
var r=function(t){return Ua(e)}
var n=function(t){return Ua(e)}
var a=function(t){return Ua(t(e))}
var o=function(t){return Ua(e)}
var i=function(t){t(e)}
var u=function(t){return t(e)}
var f=function(t,r){return r(e)}
var c=function(t){return t(e)}
var s=function(t){return t(e)}
var l=function(){return A.some(e)}
return{is:t,isValue:N,isError:S,getOr:h(e),getOrThunk:h(e),getOrDie:h(e),or:r,orThunk:n,fold:f,map:a,mapError:o,each:i,bind:u,exists:c,forall:s,toOptional:l}}
var za=function(e){var t=function(e){return e()}
var r=function(){return w(String(e))()}
var n=function(e){return e}
var a=function(e){return e()}
var o=function(t){return za(e)}
var i=function(t){return za(t(e))}
var u=function(t){return za(e)}
var f=function(t,r){return t(e)}
return{is:S,isValue:S,isError:N,getOr:y,getOrThunk:t,getOrDie:r,or:n,orThunk:a,fold:f,map:o,mapError:i,each:m,bind:u,exists:S,forall:N,toOptional:A.none}}
var ja=function(e,t){return e.fold((function(){return za(t)}),Ua)}
var Ha={value:Ua,error:za,fromOption:ja}
var Va=function(e){if(!I(e))throw new Error("cases must be an array")
if(0===e.length)throw new Error("there must be at least one case")
var t=[]
var r={}
Q(e,(function(n,a){var o=be(n)
if(1!==o.length)throw new Error("one and only one name per case")
var i=o[0]
var u=n[i]
if(void 0!==r[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!I(u))throw new Error("case arguments must be an array")
t.push(i)
r[i]=function(){var r=arguments.length
if(r!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+r)
var n=new Array(r)
for(var o=0;o<n.length;o++)n[o]=arguments[o]
var f=function(e){var r=be(e)
if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","))
var a=ce(t,(function(e){return Y(r,e)}))
if(!a)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "))
return e[i].apply(null,n)}
return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length)
var t=arguments[a]
return t.apply(null,n)},match:f,log:function(e){console.log(e,{constructors:t,constructor:i,params:n})}}}}))
return r}
var qa={generate:Va}
qa.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var $a=function(e){return e.fold(y,y)}
function Wa(e,t,r,n,a){return e(r,n)?A.some(r):H(a)&&a(r)?A.none():t(r,n,a)}var Ka=function(e,t,r){var n=e.dom
var a=H(r)?r:S
while(n.parentNode){n=n.parentNode
var o=gr.fromDom(n)
if(t(o))return A.some(o)
if(a(o))break}return A.none()}
var Xa=function(e,t,r){var n=function(e,t){return t(e)}
return Wa(n,Ka,e,t,r)}
var Ya=function(e,t){var r=e.dom
if(!r.parentNode)return A.none()
return Ga(gr.fromDom(r.parentNode),(function(r){return!Ar(e,r)&&t(r)}))}
var Ga=function(e,t){var r=function(e){return t(gr.fromDom(e))}
var n=oe(e.dom.childNodes,r)
return n.map(gr.fromDom)}
var Ja=function(e,t,r){return Ka(e,(function(e){return kr(e,t)}),r)}
var Qa=function(e,t){return Tr(t,e)}
var Za=function(e,t,r){var n=function(e,t){return kr(e,t)}
return Wa(n,Ja,e,t,r)}
var eo=function(){function e(e,t){return function(){e.apply(t,arguments)}}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}
var n=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof t)throw new TypeError("not a function")
this._state=null
this._value=null
this._deferreds=[]
s(t,e(i,this),e(u,this))}
var a=n.immediateFn||"function"===typeof r&&r||function(e){setTimeout(e,1)}
function o(e){var t=this
if(null===this._state){this._deferreds.push(e)
return}a((function(){var r=t._state?e.onFulfilled:e.onRejected
if(null===r){(t._state?e.resolve:e.reject)(t._value)
return}var n
try{n=r(t._value)}catch(t){e.reject(t)
return}e.resolve(n)}))}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var r=t.then
if("function"===typeof r){s(e(r,t),e(i,this),e(u,this))
return}}this._state=true
this._value=t
f.call(this)}catch(e){u.call(this,e)}}function u(e){this._state=false
this._value=e
f.call(this)}function f(){for(var e=0,t=this._deferreds.length;e<t;e++)o.call(this,this._deferreds[e])
this._deferreds=null}function c(e,t,r,n){this.onFulfilled="function"===typeof e?e:null
this.onRejected="function"===typeof t?t:null
this.resolve=r
this.reject=n}function s(e,t,r){var n=false
try{e((function(e){if(n)return
n=true
t(e)}),(function(e){if(n)return
n=true
r(e)}))}catch(e){if(n)return
n=true
r(e)}}n.prototype.catch=function(e){return this.then(null,e)}
n.prototype.then=function(e,t){var r=this
return new n((function(n,a){o.call(r,new c(e,t,n,a))}))}
n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&t(arguments[0])?arguments[0]:arguments)
return new n((function(t,r){if(0===e.length)return t([])
var n=e.length
function a(o,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(e){a(o,e)}),r)
return}}e[o]=i
0===--n&&t(e)}catch(e){r(e)}}for(var o=0;o<e.length;o++)a(o,e[o])}))}
n.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===n)return e
return new n((function(t){t(e)}))}
n.reject=function(e){return new n((function(t,r){r(e)}))}
n.race=function(e){return new n((function(t,r){for(var n=0,a=e.length;n<a;n++)e[n].then(t,r)}))}
return n}
var to=window.Promise?window.Promise:eo()
var ro
var no=function(e,t){var r,n=window.requestAnimationFrame
var a=["ms","moz","webkit"]
var o=function(e){window.setTimeout(e,0)}
for(r=0;r<a.length&&!n;r++)n=window[a[r]+"RequestAnimationFrame"]
n||(n=o)
n(e,t)}
var ao=function(e,t){"number"!==typeof t&&(t=0)
return setTimeout(e,t)}
var oo=function(e,t){"number"!==typeof t&&(t=1)
return setInterval(e,t)}
var io=function(e){return clearTimeout(e)}
var uo=function(e){return clearInterval(e)}
var fo=function(e,t){var r
var n=function(){var n=[]
for(var a=0;a<arguments.length;a++)n[a]=arguments[a]
clearTimeout(r)
r=ao((function(){e.apply(this,n)}),t)}
n.stop=function(){clearTimeout(r)}
return n}
var co={requestAnimationFrame:function(e,t){if(ro){ro.then(e)
return}ro=new to((function(e){t||(t=document.body)
no(e,t)})).then(e)},setTimeout:ao,setInterval:oo,setEditorTimeout:function(e,t,r){return ao((function(){e.removed||t()}),r)},setEditorInterval:function(e,t,r){var n=oo((function(){e.removed?clearInterval(n):t()}),r)
return n},debounce:fo,throttle:fo,clearInterval:uo,clearTimeout:io}
function so(e,t){void 0===t&&(t={})
var r=0
var n={}
var a=gr.fromDom(e)
var o=Hr(a)
var i=t.maxLoadTime||5e3
var u=function(e){t.referrerPolicy=e}
var f=function(e){hn(cn(a),e)}
var c=function(e){var t=cn(a)
Qa(t,"#"+e).each(xn)}
var s=function(e){return Re(n,e).getOrThunk((function(){return{id:"mce-u"+r++,passed:[],failed:[],count:0}}))}
var l=function(r,a,u){var c
var l=sr._addCacheSuffix(r)
var d=s(l)
n[l]=d
d.count++
var v=function(e,t){var r=e.length
while(r--)e[r]()
d.status=t
d.passed=[]
d.failed=[]
if(c){c.onload=null
c.onerror=null
c=null}}
var m=function(){return v(d.passed,2)}
var p=function(){return v(d.failed,3)}
var g=function(e,t){e()||(Date.now()-b<i?co.setTimeout(t):p())}
var h=function(){g((function(){var t=e.styleSheets
var r=t.length
while(r--){var n=t[r]
var a=n.ownerNode
if(a&&a.id===c.id){m()
return true}}return false}),h)}
a&&d.passed.push(a)
u&&d.failed.push(u)
if(1===d.status)return
if(2===d.status){m()
return}if(3===d.status){p()
return}d.status=1
var y=gr.fromTag("link",o.dom)
fa(y,{rel:"stylesheet",type:"text/css",id:d.id})
var b=Date.now()
t.contentCssCors&&ua(y,"crossOrigin","anonymous")
t.referrerPolicy&&ua(y,"referrerpolicy",t.referrerPolicy)
c=y.dom
c.onload=h
c.onerror=p
f(y)
ua(y,"href",l)}
var d=function(e){return Ia.nu((function(t){l(e,p(t,h(Ha.value(e))),p(t,h(Ha.error(e))))}))}
var v=function(e,t,r){Fa(J(e,d)).get((function(e){var n=ee(e,(function(e){return e.isValue()}))
n.fail.length>0?r(n.fail.map($a)):t(n.pass.map($a))}))}
var m=function(e){var t=sr._addCacheSuffix(e)
Re(n,t).each((function(e){var r=--e.count
if(0===r){delete n[t]
c(e.id)}}))}
var g=function(e){Q(e,(function(e){m(e)}))}
return{load:l,loadAll:v,unload:m,unloadAll:g,_setReferrerPolicy:u}}var lo=function(){var e=new WeakMap
var t=function(t,r){var n=fn(t)
var a=n.dom
return A.from(e.get(a)).getOrThunk((function(){var t=so(a,r)
e.set(a,t)
return t}))}
return{forElement:t}}
var vo=lo()
var mo=function(){function e(e,t){this.node=e
this.rootNode=t
this.current=this.current.bind(this)
this.next=this.next.bind(this)
this.prev=this.prev.bind(this)
this.prev2=this.prev2.bind(this)}e.prototype.current=function(){return this.node}
e.prototype.next=function(e){this.node=this.findSibling(this.node,"firstChild","nextSibling",e)
return this.node}
e.prototype.prev=function(e){this.node=this.findSibling(this.node,"lastChild","previousSibling",e)
return this.node}
e.prototype.prev2=function(e){this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e)
return this.node}
e.prototype.findSibling=function(e,t,r,n){var a,o
if(e){if(!n&&e[t])return e[t]
if(e!==this.rootNode){a=e[r]
if(a)return a
for(o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode){a=o[r]
if(a)return a}}}}
e.prototype.findPreviousNode=function(e,t,r,n){var a,o,i
if(e){a=e[r]
if(this.rootNode&&a===this.rootNode)return
if(a){if(!n)for(i=a[t];i;i=i[t])if(!i[t])return i
return a}o=e.parentNode
if(o&&o!==this.rootNode)return o}}
return e}()
var po=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]
var go=["td","th"]
var ho=["thead","tbody","tfoot"]
var yo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]
var bo=["h1","h2","h3","h4","h5","h6"]
var Co=["li","dd","dt"]
var wo=["ul","ol","dl"]
var xo=["pre","script","textarea","style"]
var So=function(e){var t
return function(r){t=t||de(e,N)
return t.hasOwnProperty(Br(r))}}
var No=So(bo)
var ko=So(po)
var Eo=function(e){return"table"===Br(e)}
var _o=function(e){return Mr(e)&&!ko(e)}
var To=function(e){return Mr(e)&&"br"===Br(e)}
var Ao=So(yo)
var Ro=So(wo)
var Do=So(Co)
var Oo=So(ho)
var Bo=So(go)
var Po=So(xo)
var Lo=function(e,t,r){return Ja(e,t,r).isSome()}
var Io="\ufeff"
var Mo="Â "
var Fo=function(e){return e===Io}
var Uo=function(e){return e.replace(/\uFEFF/g,"")}
var zo=Io
var jo=Fo
var Ho=Uo
var Vo=Un
var qo=Yn
var $o=function(e){qo(e)&&(e=e.parentNode)
return Vo(e)&&e.hasAttribute("data-mce-caret")}
var Wo=function(e){return qo(e)&&jo(e.data)}
var Ko=function(e){return $o(e)||Wo(e)}
var Xo=function(e){return e.firstChild!==e.lastChild||!Zn(e.firstChild)}
var Yo=function(e,t){var r
var n=e.ownerDocument
var a=n.createTextNode(zo)
var o=e.parentNode
if(t){r=e.previousSibling
if(qo(r)){if(Ko(r))return r
if(ti(r))return r.splitText(r.data.length-1)}o.insertBefore(a,e)}else{r=e.nextSibling
if(qo(r)){if(Ko(r))return r
if(ei(r)){r.splitText(1)
return r}}e.nextSibling?o.insertBefore(a,e.nextSibling):o.appendChild(a)}return a}
var Go=function(e){var t=e.container()
if(!Yn(t))return false
return t.data.charAt(e.offset())===zo||e.isAtStart()&&Wo(t.previousSibling)}
var Jo=function(e){var t=e.container()
if(!Yn(t))return false
return t.data.charAt(e.offset()-1)===zo||e.isAtEnd()&&Wo(t.nextSibling)}
var Qo=function(){var e=document.createElement("br")
e.setAttribute("data-mce-bogus","1")
return e}
var Zo=function(e,t,r){var n=t.ownerDocument
var a=n.createElement(e)
a.setAttribute("data-mce-caret",r?"before":"after")
a.setAttribute("data-mce-bogus","all")
a.appendChild(Qo())
var o=t.parentNode
r?o.insertBefore(a,t):t.nextSibling?o.insertBefore(a,t.nextSibling):o.appendChild(a)
return a}
var ei=function(e){return qo(e)&&e.data[0]===zo}
var ti=function(e){return qo(e)&&e.data[e.data.length-1]===zo}
var ri=function(e){var t=e.getElementsByTagName("br")
var r=t[t.length-1]
qn(r)&&r.parentNode.removeChild(r)}
var ni=function(e){if(e&&e.hasAttribute("data-mce-caret")){ri(e)
e.removeAttribute("data-mce-caret")
e.removeAttribute("data-mce-bogus")
e.removeAttribute("style")
e.removeAttribute("_moz_abspos")
return e}return null}
var ai=function(e){return $o(e.startContainer)}
var oi=ta
var ii=ra
var ui=Zn
var fi=Yn
var ci=zn(["script","style","textarea"])
var si=zn(["img","input","textarea","hr","iframe","video","audio","object","embed"])
var li=zn(["table"])
var di=Ko
var vi=function(e){if(di(e))return false
if(fi(e))return!ci(e.parentNode)
return si(e)||ui(e)||li(e)||pi(e)}
var mi=function(e){return Un(e)&&"true"===e.getAttribute("unselectable")}
var pi=function(e){return false===mi(e)&&ii(e)}
var gi=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(pi(e))return false
if(oi(e))return true}return true}
var hi=function(e){if(!pi(e))return false
return true!==ne(he(e.getElementsByTagName("*")),(function(e,t){return e||oi(t)}),false)}
var yi=function(e){return si(e)||hi(e)}
var bi=function(e,t){return vi(e)&&gi(e,t)}
var Ci=/^[ \t\r\n]*$/
var wi=function(e){return Ci.test(e)}
var xi=function(e,t){var r=gr.fromDom(t)
var n=gr.fromDom(e)
return Lo(n,"pre,code",b(Ar,r))}
var Si=function(e,t){return Yn(e)&&wi(e.data)&&false===xi(e,t)}
var Ni=function(e){return Un(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))}
var ki=function(e,t){return vi(e)&&false===Si(e,t)||Ni(e)||Ei(e)}
var Ei=Hn("data-mce-bookmark")
var _i=Hn("data-mce-bogus")
var Ti=Vn("data-mce-bogus","all")
var Ai=function(e,t){var r,n=0
if(ki(e,e))return false
r=e.firstChild
if(!r)return true
var a=new mo(r,e)
do{if(t){if(Ti(r)){r=a.next(true)
continue}if(_i(r)){r=a.next()
continue}}if(Zn(r)){n++
r=a.next()
continue}if(ki(r,e))return false
r=a.next()}while(r)
return n<=1}
var Ri=function(e,t){void 0===t&&(t=true)
return Ai(e.dom,t)}
var Di=function(e){return"span"===e.nodeName.toLowerCase()}
var Oi=function(e,t){return j(e)&&(ki(e,t)||_o(gr.fromDom(e)))}
var Bi=function(e,t){var r=new mo(e,t).prev(false)
var n=new mo(e,t).next(false)
var a=U(r)||Oi(r,t)
var o=U(n)||Oi(n,t)
return a&&o}
var Pi=function(e){return Di(e)&&"bookmark"===e.getAttribute("data-mce-type")}
var Li=function(e,t){return Yn(e)&&e.data.length>0&&Bi(e,t)}
var Ii=function(e){return!!Un(e)&&e.childNodes.length>0}
var Mi=function(e){return Qn(e)||Jn(e)}
var Fi=function(e,t,r){var n=r||t
if(Un(t)&&Pi(t))return t
var a=t.childNodes
for(var o=a.length-1;o>=0;o--)Fi(e,a[o],n)
if(Un(t)){var i=t.childNodes
1===i.length&&Pi(i[0])&&t.parentNode.insertBefore(i[0],t)}Mi(t)||ki(t,n)||Ii(t)||Li(t,n)||e.remove(t)
return t}
var Ui=sr.makeMap
var zi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g
var ji=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g
var Hi=/[<>&\"\']/g
var Vi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi
var qi={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"}
var $i={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"}
var Wi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"}
var Ki=function(e){var t=gr.fromTag("div").dom
t.innerHTML=e
return t.textContent||t.innerText||e}
var Xi=function(e,t){var r,n,a
var o={}
if(e){e=e.split(",")
t=t||10
for(r=0;r<e.length;r+=2){n=String.fromCharCode(parseInt(e[r],t))
if(!$i[n]){a="&"+e[r+1]+";"
o[n]=a
o[a]=n}}return o}}
var Yi=Xi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32)
var Gi=function(e,t){return e.replace(t?zi:ji,(function(e){return $i[e]||e}))}
var Ji=function(e){return(""+e).replace(Hi,(function(e){return $i[e]||e}))}
var Qi=function(e,t){return e.replace(t?zi:ji,(function(e){if(e.length>1)return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"
return $i[e]||"&#"+e.charCodeAt(0)+";"}))}
var Zi=function(e,t,r){r=r||Yi
return e.replace(t?zi:ji,(function(e){return $i[e]||r[e]||e}))}
var eu=function(e,t){var r=Xi(t)||Yi
var n=function(e,t){return e.replace(t?zi:ji,(function(e){if(void 0!==$i[e])return $i[e]
if(void 0!==r[e])return r[e]
if(e.length>1)return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"
return"&#"+e.charCodeAt(0)+";"}))}
var a=function(e,t){return Zi(e,t,r)}
var o=Ui(e.replace(/\+/g,","))
if(o.named&&o.numeric)return n
if(o.named){if(t)return a
return Zi}if(o.numeric)return Qi
return Gi}
var tu=function(e){return e.replace(Vi,(function(e,t){if(t){t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10)
if(t>65535){t-=65536
return String.fromCharCode(55296+(t>>10),56320+(1023&t))}return qi[t]||String.fromCharCode(t)}return Wi[e]||Yi[e]||Ki(e)}))}
var ru={encodeRaw:Gi,encodeAllRaw:Ji,encodeNumeric:Qi,encodeNamed:Zi,getEncodeFunc:eu,decode:tu}
var nu={},au={}
var ou=sr.makeMap,iu=sr.each,uu=sr.extend,fu=sr.explode,cu=sr.inArray
var su=function(e,t){e=sr.trim(e)
return e?e.split(t||" "):[]}
var lu=function(e){var t={}
var r,n
var a,o,i,u
var f=function(e,n,a){var o,i,u
var f=function(e,t){var r={}
var n,a
for(n=0,a=e.length;n<a;n++)r[e[n]]=t||{}
return r}
a=a||[]
n=n||""
"string"===typeof a&&(a=su(a))
var c=su(e)
o=c.length
while(o--){i=su([r,n].join(" "))
u={attributes:f(i),attributesOrder:i,children:f(a,au)}
t[c[o]]=u}}
var c=function(e,r){var n,a,o,i
var u=su(e)
n=u.length
var f=su(r)
while(n--){a=t[u[n]]
for(o=0,i=f.length;o<i;o++){a.attributes[f[o]]={}
a.attributesOrder.push(f[o])}}}
if(nu[e])return nu[e]
r="id accesskey class dir lang style tabindex title role"
n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"
a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"
if("html4"!==e){r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate"
n+=" article aside details dialog figure main header footer hgroup section nav"
a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if("html5-strict"!==e){r+=" xml:lang"
u="acronym applet basefont big font strike tt"
a=[a,u].join(" ")
iu(su(u),(function(e){f(e,"",a)}))
i="center dir isindex noframes"
n=[n,i].join(" ")
o=[n,a].join(" ")
iu(su(i),(function(e){f(e,"",o)}))}o=o||[n,a].join(" ")
f("html","manifest","head body")
f("head","","base command link meta noscript script style title")
f("title hr noscript br")
f("base","href target")
f("link","href rel media hreflang type sizes hreflang")
f("meta","name http-equiv content charset")
f("style","media type scoped")
f("script","src async defer type charset")
f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o)
f("address dt dd div caption","",o)
f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a)
f("blockquote","cite",o)
f("ol","reversed start type","li")
f("ul","","li")
f("li","value",o)
f("dl","","dt dd")
f("a","href target rel media hreflang type",a)
f("q","cite",a)
f("ins del","cite datetime",o)
f("img","src sizes srcset alt usemap ismap width height")
f("iframe","src name width height",o)
f("embed","src type width height")
f("object","data type typemustmatch name usemap form width height",[o,"param"].join(" "))
f("param","name value")
f("map","name",[o,"area"].join(" "))
f("area","alt coords shape href target rel media hreflang type")
f("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":""))
f("colgroup","span","col")
f("col","span")
f("tbody thead tfoot","","tr")
f("tr","","td th")
f("td","colspan rowspan headers",o)
f("th","colspan rowspan headers scope abbr",o)
f("form","accept-charset action autocomplete enctype method name novalidate target",o)
f("fieldset","disabled form name",[o,"legend"].join(" "))
f("label","form for",a)
f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width")
f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:a)
f("select","disabled form multiple name required size","option optgroup")
f("optgroup","disabled label","option")
f("option","disabled label selected value")
f("textarea","cols dirname disabled form maxlength name readonly required rows wrap")
f("menu","type label",[o,"li"].join(" "))
f("noscript","",o)
if("html4"!==e){f("wbr")
f("ruby","",[a,"rt rp"].join(" "))
f("figcaption","",o)
f("mark rt rp summary bdi","",a)
f("canvas","width height",o)
f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" "))
f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" "))
f("picture","","img source")
f("source","src srcset type media sizes")
f("track","kind src srclang label default")
f("datalist","",[a,"option"].join(" "))
f("article section nav aside main header footer","",o)
f("hgroup","","h1 h2 h3 h4 h5 h6")
f("figure","",[o,"figcaption"].join(" "))
f("time","datetime",a)
f("dialog","open",o)
f("command","type label icon disabled checked radiogroup command")
f("output","for form name",a)
f("progress","value max",a)
f("meter","value min max low high optimum",a)
f("details","open",[o,"summary"].join(" "))
f("keygen","autofocus challenge disabled form keytype name")}if("html5-strict"!==e){c("script","language xml:space")
c("style","xml:space")
c("object","declare classid code codebase codetype archive standby align border hspace vspace")
c("embed","align name hspace vspace")
c("param","valuetype type")
c("a","charset name rev shape coords")
c("br","clear")
c("applet","codebase archive code object alt name width height align hspace vspace")
c("img","name longdesc align border hspace vspace")
c("iframe","longdesc frameborder marginwidth marginheight scrolling align")
c("font basefont","size color face")
c("input","usemap align")
c("select")
c("textarea")
c("h1 h2 h3 h4 h5 h6 div p legend caption","align")
c("ul","type compact")
c("li","type")
c("ol dl menu dir","compact")
c("pre","width xml:space")
c("hr","align noshade size width")
c("isindex","prompt")
c("table","summary width frame rules cellspacing cellpadding align bgcolor")
c("col","width align char charoff valign")
c("colgroup","width align char charoff valign")
c("thead","align char charoff valign")
c("tr","align char charoff valign bgcolor")
c("th","axis align char charoff valign nowrap bgcolor width height")
c("form","accept")
c("td","abbr axis scope align char charoff valign nowrap bgcolor width height")
c("tfoot","align char charoff valign")
c("tbody","align char charoff valign")
c("area","nohref")
c("body","background bgcolor text link vlink alink")}if("html4"!==e){c("input button select textarea","autofocus")
c("input textarea","placeholder")
c("a","download")
c("link script img","crossorigin")
c("img","loading")
c("iframe","sandbox seamless allowfullscreen loading")}iu(su("a form meter progress dfn"),(function(e){t[e]&&delete t[e].children[e]}))
delete t.caption.children.table
delete t.script
nu[e]=t
return t}
var du=function(e,t){var r
if(e){r={}
"string"===typeof e&&(e={"*":e})
iu(e,(function(e,n){r[n]=r[n.toUpperCase()]="map"===t?ou(e,/[, ]/):fu(e,/[, ]/)}))}return r}
function vu(e){var t={}
var r={}
var n=[]
var a={},o={}
var i=function(t,r,n){var a=e[t]
if(a)a=ou(a,/[, ]/,ou(a.toUpperCase(),/[, ]/))
else{a=nu[t]
if(!a){a=ou(r," ",ou(r.toUpperCase()," "))
a=uu(a,n)
nu[t]=a}}return a}
e=e||{}
var u=lu(e.schema)
false===e.verify_html&&(e.valid_elements="*[*]")
var f=du(e.valid_styles)
var c=du(e.invalid_styles,"map")
var s=du(e.valid_classes,"map")
var l=i("whitespace_elements","pre script noscript style textarea video audio iframe object code")
var d=i("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr")
var v=i("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track")
var m=i("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls")
var p="td th iframe video audio object script code"
var g=i("non_empty_elements",p+" pre",v)
var h=i("move_caret_before_on_enter_elements",p+" table",v)
var y=i("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure")
var b=i("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",y)
var C=i("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp")
iu((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){o[e]=new RegExp("</"+e+"[^>]*>","gi")}))
var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}
var x=function(e){var r,a,o,i,u,f,c,s,l,d,v,m,p,g,h,y,b,C
var x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,N=/[*?+]/
if(e){var k=su(e,",")
if(t["@"]){y=t["@"].attributes
b=t["@"].attributesOrder}for(r=0,a=k.length;r<a;r++){u=x.exec(k[r])
if(u){g=u[1]
l=u[2]
h=u[3]
s=u[5]
m={}
p=[]
f={attributes:m,attributesOrder:p}
"#"===g&&(f.paddEmpty=true)
"-"===g&&(f.removeEmpty=true)
"!"===u[4]&&(f.removeEmptyAttrs=true)
if(y){we(y,(function(e,t){m[t]=e}))
p.push.apply(p,b)}if(s){s=su(s,"|")
for(o=0,i=s.length;o<i;o++){u=S.exec(s[o])
if(u){c={}
v=u[1]
d=u[2].replace(/[\\:]:/g,":")
g=u[3]
C=u[4]
if("!"===v){f.attributesRequired=f.attributesRequired||[]
f.attributesRequired.push(d)
c.required=true}if("-"===v){delete m[d]
p.splice(cu(p,d),1)
continue}if(g){if("="===g){f.attributesDefault=f.attributesDefault||[]
f.attributesDefault.push({name:d,value:C})
c.defaultValue=C}if(":"===g){f.attributesForced=f.attributesForced||[]
f.attributesForced.push({name:d,value:C})
c.forcedValue=C}"<"===g&&(c.validValues=ou(C,"?"))}if(N.test(d)){f.attributePatterns=f.attributePatterns||[]
c.pattern=w(d)
f.attributePatterns.push(c)}else{m[d]||p.push(d)
m[d]=c}}}}if(!y&&"@"===l){y=m
b=p}if(h){f.outputName=l
t[h]=f}if(N.test(l)){f.pattern=w(l)
n.push(f)}else t[l]=f}}}}
var S=function(e){t={}
n=[]
x(e)
iu(u,(function(e,t){r[t]=e.children}))}
var N=function(e){var n=/^(~)?(.+)$/
if(e){nu.text_block_elements=nu.block_elements=null
iu(su(e,","),(function(e){var o=n.exec(e),i="~"===o[1],u=i?"span":"div",f=o[2]
r[f]=r[u]
a[f]=u
if(!i){b[f.toUpperCase()]={}
b[f]={}}if(!t[f]){var c=t[u]
c=uu({},c)
delete c.removeEmptyAttrs
delete c.removeEmpty
t[f]=c}iu(r,(function(e,t){if(e[u]){r[t]=e=uu({},r[t])
e[f]=e[u]}}))}))}}
var k=function(t){var n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/
nu[e.schema]=null
t&&iu(su(t,","),(function(e){var t=n.exec(e)
var a,o
if(t){o=t[1]
a=o?r[t[2]]:r[t[2]]={"#comment":{}}
a=r[t[2]]
iu(su(t[3],"|"),(function(e){"-"===o?delete a[e]:a[e]={}}))}}))}
var E=function(e){var r,a=t[e]
if(a)return a
r=n.length
while(r--){a=n[r]
if(a.pattern.test(e))return a}}
if(e.valid_elements)S(e.valid_elements)
else{iu(u,(function(e,n){t[n]={attributes:e.attributes,attributesOrder:e.attributesOrder}
r[n]=e.children}))
"html5"!==e.schema&&iu(su("strong/b em/i"),(function(e){var r=su(e,"/")
t[r[1]].outputName=r[0]}))
iu(su("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){t[e]&&(t[e].removeEmpty=true)}))
iu(su("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){t[e].paddEmpty=true}))
iu(su("span"),(function(e){t[e].removeEmptyAttrs=true}))}N(e.custom_elements)
k(e.valid_children)
x(e.extended_valid_elements)
k("+ol[ul|ol],+ul[ul|ol]")
iu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,r){t[r]&&(t[r].parentsRequired=su(e))}))
e.invalid_elements&&iu(fu(e.invalid_elements),(function(e){t[e]&&delete t[e]}))
E("span")||x("span[!data-mce-type|*]")
var _=function(){return f}
var T=function(){return c}
var A=function(){return s}
var R=function(){return m}
var D=function(){return b}
var O=function(){return y}
var B=function(){return C}
var P=function(){return v}
var L=function(){return d}
var I=function(){return g}
var M=function(){return h}
var F=function(){return l}
var U=function(){return o}
var z=function(e,t){var n=r[e.toLowerCase()]
return!!(n&&n[t.toLowerCase()])}
var j=function(e,t){var r,n
var a=E(e)
if(a){if(!t)return true
if(a.attributes[t])return true
r=a.attributePatterns
if(r){n=r.length
while(n--)if(r[n].pattern.test(e))return true}}return false}
var H=function(){return a}
return{children:r,elements:t,getValidStyles:_,getValidClasses:A,getBlockElements:D,getInvalidStyles:T,getShortEndedElements:P,getTextBlockElements:O,getTextInlineElements:B,getBoolAttrs:R,getElementRule:E,getSelfClosingElements:L,getNonEmptyElements:I,getMoveCaretBeforeOnEnterElements:M,getWhiteSpaceElements:F,getSpecialElements:U,isValidChild:z,isValid:j,getCustomElements:H,addValidElements:x,setValidElements:S,addCustomElements:N,addValidChildren:k}}var mu=function(e,t,r,n){var a=function(e){e=parseInt(e,10).toString(16)
return e.length>1?e:"0"+e}
return"#"+a(t)+a(r)+a(n)}
var pu=function(e,t){var r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi
var n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi
var a=/\s*([^:]+):\s*([^;]+);?/g
var o=/\s+$/
var i
var u={}
var f
var c
var s=Io
e=e||{}
if(t){f=t.getValidStyles()
c=t.getInvalidStyles()}var l=("\\\" \\' \\; \\: ; : "+s).split(" ")
for(i=0;i<l.length;i++){u[l[i]]=s+i
u[s+i]=l[i]}return{toHex:function(e){return e.replace(r,mu)},parse:function(t){var f={}
var c,l,d,v
var m=e.url_converter
var p=e.url_converter_scope||this
var g=function(e,t,r){var n=f[e+"-top"+t]
if(!n)return
var a=f[e+"-right"+t]
if(!a)return
var o=f[e+"-bottom"+t]
if(!o)return
var u=f[e+"-left"+t]
if(!u)return
var c=[n,a,o,u]
i=c.length-1
while(i--)if(c[i]!==c[i+1])break
if(i>-1&&r)return
f[e+t]=-1===i?c[0]:c.join(" ")
delete f[e+"-top"+t]
delete f[e+"-right"+t]
delete f[e+"-bottom"+t]
delete f[e+"-left"+t]}
var h=function(e){var t,r=f[e]
if(!r)return
r=r.split(" ")
t=r.length
while(t--)if(r[t]!==r[0])return false
f[e]=r[0]
return true}
var y=function(e,t,r,n){if(!h(t))return
if(!h(r))return
if(!h(n))return
f[e]=f[t]+" "+f[r]+" "+f[n]
delete f[t]
delete f[r]
delete f[n]}
var b=function(e){v=true
return u[e]}
var C=function(e,t){v&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return u[e]})))
t||(e=e.replace(/\\([\'\";:])/g,"$1"))
return e}
var w=function(e){return String.fromCharCode(parseInt(e.slice(1),16))}
var x=function(e){return e.replace(/\\[0-9a-f]+/gi,w)}
var S=function(t,r,n,a,o,i){o=o||i
if(o){o=C(o)
return"'"+o.replace(/\'/g,"\\'")+"'"}r=C(r||n||a)
if(!e.allow_script_urls){var u=r.replace(/[\s\r\n]+/g,"")
if(/(java|vb)script:/i.test(u))return""
if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}m&&(r=m.call(p,r,"style"))
return"url('"+r.replace(/\'/g,"\\'")+"')"}
if(t){t=t.replace(/[\u0000-\u001F]/g,"")
t=t.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,b)}))
while(c=a.exec(t)){a.lastIndex=c.index+c[0].length
l=c[1].replace(o,"").toLowerCase()
d=c[2].replace(o,"")
if(l&&d){l=x(l)
d=x(d)
if(-1!==l.indexOf(s)||-1!==l.indexOf('"'))continue
if(!e.allow_script_urls&&("behavior"===l||/expression\s*\(|\/\*|\*\//.test(d)))continue
"font-weight"===l&&"700"===d?d="bold":"color"!==l&&"background-color"!==l||(d=d.toLowerCase())
d=d.replace(r,mu)
d=d.replace(n,S)
f[l]=v?C(d,true):d}}g("border","",true)
g("border","-width")
g("border","-color")
g("border","-style")
g("padding","")
g("margin","")
y("border","border-width","border-style","border-color")
"medium none"===f.border&&delete f.border
"none"===f["border-image"]&&delete f["border-image"]}return f},serialize:function(e,t){var r=""
var n=function(t){var n
var a=f[t]
if(a)for(var o=0,i=a.length;o<i;o++){t=a[o]
n=e[t]
n&&(r+=(r.length>0?" ":"")+t+": "+n+";")}}
var a=function(e,t){var r=c["*"]
if(r&&r[e])return false
r=c[t]
return!(r&&r[e])}
if(t&&f){n("*")
n(t)}else we(e,(function(e,n){!e||c&&!a(n,t)||(r+=(r.length>0?" ":"")+n+": "+e+";")}))
return r}}}
var gu="mce-data-"
var hu=/^(?:mouse|contextmenu)|click/
var yu={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1}
var bu=function(e){return e.isDefaultPrevented===wu||e.isDefaultPrevented===Cu}
var Cu=function(){return false}
var wu=function(){return true}
var xu=function(e,t,r,n){e.addEventListener?e.addEventListener(t,r,n||false):e.attachEvent&&e.attachEvent("on"+t,r)}
var Su=function(e,t,r,n){e.removeEventListener?e.removeEventListener(t,r,n||false):e.detachEvent&&e.detachEvent("on"+t,r)}
var Nu=function(e){return hu.test(e.type)}
var ku=function(e,t){var r
var n=t||{}
for(r in e)yu[r]||(n[r]=e[r])
n.target||(n.target=n.srcElement||document)
n.composedPath&&(n.composedPath=function(){return e.composedPath()})
if(e&&Nu(e)&&void 0===e.pageX&&void 0!==e.clientX){var a=n.target.ownerDocument||document
var o=a.documentElement
var i=a.body
n.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0)
n.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}n.preventDefault=function(){n.isDefaultPrevented=wu
e&&(e.preventDefault?e.preventDefault():e.returnValue=false)}
n.stopPropagation=function(){n.isPropagationStopped=wu
e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=true)}
n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=wu
n.stopPropagation()}
if(false===bu(n)){n.isDefaultPrevented=Cu
n.isPropagationStopped=Cu
n.isImmediatePropagationStopped=Cu}"undefined"===typeof n.metaKey&&(n.metaKey=false)
return n}
var Eu=function(e,t,r){var n=e.document,a={type:"ready"}
if(r.domLoaded){t(a)
return}var o=function(){return"complete"===n.readyState||"interactive"===n.readyState&&n.body}
var i=function(){Su(e,"DOMContentLoaded",i)
Su(e,"load",i)
if(!r.domLoaded){r.domLoaded=true
t(a)}e=null}
o()?i():xu(e,"DOMContentLoaded",i)
r.domLoaded||xu(e,"load",i)}
var _u=function(){function e(){this.domLoaded=false
this.events={}
this.count=1
this.expando=gu+(+new Date).toString(32)
this.hasMouseEnterLeave="onmouseenter"in document.documentElement
this.hasFocusIn="onfocusin"in document.documentElement
this.count=1}e.prototype.bind=function(e,t,r,n){var a=this
var o,i,u,f,c,s,l
var d=window
var v=function(e){a.executeHandlers(ku(e||d.event),o)}
if(!e||3===e.nodeType||8===e.nodeType)return
if(e[a.expando])o=e[a.expando]
else{o=a.count++
e[a.expando]=o
a.events[o]={}}n=n||e
var m=t.split(" ")
u=m.length
while(u--){f=m[u]
s=v
c=l=false
"DOMContentLoaded"===f&&(f="ready")
if(a.domLoaded&&"ready"===f&&"complete"===e.readyState){r.call(n,ku({type:f}))
continue}if(!a.hasMouseEnterLeave){c=a.mouseEnterLeave[f]
c&&(s=function(e){var t=e.currentTarget
var r=e.relatedTarget
if(r&&t.contains)r=t.contains(r)
else while(r&&r!==t)r=r.parentNode
if(!r){e=ku(e||d.event)
e.type="mouseout"===e.type?"mouseleave":"mouseenter"
e.target=t
a.executeHandlers(e,o)}})}if(!a.hasFocusIn&&("focusin"===f||"focusout"===f)){l=true
c="focusin"===f?"focus":"blur"
s=function(e){e=ku(e||d.event)
e.type="focus"===e.type?"focusin":"focusout"
a.executeHandlers(e,o)}}i=a.events[o][f]
if(i)"ready"===f&&a.domLoaded?r(ku({type:f})):i.push({func:r,scope:n})
else{a.events[o][f]=i=[{func:r,scope:n}]
i.fakeName=c
i.capture=l
i.nativeHandler=s
"ready"===f?Eu(e,s,a):xu(e,c||f,s,l)}}e=i=null
return r}
e.prototype.unbind=function(e,t,r){var n,a,o,i,u
if(!e||3===e.nodeType||8===e.nodeType)return this
var f=e[this.expando]
if(f){u=this.events[f]
if(t){var c=t.split(" ")
a=c.length
while(a--){i=c[a]
n=u[i]
if(n){if(r){o=n.length
while(o--)if(n[o].func===r){var s=n.nativeHandler
var l=n.fakeName,d=n.capture
n=n.slice(0,o).concat(n.slice(o+1))
n.nativeHandler=s
n.fakeName=l
n.capture=d
u[i]=n}}if(!r||0===n.length){delete u[i]
Su(e,n.fakeName||i,n.nativeHandler,n.capture)}}}}else{we(u,(function(t,r){Su(e,t.fakeName||r,t.nativeHandler,t.capture)}))
u={}}for(i in u)if(De(u,i))return this
delete this.events[f]
try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}
e.prototype.fire=function(e,t,r){var n
if(!e||3===e.nodeType||8===e.nodeType)return this
var a=ku(null,r)
a.type=t
a.target=e
do{n=e[this.expando]
n&&this.executeHandlers(a,n)
e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!a.isPropagationStopped())
return this}
e.prototype.clean=function(e){var t,r
if(!e||3===e.nodeType||8===e.nodeType)return this
e[this.expando]&&this.unbind(e)
e.getElementsByTagName||(e=e.document)
if(e&&e.getElementsByTagName){this.unbind(e)
r=e.getElementsByTagName("*")
t=r.length
while(t--){e=r[t]
e[this.expando]&&this.unbind(e)}}return this}
e.prototype.destroy=function(){this.events={}}
e.prototype.cancel=function(e){if(e){e.preventDefault()
e.stopImmediatePropagation()}return false}
e.prototype.executeHandlers=function(e,t){var r=this.events[t]
var n=r&&r[e.type]
if(n)for(var a=0,o=n.length;a<o;a++){var i=n[a]
i&&false===i.func.call(i.scope,e)&&e.preventDefault()
if(e.isImmediatePropagationStopped())return}}
e.Event=new e
return e}()
var Tu,Au,Ru,Du,Ou,Bu,Pu,Lu,Iu,Mu,Fu,Uu,zu,ju,Hu,Vu,qu,$u,Wu="sizzle"+-new Date,Ku=window.document,Xu=0,Yu=0,Gu=Df(),Ju=Df(),Qu=Df(),Zu=function(e,t){e===t&&(Mu=true)
return 0},ef="undefined",tf=1<<31,rf={}.hasOwnProperty,nf=[],af=nf.pop,of=nf.push,uf=nf.push,ff=nf.slice,cf=nf.indexOf||function(e){var t=0,r=this.length
for(;t<r;t++)if(this[t]===e)return t
return-1},sf="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",lf="[\\x20\\t\\r\\n\\f]",df="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vf="\\["+lf+"*("+df+")(?:"+lf+"*([*^$|!~]?=)"+lf+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+df+"))|)"+lf+"*\\]",mf=":("+df+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+vf+")*)|.*)\\)|)",pf=new RegExp("^"+lf+"+|((?:^|[^\\\\])(?:\\\\.)*)"+lf+"+$","g"),gf=new RegExp("^"+lf+"*,"+lf+"*"),hf=new RegExp("^"+lf+"*([>+~]|"+lf+")"+lf+"*"),yf=new RegExp("="+lf+"*([^\\]'\"]*?)"+lf+"*\\]","g"),bf=new RegExp(mf),Cf=new RegExp("^"+df+"$"),wf={ID:new RegExp("^#("+df+")"),CLASS:new RegExp("^\\.("+df+")"),TAG:new RegExp("^("+df+"|[*])"),ATTR:new RegExp("^"+vf),PSEUDO:new RegExp("^"+mf),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+lf+"*(even|odd|(([+-]|)(\\d*)n|)"+lf+"*(?:([+-]|)"+lf+"*(\\d+)|))"+lf+"*\\)|)","i"),bool:new RegExp("^(?:"+sf+")$","i"),needsContext:new RegExp("^"+lf+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+lf+"*((?:-\\d)?\\d*)"+lf+"*\\)|)(?=[^-]|$)","i")},xf=/^(?:input|select|textarea|button)$/i,Sf=/^h\d$/i,Nf=/^[^{]+\{\s*\[native \w/,kf=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ef=/[+~]/,_f=/'|\\/g,Tf=new RegExp("\\\\([\\da-f]{1,6}"+lf+"?|("+lf+")|.)","ig"),Af=function(e,t,r){var n="0x"+t-65536
return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)}
try{uf.apply(nf=ff.call(Ku.childNodes),Ku.childNodes)
nf[Ku.childNodes.length].nodeType}catch(e){uf={apply:nf.length?function(e,t){of.apply(e,ff.call(t))}:function(e,t){var r=e.length,n=0
while(e[r++]=t[n++]);e.length=r-1}}}var Rf=function(e,t,r,n){var a,o,i,u,f,c,s,l,d,v;(t?t.ownerDocument||t:Ku)!==Uu&&Fu(t)
t=t||Uu
r=r||[]
if(!e||"string"!==typeof e)return r
if(1!==(u=t.nodeType)&&9!==u)return[]
if(ju&&!n){if(a=kf.exec(e))if(i=a[1]){if(9===u){o=t.getElementById(i)
if(!o||!o.parentNode)return r
if(o.id===i){r.push(o)
return r}}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(i))&&$u(t,o)&&o.id===i){r.push(o)
return r}}else{if(a[2]){uf.apply(r,t.getElementsByTagName(e))
return r}if((i=a[3])&&Tu.getElementsByClassName){uf.apply(r,t.getElementsByClassName(i))
return r}}if(Tu.qsa&&(!Hu||!Hu.test(e))){l=s=Wu
d=t
v=9===u&&e
if(1===u&&"object"!==t.nodeName.toLowerCase()){c=Ou(e);(s=t.getAttribute("id"))?l=s.replace(_f,"\\$&"):t.setAttribute("id",l)
l="[id='"+l+"'] "
f=c.length
while(f--)c[f]=l+Uf(c[f])
d=Ef.test(e)&&Mf(t.parentNode)||t
v=c.join(",")}if(v)try{uf.apply(r,d.querySelectorAll(v))
return r}catch(e){}finally{s||t.removeAttribute("id")}}}return Pu(e.replace(pf,"$1"),t,r,n)}
function Df(){var e=[]
function t(r,n){e.push(r+" ")>Au.cacheLength&&delete t[e.shift()]
return t[r+" "]=n}return t}function Of(e){e[Wu]=true
return e}function Bf(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||tf)-(~e.sourceIndex||tf)
if(n)return n
if(r)while(r=r.nextSibling)if(r===t)return-1
return e?1:-1}function Pf(e){return function(t){var r=t.nodeName.toLowerCase()
return"input"===r&&t.type===e}}function Lf(e){return function(t){var r=t.nodeName.toLowerCase()
return("input"===r||"button"===r)&&t.type===e}}function If(e){return Of((function(t){t=+t
return Of((function(r,n){var a,o=e([],r.length,t),i=o.length
while(i--)r[a=o[i]]&&(r[a]=!(n[a]=r[a]))}))}))}function Mf(e){return e&&typeof e.getElementsByTagName!==ef&&e}Tu=Rf.support={}
Du=Rf.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement
return!!t&&"HTML"!==t.nodeName}
Fu=Rf.setDocument=function(e){var t,r=e?e.ownerDocument||e:Ku,n=r.defaultView
function a(e){try{return e.top}catch(e){}return null}if(r===Uu||9!==r.nodeType||!r.documentElement)return Uu
Uu=r
zu=r.documentElement
ju=!Du(r)
n&&n!==a(n)&&(n.addEventListener?n.addEventListener("unload",(function(){Fu()}),false):n.attachEvent&&n.attachEvent("onunload",(function(){Fu()})))
Tu.attributes=true
Tu.getElementsByTagName=true
Tu.getElementsByClassName=Nf.test(r.getElementsByClassName)
Tu.getById=true
Au.find.ID=function(e,t){if(typeof t.getElementById!==ef&&ju){var r=t.getElementById(e)
return r&&r.parentNode?[r]:[]}}
Au.filter.ID=function(e){var t=e.replace(Tf,Af)
return function(e){return e.getAttribute("id")===t}}
Au.find.TAG=Tu.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==ef)return t.getElementsByTagName(e)}:function(e,t){var r,n=[],a=0,o=t.getElementsByTagName(e)
if("*"===e){while(r=o[a++])1===r.nodeType&&n.push(r)
return n}return o}
Au.find.CLASS=Tu.getElementsByClassName&&function(e,t){if(ju)return t.getElementsByClassName(e)}
Vu=[]
Hu=[]
Tu.disconnectedMatch=true
Hu=Hu.length&&new RegExp(Hu.join("|"))
Vu=Vu.length&&new RegExp(Vu.join("|"))
t=Nf.test(zu.compareDocumentPosition)
$u=t||Nf.test(zu.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode
return e===n||!!(n&&1===n.nodeType&&(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return true
return false}
Zu=t?function(e,t){if(e===t){Mu=true
return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition
if(n)return n
n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1
if(1&n||!Tu.sortDetached&&t.compareDocumentPosition(e)===n){if(e===r||e.ownerDocument===Ku&&$u(Ku,e))return-1
if(t===r||t.ownerDocument===Ku&&$u(Ku,t))return 1
return Iu?cf.call(Iu,e)-cf.call(Iu,t):0}return 4&n?-1:1}:function(e,t){if(e===t){Mu=true
return 0}var n,a=0,o=e.parentNode,i=t.parentNode,u=[e],f=[t]
if(!o||!i)return e===r?-1:t===r?1:o?-1:i?1:Iu?cf.call(Iu,e)-cf.call(Iu,t):0
if(o===i)return Bf(e,t)
n=e
while(n=n.parentNode)u.unshift(n)
n=t
while(n=n.parentNode)f.unshift(n)
while(u[a]===f[a])a++
return a?Bf(u[a],f[a]):u[a]===Ku?-1:f[a]===Ku?1:0}
return r}
Rf.matches=function(e,t){return Rf(e,null,null,t)}
Rf.matchesSelector=function(e,t){(e.ownerDocument||e)!==Uu&&Fu(e)
t=t.replace(yf,"='$1']")
if(Tu.matchesSelector&&ju&&(!Vu||!Vu.test(t))&&(!Hu||!Hu.test(t)))try{var r=qu.call(e,t)
if(r||Tu.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return Rf(t,Uu,null,[e]).length>0}
Rf.contains=function(e,t){(e.ownerDocument||e)!==Uu&&Fu(e)
return $u(e,t)}
Rf.attr=function(e,t){(e.ownerDocument||e)!==Uu&&Fu(e)
var r=Au.attrHandle[t.toLowerCase()],n=r&&rf.call(Au.attrHandle,t.toLowerCase())?r(e,t,!ju):void 0
return void 0!==n?n:Tu.attributes||!ju?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null}
Rf.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)}
Rf.uniqueSort=function(e){var t,r=[],n=0,a=0
Mu=!Tu.detectDuplicates
Iu=!Tu.sortStable&&e.slice(0)
e.sort(Zu)
if(Mu){while(t=e[a++])t===e[a]&&(n=r.push(a))
while(n--)e.splice(r[n],1)}Iu=null
return e}
Ru=Rf.getText=function(e){var t,r="",n=0,a=e.nodeType
if(a){if(1===a||9===a||11===a){if("string"===typeof e.textContent)return e.textContent
for(e=e.firstChild;e;e=e.nextSibling)r+=Ru(e)}else if(3===a||4===a)return e.nodeValue}else while(t=e[n++])r+=Ru(t)
return r}
Au=Rf.selectors={cacheLength:50,createPseudo:Of,match:wf,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(Tf,Af)
e[3]=(e[3]||e[4]||e[5]||"").replace(Tf,Af)
"~="===e[2]&&(e[3]=" "+e[3]+" ")
return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase()
if("nth"===e[1].slice(0,3)){e[3]||Rf.error(e[0])
e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3]))
e[5]=+(e[7]+e[8]||"odd"===e[3])}else e[3]&&Rf.error(e[0])
return e},PSEUDO:function(e){var t,r=!e[6]&&e[2]
if(wf.CHILD.test(e[0]))return null
if(e[3])e[2]=e[4]||e[5]||""
else if(r&&bf.test(r)&&(t=Ou(r,true))&&(t=r.indexOf(")",r.length-t)-r.length)){e[0]=e[0].slice(0,t)
e[2]=r.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(Tf,Af).toLowerCase()
return"*"===e?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Gu[e+" "]
return t||(t=new RegExp("(^|"+lf+")"+e+"("+lf+"|$)"))&&Gu(e,(function(e){return t.test("string"===typeof e.className&&e.className||typeof e.getAttribute!==ef&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var a=Rf.attr(n,e)
if(null==a)return"!="===t
if(!t)return true
a+=""
return"="===t?a===r:"!="===t?a!==r:"^="===t?r&&0===a.indexOf(r):"*="===t?r&&a.indexOf(r)>-1:"$="===t?r&&a.slice(-r.length)===r:"~="===t?(" "+a+" ").indexOf(r)>-1:"|="===t&&(a===r||a.slice(0,r.length+1)===r+"-")}},CHILD:function(e,t,r,n,a){var o="nth"!==e.slice(0,3),i="last"!==e.slice(-4),u="of-type"===t
return 1===n&&0===a?function(e){return!!e.parentNode}:function(t,r,f){var c,s,l,d,v,m,p=o!==i?"nextSibling":"previousSibling",g=t.parentNode,h=u&&t.nodeName.toLowerCase(),y=!f&&!u
if(g){if(o){while(p){l=t
while(l=l[p])if(u?l.nodeName.toLowerCase()===h:1===l.nodeType)return false
m=p="only"===e&&!m&&"nextSibling"}return true}m=[i?g.firstChild:g.lastChild]
if(i&&y){s=g[Wu]||(g[Wu]={})
c=s[e]||[]
v=c[0]===Xu&&c[1]
d=c[0]===Xu&&c[2]
l=v&&g.childNodes[v]
while(l=++v&&l&&l[p]||(d=v=0)||m.pop())if(1===l.nodeType&&++d&&l===t){s[e]=[Xu,v,d]
break}}else if(y&&(c=(t[Wu]||(t[Wu]={}))[e])&&c[0]===Xu)d=c[1]
else while(l=++v&&l&&l[p]||(d=v=0)||m.pop())if((u?l.nodeName.toLowerCase()===h:1===l.nodeType)&&++d){y&&((l[Wu]||(l[Wu]={}))[e]=[Xu,d])
if(l===t)break}d-=a
return d===n||d%n===0&&d/n>=0}}},PSEUDO:function(e,t){var r,n=Au.pseudos[e]||Au.setFilters[e.toLowerCase()]||Rf.error("unsupported pseudo: "+e)
if(n[Wu])return n(t)
if(n.length>1){r=[e,e,"",t]
return Au.setFilters.hasOwnProperty(e.toLowerCase())?Of((function(e,r){var a,o=n(e,t),i=o.length
while(i--){a=cf.call(e,o[i])
e[a]=!(r[a]=o[i])}})):function(e){return n(e,0,r)}}return n}},pseudos:{not:Of((function(e){var t=[],r=[],n=Bu(e.replace(pf,"$1"))
return n[Wu]?Of((function(e,t,r,a){var o,i=n(e,null,a,[]),u=e.length
while(u--)(o=i[u])&&(e[u]=!(t[u]=o))})):function(e,a,o){t[0]=e
n(t,null,o,r)
return!r.pop()}})),has:Of((function(e){return function(t){return Rf(e,t).length>0}})),contains:Of((function(e){e=e.replace(Tf,Af)
return function(t){return(t.textContent||t.innerText||Ru(t)).indexOf(e)>-1}})),lang:Of((function(e){Cf.test(e||"")||Rf.error("unsupported lang: "+e)
e=e.replace(Tf,Af).toLowerCase()
return function(t){var r
do{if(r=ju?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){r=r.toLowerCase()
return r===e||0===r.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType)
return false}})),target:function(e){var t=window.location&&window.location.hash
return t&&t.slice(1)===e.id},root:function(e){return e===zu},focus:function(e){return e===Uu.activeElement&&(!Uu.hasFocus||Uu.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return false===e.disabled},disabled:function(e){return true===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){e.parentNode&&e.parentNode.selectedIndex
return true===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return false
return true},parent:function(e){return!Au.pseudos.empty(e)},header:function(e){return Sf.test(e.nodeName)},input:function(e){return xf.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t
return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:If((function(){return[0]})),last:If((function(e,t){return[t-1]})),eq:If((function(e,t,r){return[r<0?r+t:r]})),even:If((function(e,t){var r=0
for(;r<t;r+=2)e.push(r)
return e})),odd:If((function(e,t){var r=1
for(;r<t;r+=2)e.push(r)
return e})),lt:If((function(e,t,r){var n=r<0?r+t:r
for(;--n>=0;)e.push(n)
return e})),gt:If((function(e,t,r){var n=r<0?r+t:r
for(;++n<t;)e.push(n)
return e}))}}
Au.pseudos.nth=Au.pseudos.eq
Q(["radio","checkbox","file","password","image"],(function(e){Au.pseudos[e]=Pf(e)}))
Q(["submit","reset"],(function(e){Au.pseudos[e]=Lf(e)}))
function Ff(){}Ff.prototype=Au.filters=Au.pseudos
Au.setFilters=new Ff
Ou=Rf.tokenize=function(e,t){var r,n,a,o,i,u,f,c=Ju[e+" "]
if(c)return t?0:c.slice(0)
i=e
u=[]
f=Au.preFilter
while(i){if(!r||(n=gf.exec(i))){n&&(i=i.slice(n[0].length)||i)
u.push(a=[])}r=false
if(n=hf.exec(i)){r=n.shift()
a.push({value:r,type:n[0].replace(pf," ")})
i=i.slice(r.length)}for(o in Au.filter){if(!Au.filter.hasOwnProperty(o))continue
if((n=wf[o].exec(i))&&(!f[o]||(n=f[o](n)))){r=n.shift()
a.push({value:r,type:o,matches:n})
i=i.slice(r.length)}}if(!r)break}return t?i.length:i?Rf.error(e):Ju(e,u).slice(0)}
function Uf(e){var t=0,r=e.length,n=""
for(;t<r;t++)n+=e[t].value
return n}function zf(e,t,r){var n=t.dir,a=r&&"parentNode"===n,o=Yu++
return t.first?function(t,r,o){while(t=t[n])if(1===t.nodeType||a)return e(t,r,o)}:function(t,r,i){var u,f,c=[Xu,o]
if(i){while(t=t[n])if((1===t.nodeType||a)&&e(t,r,i))return true}else while(t=t[n])if(1===t.nodeType||a){f=t[Wu]||(t[Wu]={})
if((u=f[n])&&u[0]===Xu&&u[1]===o)return c[2]=u[2]
f[n]=c
if(c[2]=e(t,r,i))return true}}}function jf(e){return e.length>1?function(t,r,n){var a=e.length
while(a--)if(!e[a](t,r,n))return false
return true}:e[0]}function Hf(e,t,r){var n=0,a=t.length
for(;n<a;n++)Rf(e,t[n],r)
return r}function Vf(e,t,r,n,a){var o,i=[],u=0,f=e.length,c=null!=t
for(;u<f;u++)if((o=e[u])&&(!r||r(o,n,a))){i.push(o)
c&&t.push(u)}return i}function qf(e,t,r,n,a,o){n&&!n[Wu]&&(n=qf(n))
a&&!a[Wu]&&(a=qf(a,o))
return Of((function(o,i,u,f){var c,s,l,d=[],v=[],m=i.length,p=o||Hf(t||"*",u.nodeType?[u]:u,[]),g=!e||!o&&t?p:Vf(p,d,e,u,f),h=r?a||(o?e:m||n)?[]:i:g
r&&r(g,h,u,f)
if(n){c=Vf(h,v)
n(c,[],u,f)
s=c.length
while(s--)(l=c[s])&&(h[v[s]]=!(g[v[s]]=l))}if(o){if(a||e){if(a){c=[]
s=h.length
while(s--)(l=h[s])&&c.push(g[s]=l)
a(null,h=[],c,f)}s=h.length
while(s--)(l=h[s])&&(c=a?cf.call(o,l):d[s])>-1&&(o[c]=!(i[c]=l))}}else{h=Vf(h===i?h.splice(m,h.length):h)
a?a(null,i,h,f):uf.apply(i,h)}}))}function $f(e){var t,r,n,a=e.length,o=Au.relative[e[0].type],i=o||Au.relative[" "],u=o?1:0,f=zf((function(e){return e===t}),i,true),c=zf((function(e){return cf.call(t,e)>-1}),i,true),s=[function(e,r,n){return!o&&(n||r!==Lu)||((t=r).nodeType?f(e,r,n):c(e,r,n))}]
for(;u<a;u++)if(r=Au.relative[e[u].type])s=[zf(jf(s),r)]
else{r=Au.filter[e[u].type].apply(null,e[u].matches)
if(r[Wu]){n=++u
for(;n<a;n++)if(Au.relative[e[n].type])break
return qf(u>1&&jf(s),u>1&&Uf(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(pf,"$1"),r,u<n&&$f(e.slice(u,n)),n<a&&$f(e=e.slice(n)),n<a&&Uf(e))}s.push(r)}return jf(s)}function Wf(e,t){var r=t.length>0,n=e.length>0,a=function(a,o,i,u,f){var c,s,l,d=0,v="0",m=a&&[],p=[],g=Lu,h=a||n&&Au.find.TAG("*",f),y=Xu+=null==g?1:Math.random()||.1,b=h.length
f&&(Lu=o!==Uu&&o)
for(;v!==b&&null!=(c=h[v]);v++){if(n&&c){s=0
while(l=e[s++])if(l(c,o,i)){u.push(c)
break}f&&(Xu=y)}if(r){(c=!l&&c)&&d--
a&&m.push(c)}}d+=v
if(r&&v!==d){s=0
while(l=t[s++])l(m,p,o,i)
if(a){if(d>0)while(v--)m[v]||p[v]||(p[v]=af.call(u))
p=Vf(p)}uf.apply(u,p)
f&&!a&&p.length>0&&d+t.length>1&&Rf.uniqueSort(u)}if(f){Xu=y
Lu=g}return m}
return r?Of(a):a}Bu=Rf.compile=function(e,t){var r,n=[],a=[],o=Qu[e+" "]
if(!o){t||(t=Ou(e))
r=t.length
while(r--){o=$f(t[r])
o[Wu]?n.push(o):a.push(o)}o=Qu(e,Wf(a,n))
o.selector=e}return o}
Pu=Rf.select=function(e,t,r,n){var a,o,i,u,f,c="function"===typeof e&&e,s=!n&&Ou(e=c.selector||e)
r=r||[]
if(1===s.length){o=s[0]=s[0].slice(0)
if(o.length>2&&"ID"===(i=o[0]).type&&Tu.getById&&9===t.nodeType&&ju&&Au.relative[o[1].type]){t=(Au.find.ID(i.matches[0].replace(Tf,Af),t)||[])[0]
if(!t)return r
c&&(t=t.parentNode)
e=e.slice(o.shift().value.length)}a=wf.needsContext.test(e)?0:o.length
while(a--){i=o[a]
if(Au.relative[u=i.type])break
if((f=Au.find[u])&&(n=f(i.matches[0].replace(Tf,Af),Ef.test(o[0].type)&&Mf(t.parentNode)||t))){o.splice(a,1)
e=n.length&&Uf(o)
if(!e){uf.apply(r,n)
return r}break}}}(c||Bu(e,s))(n,t,!ju,r,Ef.test(e)&&Mf(t.parentNode)||t)
return r}
Tu.sortStable=Wu.split("").sort(Zu).join("")===Wu
Tu.detectDuplicates=!!Mu
Fu()
Tu.sortDetached=true
var Kf=document,Xf=Array.prototype.push,Yf=Array.prototype.slice
var Gf=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/
var Jf=_u.Event
var Qf=sr.makeMap("children,contents,next,prev")
var Zf=function(e){return"undefined"!==typeof e}
var ec=function(e){return"string"===typeof e}
var tc=function(e){return e&&e===e.window}
var rc=function(e,t){t=t||Kf
var r=t.createElement("div")
var n=t.createDocumentFragment()
r.innerHTML=e
var a
while(a=r.firstChild)n.appendChild(a)
return n}
var nc=function(e,t,r,n){var a
if(ec(t))t=rc(t,yc(e[0]))
else if(t.length&&!t.nodeType){t=xc.makeArray(t)
if(n)for(a=t.length-1;a>=0;a--)nc(e,t[a],r,n)
else for(a=0;a<t.length;a++)nc(e,t[a],r,n)
return e}if(t.nodeType){a=e.length
while(a--)r.call(e[a],t)}return e}
var ac=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}
var oc=function(e,t,r){var n,a
t=xc(t)[0]
e.each((function(){var e=this
if(r&&n===e.parentNode)a.appendChild(e)
else{n=e.parentNode
a=t.cloneNode(false)
e.parentNode.insertBefore(a,e)
a.appendChild(e)}}))
return e}
var ic=sr.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ")
var uc=sr.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," ")
var fc={for:"htmlFor",class:"className",readonly:"readOnly"}
var cc={float:"cssFloat"}
var sc={},lc={}
var dc=function(e,t){return new xc.fn.init(e,t)}
var vc=function(e,t){var r
if(t.indexOf)return t.indexOf(e)
r=t.length
while(r--)if(t[r]===e)return r
return-1}
var mc=/^\s*|\s*$/g
var pc=function(e){return null===e||void 0===e?"":(""+e).replace(mc,"")}
var gc=function(e,t){var r,n,a,o
if(e){r=e.length
if(void 0===r){for(n in e)if(e.hasOwnProperty(n)){o=e[n]
if(false===t.call(o,n,o))break}}else for(a=0;a<r;a++){o=e[a]
if(false===t.call(o,a,o))break}}return e}
var hc=function(e,t){var r=[]
gc(e,(function(e,n){t(n,e)&&r.push(n)}))
return r}
var yc=function(e){if(!e)return Kf
if(9===e.nodeType)return e
return e.ownerDocument}
dc.fn=dc.prototype={constructor:dc,selector:"",context:null,length:0,init:function(e,t){var r=this
var n,a
if(!e)return r
if(e.nodeType){r.context=r[0]=e
r.length=1
return r}if(t&&t.nodeType)r.context=t
else{if(t)return xc(e).attr(t)
r.context=t=document}if(ec(e)){r.selector=e
n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Gf.exec(e)
if(!n)return xc(t).find(e)
if(n[1]){a=rc(e,yc(t)).firstChild
while(a){Xf.call(r,a)
a=a.nextSibling}}else{a=yc(t).getElementById(n[2])
if(!a)return r
if(a.id!==n[2])return r.find(e)
r.length=1
r[0]=a}}else this.add(e,false)
return r},toArray:function(){return sr.toArray(this)},add:function(e,t){var r=this
var n,a
if(ec(e))return r.add(xc(e))
if(false!==t){n=xc.unique(r.toArray().concat(xc.makeArray(e)))
r.length=n.length
for(a=0;a<n.length;a++)r[a]=n[a]}else Xf.apply(r,xc.makeArray(e))
return r},attr:function(e,t){var r=this
var n
if("object"===typeof e)gc(e,(function(e,t){r.attr(e,t)}))
else{if(!Zf(t)){if(r[0]&&1===r[0].nodeType){n=sc[e]
if(n&&n.get)return n.get(r[0],e)
if(uc[e])return r.prop(e)?e:void 0
t=r[0].getAttribute(e,2)
null===t&&(t=void 0)}return t}this.each((function(){var r
if(1===this.nodeType){r=sc[e]
if(r&&r.set){r.set(this,t)
return}null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var r=this
e=fc[e]||e
if("object"===typeof e)gc(e,(function(e,t){r.prop(e,t)}))
else{if(!Zf(t)){if(r[0]&&r[0].nodeType&&e in r[0])return r[0][e]
return t}this.each((function(){1===this.nodeType&&(this[e]=t)}))}return r},css:function(e,t){var r=this
var n,a
var o=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))}
var i=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))}
if("object"===typeof e)gc(e,(function(e,t){r.css(e,t)}))
else if(Zf(t)){e=o(e)
"number"!==typeof t||ic[e]||(t=t.toString()+"px")
r.each((function(){var r=this.style
a=lc[e]
if(a&&a.set){a.set(this,t)
return}try{this.style[cc[e]||e]=t}catch(e){}null!==t&&""!==t||(r.removeProperty?r.removeProperty(i(e)):r.removeAttribute(e))}))}else{n=r[0]
a=lc[e]
if(a&&a.get)return a.get(n)
if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:""
try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(i(e))}catch(e){return}}return r},remove:function(){var e=this
var t,r=this.length
while(r--){t=e[r]
Jf.clean(t)
t.parentNode&&t.parentNode.removeChild(t)}return this},empty:function(){var e=this
var t,r=this.length
while(r--){t=e[r]
while(t.firstChild)t.removeChild(t.firstChild)}return this},html:function(e){var t=this
var r
if(Zf(e)){r=t.length
try{while(r--)t[r].innerHTML=e}catch(n){xc(t[r]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this
var r
if(Zf(e)){r=t.length
while(r--)"innerText"in t[r]?t[r].innerText=e:t[0].textContent=e
return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return nc(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return nc(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),true)},before:function(){var e=this
if(e[0]&&e[0].parentNode)return nc(e,arguments,(function(e){this.parentNode.insertBefore(e,this)}))
return e},after:function(){var e=this
if(e[0]&&e[0].parentNode)return nc(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),true)
return e},appendTo:function(e){xc(e).append(this)
return this},prependTo:function(e){xc(e).prepend(this)
return this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return oc(this,e)},wrapAll:function(e){return oc(this,e,true)},wrapInner:function(e){this.each((function(){xc(this).contents().wrapAll(e)}))
return this},unwrap:function(){return this.parent().each((function(){xc(this).replaceWith(this.childNodes)}))},clone:function(){var e=[]
this.each((function(){e.push(this.cloneNode(true))}))
return xc(e)},addClass:function(e){return this.toggleClass(e,true)},removeClass:function(e){return this.toggleClass(e,false)},toggleClass:function(e,t){var r=this
if("string"!==typeof e)return r;-1!==e.indexOf(" ")?gc(e.split(" "),(function(){r.toggleClass(this,t)})):r.each((function(r,n){var a=ac(n,e)
if(a!==t){var o=n.className
a?n.className=pc((" "+o+" ").replace(" "+e+" "," ")):n.className+=o?" "+e:e}}))
return r},hasClass:function(e){return ac(this[0],e)},each:function(e){return gc(this,e)},on:function(e,t){return this.each((function(){Jf.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Jf.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"===typeof e?Jf.fire(this,e.type,e):Jf.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new xc(Yf.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,r
var n=[]
for(t=0,r=this.length;t<r;t++)xc.find(e,this[t],n)
return xc(n)},filter:function(e){if("function"===typeof e)return xc(hc(this.toArray(),(function(t,r){return e(r,t)})))
return xc(xc.filter(e,this.toArray()))},closest:function(e){var t=[]
e instanceof xc&&(e=e[0])
this.each((function(r,n){while(n){if("string"===typeof e&&xc(n).is(e)){t.push(n)
break}if(n===e){t.push(n)
break}n=n.parentNode}}))
return xc(t)},offset:function(e){var t,r,n
var a,o=0,i=0
if(!e){t=this[0]
if(t){r=t.ownerDocument
n=r.documentElement
if(t.getBoundingClientRect){a=t.getBoundingClientRect()
o=a.left+(n.scrollLeft||r.body.scrollLeft)-n.clientLeft
i=a.top+(n.scrollTop||r.body.scrollTop)-n.clientTop}}return{left:o,top:i}}return this.css(e)},push:Xf,sort:Array.prototype.sort,splice:Array.prototype.splice}
sr.extend(dc,{extend:sr.extend,makeArray:function(e){if(tc(e)||e.nodeType)return[e]
return sr.toArray(e)},inArray:vc,isArray:sr.isArray,each:gc,trim:pc,grep:hc,find:Rf,expr:Rf.selectors,unique:Rf.uniqueSort,text:Rf.getText,contains:Rf.contains,filter:function(e,t,r){var n=t.length
r&&(e=":not("+e+")")
while(n--)1!==t[n].nodeType&&t.splice(n,1)
t=1===t.length?xc.find.matchesSelector(t[0],e)?[t[0]]:[]:xc.find.matches(e,t)
return t}})
var bc=function(e,t,r){var n=[]
var a=e[t]
"string"!==typeof r&&r instanceof xc&&(r=r[0])
while(a&&9!==a.nodeType){if(void 0!==r){if(a===r)break
if("string"===typeof r&&xc(a).is(r))break}1===a.nodeType&&n.push(a)
a=a[t]}return n}
var Cc=function(e,t,r,n){var a=[]
n instanceof xc&&(n=n[0])
for(;e;e=e[t]){if(r&&e.nodeType!==r)continue
if(void 0!==n){if(e===n)break
if("string"===typeof n&&xc(e).is(n))break}a.push(e)}return a}
var wc=function(e,t,r){for(e=e[t];e;e=e[t])if(e.nodeType===r)return e
return null}
gc({parent:function(e){var t=e.parentNode
return t&&11!==t.nodeType?t:null},parents:function(e){return bc(e,"parentNode")},next:function(e){return wc(e,"nextSibling",1)},prev:function(e){return wc(e,"previousSibling",1)},children:function(e){return Cc(e.firstChild,"nextSibling",1)},contents:function(e){return sr.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){dc.fn[e]=function(r){var n=this
var a=[]
n.each((function(){var e=t.call(a,this,r,a)
e&&(xc.isArray(e)?a.push.apply(a,e):a.push(e))}))
if(this.length>1){Qf[e]||(a=xc.unique(a))
0===e.indexOf("parents")&&(a=a.reverse())}var o=xc(a)
if(r)return o.filter(r)
return o}}))
gc({parentsUntil:function(e,t){return bc(e,"parentNode",t)},nextUntil:function(e,t){return Cc(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Cc(e,"previousSibling",1,t).slice(1)}},(function(e,t){dc.fn[e]=function(r,n){var a=this
var o=[]
a.each((function(){var e=t.call(o,this,r,o)
e&&(xc.isArray(e)?o.push.apply(o,e):o.push(e))}))
if(this.length>1){o=xc.unique(o)
0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())}var i=xc(o)
if(n)return i.filter(n)
return i}}))
dc.fn.is=function(e){return!!e&&this.filter(e).length>0}
dc.fn.init.prototype=dc.fn
dc.overrideDefaults=function(e){var t
var r=function(n,a){t=t||e()
0===arguments.length&&(n=t.element)
a||(a=t.context)
return new r.fn.init(n,a)}
xc.extend(r,this)
return r}
dc.attrHooks=sc
dc.cssHooks=lc
var xc=dc
var Sc=sr.each
var Nc=sr.grep
var kc=Jt.ie
var Ec=/^([a-z0-9],?)+$/i
var _c=function(e,t,r){var n=t.keep_values
var a={set:function(e,n,a){t.url_converter&&(n=t.url_converter.call(t.url_converter_scope||r(),n,a,e[0]))
e.attr("data-mce-"+a,n).attr(a,n)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}}
var o={style:{set:function(t,r){if(null!==r&&"object"===typeof r){t.css(r)
return}n&&t.attr("data-mce-style",r)
if(null!==r&&"string"===typeof r){t.removeAttr("style")
t.css(e.parse(r))}else t.attr("style",r)},get:function(t){var r=t.attr("data-mce-style")||t.attr("style")
r=e.serialize(e.parse(r),t[0].nodeName)
return r}}}
n&&(o.href=o.src=a)
return o}
var Tc=function(e,t){var r=t.attr("style")
var n=e.serialize(e.parse(r),t[0].nodeName)
n||(n=null)
t.attr("data-mce-style",n)}
var Ac=function(e,t){var r,n,a=0
if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling){n=e.nodeType
if(t&&3===n&&(n===r||!e.nodeValue.length))continue
a++
r=n}return a}
function Rc(e,t){var r=this
void 0===t&&(t={})
var n={}
var a=window
var o={}
var i=0
var u=true
var f=true
var c=vo.forElement(gr.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy})
var s=[]
var l=t.schema?t.schema:vu({})
var d=pu({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema)
var v=t.ownEvents?new _u:_u.Event
var p=l.getBlockElements()
var g=xc.overrideDefaults((function(){return{context:e,element:De.getRoot()}}))
var h=function(e){if("string"===typeof e)return!!p[e]
if(e){var t=e.nodeType
if(t)return!!(1===t&&p[e.nodeName])}return false}
var y=function(t){return t&&e&&P(t)?e.getElementById(t):t}
var b=function(e){return g("string"===typeof e?y(e):e)}
var C=function(e,t,r){var n,a
var o=b(e)
if(o.length){n=Oe[t]
a=n&&n.get?n.get(o,t):o.attr(t)}"undefined"===typeof a&&(a=r||"")
return a}
var w=function(e){var t=y(e)
if(!t)return[]
return t.attributes}
var x=function(e,r,n){""===n&&(n=null)
var a=b(e)
var o=a.attr(r)
if(!a.length)return
var i=Oe[r]
i&&i.set?i.set(a,n,r):a.attr(r,n)
o!==n&&t.onSetAttrib&&t.onSetAttrib({attrElm:a,attrName:r,attrValue:n})}
var S=function(t,r){if(!kc||1!==t.nodeType||r)return t.cloneNode(r)
var n=e.createElement(t.nodeName)
Sc(w(t),(function(e){x(n,e.nodeName,C(t,e.nodeName))}))
return n}
var N=function(){return t.root_element||e.body}
var k=function(e){var t=In(e)
return{x:t.x,y:t.y,w:t.width,h:t.height}}
var E=function(t,r){return ka(e.body,y(t),r)}
var _=function(e,r,n){var a=P(r)?b(e).css(r,n):b(e).css(r)
t.update_styles&&Tc(d,a)}
var T=function(e,r){var n=b(e).css(r)
t.update_styles&&Tc(d,n)}
var A=function(e,t,r){var n=b(e)
if(r)return n.css(t)
t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))
"float"===t&&(t=Jt.browser.isIE()?"styleFloat":"cssFloat")
return n[0]&&n[0].style?n[0].style[t]:void 0}
var R=function(e){var t,r
e=y(e)
t=A(e,"width")
r=A(e,"height");-1===t.indexOf("px")&&(t=0);-1===r.indexOf("px")&&(r=0)
return{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}}
var D=function(e){e=y(e)
var t=E(e)
var r=R(e)
return{x:t.x,y:t.y,w:r.w,h:r.h}}
var O=function(e,t){var r
if(!e)return false
if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType
if(Ec.test(t)){var n=t.toLowerCase().split(/,/)
var a=e.nodeName.toLowerCase()
for(r=n.length-1;r>=0;r--)if(n[r]===a)return true
return false}if(e.nodeType&&1!==e.nodeType)return false}var o=Array.isArray(e)?e:[e]
return Rf(t,o[0].ownerDocument||o[0],null,o).length>0}
var B=function(e,t,r,n){var a=[]
var o
var i=y(e)
n=void 0===n
r=r||("BODY"!==N().nodeName?N().parentNode:null)
if(sr.is(t,"string")){o=t
t="*"===t?function(e){return 1===e.nodeType}:function(e){return O(e,o)}}while(i){if(i===r||z(i.nodeType)||Jn(i)||Qn(i))break
if(!t||"function"===typeof t&&t(i)){if(!n)return[i]
a.push(i)}i=i.parentNode}return n?a:null}
var L=function(e,t,r){var n=B(e,t,r,false)
return n&&n.length>0?n[0]:null}
var I=function(e,t,r){var n=t
if(e){"string"===typeof t&&(n=function(e){return O(e,t)})
for(e=e[r];e;e=e[r])if("function"===typeof n&&n(e))return e}return null}
var M=function(e,t){return I(e,t,"nextSibling")}
var F=function(e,t){return I(e,t,"previousSibling")}
var U=function(r,n){return Rf(r,y(n)||t.root_element||e,[])}
var j=function(e,t,n){var a
var o="string"===typeof e?y(e):e
if(!o)return false
if(sr.isArray(o)&&(o.length||0===o.length)){a=[]
Sc(o,(function(e,r){e&&a.push(t.call(n,"string"===typeof e?y(e):e,r))}))
return a}var i=n||r
return t.call(i,o)}
var H=function(e,t){b(e).each((function(e,r){Sc(t,(function(e,t){x(r,t,e)}))}))}
var V=function(e,t){var r=b(e)
kc?r.each((function(e,r){if(false===r.canHaveHTML)return
while(r.firstChild)r.removeChild(r.firstChild)
try{r.innerHTML="<br>"+t
r.removeChild(r.firstChild)}catch(e){xc("<div></div>").html("<br>"+t).contents().slice(1).appendTo(r)}return t})):r.html(t)}
var q=function(t,r,n,a,o){return j(t,(function(t){var i="string"===typeof r?e.createElement(r):r
H(i,n)
a&&("string"!==typeof a&&a.nodeType?i.appendChild(a):"string"===typeof a&&V(i,a))
return o?i:t.appendChild(i)}))}
var $=function(t,r,n){return q(e.createElement(t),t,r,n,true)}
var W=ru.decode
var K=ru.encodeAllRaw
var X=function(e,t,r){var n,a=""
a+="<"+e
for(n in t)t.hasOwnProperty(n)&&null!==t[n]&&"undefined"!==typeof t[n]&&(a+=" "+n+'="'+K(t[n])+'"')
if("undefined"!==typeof r)return a+">"+r+"</"+e+">"
return a+" />"}
var Y=function(t){var r
var n=e.createElement("div")
var a=e.createDocumentFragment()
a.appendChild(n)
t&&(n.innerHTML=t)
while(r=n.firstChild)a.appendChild(r)
a.removeChild(n)
return a}
var G=function(e,t){var r=b(e)
t?r.each((function(){var e
while(e=this.firstChild)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():r.remove()
return r.length>1?r.toArray():r[0]}
var J=function(e){return j(e,(function(e){var t
var r=e.attributes
for(t=r.length-1;t>=0;t--)e.removeAttributeNode(r.item(t))}))}
var Z=function(e){return d.parse(e)}
var ee=function(e,t){return d.serialize(e,t)}
var te=function(t){var r,a
if(De!==Rc.DOM&&e===document){if(n[t])return
n[t]=true}a=e.getElementById("mceDefaultStyles")
if(!a){a=e.createElement("style")
a.id="mceDefaultStyles"
a.type="text/css"
r=e.getElementsByTagName("head")[0]
r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a)}a.styleSheet?a.styleSheet.cssText+=t:a.appendChild(e.createTextNode(t))}
var re=function(e){e||(e="")
Q(e.split(","),(function(e){o[e]=true
c.load(e,m)}))}
var ne=function(e,t,r){b(e).toggleClass(t,r).each((function(){""===this.className&&xc(this).attr("class",null)}))}
var ae=function(e,t){b(e).addClass(t)}
var oe=function(e,t){ne(e,t,false)}
var ie=function(e,t){return b(e).hasClass(t)}
var ue=function(e){b(e).show()}
var fe=function(e){b(e).hide()}
var ce=function(e){return"none"===b(e).css("display")}
var se=function(e){return(e||"mce_")+i++}
var le=function(e){var t="string"===typeof e?y(e):e
return Un(t)?t.outerHTML:xc("<div></div>").append(xc(t).clone()).html()}
var de=function(e,t){b(e).each((function(){try{if("outerHTML"in this){this.outerHTML=t
return}}catch(e){}G(xc(this).html(t),true)}))}
var ve=function(e,t){var r=y(t)
return j(e,(function(e){var t=r.parentNode
var n=r.nextSibling
n?t.insertBefore(e,n):t.appendChild(e)
return e}))}
var me=function(e,t,r){return j(t,(function(t){sr.is(t,"array")&&(e=e.cloneNode(true))
r&&Sc(Nc(t.childNodes),(function(t){e.appendChild(t)}))
return t.parentNode.replaceChild(e,t)}))}
var pe=function(e,t){var r
if(e.nodeName!==t.toUpperCase()){r=$(t)
Sc(w(e),(function(t){x(r,t.nodeName,C(e,t.nodeName))}))
me(r,e,true)}return r||e}
var ge=function(e,t){var r,n=e
while(n){r=t
while(r&&n!==r)r=r.parentNode
if(n===r)break
n=n.parentNode}if(!n&&e.ownerDocument)return e.ownerDocument.documentElement
return n}
var he=function(e){return d.toHex(sr.trim(e))}
var ye=function(e){if(Un(e)){var t="a"===e.nodeName.toLowerCase()&&!C(e,"href")&&C(e,"id")
if(C(e,"name")||C(e,"data-mce-bookmark")||t)return true}return false}
var be=function(e,t){var r,n,a=0
if(ye(e))return false
e=e.firstChild
if(e){var o=new mo(e,e.parentNode)
var i=l?l.getWhiteSpaceElements():{}
t=t||(l?l.getNonEmptyElements():null)
do{r=e.nodeType
if(Un(e)){var u=e.getAttribute("data-mce-bogus")
if(u){e=o.next("all"===u)
continue}n=e.nodeName.toLowerCase()
if(t&&t[n]){if("br"===n){a++
e=o.next()
continue}return false}if(ye(e))return false}if(8===r)return false
if(3===r&&!wi(e.nodeValue))return false
if(3===r&&e.parentNode&&i[e.parentNode.nodeName]&&wi(e.nodeValue))return false
e=o.next()}while(e)}return a<=1}
var Ce=function(){return e.createRange()}
var xe=function(e,t,r){var n=Ce()
var a
var o
var i
if(e&&t){n.setStart(e.parentNode,Ac(e))
n.setEnd(t.parentNode,Ac(t))
a=n.extractContents()
n=Ce()
n.setStart(t.parentNode,Ac(t)+1)
n.setEnd(e.parentNode,Ac(e)+1)
o=n.extractContents()
i=e.parentNode
i.insertBefore(Fi(De,a),e)
r?i.insertBefore(r,e):i.insertBefore(t,e)
i.insertBefore(Fi(De,o),e)
G(e)
return r||t}}
var Se=function(r,n,o,i){if(sr.isArray(r)){var u=r.length
var f=[]
while(u--)f[u]=Se(r[u],n,o,i)
return f}!t.collect||r!==e&&r!==a||s.push([r,n,o,i])
var c=v.bind(r,n,o,i||De)
return c}
var Ne=function(t,r,n){if(sr.isArray(t)){var o=t.length
var i=[]
while(o--)i[o]=Ne(t[o],r,n)
return i}if(s.length>0&&(t===e||t===a)){o=s.length
while(o--){var u=s[o]
t!==u[0]||r&&r!==u[1]||n&&n!==u[2]||v.unbind(u[0],u[1],u[2])}}return v.unbind(t,r,n)}
var ke=function(e,t,r){return v.fire(e,t,r)}
var Ee=function(e){if(e&&Un(e)){var t=e.getAttribute("data-mce-contenteditable")
if(t&&"inherit"!==t)return t
return"inherit"!==e.contentEditable?e.contentEditable:null}return null}
var _e=function(e){var t=N()
var r=null
for(;e&&e!==t;e=e.parentNode){r=Ee(e)
if(null!==r)break}return r}
var Te=function(){if(s.length>0){var e=s.length
while(e--){var t=s[e]
v.unbind(t[0],t[1],t[2])}}we(o,(function(e,t){c.unload(t)
delete o[t]}))
Rf.setDocument&&Rf.setDocument()}
var Ae=function(e,t){while(e){if(t===e)return true
e=e.parentNode}return false}
var Re=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}
var De={doc:e,settings:t,win:a,files:o,stdMode:u,boxModel:f,styleSheetLoader:c,boundEvents:s,styles:d,schema:l,events:v,isBlock:h,$:g,$$:b,root:null,clone:S,getRoot:N,getViewPort:k,getRect:D,getSize:R,getParent:L,getParents:B,get:y,getNext:M,getPrev:F,select:U,is:O,add:q,create:$,createHTML:X,createFragment:Y,remove:G,setStyle:_,getStyle:A,setStyles:T,removeAllAttribs:J,setAttrib:x,setAttribs:H,getAttrib:C,getPos:E,parseStyle:Z,serializeStyle:ee,addStyle:te,loadCSS:re,addClass:ae,removeClass:oe,hasClass:ie,toggleClass:ne,show:ue,hide:fe,isHidden:ce,uniqueId:se,setHTML:V,getOuterHTML:le,setOuterHTML:de,decode:W,encode:K,insertAfter:ve,replace:me,rename:pe,findCommonAncestor:ge,toHex:he,run:j,getAttribs:w,isEmpty:be,createRng:Ce,nodeIndex:Ac,split:xe,bind:Se,unbind:Ne,fire:ke,getContentEditable:Ee,getContentEditableParent:_e,destroy:Te,isChildOf:Ae,dumpRng:Re}
var Oe=_c(d,t,(function(){return De}))
return De}(function(e){e.DOM=e(document)
e.nodeIndex=Ac})(Rc||(Rc={}))
var Dc=Rc
var Oc=Dc.DOM
var Bc=sr.each,Pc=sr.grep
var Lc=0
var Ic=1
var Mc=2
var Fc=3
var Uc=function(){function e(e){void 0===e&&(e={})
this.states={}
this.queue=[]
this.scriptLoadedCallbacks={}
this.queueLoadedCallbacks=[]
this.loading=0
this.settings=e}e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e}
e.prototype.loadScript=function(e,t,r){var n=Oc
var a
var o=function(){n.remove(f)
a&&(a.onerror=a.onload=a=null)}
var i=function(){o()
t()}
var u=function(){o()
H(r)?r():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+e)}
var f=n.uniqueId()
a=document.createElement("script")
a.id=f
a.type="text/javascript"
a.src=sr._addCacheSuffix(e)
this.settings.referrerPolicy&&n.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy)
a.onload=i
a.onerror=u;(document.getElementsByTagName("head")[0]||document.body).appendChild(a)}
e.prototype.isDone=function(e){return this.states[e]===Mc}
e.prototype.markDone=function(e){this.states[e]=Mc}
e.prototype.add=function(e,t,r,n){var a=this.states[e]
this.queue.push(e)
void 0===a&&(this.states[e]=Lc)
if(t){this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[])
this.scriptLoadedCallbacks[e].push({success:t,failure:n,scope:r||this})}}
e.prototype.load=function(e,t,r,n){return this.add(e,t,r,n)}
e.prototype.remove=function(e){delete this.states[e]
delete this.scriptLoadedCallbacks[e]}
e.prototype.loadQueue=function(e,t,r){this.loadScripts(this.queue,e,t,r)}
e.prototype.loadScripts=function(e,t,r,n){var a=this
var o=[]
var i=function(e,t){Bc(a.scriptLoadedCallbacks[t],(function(t){H(t[e])&&t[e].call(t.scope)}))
a.scriptLoadedCallbacks[t]=void 0}
a.queueLoadedCallbacks.push({success:t,failure:n,scope:r||this})
var u=function(){var t=Pc(e)
e.length=0
Bc(t,(function(e){if(a.states[e]===Mc){i("success",e)
return}if(a.states[e]===Fc){i("failure",e)
return}if(a.states[e]!==Ic){a.states[e]=Ic
a.loading++
a.loadScript(e,(function(){a.states[e]=Mc
a.loading--
i("success",e)
u()}),(function(){a.states[e]=Fc
a.loading--
o.push(e)
i("failure",e)
u()}))}}))
if(!a.loading){var r=a.queueLoadedCallbacks.slice(0)
a.queueLoadedCallbacks.length=0
Bc(r,(function(e){0===o.length?H(e.success)&&e.success.call(e.scope):H(e.failure)&&e.failure.call(e.scope,o)}))}}
u()}
e.ScriptLoader=new e
return e}()
var zc=function(e){var t=e
var r=function(){return t}
var n=function(e){t=e}
return{get:r,set:n}}
var jc=function(e){return L(e)&&De(e,"raw")}
var Hc=function(e){return I(e)&&e.length>1}
var Vc={}
var qc=zc("en")
var $c=function(){return Re(Vc,qc.get())}
var Wc=function(){return xe(Vc,(function(e){return Ve({},e)}))}
var Kc=function(e){e&&qc.set(e)}
var Xc=function(){return qc.get()}
var Yc=function(e,t){var r=Vc[e]
r||(Vc[e]=r={})
we(t,(function(e,t){r[t.toLowerCase()]=e}))}
var Gc=function(e){var t=$c().getOr({})
var r=function(e){if(H(e))return Object.prototype.toString.call(e)
return n(e)?"":""+e}
var n=function(e){return""===e||null===e||void 0===e}
var a=function(e){var n=r(e)
return Re(t,n.toLowerCase()).map(r).getOr(n)}
var o=function(e){return e.replace(/{context:\w+}$/,"")}
if(n(e))return""
if(jc(e))return r(e.raw)
if(Hc(e)){var i=e.slice(1)
var u=a(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return De(i,t)?r(i[t]):e}))
return o(u)}return o(a(e))}
var Jc=function(){return $c().bind((function(e){return Re(e,"_dir")})).exists((function(e){return"rtl"===e}))}
var Qc=function(e){return De(Vc,e)}
var Zc={getData:Wc,setCode:Kc,getCode:Xc,add:Yc,translate:Gc,isRtl:Jc,hasCode:Qc}
function es(){var e=this
var t=[]
var r={}
var n={}
var a=[]
var o=function(e,t){var r=te(a,(function(r){return r.name===e&&r.state===t}))
Q(r,(function(e){return e.callback()}))}
var i=function(e){if(n[e])return n[e].instance
return}
var u=function(e){var t
n[e]&&(t=n[e].dependencies)
return t||[]}
var f=function(e,t){false!==es.languageLoad&&p(e,(function(){var n=Zc.getCode()
var a=","+(t||"")+","
if(!n||t&&-1===a.indexOf(","+n+","))return
Uc.ScriptLoader.add(r[e]+"/langs/"+n+".js")}),"loaded")}
var c=function(e,r,a){var i=r
t.push(i)
n[e]={instance:i,dependencies:a}
o(e,"added")
return i}
var s=function(e){delete r[e]
delete n[e]}
var l=function(e,t){if("object"===typeof t)return t
return"string"===typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}}
var d=function(t,r){var n=e.urls[t]
Q(r,(function(e){Uc.ScriptLoader.add(n+"/"+e)}))}
var v=function(e,t,r,n){var a=u(e)
Q(a,(function(e){var r=l(t,e)
m(r.resource,r,void 0,void 0)}))
r&&(n?r.call(n):r.call(Uc))}
var m=function(e,t,a,i,u){if(r[e])return
var f="string"===typeof t?t:t.prefix+t.resource+t.suffix
0!==f.indexOf("/")&&-1===f.indexOf("://")&&(f=es.baseURL+"/"+f)
r[e]=f.substring(0,f.lastIndexOf("/"))
var c=function(){o(e,"loaded")
v(e,t,a,i)}
n[e]?c():Uc.ScriptLoader.add(f,c,i,u)}
var p=function(e,t,o){void 0===o&&(o="added")
De(n,e)&&"added"===o||De(r,e)&&"loaded"===o?t():a.push({name:e,state:o,callback:t})}
return{items:t,urls:r,lookup:n,_listeners:a,get:i,dependencies:u,requireLangPack:f,add:c,remove:s,createUrl:l,addComponents:d,load:m,waitFor:p}}(function(e){e.PluginManager=e()
e.ThemeManager=e()})(es||(es={}))
var ts=es
var rs=function(e,t){var r=null
var n=function(){if(null!==r){clearTimeout(r)
r=null}}
var a=function(){var n=[]
for(var a=0;a<arguments.length;a++)n[a]=arguments[a]
null===r&&(r=setTimeout((function(){e.apply(null,n)
r=null}),t))}
return{cancel:n,throttle:a}}
var ns=function(e,t){var r=null
var n=function(){if(null!==r){clearTimeout(r)
r=null}}
var a=function(){var n=[]
for(var a=0;a<arguments.length;a++)n[a]=arguments[a]
null!==r&&clearTimeout(r)
r=setTimeout((function(){e.apply(null,n)
r=null}),t)}
return{cancel:n,throttle:a}}
var as=function(e,t){var r=ca(e,t)
return void 0===r||""===r?[]:r.split(" ")}
var os=function(e,t,r){var n=as(e,t)
var a=n.concat([r])
ua(e,t,a.join(" "))
return true}
var is=function(e,t,r){var n=te(as(e,t),(function(e){return e!==r}))
n.length>0?ua(e,t,n.join(" ")):da(e,t)
return false}
var us=function(e){return void 0!==e.dom.classList}
var fs=function(e){return as(e,"class")}
var cs=function(e,t){return os(e,"class",t)}
var ss=function(e,t){return is(e,"class",t)}
var ls=function(e,t){us(e)?e.dom.classList.add(t):cs(e,t)}
var ds=function(e){var t=us(e)?e.dom.classList:fs(e)
0===t.length&&da(e,"class")}
var vs=function(e,t){if(us(e)){var r=e.dom.classList
r.remove(t)}else ss(e,t)
ds(e)}
var ms=function(e,t){return us(e)&&e.dom.classList.contains(t)}
var ps=function(e,t){var r=[]
Q(Qr(e),(function(e){t(e)&&(r=r.concat([e]))
r=r.concat(ps(e,t))}))
return r}
var gs=function(e,t){return _r(t,e)}
var hs=h("mce-annotation")
var ys=h("data-mce-annotation")
var bs=h("data-mce-annotation-uid")
var Cs=function(e,t){var r=e.selection.getRng()
var n=gr.fromDom(r.startContainer)
var a=gr.fromDom(e.getBody())
var o=t.fold((function(){return"."+hs()}),(function(e){return"["+ys()+'="'+e+'"]'}))
var i=Zr(n,r.startOffset).getOr(n)
var u=Za(i,o,(function(e){return Ar(e,a)}))
var f=function(e,t){return la(e,t)?A.some(ca(e,t)):A.none()}
return u.bind((function(t){return f(t,""+bs()).bind((function(r){return f(t,""+ys()).map((function(t){var n=xs(e,r)
return{uid:r,name:t,elements:n}}))}))}))}
var ws=function(e){return Mr(e)&&ms(e,hs())}
var xs=function(e,t){var r=gr.fromDom(e.getBody())
return gs(r,"["+bs()+'="'+t+'"]')}
var Ss=function(e,t){var r=gr.fromDom(e.getBody())
var n=gs(r,"["+ys()+'="'+t+'"]')
var a={}
Q(n,(function(e){var t=ca(e,bs())
var r=a.hasOwnProperty(t)?a[t]:[]
a[t]=r.concat([e])}))
return a}
var Ns=function(e,t){var r=zc({})
var n=function(){return{listeners:[],previous:zc(A.none())}}
var a=function(e,t){o(e,(function(e){t(e)
return e}))}
var o=function(e,t){var a=r.get()
var o=a.hasOwnProperty(e)?a[e]:n()
var i=t(o)
a[e]=i
r.set(a)}
var i=function(e,t,r){a(e,(function(n){Q(n.listeners,(function(n){return n(true,e,{uid:t,nodes:J(r,(function(e){return e.dom}))})}))}))}
var u=function(e){a(e,(function(t){Q(t.listeners,(function(t){return t(false,e)}))}))}
var f=ns((function(){var t=r.get()
var n=ve(be(t))
Q(n,(function(t){o(t,(function(r){var n=r.previous.get()
Cs(e,A.some(t)).fold((function(){if(n.isSome()){u(t)
r.previous.set(A.none())}}),(function(e){var t=e.uid,a=e.name,o=e.elements
if(!n.is(t)){i(a,t,o)
r.previous.set(A.some(t))}}))
return{previous:r.previous,listeners:r.listeners}}))}))}),30)
e.on("remove",(function(){f.cancel()}))
e.on("NodeChange",(function(){f.throttle()}))
var c=function(e,t){o(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}
return{addListener:c}}
var ks=function(e,t){var r=function(e){return A.from(e.attr(ys())).bind(t.lookup)}
e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){Q(e,(function(e){r(e).each((function(t){false===t.persistent&&e.unwrap()}))}))}))}))}
var Es=function(){var e={}
var t=function(t,r){e[t]={name:t,settings:r}}
var r=function(t){return e.hasOwnProperty(t)?A.from(e[t]).map((function(e){return e.settings})):A.none()}
return{register:t,lookup:r}}
var _s=0
var Ts=function(e){var t=new Date
var r=t.getTime()
var n=Math.floor(1e9*Math.random())
_s++
return e+"_"+n+_s+String(r)}
var As=function(e,t){Q(t,(function(t){ls(e,t)}))}
var Rs=function(e,t){var r=t||document
var n=r.createElement("div")
n.innerHTML=e
return Qr(gr.fromDom(n))}
var Ds=function(e){return e.dom.innerHTML}
var Os=function(e,t){var r=jr(e)
var n=r.dom
var a=gr.fromDom(n.createDocumentFragment())
var o=Rs(t,n)
Cn(a,o)
wn(e)
hn(e,a)}
var Bs=function(e,t){return gr.fromDom(e.dom.cloneNode(t))}
var Ps=function(e){return Bs(e,false)}
var Ls=function(e){return Bs(e,true)}
var Is=function(e,t,r){void 0===r&&(r=S)
var n=new mo(e,t)
var a=function(e){var t
do{t=n[e]()}while(t&&!Yn(t)&&!r(t))
return A.from(t).filter(Yn)}
return{current:function(){return A.from(n.current()).filter(Yn)},next:function(){return a("next")},prev:function(){return a("prev")},prev2:function(){return a("prev2")}}}
var Ms=function(e,t){var r=t||function(t){return e.isBlock(t)||Zn(t)||ra(t)}
var n=function(e,t,r,a){if(Yn(e)){var o=a(e,t,e.data)
if(-1!==o)return A.some({container:e,offset:o})}return r().bind((function(e){return n(e.container,e.offset,r,a)}))}
var a=function(e,t,a,o){var i=Is(e,o,r)
return n(e,t,(function(){return i.prev().map((function(e){return{container:e,offset:e.length}}))}),a).getOrNull()}
var o=function(e,t,a,o){var i=Is(e,o,r)
return n(e,t,(function(){return i.next().map((function(e){return{container:e,offset:0}}))}),a).getOrNull()}
return{backwards:a,forwards:o}}
var Fs=function(e){var t=[]
var r=function(e){t.push(e)}
for(var n=0;n<e.length;n++)e[n].each(r)
return t}
var Us=function(e,t,r){return e.isSome()&&t.isSome()?A.some(r(e.getOrDie(),t.getOrDie())):A.none()}
var zs=function(e,t,r,n){return e.isSome()&&t.isSome()&&r.isSome()?A.some(n(e.getOrDie(),t.getOrDie(),r.getOrDie())):A.none()}
var js=function(e,t){return e?A.some(t):A.none()}
var Hs=Math.round
var Vs=function(e){if(!e)return{left:0,top:0,bottom:0,right:0,width:0,height:0}
return{left:Hs(e.left),top:Hs(e.top),bottom:Hs(e.bottom),right:Hs(e.right),width:Hs(e.width),height:Hs(e.height)}}
var qs=function(e,t){e=Vs(e)
if(t)e.right=e.left
else{e.left=e.left+e.width
e.right=e.left}e.width=0
return e}
var $s=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}
var Ws=function(e,t,r){return e>=0&&e<=Math.min(t.height,r.height)/2}
var Ks=function(e,t){var r=Math.min(t.height/2,e.height/2)
if(e.bottom-r<t.top)return true
if(e.top>t.bottom)return false
return Ws(t.top-e.bottom,e,t)}
var Xs=function(e,t){if(e.top>t.bottom)return true
if(e.bottom<t.top)return false
return Ws(t.bottom-e.top,e,t)}
var Ys=function(e,t,r){return t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom}
var Gs=function(e){var t=e.startContainer,r=e.startOffset
if(t.hasChildNodes()&&e.endOffset===r+1)return t.childNodes[r]
return null}
var Js=function(e,t){if(1===e.nodeType&&e.hasChildNodes()){t>=e.childNodes.length&&(t=e.childNodes.length-1)
e=e.childNodes[t]}return e}
var Qs=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]")
var Zs=function(e){return"string"===typeof e&&e.charCodeAt(0)>=768&&Qs.test(e)}
var el=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
return function(t){for(var r=0;r<e.length;r++)if(e[r](t))return true
return false}}
var tl=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
return function(t){for(var r=0;r<e.length;r++)if(!e[r](t))return false
return true}}
var rl=Un
var nl=vi
var al=jn("display","block table")
var ol=jn("float","left right")
var il=tl(rl,nl,C(ol))
var ul=C(jn("white-space","pre pre-line pre-wrap"))
var fl=Yn
var cl=Zn
var sl=Dc.nodeIndex
var ll=Js
var dl=function(e){return"createRange"in e?e.createRange():Dc.DOM.createRng()}
var vl=function(e){return e&&/[\r\n\t ]/.test(e)}
var ml=function(e){return!!e.setStart&&!!e.setEnd}
var pl=function(e){var t=e.startContainer
var r=e.startOffset
var n
if(vl(e.toString())&&ul(t.parentNode)&&Yn(t)){n=t.data
if(vl(n[r-1])||vl(n[r+1]))return true}return false}
var gl=function(e){var t=e.ownerDocument
var r=dl(t)
var n=t.createTextNode(Mo)
var a=e.parentNode
a.insertBefore(n,e)
r.setStart(n,0)
r.setEnd(n,1)
var o=Vs(r.getBoundingClientRect())
a.removeChild(n)
return o}
var hl=function(e){var t=e.startContainer
var r=e.endContainer
var n=e.startOffset
var a=e.endOffset
if(t===r&&Yn(r)&&0===n&&1===a){var o=e.cloneRange()
o.setEndAfter(r)
return bl(o)}return null}
var yl=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom}
var bl=function(e){var t
var r=e.getClientRects()
t=r.length>0?Vs(r[0]):Vs(e.getBoundingClientRect())
if(!ml(e)&&cl(e)&&yl(t))return gl(e)
if(yl(t)&&ml(e))return hl(e)
return t}
var Cl=function(e,t){var r=qs(e,t)
r.width=1
r.right=r.left+1
return r}
var wl=function(e){var t=[]
var r,n
var a=function(e){if(0===e.height)return
if(t.length>0&&$s(e,t[t.length-1]))return
t.push(e)}
var o=function(e,r){var n=dl(e.ownerDocument)
if(r<e.data.length){if(Zs(e.data[r]))return t
if(Zs(e.data[r-1])){n.setStart(e,r)
n.setEnd(e,r+1)
if(!pl(n)){a(Cl(bl(n),false))
return t}}}if(r>0){n.setStart(e,r-1)
n.setEnd(e,r)
pl(n)||a(Cl(bl(n),false))}if(r<e.data.length){n.setStart(e,r)
n.setEnd(e,r+1)
pl(n)||a(Cl(bl(n),true))}}
if(fl(e.container())){o(e.container(),e.offset())
return t}if(rl(e.container()))if(e.isAtEnd()){n=ll(e.container(),e.offset())
fl(n)&&o(n,n.data.length)
il(n)&&!cl(n)&&a(Cl(bl(n),false))}else{n=ll(e.container(),e.offset())
fl(n)&&o(n,0)
if(il(n)&&e.isAtEnd()){a(Cl(bl(n),false))
return t}r=ll(e.container(),e.offset()-1)
il(r)&&!cl(r)&&(al(r)||al(n)||!il(n))&&a(Cl(bl(r),false))
il(n)&&a(Cl(bl(n),true))}return t}
function xl(e,t,r){var n=function(){if(fl(e))return 0===t
return 0===t}
var a=function(){if(fl(e))return t>=e.data.length
return t>=e.childNodes.length}
var o=function(){var r=dl(e.ownerDocument)
r.setStart(e,t)
r.setEnd(e,t)
return r}
var i=function(){r||(r=wl(xl(e,t)))
return r}
var u=function(){return i().length>0}
var f=function(r){return r&&e===r.container()&&t===r.offset()}
var c=function(r){return ll(e,r?t-1:t)}
return{container:h(e),offset:h(t),toRange:o,getClientRects:i,isVisible:u,isAtStart:n,isAtEnd:a,isEqual:f,getNode:c}}(function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)}
e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)}
e.after=function(t){return e(t.parentNode,sl(t)+1)}
e.before=function(t){return e(t.parentNode,sl(t))}
e.isAbove=function(e,t){return Us(pe(t.getClientRects()),ge(e.getClientRects()),Ks).getOr(false)}
e.isBelow=function(e,t){return Us(ge(t.getClientRects()),pe(e.getClientRects()),Xs).getOr(false)}
e.isAtStart=function(e){return!!e&&e.isAtStart()}
e.isAtEnd=function(e){return!!e&&e.isAtEnd()}
e.isTextPosition=function(e){return!!e&&Yn(e.container())}
e.isElementPosition=function(t){return false===e.isTextPosition(t)}})(xl||(xl={}))
var Sl=xl
var Nl=function(e,t){Yn(t)&&0===t.data.length&&e.remove(t)}
var kl=function(e,t,r){t.insertNode(r)
Nl(e,r.previousSibling)
Nl(e,r.nextSibling)}
var El=function(e,t,r){var n=A.from(r.firstChild)
var a=A.from(r.lastChild)
t.insertNode(r)
n.each((function(t){return Nl(e,t.previousSibling)}))
a.each((function(t){return Nl(e,t.nextSibling)}))}
var _l=function(e,t,r){Qn(r)?El(e,t,r):kl(e,t,r)}
var Tl=Yn
var Al=qn
var Rl=Dc.nodeIndex
var Dl=function(e){var t=e.parentNode
if(Al(t))return Dl(t)
return t}
var Ol=function(e){if(!e)return[]
return ze(e.childNodes,(function(e,t){Al(t)&&"BR"!==t.nodeName?e=e.concat(Ol(t)):e.push(t)
return e}),[])}
var Bl=function(e,t){while(e=e.previousSibling){if(!Tl(e))break
t+=e.data.length}return t}
var Pl=function(e){return function(t){return e===t}}
var Ll=function(e){var t,r
t=Ol(Dl(e))
r=je(t,Pl(e),e)
t=t.slice(0,r+1)
var n=ze(t,(function(e,r,n){Tl(r)&&Tl(t[n-1])&&e++
return e}),0)
t=Fe(t,zn([e.nodeName]))
r=je(t,Pl(e),e)
return r-n}
var Il=function(e){var t
t=Tl(e)?"text()":e.nodeName.toLowerCase()
return t+"["+Ll(e)+"]"}
var Ml=function(e,t,r){var n=[]
for(t=t.parentNode;t!==e;t=t.parentNode){if(r&&r(t))break
n.push(t)}return n}
var Fl=function(e,t){var r,n,a,o,i,u=[]
r=t.container()
n=t.offset()
if(Tl(r))a=Bl(r,n)
else{o=r.childNodes
if(n>=o.length){a="after"
n=o.length-1}else a="before"
r=o[n]}u.push(Il(r))
i=Ml(e,r)
i=Fe(i,C(qn))
u=u.concat(Me(i,(function(e){return Il(e)})))
return u.reverse().join("/")+","+a}
var Ul=function(e,t,r){var n=Ol(e)
n=Fe(n,(function(e,t){return!Tl(e)||!Tl(n[t-1])}))
n=Fe(n,zn([t]))
return n[r]}
var zl=function(e,t){var r,n=e,a=0
while(Tl(n)){r=n.data.length
if(t>=a&&t<=a+r){e=n
t-=a
break}if(!Tl(n.nextSibling)){e=n
t=r
break}a+=r
n=n.nextSibling}Tl(e)&&t>e.data.length&&(t=e.data.length)
return Sl(e,t)}
var jl=function(e,t){var r
if(!t)return null
var n=t.split(",")
var a=n[0].split("/")
r=n.length>1?n[1]:"before"
var o=ze(a,(function(e,t){var r=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)
if(!r)return null
"text()"===r[1]&&(r[1]="#text")
return Ul(e,r[1],parseInt(r[2],10))}),e)
if(!o)return null
if(!Tl(o)){r="after"===r?Rl(o)+1:Rl(o)
return Sl(o.parentNode,r)}return zl(o,parseInt(r,10))}
var Hl=ra
var Vl=function(e,t,r){var n,a
a=e(t.data.slice(0,r)).length
for(n=t.previousSibling;n&&Yn(n);n=n.previousSibling)a+=e(n.data).length
return a}
var ql=function(e,t,r,n,a){var o=n[a?"startContainer":"endContainer"]
var i=n[a?"startOffset":"endOffset"]
var u=[]
var f,c=0
var s=e.getRoot()
if(Yn(o))u.push(r?Vl(t,o,i):i)
else{f=o.childNodes
if(i>=f.length&&f.length){c=1
i=Math.max(0,f.length-1)}u.push(e.nodeIndex(f[i],r)+c)}for(;o&&o!==s;o=o.parentNode)u.push(e.nodeIndex(o,r))
return u}
var $l=function(e,t,r,n){var a=t.dom,o={}
o.start=ql(a,e,r,n,true)
t.isCollapsed()||(o.end=ql(a,e,r,n,false))
return o}
var Wl=function(e,t,r){var n=0
sr.each(e.select(t),(function(e){if("all"===e.getAttribute("data-mce-bogus"))return
if(e===r)return false
n++}))
return n}
var Kl=function(e,t){var r,n,a
var o=t?"start":"end"
r=e[o+"Container"]
n=e[o+"Offset"]
if(Un(r)&&"TR"===r.nodeName){a=r.childNodes
r=a[Math.min(t?n:n-1,a.length-1)]
if(r){n=t?0:r.childNodes.length
e["set"+(t?"Start":"End")](r,n)}}}
var Xl=function(e){Kl(e,true)
Kl(e,false)
return e}
var Yl=function(e,t){var r
if(Un(e)){e=Js(e,t)
if(Hl(e))return e}if(Ko(e)){Yn(e)&&$o(e)&&(e=e.parentNode)
r=e.previousSibling
if(Hl(r))return r
r=e.nextSibling
if(Hl(r))return r}}
var Gl=function(e){return Yl(e.startContainer,e.startOffset)||Yl(e.endContainer,e.endOffset)}
var Jl=function(e,t,r){var n=r.getNode()
var a=n?n.nodeName:null
var o=r.getRng()
if(Hl(n)||"IMG"===a)return{name:a,index:Wl(r.dom,a,n)}
var i=Gl(o)
if(i){a=i.tagName
return{name:a,index:Wl(r.dom,a,i)}}return $l(e,r,t,o)}
var Ql=function(e){var t=e.getRng()
return{start:Fl(e.dom.getRoot(),Sl.fromRangeStart(t)),end:Fl(e.dom.getRoot(),Sl.fromRangeEnd(t))}}
var Zl=function(e){return{rng:e.getRng()}}
var ed=function(e,t,r){var n={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"}
return r?e.create("span",n,"&#xFEFF;"):e.create("span",n)}
var td=function(e,t){var r=e.dom
var n=e.getRng()
var a=r.uniqueId()
var o=e.isCollapsed()
var i=e.getNode()
var u=i.nodeName
if("IMG"===u)return{name:u,index:Wl(r,u,i)}
var f=Xl(n.cloneRange())
if(!o){f.collapse(false)
var c=ed(r,a+"_end",t)
_l(r,f,c)}n=Xl(n)
n.collapse(true)
var s=ed(r,a+"_start",t)
_l(r,n,s)
e.moveToBookmark({id:a,keep:true})
return{id:a}}
var rd=function(e,t,r){return 2===t?Jl(Ho,r,e):3===t?Ql(e):t?Zl(e):td(e,false)}
var nd=b(Jl,y,true)
var ad=Dc.DOM
var od="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"
var id=function(e,t,r){var n=e.getParam(t,r)
if(-1!==n.indexOf("=")){var a=e.getParam(t,"","hash")
return a.hasOwnProperty(e.id)?a[e.id]:r}return n}
var ud=function(e){return e.getParam("iframe_attrs",{})}
var fd=function(e){return e.getParam("doctype","<!DOCTYPE html>")}
var cd=function(e){return e.getParam("document_base_url","")}
var sd=function(e){return id(e,"body_id","tinymce")}
var ld=function(e){return id(e,"body_class","")}
var dd=function(e){return e.getParam("content_security_policy","")}
var vd=function(e){return e.getParam("br_in_pre",true)}
var md=function(e){if(e.getParam("force_p_newlines",false))return"p"
var t=e.getParam("forced_root_block","p")
return false===t?"":true===t?"p":t}
var pd=function(e){return e.getParam("forced_root_block_attrs",{})}
var gd=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}
var hd=function(e){return e.getParam("no_newline_selector","")}
var yd=function(e){return e.getParam("keep_styles",true)}
var bd=function(e){return e.getParam("end_container_on_empty_block",false)}
var Cd=function(e){return sr.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}
var wd=function(e){return sr.explode(e.getParam("font_size_classes",""))}
var xd=function(e){return e.getParam("images_dataimg_filter",N,"function")}
var Sd=function(e){return e.getParam("automatic_uploads",true,"boolean")}
var Nd=function(e){return e.getParam("images_reuse_filename",false,"boolean")}
var kd=function(e){return e.getParam("images_replace_blob_uris",true,"boolean")}
var Ed=function(e){return e.getParam("icons","","string")}
var _d=function(e){return e.getParam("icons_url","","string")}
var Td=function(e){return e.getParam("images_upload_url","","string")}
var Ad=function(e){return e.getParam("images_upload_base_path","","string")}
var Rd=function(e){return e.getParam("images_upload_credentials",false,"boolean")}
var Dd=function(e){return e.getParam("images_upload_handler",null,"function")}
var Od=function(e){return e.getParam("content_css_cors",false,"boolean")}
var Bd=function(e){return e.getParam("referrer_policy","","string")}
var Pd=function(e){return e.getParam("language","en","string")}
var Ld=function(e){return e.getParam("language_url","","string")}
var Id=function(e){return e.getParam("indent_use_margin",false)}
var Md=function(e){return e.getParam("indentation","40px","string")}
var Fd=function(e){var t=e.getParam("content_css")
return P(t)?J(t.split(","),st):I(t)?t:false===t||e.inline?[]:["default"]}
var Ud=function(e){return e.getParam("directionality",Zc.isRtl()?"rtl":void 0)}
var zd=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}
var jd=function(e){var t=e.getParam("object_resizing")
return false!==t&&!Jt.iOS&&(P(t)?t:"table,img,figure.image,div")}
var Hd=function(e){return e.getParam("resize_img_proportional",true,"boolean")}
var Vd=function(e){return e.getParam("placeholder",ad.getAttrib(e.getElement(),"placeholder"),"string")}
var qd=function(e){return e.getParam("event_root")}
var $d=function(e){return e.getParam("service_message")}
var Wd=function(e){return e.getParam("theme")}
var Kd=function(e){return e.getParam("validate")}
var Xd=function(e){return false!==e.getParam("inline_boundaries")}
var Yd=function(e){return e.getParam("formats")}
var Gd=function(e){var t=e.getParam("preview_styles",od)
return P(t)?t:""}
var Jd=function(e){return e.getParam("format_empty_lines",false,"boolean")}
var Qd=function(e){return e.getParam("custom_ui_selector","","string")}
var Zd=function(e){return e.getParam("theme_url")}
var ev=function(e){return e.getParam("inline")}
var tv=function(e){return e.getParam("hidden_input")}
var rv=function(e){return e.getParam("submit_patch")}
var nv=function(e){return"xml"===e.getParam("encoding")}
var av=function(e){return e.getParam("add_form_submit_trigger")}
var ov=function(e){return e.getParam("add_unload_trigger")}
var iv=function(e){return""!==md(e)}
var uv=function(e){return e.getParam("custom_undo_redo_levels",0,"number")}
var fv=function(e){return e.getParam("disable_nodechange")}
var cv=function(e){return e.getParam("readonly")}
var sv=function(e){return e.getParam("content_css_cors")}
var lv=function(e){return e.getParam("plugins","","string")}
var dv=function(e){return e.getParam("external_plugins")}
var vv=function(e){return e.getParam("block_unsupported_drop",true,"boolean")}
var mv=function(e){return e.getParam("visual",true,"boolean")}
var pv=function(e){return e.getParam("visual_table_class","mce-item-table","string")}
var gv=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")}
var hv=Un
var yv=Yn
var bv=function(e){var t=e.parentNode
t&&t.removeChild(e)}
var Cv=function(e){var t=Ho(e)
return{count:e.length-t.length,text:t}}
var wv=function(e){var t
while(-1!==(t=e.data.lastIndexOf(zo)))e.deleteData(t,1)}
var xv=function(e,t){Tv(e)
return t}
var Sv=function(e,t){var r=Cv(e.data.substr(0,t.offset()))
var n=Cv(e.data.substr(t.offset()))
var a=r.text+n.text
if(a.length>0){wv(e)
return Sl(e,t.offset()-r.count)}return t}
var Nv=function(e,t){var r=t.container()
var n=X(he(r.childNodes),e).map((function(e){return e<t.offset()?Sl(r,t.offset()-1):t})).getOr(t)
Tv(e)
return n}
var kv=function(e,t){return yv(e)&&t.container()===e?Sv(e,t):xv(e,t)}
var Ev=function(e,t){return t.container()===e.parentNode?Nv(e,t):xv(e,t)}
var _v=function(e,t){return Sl.isTextPosition(t)?kv(e,t):Ev(e,t)}
var Tv=function(e){hv(e)&&Ko(e)&&(Xo(e)?e.removeAttribute("data-mce-caret"):bv(e))
if(yv(e)){wv(e)
0===e.data.length&&bv(e)}}
var Av=Ht().browser
var Rv=ra
var Dv=aa
var Ov=na
var Bv="*[contentEditable=false],video,audio,embed,object"
var Pv=function(e,t,r){var n=qs(t.getBoundingClientRect(),r)
var a,o,i,u,f
if("BODY"===e.tagName){a=e.ownerDocument.documentElement
o=e.scrollLeft||a.scrollLeft
i=e.scrollTop||a.scrollTop}else{f=e.getBoundingClientRect()
o=e.scrollLeft-f.left
i=e.scrollTop-f.top}n.left+=o
n.right+=o
n.top+=i
n.bottom+=i
n.width=1
u=t.offsetWidth-t.clientWidth
if(u>0){r&&(u*=-1)
n.left+=u
n.right+=u}return n}
var Lv=function(e){var t=gs(gr.fromDom(e),Bv)
for(var r=0;r<t.length;r++){var n=t[r].dom
var a=n.previousSibling
if(ti(a)){var o=a.data
1===o.length?a.parentNode.removeChild(a):a.deleteData(o.length-1,1)}a=n.nextSibling
if(ei(a)){o=a.data
1===o.length?a.parentNode.removeChild(a):a.deleteData(0,1)}}}
var Iv=function(e,t,r,n){var a=zc(A.none())
var o,i
var u=md(e)
var f=u.length>0?u:"p"
var c=function(e,n){var o,u
s()
if(Ov(n))return null
if(!r(n)){i=Yo(n,e)
u=n.ownerDocument.createRange()
if(Fv(i.nextSibling)){u.setStart(i,0)
u.setEnd(i,0)}else{u.setStart(i,1)
u.setEnd(i,1)}return u}i=Zo(f,n,e)
o=Pv(t,n,e)
xc(i).css("top",o.top)
var c=xc('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(t)[0]
a.set(A.some({caret:c,element:n,before:e}))
a.get().each((function(t){e&&xc(t.caret).addClass("mce-visual-caret-before")}))
l()
u=n.ownerDocument.createRange()
u.setStart(i,0)
u.setEnd(i,0)
return u}
var s=function(){Lv(t)
if(i){Tv(i)
i=null}a.get().each((function(e){xc(e.caret).remove()
a.set(A.none())}))
if(o){co.clearInterval(o)
o=null}}
var l=function(){o=co.setInterval((function(){n()?xc("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):xc("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)}
var d=function(){a.get().each((function(e){var r=Pv(t,e.element,e.before)
xc(e.caret).css(Ve({},r))}))}
var v=function(){return co.clearInterval(o)}
var m=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}
return{show:c,hide:s,getCss:m,reposition:d,destroy:v}}
var Mv=function(){return Av.isIE()||Av.isEdge()||Av.isFirefox()}
var Fv=function(e){return Rv(e)||Dv(e)}
var Uv=function(e){return Fv(e)||Wn(e)&&Mv()}
var zv=ra
var jv=aa
var Hv=jn("display","block table table-cell table-caption list-item")
var Vv=Ko
var qv=$o
var $v=Un
var Wv=vi
var Kv=function(e){return e>0}
var Xv=function(e){return e<0}
var Yv=function(e,t){var r
while(r=e(t))if(!qv(r))return r
return null}
var Gv=function(e,t,r,n,a){var o=new mo(e,n)
var i=zv(e)||qv(e)
if(Xv(t)){if(i){e=Yv(o.prev,true)
if(r(e))return e}while(e=Yv(o.prev,a))if(r(e))return e}if(Kv(t)){if(i){e=Yv(o.next,true)
if(r(e))return e}while(e=Yv(o.next,a))if(r(e))return e}return null}
var Jv=function(e,t){while(e&&e!==t){if(Hv(e))return e
e=e.parentNode}return null}
var Qv=function(e,t,r){return Jv(e.container(),r)===Jv(t.container(),r)}
var Zv=function(e,t){if(!t)return null
var r=t.container()
var n=t.offset()
if(!$v(r))return null
return r.childNodes[n+e]}
var em=function(e,t){var r=t.ownerDocument.createRange()
if(e){r.setStartBefore(t)
r.setEndBefore(t)}else{r.setStartAfter(t)
r.setEndAfter(t)}return r}
var tm=function(e,t,r){return Jv(t,e)===Jv(r,e)}
var rm=function(e,t,r){var n,a
a=e?"previousSibling":"nextSibling"
while(r&&r!==t){n=r[a]
Vv(n)&&(n=n[a])
if(zv(n)||jv(n)){if(tm(t,n,r))return n
break}if(Wv(n))break
r=r.parentNode}return null}
var nm=b(em,true)
var am=b(em,false)
var om=function(e,t,r){var n,a,o
var i=b(rm,true,t)
var u=b(rm,false,t)
a=r.startContainer
var f=r.startOffset
if($o(a)){$v(a)||(a=a.parentNode)
o=a.getAttribute("data-mce-caret")
if("before"===o){n=a.nextSibling
if(Uv(n))return nm(n)}if("after"===o){n=a.previousSibling
if(Uv(n))return am(n)}}if(!r.collapsed)return r
if(Yn(a)){if(Vv(a)){if(1===e){n=u(a)
if(n)return nm(n)
n=i(a)
if(n)return am(n)}if(-1===e){n=i(a)
if(n)return am(n)
n=u(a)
if(n)return nm(n)}return r}if(ti(a)&&f>=a.data.length-1){if(1===e){n=u(a)
if(n)return nm(n)}return r}if(ei(a)&&f<=1){if(-1===e){n=i(a)
if(n)return am(n)}return r}if(f===a.data.length){n=u(a)
if(n)return nm(n)
return r}if(0===f){n=i(a)
if(n)return am(n)
return r}}return r}
var im=function(e,t){return A.from(Zv(e?0:-1,t)).filter(zv)}
var um=function(e,t,r){var n=om(e,t,r)
if(-1===e)return xl.fromRangeStart(n)
return xl.fromRangeEnd(n)}
var fm=function(e){return A.from(e.getNode()).map(gr.fromDom)}
var cm=function(e){return A.from(e.getNode(true)).map(gr.fromDom)}
var sm=function(e,t){while(t=e(t))if(t.isVisible())return t
return t}
var lm=function(e,t){var r=Qv(e,t)
if(!r&&Zn(e.getNode()))return true
return r}
var dm;(function(e){e[e["Backwards"]=-1]="Backwards"
e[e["Forwards"]=1]="Forwards"})(dm||(dm={}))
var vm=ra
var mm=Yn
var pm=Un
var gm=Zn
var hm=vi
var ym=yi
var bm=bi
var Cm=function(e,t){var r=[]
while(e&&e!==t){r.push(e)
e=e.parentNode}return r}
var wm=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length)return e.childNodes[t]
return null}
var xm=function(e,t){if(Kv(e)){if(hm(t.previousSibling)&&!mm(t.previousSibling))return Sl.before(t)
if(mm(t))return Sl(t,0)}if(Xv(e)){if(hm(t.nextSibling)&&!mm(t.nextSibling))return Sl.after(t)
if(mm(t))return Sl(t,t.data.length)}if(Xv(e)){if(gm(t))return Sl.before(t)
return Sl.after(t)}return Sl.before(t)}
var Sm=function(e,t){var r=t.nextSibling
return r&&hm(r)?mm(r)?Sl(r,0):Sl.before(r):Nm(dm.Forwards,Sl.after(t),e)}
var Nm=function(e,t,r){var n,a,o
var i
if(!pm(r)||!t)return null
if(t.isEqual(Sl.after(r))&&r.lastChild){i=Sl.after(r.lastChild)
if(Xv(e)&&hm(r.lastChild)&&pm(r.lastChild))return gm(r.lastChild)?Sl.before(r.lastChild):i}else i=t
var u=i.container()
var f=i.offset()
if(mm(u)){if(Xv(e)&&f>0)return Sl(u,--f)
if(Kv(e)&&f<u.length)return Sl(u,++f)
n=u}else{if(Xv(e)&&f>0){a=wm(u,f-1)
if(hm(a)){if(!ym(a)){o=Gv(a,e,bm,a)
if(o){if(mm(o))return Sl(o,o.data.length)
return Sl.after(o)}}if(mm(a))return Sl(a,a.data.length)
return Sl.before(a)}}if(Kv(e)&&f<u.childNodes.length){a=wm(u,f)
if(hm(a)){if(gm(a))return Sm(r,a)
if(!ym(a)){o=Gv(a,e,bm,a)
if(o){if(mm(o))return Sl(o,0)
return Sl.before(o)}}if(mm(a))return Sl(a,0)
return Sl.after(a)}}n=a||i.getNode()}if(Kv(e)&&i.isAtEnd()||Xv(e)&&i.isAtStart()){n=Gv(n,e,N,r,true)
if(bm(n,r))return xm(e,n)}a=Gv(n,e,bm,r)
var c=He(te(Cm(u,r),vm))
if(c&&(!a||!c.contains(a))){i=Kv(e)?Sl.after(c):Sl.before(c)
return i}if(a)return xm(e,a)
return null}
var km=function(e){return{next:function(t){return Nm(dm.Forwards,t,e)},prev:function(t){return Nm(dm.Backwards,t,e)}}}
var Em=function(e,t,r){var n=e?Sl.before(r):Sl.after(r)
return Bm(e,t,n)}
var _m=function(e){return Zn(e)?Sl.before(e):Sl.after(e)}
var Tm=function(e){return Sl.isTextPosition(e)?0===e.offset():vi(e.getNode())}
var Am=function(e){if(Sl.isTextPosition(e)){var t=e.container()
return e.offset()===t.data.length}return vi(e.getNode(true))}
var Rm=function(e,t){return!Sl.isTextPosition(e)&&!Sl.isTextPosition(t)&&e.getNode()===t.getNode(true)}
var Dm=function(e){return!Sl.isTextPosition(e)&&Zn(e.getNode())}
var Om=function(e,t,r){return e?!Rm(t,r)&&!Dm(t)&&Am(t)&&Tm(r):!Rm(r,t)&&Tm(t)&&Am(r)}
var Bm=function(e,t,r){var n=km(t)
return A.from(e?n.next(r):n.prev(r))}
var Pm=function(e,t,r){return Bm(e,t,r).bind((function(n){return Qv(r,n,t)&&Om(e,r,n)?Bm(e,t,n):A.some(n)}))}
var Lm=function(e,t,r,n){return Pm(e,t,r).bind((function(r){return n(r)?Lm(e,t,r,n):A.some(r)}))}
var Im=function(e,t){var r=e?t.firstChild:t.lastChild
return Yn(r)?A.some(Sl(r,e?0:r.data.length)):r?vi(r)?A.some(e?Sl.before(r):_m(r)):Em(e,t,r):A.none()}
var Mm=b(Bm,true)
var Fm=b(Bm,false)
var Um=b(Im,true)
var zm=b(Im,false)
var jm="_mce_caret"
var Hm=function(e){return Un(e)&&e.id===jm}
var Vm=function(e,t){while(t&&t!==e){if(t.id===jm)return t
t=t.parentNode}return null}
var qm=function(e){return"string"===typeof e.start}
var $m=function(e){return e.hasOwnProperty("rng")}
var Wm=function(e){return e.hasOwnProperty("id")}
var Km=function(e){return e.hasOwnProperty("name")}
var Xm=function(e){return sr.isArray(e.start)}
var Ym=function(e,t){Un(t)&&e.isBlock(t)&&!t.innerHTML&&!Jt.ie&&(t.innerHTML='<br data-mce-bogus="1" />')
return t}
var Gm=function(e,t){var r
var n=e.createRng()
r=jl(e.getRoot(),t.start)
n.setStart(r.container(),r.offset())
r=jl(e.getRoot(),t.end)
n.setEnd(r.container(),r.offset())
return n}
var Jm=function(e,t){var r=e.ownerDocument.createTextNode(zo)
e.appendChild(r)
t.setStart(r,0)
t.setEnd(r,0)}
var Qm=function(e){return false===e.hasChildNodes()}
var Zm=function(e,t){return zm(e).fold((function(){return false}),(function(e){t.setStart(e.container(),e.offset())
t.setEnd(e.container(),e.offset())
return true}))}
var ep=function(e,t,r){if(Qm(t)&&Vm(e,t)){Jm(t,r)
return true}return false}
var tp=function(e,t,r,n){var a=r[t?"start":"end"]
var o,i,u,f
var c=e.getRoot()
if(a){u=a[0]
for(i=c,o=a.length-1;o>=1;o--){f=i.childNodes
if(ep(c,i,n))return true
if(a[o]>f.length-1){if(ep(c,i,n))return true
return Zm(i,n)}i=f[a[o]]}3===i.nodeType&&(u=Math.min(a[0],i.nodeValue.length))
1===i.nodeType&&(u=Math.min(a[0],i.childNodes.length))
t?n.setStart(i,u):n.setEnd(i,u)}return true}
var rp=function(e){return Yn(e)&&e.data.length>0}
var np=function(e,t,r){var n,a,o,i,u=e.get(r.id+"_"+t)
var f=r.keep
var c,s
if(u){n=u.parentNode
if("start"===t){if(f)if(u.hasChildNodes()){n=u.firstChild
a=1}else if(rp(u.nextSibling)){n=u.nextSibling
a=0}else if(rp(u.previousSibling)){n=u.previousSibling
a=u.previousSibling.data.length}else{n=u.parentNode
a=e.nodeIndex(u)+1}else a=e.nodeIndex(u)
c=n
s=a}else{if(f)if(u.hasChildNodes()){n=u.firstChild
a=1}else if(rp(u.previousSibling)){n=u.previousSibling
a=u.previousSibling.data.length}else{n=u.parentNode
a=e.nodeIndex(u)}else a=e.nodeIndex(u)
c=n
s=a}if(!f){i=u.previousSibling
o=u.nextSibling
sr.each(sr.grep(u.childNodes),(function(e){Yn(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}))
while(u=e.get(r.id+"_"+t))e.remove(u,true)
if(i&&o&&i.nodeType===o.nodeType&&Yn(i)&&!Jt.opera){a=i.nodeValue.length
i.appendData(o.nodeValue)
e.remove(o)
c=i
s=a}}return A.some(Sl(c,s))}return A.none()}
var ap=function(e,t){var r=e.createRng()
return tp(e,true,t,r)&&tp(e,false,t,r)?A.some(r):A.none()}
var op=function(e,t){var r=np(e,"start",t)
var n=np(e,"end",t)
return Us(r,n.or(r),(function(t,r){var n=e.createRng()
n.setStart(Ym(e,t.container()),t.offset())
n.setEnd(Ym(e,r.container()),r.offset())
return n}))}
var ip=function(e,t){return A.from(e.select(t.name)[t.index]).map((function(t){var r=e.createRng()
r.selectNode(t)
return r}))}
var up=function(e,t){var r=e.dom
if(t){if(Xm(t))return ap(r,t)
if(qm(t))return A.some(Gm(r,t))
if(Wm(t))return op(r,t)
if(Km(t))return ip(r,t)
if($m(t))return A.some(t.rng)}return A.none()}
var fp=function(e,t,r){return rd(e,t,r)}
var cp=function(e,t){up(e,t).each((function(t){e.setRng(t)}))}
var sp=function(e){return Un(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}
var lp=function(e){return function(t){return e===t}}
var dp=lp(Mo)
var vp=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)}
var mp=function(e){return!vp(e)&&!dp(e)}
var pp=function(e){return!!e.nodeType}
var gp=function(e){return e&&/^(IMG)$/.test(e.nodeName)}
var hp=function(e,t,r){var n=r.startOffset
var a,o,i,u=r.startContainer
if(r.startContainer===r.endContainer&&gp(r.startContainer.childNodes[r.startOffset]))return
if(1===u.nodeType){i=u.childNodes
if(n<i.length){u=i[n]
a=new mo(u,e.getParent(u,e.isBlock))}else{u=i[i.length-1]
a=new mo(u,e.getParent(u,e.isBlock))
a.next(true)}for(o=a.current();o;o=a.next())if(3===o.nodeType&&!wp(o)){r.setStart(o,0)
t.setRng(r)
return}}}
var yp=function(e,t,r){if(e){var n=t?"nextSibling":"previousSibling"
for(e=r?e:e[n];e;e=e[n])if(1===e.nodeType||!wp(e))return e}}
var bp=function(e,t){pp(t)&&(t=t.nodeName)
return!!e.schema.getTextBlockElements()[t.toLowerCase()]}
var Cp=function(e,t,r){return e.schema.isValidChild(t,r)}
var wp=function(e,t){void 0===t&&(t=false)
if(j(e)&&Yn(e)){var r=t?e.data.replace(/ /g,"Â "):e.data
return wi(r)}return false}
var xp=function(e){return j(e)&&Yn(e)&&0===e.length}
var Sp=function(e,t){"string"!==typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,r){return t[r]||e})))
return e}
var Np=function(e,t){e=e||""
t=t||""
e=""+(e.nodeName||e)
t=""+(t.nodeName||t)
return e.toLowerCase()===t.toLowerCase()}
var kp=function(e,t,r){"color"!==r&&"backgroundColor"!==r||(t=e.toHex(t))
"fontWeight"===r&&700===t&&(t="bold")
"fontFamily"===r&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,","))
return""+t}
var Ep=function(e,t,r){return kp(e,e.getStyle(t,r),r)}
var _p=function(e,t){var r
e.getParent(t,(function(t){r=e.getStyle(t,"text-decoration")
return r&&"none"!==r}))
return r}
var Tp=function(e,t,r){return e.getParents(t,r,e.getRoot())}
var Ap=function(e,t){var r=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)}
return G(["styles","attributes"],(function(r){return Re(e,r).exists((function(e){var r=I(e)?e:Ae(e)
return G(r,t)}))}))}
return G(e.formatter.get(t),r)}
var Rp=function(e,t,r){var n=["inline","block","selector","attributes","styles","classes"]
var a=function(e){return _e(e,(function(e,t){return G(n,(function(e){return e===t}))}))}
return G(e.formatter.get(t),(function(t){var n=a(t)
return G(e.formatter.get(r),(function(e){var t=a(e)
return Be(n,t)}))}))}
var Dp=function(e){return Oe(e,"block")}
var Op=function(e){return Oe(e,"selector")}
var Bp=function(e){return Oe(e,"inline")}
var Pp=sp
var Lp=Tp
var Ip=wp
var Mp=bp
var Fp=function(e){return Zn(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}
var Up=function(e,t){var r=t
while(r){if(Un(r)&&e.getContentEditable(r))return"false"===e.getContentEditable(r)?r:t
r=r.parentNode}return t}
var zp=function(e,t,r,n){var a=t.data
for(var o=r;e?o>=0:o<a.length;e?o--:o++)if(n(a.charAt(o)))return e?o+1:o
return-1}
var jp=function(e,t,r){return zp(e,t,r,(function(e){return dp(e)||vp(e)}))}
var Hp=function(e,t,r){return zp(e,t,r,mp)}
var Vp=function(e,t,r,n,a,o){var i
var u=e.getParent(r,e.isBlock)||t
var f=function(t,r,n){var o=Ms(e)
var f=a?o.backwards:o.forwards
return A.from(f(t,r,(function(e,t){if(Pp(e.parentNode))return-1
i=e
return n(a,e,t)}),u))}
var c=f(r,n,jp)
return c.bind((function(e){return o?f(e.container,e.offset+(a?-1:0),Hp):A.some(e)})).orThunk((function(){return i?A.some({container:i,offset:a?0:i.length}):A.none()}))}
var qp=function(e,t,r,n,a){Yn(n)&&0===n.nodeValue.length&&n[a]&&(n=n[a])
var o=Lp(e,n)
for(var i=0;i<o.length;i++)for(var u=0;u<t.length;u++){var f=t[u]
if("collapsed"in f&&f.collapsed!==r.collapsed)continue
if(e.is(o[i],f.selector))return o[i]}return n}
var $p=function(e,t,r,n){var a
var o=e.dom
var i=o.getRoot()
t[0].wrapper||(a=o.getParent(r,t[0].block,i))
if(!a){var u=o.getParent(r,"LI,TD,TH")
a=o.getParent(Yn(r)?r.parentNode:r,(function(t){return t!==i&&Mp(e,t)}),u)}a&&t[0].wrapper&&(a=Lp(o,a,"ul,ol").reverse()[0]||a)
if(!a){a=r
while(a[n]&&!o.isBlock(a[n])){a=a[n]
if(Np(a,"br"))break}}return a||r}
var Wp=function(e,t,r,n){var a=r.parentNode
return!j(r[n])&&(!(a!==t&&!z(a)&&!e.isBlock(a))||Wp(e,t,a,n))}
var Kp=function(e,t,r,n,a){var o=r
var i
var u=a?"previousSibling":"nextSibling"
var f=e.getRoot()
if(Yn(r)&&!Ip(r)&&(a?n>0:n<r.data.length))return r
while(true){if(!t[0].block_expand&&e.isBlock(o))return o
for(i=o[u];i;i=i[u]){var c=Yn(i)&&!Wp(e,f,i,u)
if(!Pp(i)&&!Fp(i)&&!Ip(i,c))return o}if(o===f||o.parentNode===f){r=o
break}o=o.parentNode}return r}
var Xp=function(e){return Pp(e.parentNode)||Pp(e)}
var Yp=function(e,t,r,n){void 0===n&&(n=false)
var a=t.startContainer,o=t.startOffset,i=t.endContainer,u=t.endOffset
var f=e.dom
if(Un(a)&&a.hasChildNodes()){a=Js(a,o)
Yn(a)&&(o=0)}if(Un(i)&&i.hasChildNodes()){i=Js(i,t.collapsed?u:u-1)
Yn(i)&&(u=i.nodeValue.length)}a=Up(f,a)
i=Up(f,i)
if(Xp(a)){a=Pp(a)?a:a.parentNode
a=t.collapsed?a.previousSibling||a:a.nextSibling||a
Yn(a)&&(o=t.collapsed?a.length:0)}if(Xp(i)){i=Pp(i)?i:i.parentNode
i=t.collapsed?i.nextSibling||i:i.previousSibling||i
Yn(i)&&(u=t.collapsed?0:i.length)}if(t.collapsed){var c=Vp(f,e.getBody(),a,o,true,n)
c.each((function(e){var t=e.container,r=e.offset
a=t
o=r}))
var s=Vp(f,e.getBody(),i,u,false,n)
s.each((function(e){var t=e.container,r=e.offset
i=t
u=r}))}if(r[0].inline||r[0].block_expand){r[0].inline&&Yn(a)&&0!==o||(a=Kp(f,r,a,o,true))
r[0].inline&&Yn(i)&&u!==i.nodeValue.length||(i=Kp(f,r,i,u,false))}if(r[0].selector&&false!==r[0].expand&&!r[0].inline){a=qp(f,r,t,a,"previousSibling")
i=qp(f,r,t,i,"nextSibling")}if(r[0].block||r[0].selector){a=$p(e,r,a,"previousSibling")
i=$p(e,r,i,"nextSibling")
if(r[0].block){f.isBlock(a)||(a=Kp(f,r,a,o,true))
f.isBlock(i)||(i=Kp(f,r,i,u,false))}}if(Un(a)){o=f.nodeIndex(a)
a=a.parentNode}if(Un(i)){u=f.nodeIndex(i)+1
i=i.parentNode}return{startContainer:a,startOffset:o,endContainer:i,endOffset:u}}
var Gp=function(e,t){var r=e.childNodes
t>=r.length?t=r.length-1:t<0&&(t=0)
return r[t]||e}
var Jp=function(e,t){return Gp(e,t-1)}
var Qp=function(e,t,r){var n=t.startContainer
var a=t.startOffset
var o=t.endContainer
var i=t.endOffset
var u=function(e){var t
t=e[0]
3===t.nodeType&&t===n&&a>=t.nodeValue.length&&e.splice(0,1)
t=e[e.length-1]
0===i&&e.length>0&&t===o&&3===t.nodeType&&e.splice(e.length-1,1)
return e}
var f=function(e,t,r){var n=[]
for(;e&&e!==r;e=e[t])n.push(e)
return n}
var c=function(e,t){do{if(e.parentNode===t)return e
e=e.parentNode}while(e)}
var s=function(e,t,n){var a=n?"nextSibling":"previousSibling"
for(var o=e,i=o.parentNode;o&&o!==t;o=i){i=o.parentNode
var c=f(o===e?o:o[a],a)
if(c.length){n||c.reverse()
r(u(c))}}}
1===n.nodeType&&n.hasChildNodes()&&(n=Gp(n,a))
1===o.nodeType&&o.hasChildNodes()&&(o=Jp(o,i))
if(n===o)return r(u([n]))
var l=e.findCommonAncestor(n,o)
for(var d=n;d;d=d.parentNode){if(d===o)return s(n,l,true)
if(d===l)break}for(d=o;d;d=d.parentNode){if(d===n)return s(o,l)
if(d===l)break}var v=c(n,l)||n
var m=c(o,l)||o
s(n,v,true)
var p=f(v===n?v:v.nextSibling,"nextSibling",m===o?m.nextSibling:m)
p.length&&r(u(p))
s(o,m)}
var Zp=function(e){var t=[]
if(e)for(var r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r))
return t}
var eg=function(e){return fe(e,(function(e){var t=Gs(e)
return t?[gr.fromDom(t)]:[]}))}
var tg=function(e){return Zp(e).length>1}
var rg=function(e){return te(eg(e),Bo)}
var ng=function(e){return gs(e,"td[data-mce-selected],th[data-mce-selected]")}
var ag=function(e,t){var r=ng(t)
return r.length>0?r:rg(e)}
var og=function(e){return ag(Zp(e.selection.getSel()),gr.fromDom(e.getBody()))}
var ig=function(e){var t=e.startContainer,r=e.startOffset
return Yn(t)?0===r?A.some(gr.fromDom(t)):A.none():A.from(t.childNodes[r]).map(gr.fromDom)}
var ug=function(e){var t=e.endContainer,r=e.endOffset
return Yn(t)?r===t.data.length?A.some(gr.fromDom(t)):A.none():A.from(t.childNodes[r-1]).map(gr.fromDom)}
var fg=function(e){return en(e).fold(h([e]),(function(t){return[e].concat(fg(t))}))}
var cg=function(e){return tn(e).fold(h([e]),(function(t){return"br"===Br(t)?Xr(t).map((function(t){return[e].concat(cg(t))})).getOr([]):[e].concat(cg(t))}))}
var sg=function(e,t){return Us(ig(t),ug(t),(function(t,r){var n=oe(fg(e),b(Ar,t))
var a=oe(cg(e),b(Ar,r))
return n.isSome()&&a.isSome()})).getOr(false)}
var lg=function(e,t,r,n){var a=r,o=new mo(r,a)
var i=_e(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!Y(["td","th","table"],t.toLowerCase())}))
do{if(Yn(r)&&0!==sr.trim(r.nodeValue).length){n?t.setStart(r,0):t.setEnd(r,r.nodeValue.length)
return}if(i[r.nodeName]){n?t.setStartBefore(r):"BR"===r.nodeName?t.setEndBefore(r):t.setEndAfter(r)
return}}while(r=n?o.next():o.prev())
"BODY"===a.nodeName&&(n?t.setStart(a,0):t.setEnd(a,a.childNodes.length))}
var dg=function(e){var t=e.selection.getSel()
return t&&t.rangeCount>0}
var vg=function(e,t){var r=og(e)
r.length>0?Q(r,(function(r){var n=r.dom
var a=e.dom.createRng()
a.setStartBefore(n)
a.setEndAfter(n)
t(a,true)})):t(e.selection.getRng(),false)}
var mg=function(e,t,r){var n=td(e,t)
r(n)
e.moveToBookmark(n)}
function pg(e,t){var r=function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node")
return n(r).getOr("")}
var n=function(t){return e(t)?A.from(t.dom.nodeValue):A.none()}
var a=function(r,n){if(!e(r))throw new Error("Can only set raw "+t+" value of a "+t+" node")
r.dom.nodeValue=n}
return{get:r,getOption:n,set:a}}var gg=pg(Fr,"text")
var hg=function(e){return gg.get(e)}
var yg=function(e){return Fr(e)&&hg(e)===zo}
var bg=function(e,t,r,n){return $r(t).fold((function(){return"skipping"}),(function(a){return"br"===n||yg(t)?"valid":ws(t)?"existing":Hm(t.dom)?"caret":Cp(e,r,n)&&Cp(e,Br(a),r)?"valid":"invalid-child"}))}
var Cg=function(e,t){var r=Yp(e,t,[{inline:true}])
t.setStart(r.startContainer,r.startOffset)
t.setEnd(r.endContainer,r.endOffset)
e.selection.setRng(t)}
var wg=function(e,t,r,n){var a=t.uid,o=void 0===a?Ts("mce-annotation"):a,i=qe(t,["uid"])
var u=gr.fromTag("span",e)
ls(u,hs())
ua(u,""+bs(),o)
ua(u,""+ys(),r)
var f=n(o,i),c=f.attributes,s=void 0===c?{}:c,l=f.classes,d=void 0===l?[]:l
fa(u,s)
As(u,d)
return u}
var xg=function(e,t,r,n,a){var o=[]
var i=wg(e.getDoc(),a,r,n)
var u=zc(A.none())
var f=function(){u.set(A.none())}
var c=function(){return u.get().getOrThunk((function(){var e=Ps(i)
o.push(e)
u.set(A.some(e))
return e}))}
var s=function(e){Q(e,l)}
var l=function(t){var r=bg(e,t,"span",Br(t))
switch(r){case"invalid-child":f()
var n=Qr(t)
s(n)
f()
break
case"valid":var a=c()
yn(t,a)}}
var d=function(e){var t=J(e,gr.fromDom)
s(t)}
Qp(e.dom,t,(function(e){f()
d(e)}))
return o}
var Sg=function(e,t,r,n){e.undoManager.transact((function(){var a=e.selection
var o=a.getRng()
var i=og(e).length>0
o.collapsed&&!i&&Cg(e,o)
if(a.getRng().collapsed&&!i){var u=wg(e.getDoc(),n,t,r.decorate)
Os(u,Mo)
a.getRng().insertNode(u.dom)
a.select(u.dom)}else mg(a,false,(function(){vg(e,(function(a){xg(e,a,t,r.decorate,n)}))}))}))}
var Ng=function(e){var t=Es()
ks(e,t)
var r=Ns(e)
return{register:function(e,r){t.register(e,r)},annotate:function(r,n){t.lookup(r).each((function(t){Sg(e,r,t,n)}))},annotationChanged:function(e,t){r.addListener(e,t)},remove:function(t){Cs(e,A.some(t)).each((function(e){var t=e.elements
Q(t,Sn)}))},getAll:function(t){var r=Ss(e,t)
return xe(r,(function(e){return J(e,(function(e){return e.dom}))}))}}}
function kg(e){return{getBookmark:b(fp,e),moveToBookmark:b(cp,e)}}(function(e){e.isBookmarkNode=sp})(kg||(kg={}))
var Eg=kg
var _g=function(e,t){while(t&&t!==e){if(ta(t)||ra(t))return t
t=t.parentNode}return null}
var Tg=function(e,t,r){if(r.collapsed)return false
if(Jt.browser.isIE()&&r.startOffset===r.endOffset-1&&r.startContainer===r.endContainer){var n=r.startContainer.childNodes[r.startOffset]
if(Un(n))return G(n.getClientRects(),(function(r){return Ys(r,e,t)}))}return G(r.getClientRects(),(function(r){return Ys(r,e,t)}))}
var Ag=function(e,t){return e.fire("PreProcess",t)}
var Rg=function(e,t){return e.fire("PostProcess",t)}
var Dg=function(e){return e.fire("remove")}
var Og=function(e){return e.fire("detach")}
var Bg=function(e,t){return e.fire("SwitchMode",{mode:t})}
var Pg=function(e,t,r,n,a){e.fire("ObjectResizeStart",{target:t,width:r,height:n,origin:a})}
var Lg=function(e,t,r,n,a){e.fire("ObjectResized",{target:t,width:r,height:n,origin:a})}
var Ig=function(e){return e.fire("PreInit")}
var Mg=function(e){return e.fire("PostRender")}
var Fg=function(e){return e.fire("Init")}
var Ug=function(e,t){return e.fire("PlaceholderToggle",{state:t})}
var zg=function(e,t,r){return e.fire(t,r)}
var jg={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Jt.mac?e.metaKey:e.ctrlKey&&!e.altKey}}
var Hg=ra
var Vg=function(e,t){var r=t.dom,n=sr.each
var a,o,i,u
var f,c,s,l,d,v,m,p
var g,h
var y=t.getDoc(),b=document
var C=Math.abs,w=Math.round,x=t.getBody()
var S,N
var k={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]}
var E=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))}
var _=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var r=e.touches[0]
return E(e.target)&&!Tg(r.clientX,r.clientY,t)}return E(e.target)&&!Tg(e.clientX,e.clientY,t)}
var T=function(e){var r=e.target
_(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(r)}
var A=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e}
var R=function(e){var r=jd(t)
if(!r)return false
if("false"===e.getAttribute("data-mce-resize"))return false
if(e===t.getBody())return false
return kr(gr.fromDom(e),r)}
var D=function(e,t,n){r.setStyles(A(e),{width:t,height:n})}
var O=function(e){var n,y,b
var k,_
n=e.screenX-f
y=e.screenY-c
g=n*u[2]+d
h=y*u[3]+v
g=g<5?5:g
h=h<5?5:h
b=E(a)&&false!==Hd(t)?!jg.modifierPressed(e):jg.modifierPressed(e)
if(b)if(C(n)>C(y)){h=w(g*m)
g=w(h/m)}else{g=w(h/m)
h=w(g*m)}D(o,g,h)
k=u.startPos.x+n
_=u.startPos.y+y
k=k>0?k:0
_=_>0?_:0
r.setStyles(i,{left:k,top:_,display:"block"})
i.innerHTML=g+" &times; "+h
u[2]<0&&o.clientWidth<=g&&r.setStyle(o,"left",s+(d-g))
u[3]<0&&o.clientHeight<=h&&r.setStyle(o,"top",l+(v-h))
n=x.scrollWidth-S
y=x.scrollHeight-N
n+y!==0&&r.setStyles(i,{left:k-n,top:_-y})
if(!p){Pg(t,a,d,v,"corner-"+u.name)
p=true}}
var B=function(){var e=p
p=false
var n=function(e,n){n&&(a.style[e]||!t.schema.isValid(a.nodeName.toLowerCase(),e)?r.setStyle(A(a),e,n):r.setAttrib(A(a),e,""+n))}
if(e){n("width",g)
n("height",h)}r.unbind(y,"mousemove",O)
r.unbind(y,"mouseup",B)
if(b!==y){r.unbind(b,"mousemove",O)
r.unbind(b,"mouseup",B)}r.remove(o)
r.remove(i)
P(a)
if(e){Lg(t,a,g,h,"corner-"+u.name)
r.setAttrib(a,"style",r.getAttrib(a,"style"))}t.nodeChanged()}
var P=function(e){L()
F()
var s=r.getPos(e,x)
var l=s.x
var p=s.y
var C=e.getBoundingClientRect()
var w=C.width||C.right-C.left
var E=C.height||C.bottom-C.top
if(a!==e){a=e
g=h=0}var _=t.fire("ObjectSelected",{target:e})
R(e)&&!_.isDefaultPrevented()?n(k,(function(e,t){var n
var s=function(n){f=n.screenX
c=n.screenY
d=A(a).clientWidth
v=A(a).clientHeight
m=v/d
u=e
u.name=t
u.startPos={x:w*e[0]+l,y:E*e[1]+p}
S=x.scrollWidth
N=x.scrollHeight
o=a.cloneNode(true)
r.addClass(o,"mce-clonedresizable")
r.setAttrib(o,"data-mce-bogus","all")
o.contentEditable=false
o.unSelectabe=true
r.setStyles(o,{left:l,top:p,margin:0})
D(o,w,E)
o.removeAttribute("data-mce-selected")
x.appendChild(o)
r.bind(y,"mousemove",O)
r.bind(y,"mouseup",B)
if(b!==y){r.bind(b,"mousemove",O)
r.bind(b,"mouseup",B)}i=r.add(x,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+v)}
n=r.get("mceResizeHandle"+t)
n&&r.remove(n)
n=r.add(x,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:true,style:"cursor:"+t+"-resize; margin:0; padding:0"})
11===Jt.ie&&(n.contentEditable=false)
r.bind(n,"mousedown",(function(e){e.stopImmediatePropagation()
e.preventDefault()
s(e)}))
e.elm=n
r.setStyles(n,{left:w*e[0]+l-n.offsetWidth/2,top:E*e[1]+p-n.offsetHeight/2})})):L()
a.setAttribute("data-mce-selected","1")}
var L=function(){F()
a&&a.removeAttribute("data-mce-selected")
we(k,(function(e,t){var n=r.get("mceResizeHandle"+t)
if(n){r.unbind(n)
r.remove(n)}}))}
var I=function(a){var o,i
var u=function(e,t){if(e)do{if(e===t)return true}while(e=e.parentNode)}
if(p||t.removed)return
n(r.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute("data-mce-selected")}))
i="mousedown"===a.type?a.target:e.getNode()
i=r.$(i).closest("table,img,figure.image,hr")[0]
if(u(i,x)){U()
o=e.getStart(true)
if(u(o,i)&&u(e.getEnd(true),i)){P(i)
return}}L()}
var M=function(e){return Hg(_g(t.getBody(),e))}
var F=function(){we(k,(function(e){if(e.elm){r.unbind(e.elm)
delete e.elm}}))}
var U=function(){try{t.getDoc().execCommand("enableObjectResizing",false,"false")}catch(e){}}
t.on("init",(function(){U()
if(Jt.browser.isIE()||Jt.browser.isEdge()){t.on("mousedown click",(function(e){var r=e.target,n=r.nodeName
if(!p&&/^(TABLE|IMG|HR)$/.test(n)&&!M(r)){2!==e.button&&t.selection.select(r,"TABLE"===n)
"mousedown"===e.type&&t.nodeChanged()}}))
var e=function(e){var r=function(e){co.setEditorTimeout(t,(function(){return t.selection.select(e)}))}
if(M(e.target)||aa(e.target)){e.preventDefault()
r(e.target)
return}if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault()
"IMG"===e.target.tagName&&r(e.target)}}
r.bind(x,"mscontrolselect",e)
t.on("remove",(function(){return r.unbind(x,"mscontrolselect",e)}))}var n=co.throttle((function(e){t.composing||I(e)}))
t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n)
t.on("keyup compositionend",(function(e){a&&"TABLE"===a.nodeName&&n(e)}))
t.on("hide blur",L)
t.on("contextmenu longpress",T,true)}))
t.on("remove",F)
var z=function(){a=o=null}
return{isResizable:R,showResizeRect:P,hideResizeRect:L,updateResizeRect:I,destroy:z}}
var qg=function(e){return ta(e)||ra(e)}
var $g=function(e,t,r){while(e&&e!==t){if(r(e))return e
e=e.parentNode}return null}
var Wg=function(e,t,r){var n
var a=r.elementFromPoint(e,t)
var o=r.body.createTextRange()
a&&"HTML"!==a.tagName||(a=r.body)
o.moveToElementText(a)
n=sr.toArray(o.getClientRects())
n=n.sort((function(e,r){e=Math.abs(Math.max(e.top-t,e.bottom-t))
r=Math.abs(Math.max(r.top-t,r.bottom-t))
return e-r}))
if(n.length>0){t=(n[0].bottom+n[0].top)/2
try{o.moveToPoint(e,t)
o.collapse(true)
return o}catch(e){}}return null}
var Kg=function(e,t){var r=e&&e.parentElement?e.parentElement():null
return ra($g(r,t,qg))?null:e}
var Xg=function(e,t,r){var n,a
var o=r
if(o.caretPositionFromPoint){a=o.caretPositionFromPoint(e,t)
if(a){n=r.createRange()
n.setStart(a.offsetNode,a.offset)
n.collapse(true)}}else if(r.caretRangeFromPoint)n=r.caretRangeFromPoint(e,t)
else if(o.body.createTextRange){n=o.body.createTextRange()
try{n.moveToPoint(e,t)
n.collapse(true)}catch(a){n=Wg(e,t,r)}return Kg(n,r.body)}return n}
var Yg=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}
var Gg=function(e,t,r){while(e&&e!==t){if(r(e))return e
e=e.parentNode}return null}
var Jg=function(e,t,r){return null!==Gg(e,t,r)}
var Qg=function(e,t,r){return Jg(e,t,(function(e){return e.nodeName===r}))}
var Zg=function(e){return e&&"TABLE"===e.nodeName}
var eh=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}
var th=function(e,t){return Ko(e)&&false===Jg(e,t,Hm)}
var rh=function(e,t,r){var n=new mo(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot())
while(t=n[r?"prev":"next"]())if(Zn(t))return true}
var nh=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t}
var ah=function(e,t){while(t&&t!==e){if(ra(t))return true
t=t.parentNode}return false}
var oh=function(e,t,r,n,a){var o
var i=e.getRoot()
var u
var f=e.schema.getNonEmptyElements()
var c=e.getParent(a.parentNode,e.isBlock)||i
if(n&&Zn(a)&&t&&e.isEmpty(c))return A.some(xl(a.parentNode,e.nodeIndex(a)))
var s=new mo(a,c)
while(u=s[n?"prev":"next"]()){if("false"===e.getContentEditableParent(u)||th(u,i))return A.none()
if(Yn(u)&&u.nodeValue.length>0){if(false===Qg(u,i,"A"))return A.some(xl(u,n?u.nodeValue.length:0))
return A.none()}if(e.isBlock(u)||f[u.nodeName.toLowerCase()])return A.none()
o=u}if(r&&o)return A.some(xl(o,0))
return A.none()}
var ih=function(e,t,r,n){var a,o
var i=e.getRoot()
var u
var f,c=false
a=n[(r?"start":"end")+"Container"]
o=n[(r?"start":"end")+"Offset"]
var s=Un(a)&&o===a.childNodes.length
var l=e.schema.getNonEmptyElements()
f=r
if(Ko(a))return A.none()
Un(a)&&o>a.childNodes.length-1&&(f=false)
if(Jn(a)){a=i
o=0}if(a===i){if(f){u=a.childNodes[o>0?o-1:0]
if(u){if(Ko(u))return A.none()
if(l[u.nodeName]||Zg(u))return A.none()}}if(a.hasChildNodes()){o=Math.min(!f&&o>0?o-1:o,a.childNodes.length-1)
a=a.childNodes[o]
o=Yn(a)&&s?a.data.length:0
if(!t&&a===i.lastChild&&Zg(a))return A.none()
if(ah(i,a)||Ko(a))return A.none()
if(a.hasChildNodes()&&false===Zg(a)){u=a
var d=new mo(a,i)
do{if(ra(u)||Ko(u)){c=false
break}if(Yn(u)&&u.nodeValue.length>0){o=f?0:u.nodeValue.length
a=u
c=true
break}if(l[u.nodeName.toLowerCase()]&&!eh(u)){o=e.nodeIndex(u)
a=u.parentNode
f||o++
c=true
break}}while(u=f?d.next():d.prev())}}}if(t){Yn(a)&&0===o&&oh(e,s,t,true,a).each((function(e){a=e.container()
o=e.offset()
c=true}))
if(Un(a)){u=a.childNodes[o]
u||(u=a.childNodes[o-1])
!u||!Zn(u)||nh(u,"A")||rh(e,u,false)||rh(e,u,true)||oh(e,s,t,true,u).each((function(e){a=e.container()
o=e.offset()
c=true}))}}f&&!t&&Yn(a)&&o===a.nodeValue.length&&oh(e,s,t,false,a).each((function(e){a=e.container()
o=e.offset()
c=true}))
return c?A.some(xl(a,o)):A.none()}
var uh=function(e,t){var r=t.collapsed,n=t.cloneRange()
var a=xl.fromRangeStart(t)
ih(e,r,true,n).each((function(e){r&&xl.isAbove(a,e)||n.setStart(e.container(),e.offset())}))
r||ih(e,r,false,n).each((function(e){n.setEnd(e.container(),e.offset())}))
r&&n.collapse(true)
return Yg(t,n)?A.none():A.some(n)}
var fh=function(e,t){return e.splitText(t)}
var ch=function(e){var t=e.startContainer,r=e.startOffset,n=e.endContainer,a=e.endOffset
if(t===n&&Yn(t)){if(r>0&&r<t.nodeValue.length){n=fh(t,r)
t=n.previousSibling
if(a>r){a-=r
t=n=fh(n,a).previousSibling
a=n.nodeValue.length
r=0}else a=0}}else{if(Yn(t)&&r>0&&r<t.nodeValue.length){t=fh(t,r)
r=0}if(Yn(n)&&a>0&&a<n.nodeValue.length){n=fh(n,a).previousSibling
a=n.nodeValue.length}}return{startContainer:t,startOffset:r,endContainer:n,endOffset:a}}
function sh(e){var t=function(t,r){return Qp(e,t,r)}
var r=ch
var n=function(t){return uh(e,t).fold(S,(function(e){t.setStart(e.startContainer,e.startOffset)
t.setEnd(e.endContainer,e.endOffset)
return true}))}
return{walk:t,split:r,normalize:n}}(function(e){e.compareRanges=Yg
e.getCaretRangeFromPoint=Xg
e.getSelectedNode=Gs
e.getNode=Js})(sh||(sh={}))
var lh=sh
function dh(e,t){var r=function(t,r){if(!V(r)&&!r.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+r)
var n=t.dom
oa(n)&&(n.style[e]=r+"px")}
var n=function(r){var n=t(r)
if(n<=0||null===n){var a=ga(r,e)
return parseFloat(a)||0}return n}
var a=n
var o=function(e,t){return ne(t,(function(t,r){var n=ga(e,r)
var a=void 0===n?0:parseInt(n,10)
return isNaN(a)?t:t+a}),0)}
var i=function(e,t,r){var n=o(e,r)
var a=t>n?t-n:0
return a}
return{set:r,get:n,getOuter:a,aggregate:o,max:i}}var vh=dh("height",(function(e){var t=e.dom
return Nn(e)?t.getBoundingClientRect().height:t.offsetHeight}))
var mh=function(e){return vh.get(e)}
var ph=function(e,t){var r=e.view(t)
return r.fold(h([]),(function(t){var r=e.owner(t)
var n=ph(e,r)
return[t].concat(n)}))}
var gh=function(e,t){var r=t.owner(e)
return ph(t,r)}
var hh=function(e){var t
var r=e.dom===document?A.none():A.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)
return r.map(gr.fromDom)}
var yh=function(e){return Hr(e)}
var bh=Object.freeze({__proto__:null,view:hh,owner:yh})
var Ch=function(e){var t=gr.fromDom(document)
var r=Dn(t)
var n=gh(e,bh)
var a=Rn(e)
var o=re(n,(function(e,t){var r=Rn(t)
return{left:e.left+r.left,top:e.top+r.top}}),{left:0,top:0})
return En(o.left+a.left+r.left,o.top+a.top+r.top)}
var wh=function(e){return"textarea"===Br(e)}
var xh=function(e,t){var r=e.fire("ScrollIntoView",t)
return r.isDefaultPrevented()}
var Sh=function(e,t){e.fire("AfterScrollIntoView",t)}
var Nh=function(e,t){var r=Qr(e)
if(0===r.length||wh(e))return{element:e,offset:t}
if(t<r.length&&!wh(r[t]))return{element:r[t],offset:0}
var n=r[r.length-1]
return wh(n)?{element:e,offset:t}:"img"===Br(n)?{element:n,offset:1}:Fr(n)?{element:n,offset:hg(n).length}:{element:n,offset:Qr(n).length}}
var kh=function(e,t){var r=An(e)
var n=mh(e)
return{element:e,bottom:r.top+n,height:n,pos:r,cleanup:t}}
var Eh=function(e,t){var r=Nh(e,t)
var n=gr.fromHtml('<span data-mce-bogus="all">'+zo+"</span>")
mn(r.element,n)
return kh(n,(function(){return xn(n)}))}
var _h=function(e){return kh(gr.fromDom(e),m)}
var Th=function(e,t,r,n){Oh(e,(function(a,o){return Rh(e,t,r,n)}),r)}
var Ah=function(e,t,r,n,a){var o={elm:n.element.dom,alignToTop:a}
if(xh(e,o))return
var i=Dn(t).top
r(t,i,n,a)
Sh(e,o)}
var Rh=function(e,t,r,n){var a=gr.fromDom(e.getBody())
var o=gr.fromDom(e.getDoc())
Ca(a)
var i=Eh(gr.fromDom(r.startContainer),r.startOffset)
Ah(e,o,t,i,n)
i.cleanup()}
var Dh=function(e,t,r,n){var a=gr.fromDom(e.getDoc())
Ah(e,a,r,_h(t),n)}
var Oh=function(e,t,r){var n=r.startContainer
var a=r.startOffset
var o=r.endContainer
var i=r.endOffset
t(gr.fromDom(n),gr.fromDom(o))
var u=e.dom.createRng()
u.setStart(n,a)
u.setEnd(o,i)
e.selection.setRng(r)}
var Bh=function(e,t,r,n){var a=e.pos
if(r)On(a.left,a.top,n)
else{var o=a.top-t+e.height
On(a.left,o,n)}}
var Ph=function(e,t,r,n,a){var o=r+t
var i=n.pos.top
var u=n.bottom
var f=u-i>=r
if(i<t)Bh(n,r,false!==a,e)
else if(i>o){var c=f?false!==a:true===a
Bh(n,r,c,e)}else u>o&&!f&&Bh(n,r,true===a,e)}
var Lh=function(e,t,r,n){var a=e.dom.defaultView.innerHeight
Ph(e,t,a,r,n)}
var Ih=function(e,t,r,n){var a=e.dom.defaultView.innerHeight
Ph(e,t,a,r,n)
var o=Ch(r.element)
var i=In(window)
o.top<i.y?Bn(r.element,false!==n):o.top>i.bottom&&Bn(r.element,true===n)}
var Mh=function(e,t,r){return Th(e,Lh,t,r)}
var Fh=function(e,t,r){return Dh(e,t,Lh,r)}
var Uh=function(e,t,r){return Th(e,Ih,t,r)}
var zh=function(e,t,r){return Dh(e,t,Ih,r)}
var jh=function(e,t,r){var n=e.inline?Fh:zh
n(e,t,r)}
var Hh=function(e,t,r){var n=e.inline?Mh:Uh
n(e,t,r)}
var Vh=function(){return gr.fromDom(document)}
var qh=function(e){return e.dom.focus()}
var $h=function(e){var t=fn(e).dom
return e.dom===t.activeElement}
var Wh=function(e){void 0===e&&(e=Vh())
return A.from(e.dom.activeElement).map(gr.fromDom)}
var Kh=function(e){return Wh(fn(e)).filter((function(t){return e.dom.contains(t.dom)}))}
var Xh=function(e,t,r,n){return{start:e,soffset:t,finish:r,foffset:n}}
var Yh={create:Xh}
var Gh=qa.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var Jh=function(e,t,r,n){return e.fold(t,r,n)}
var Qh=function(e){return e.fold(y,y,y)}
var Zh=Gh.before
var ey=Gh.on
var ty=Gh.after
var ry={before:Zh,on:ey,after:ty,cata:Jh,getStart:Qh}
var ny=qa.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var ay=function(e){return ny.exact(e.start,e.soffset,e.finish,e.foffset)}
var oy=function(e){return e.match({domRange:function(e){return gr.fromDom(e.startContainer)},relative:function(e,t){return ry.getStart(e)},exact:function(e,t,r,n){return e}})}
var iy=ny.domRange
var uy=ny.relative
var fy=ny.exact
var cy=function(e){var t=oy(e)
return qr(t)}
var sy=Yh.create
var ly={domRange:iy,relative:uy,exact:fy,exactFromRange:ay,getWin:cy,range:sy}
var dy=Ht().browser
var vy=function(e,t){var r=Fr(t)?hg(t).length:Qr(t).length+1
if(e>r)return r
if(e<0)return 0
return e}
var my=function(e){return ly.range(e.start,vy(e.soffset,e.start),e.finish,vy(e.foffset,e.finish))}
var py=function(e,t){return!Fn(t.dom)&&(Or(e,t)||Ar(e,t))}
var gy=function(e){return function(t){return py(e,t.start)&&py(e,t.finish)}}
var hy=function(e){return true===e.inline||dy.isIE()}
var yy=function(e){return ly.range(gr.fromDom(e.startContainer),e.startOffset,gr.fromDom(e.endContainer),e.endOffset)}
var by=function(e){var t=e.getSelection()
var r=t&&0!==t.rangeCount?A.from(t.getRangeAt(0)):A.none()
return r.map(yy)}
var Cy=function(e){var t=qr(e)
return by(t.dom).filter(gy(e))}
var wy=function(e,t){return A.from(t).filter(gy(e)).map(my)}
var xy=function(e){var t=document.createRange()
try{t.setStart(e.start.dom,e.soffset)
t.setEnd(e.finish.dom,e.foffset)
return A.some(t)}catch(e){return A.none()}}
var Sy=function(e){var t=hy(e)?Cy(gr.fromDom(e.getBody())):A.none()
e.bookmark=t.isSome()?t:e.bookmark}
var Ny=function(e,t){var r=gr.fromDom(e.getBody())
var n=hy(e)?A.from(t):A.none()
var a=n.map(yy).filter(gy(r))
e.bookmark=a.isSome()?a:e.bookmark}
var ky=function(e){var t=e.bookmark?e.bookmark:A.none()
return t.bind((function(t){return wy(gr.fromDom(e.getBody()),t)})).bind(xy)}
var Ey=function(e){ky(e).each((function(t){return e.selection.setRng(t)}))}
var _y=function(e){var t=e.className.toString()
return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}
var Ty={isEditorUIElement:_y}
var Ay=function(e){return"nodechange"===e.type&&e.selectionChange}
var Ry=function(e,t){var r=function(){t.throttle()}
Dc.DOM.bind(document,"mouseup",r)
e.on("remove",(function(){Dc.DOM.unbind(document,"mouseup",r)}))}
var Dy=function(e){e.on("focusout",(function(){Sy(e)}))}
var Oy=function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))}
var By=function(e,t){var r=Ht().browser
r.isIE()?Dy(e):Oy(e,t)
e.on("keyup NodeChange",(function(t){Ay(t)||Sy(e)}))}
var Py=function(e){var t=rs((function(){Sy(e)}),0)
e.on("init",(function(){e.inline&&Ry(e,t)
By(e,t)}))
e.on("remove",(function(){t.cancel()}))}
var Ly
var Iy=Dc.DOM
var My=function(e){return Ty.isEditorUIElement(e)}
var Fy=function(e){var t=e.classList
return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))}
var Uy=function(e,t){var r=Qd(e)
var n=Iy.getParent(t,(function(t){return My(t)||!!r&&e.dom.is(t,r)}))
return null!==n}
var zy=function(e){try{var t=fn(gr.fromDom(e.getElement()))
return Wh(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(e){return document.body}}
var jy=function(e,t){var r=t.editor
Py(r)
r.on("focusin",(function(){var t=this
var r=e.focusedEditor
if(r!==t){r&&r.fire("blur",{focusedEditor:t})
e.setActive(t)
e.focusedEditor=t
t.fire("focus",{blurredEditor:r})
t.focus(true)}}))
r.on("focusout",(function(){var t=this
co.setEditorTimeout(t,(function(){var r=e.focusedEditor
if(!Uy(t,zy(t))&&r===t){t.fire("blur",{focusedEditor:null})
e.focusedEditor=null}}))}))
if(!Ly){Ly=function(t){var r=e.activeEditor
r&&dn(t).each((function(t){if(t.ownerDocument===document&&t!==document.body&&!Uy(r,t)&&e.focusedEditor===r){r.fire("blur",{focusedEditor:null})
e.focusedEditor=null}}))}
Iy.bind(document,"focusin",Ly)}}
var Hy=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null)
if(!e.activeEditor){Iy.unbind(document,"focusin",Ly)
Ly=null}}
var Vy=function(e){e.on("AddEditor",b(jy,e))
e.on("RemoveEditor",b(Hy,e))}
var qy=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))}
var $y=function(e){return e.collapsed?A.from(Js(e.startContainer,e.startOffset)).map(gr.fromDom):A.none()}
var Wy=function(e,t){return $y(t).bind((function(t){return Oo(t)?A.some(t):false===Or(e,t)?A.some(e):A.none()}))}
var Ky=function(e,t){Wy(gr.fromDom(e.getBody()),t).bind((function(e){return Um(e.dom)})).fold((function(){e.selection.normalize()
return}),(function(t){return e.selection.setRng(t.toRange())}))}
var Xy=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()}
var Yy=function(e){return $h(e)||Kh(e).isSome()}
var Gy=function(e){return e.iframeElement&&$h(gr.fromDom(e.iframeElement))}
var Jy=function(e){var t=e.getBody()
return t&&Yy(gr.fromDom(t))}
var Qy=function(e){return Wh().filter((function(t){return!Fy(t.dom)&&Uy(e,t.dom)})).isSome()}
var Zy=function(e){return e.inline?Jy(e):Gy(e)}
var eb=function(e){return Zy(e)||Qy(e)}
var tb=function(e){var t=e.selection
var r=e.getBody()
var n=t.getRng()
e.quirks.refreshContentEditable()
void 0!==e.bookmark&&false===Zy(e)&&ky(e).each((function(t){e.selection.setRng(t)
n=t}))
var a=qy(e,t.getNode())
if(e.$.contains(r,a)){Xy(a)
Ky(e,n)
rb(e)
return}if(!e.inline){Jt.opera||Xy(r)
e.getWin().focus()}if(Jt.gecko||e.inline){Xy(r)
Ky(e,n)}rb(e)}
var rb=function(e){return e.editorManager.setActive(e)}
var nb=function(e,t){if(e.removed)return
t?rb(e):tb(e)}
var ab=function(e,t,r,n,a){var o=r?t.startContainer:t.endContainer
var i=r?t.startOffset:t.endOffset
return A.from(o).map(gr.fromDom).map((function(e){return n&&t.collapsed?e:Zr(e,a(e,i)).getOr(e)})).bind((function(e){return Mr(e)?A.some(e):$r(e).filter(Mr)})).map((function(e){return e.dom})).getOr(e)}
var ob=function(e,t,r){return ab(e,t,true,r,(function(e,t){return Math.min(rn(e),t)}))}
var ib=function(e,t,r){return ab(e,t,false,r,(function(e,t){return t>0?t-1:t}))}
var ub=function(e,t){var r=e
while(e&&Yn(e)&&0===e.length)e=t?e.nextSibling:e.previousSibling
return e||r}
var fb=function(e,t){var r,n,a
if(!t)return e
n=t.startContainer
a=t.endContainer
var o=t.startOffset
var i=t.endOffset
r=t.commonAncestorContainer
if(!t.collapsed){n===a&&i-o<2&&n.hasChildNodes()&&(r=n.childNodes[o])
if(3===n.nodeType&&3===a.nodeType){n=n.length===o?ub(n.nextSibling,true):n.parentNode
a=0===i?ub(a.previousSibling,false):a.parentNode
if(n&&n===a)return n}}if(r&&3===r.nodeType)return r.parentNode
return r}
var cb=function(e,t,r,n){var a
var o=[]
var i=e.getRoot()
r=e.getParent(r||ob(i,t,t.collapsed),e.isBlock)
n=e.getParent(n||ib(i,t,t.collapsed),e.isBlock)
r&&r!==i&&o.push(r)
if(r&&n&&r!==n){a=r
var u=new mo(r,i)
while((a=u.next())&&a!==n)e.isBlock(a)&&o.push(a)}n&&r!==n&&n!==i&&o.push(n)
return o}
var sb=function(e,t,r){return A.from(t).map((function(t){var n=e.nodeIndex(t)
var a=e.createRng()
a.setStart(t.parentNode,n)
a.setEnd(t.parentNode,n+1)
if(r){lg(e,a,t,true)
lg(e,a,t,false)}return a}))}
var lb=function(e,t){return J(t,(function(t){var r=e.fire("GetSelectionRange",{range:t})
return r.range!==t?r.range:t}))}
var db=function(e){return H(e)?e:S}
var vb=function(e,t,r){var n=e.dom
var a=db(r)
while(n.parentNode){n=n.parentNode
var o=gr.fromDom(n)
var i=t(o)
if(i.isSome())return i
if(a(o))break}return A.none()}
var mb=function(e,t,r){var n=t(e)
var a=db(r)
return n.orThunk((function(){return a(e)?A.none():vb(e,t,a)}))}
var pb=Np
var gb=function(e,t,r){var n=e.formatter.get(r)
if(n)for(var a=0;a<n.length;a++)if(false===n[a].inherit&&e.dom.is(t,n[a].selector))return true
return false}
var hb=function(e,t,r,n){var a=e.dom.getRoot()
if(t===a)return false
t=e.dom.getParent(t,(function(t){if(gb(e,t,r))return true
return t.parentNode===a||!!Cb(e,t,r,n,true)}))
return Cb(e,t,r,n)}
var yb=function(e,t,r){if(pb(t,r.inline))return true
if(pb(t,r.block))return true
if(r.selector)return 1===t.nodeType&&e.is(t,r.selector)}
var bb=function(e,t,r,n,a,o){var i,u
var f=r[n]
var c
if(r.onmatch)return r.onmatch(t,r,n)
if(f)if("undefined"===typeof f.length){for(i in f)if(f.hasOwnProperty(i)){u="attributes"===n?e.getAttrib(t,i):Ep(e,t,i)
if(a&&!u&&!r.exact)return
if((!a||r.exact)&&!pb(u,kp(e,Sp(f[i],o),i)))return}}else for(c=0;c<f.length;c++)if("attributes"===n?e.getAttrib(t,f[c]):Ep(e,t,f[c]))return r
return r}
var Cb=function(e,t,r,n,a){var o=e.formatter.get(r)
var i,u,f,c
var s=e.dom
if(o&&t)for(u=0;u<o.length;u++){i=o[u]
if(yb(e.dom,t,i)&&bb(s,t,i,"attributes",a,n)&&bb(s,t,i,"styles",a,n)){if(c=i.classes)for(f=0;f<c.length;f++)if(!e.dom.hasClass(t,c[f]))return
return i}}}
var wb=function(e,t,r,n){if(n)return hb(e,n,t,r)
n=e.selection.getNode()
if(hb(e,n,t,r))return true
var a=e.selection.getStart()
if(a!==n&&hb(e,a,t,r))return true
return false}
var xb=function(e,t,r){var n=[]
var a={}
var o=e.selection.getStart()
e.dom.getParent(o,(function(o){for(var i=0;i<t.length;i++){var u=t[i]
if(!a[u]&&Cb(e,o,u,r)){a[u]=true
n.push(u)}}}),e.dom.getRoot())
return n}
var Sb=function(e,t){var r=function(t){return Ar(t,gr.fromDom(e.getBody()))}
var n=function(t,r){return Cb(e,t.dom,r)?A.some(r):A.none()}
return A.from(e.selection.getStart(true)).bind((function(e){return mb(gr.fromDom(e),(function(e){return ye(t,(function(t){return n(e,t)}))}),r)})).getOrNull()}
var Nb=function(e,t){var r=e.formatter.get(t)
var n,a,o,i,u
var f=e.dom
if(r){n=e.selection.getStart()
a=Tp(f,n)
for(i=r.length-1;i>=0;i--){u=r[i].selector
if(!u||r[i].defaultBlock)return true
for(o=a.length-1;o>=0;o--)if(f.is(a[o],u))return true}}return false}
var kb=function(e,t,r){return ne(r,(function(r,n){var a=Ap(e,n)
return e.formatter.matchNode(t,n,{},a)?r.concat([n]):r}),[])}
var Eb={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11}
var _b=function(e,t,r){var n=r?"lastChild":"firstChild"
var a=r?"prev":"next"
if(e[n])return e[n]
if(e!==t){var o=e[a]
if(o)return o
for(var i=e.parent;i&&i!==t;i=i.parent){o=i[a]
if(o)return o}}}
var Tb=function(e){if(!wi(e.value))return false
var t=e.parent
if(t&&("span"!==t.name||t.attr("style"))&&/^[ ]+$/.test(e.value))return false
return true}
var Ab=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id")
return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t}
var Rb=function(){function e(e,t){this.name=e
this.type=t
if(1===t){this.attributes=[]
this.attributes.map={}}}e.create=function(t,r){var n=new e(t,Eb[t]||1)
r&&we(r,(function(e,t){n.attr(t,e)}))
return n}
e.prototype.replace=function(e){var t=this
e.parent&&e.remove()
t.insert(e,t)
t.remove()
return t}
e.prototype.attr=function(e,t){var r=this
var n
if("string"!==typeof e){void 0!==e&&null!==e&&we(e,(function(e,t){r.attr(t,e)}))
return r}if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e]
var a=n.length
while(a--)if(n[a].name===e){n.splice(a,1)
return r}}return r}if(e in n.map){a=n.length
while(a--)if(n[a].name===e){n[a].value=t
break}}else n.push({name:e,value:t})
n.map[e]=t
return r}return n.map[e]}}
e.prototype.clone=function(){var t=this
var r=new e(t.name,t.type)
var n
if(n=t.attributes){var a=[]
a.map={}
for(var o=0,i=n.length;o<i;o++){var u=n[o]
if("id"!==u.name){a[a.length]={name:u.name,value:u.value}
a.map[u.name]=u.value}}r.attributes=a}r.value=t.value
r.shortEnded=t.shortEnded
return r}
e.prototype.wrap=function(e){var t=this
t.parent.insert(e,t)
e.append(t)
return t}
e.prototype.unwrap=function(){var e=this
for(var t=e.firstChild;t;){var r=t.next
e.insert(t,e,true)
t=r}e.remove()}
e.prototype.remove=function(){var e=this,t=e.parent,r=e.next,n=e.prev
if(t){if(t.firstChild===e){t.firstChild=r
r&&(r.prev=null)}else n.next=r
if(t.lastChild===e){t.lastChild=n
n&&(n.next=null)}else r.prev=n
e.parent=e.next=e.prev=null}return e}
e.prototype.append=function(e){var t=this
e.parent&&e.remove()
var r=t.lastChild
if(r){r.next=e
e.prev=r
t.lastChild=e}else t.lastChild=t.firstChild=e
e.parent=t
return e}
e.prototype.insert=function(e,t,r){e.parent&&e.remove()
var n=t.parent||this
if(r){t===n.firstChild?n.firstChild=e:t.prev.next=e
e.prev=t.prev
e.next=t
t.prev=e}else{t===n.lastChild?n.lastChild=e:t.next.prev=e
e.next=t.next
e.prev=t
t.next=e}e.parent=n
return e}
e.prototype.getAll=function(e){var t=this
var r=[]
for(var n=t.firstChild;n;n=_b(n,t))n.name===e&&r.push(n)
return r}
e.prototype.empty=function(){var e=this
if(e.firstChild){var t=[]
for(var r=e.firstChild;r;r=_b(r,e))t.push(r)
var n=t.length
while(n--){r=t[n]
r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}e.firstChild=e.lastChild=null
return e}
e.prototype.isEmpty=function(e,t,r){void 0===t&&(t={})
var n=this
var a=n.firstChild
if(Ab(n))return false
if(a)do{if(1===a.type){if(a.attr("data-mce-bogus"))continue
if(e[a.name])return false
if(Ab(a))return false}if(8===a.type)return false
if(3===a.type&&!Tb(a))return false
if(3===a.type&&a.parent&&t[a.parent.name]&&wi(a.value))return false
if(r&&r(a))return false}while(a=_b(a,n))
return true}
e.prototype.walk=function(e){return _b(this,null,e)}
return e}()
var Db=sr.makeMap
var Ob=function(e){var t=[]
e=e||{}
var r=e.indent
var n=Db(e.indent_before||"")
var a=Db(e.indent_after||"")
var o=ru.getEncodeFunc(e.entity_encoding||"raw",e.entities)
var i="html"===e.element_format
return{start:function(e,u,f){var c,s,l,d
if(r&&n[e]&&t.length>0){d=t[t.length-1]
d.length>0&&"\n"!==d&&t.push("\n")}t.push("<",e)
if(u)for(c=0,s=u.length;c<s;c++){l=u[c]
t.push(" ",l.name,'="',o(l.value,true),'"')}t[t.length]=!f||i?">":" />"
if(f&&r&&a[e]&&t.length>0){d=t[t.length-1]
d.length>0&&"\n"!==d&&t.push("\n")}},end:function(e){var n
t.push("</",e,">")
if(r&&a[e]&&t.length>0){n=t[t.length-1]
n.length>0&&"\n"!==n&&t.push("\n")}},text:function(e,r){e.length>0&&(t[t.length]=r?e:o(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?t.push("<?",e," ",o(n),"?>"):t.push("<?",e,"?>")
r&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",r?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}}
var Bb=function(e,t){void 0===t&&(t=vu())
var r=Ob(e)
e=e||{}
e.validate=!("validate"in e)||e.validate
var n=function(n){var a=e.validate
var o={3:function(e){r.text(e.value,e.raw)},8:function(e){r.comment(e.value)},7:function(e){r.pi(e.name,e.value)},10:function(e){r.doctype(e.value)},4:function(e){r.cdata(e.value)},11:function(e){if(e=e.firstChild)do{i(e)}while(e=e.next)}}
r.reset()
var i=function(e){var n=o[e.type]
var u,f,c,s,l,d,v,m,p
if(n)n(e)
else{u=e.name
f=e.shortEnded
c=e.attributes
if(a&&c&&c.length>1){d=[]
d.map={}
p=t.getElementRule(e.name)
if(p){for(v=0,m=p.attributesOrder.length;v<m;v++){s=p.attributesOrder[v]
if(s in c.map){l=c.map[s]
d.map[s]=l
d.push({name:s,value:l})}}for(v=0,m=c.length;v<m;v++){s=c[v].name
if(!(s in d.map)){l=c.map[s]
d.map[s]=l
d.push({name:s,value:l})}}c=d}}r.start(e.name,c,f)
if(!f){if(e=e.firstChild)do{i(e)}while(e=e.next)
r.end(u)}}}
1!==n.type||e.inner?o[11](n):i(n)
return r.getContent()}
return{serialize:n}}
var Pb=function(e){var t=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi
var r=[]
var n={}
var a=Ts("img")
var o
var i=0
var u=0
while(o=t.exec(e)){var f=o[0]
var c=a+"_"+u++
n[c]=f
i<o.index&&r.push(e.substr(i,o.index-i))
r.push(c)
i=o.index+f.length}if(0===i)return{prefix:a,uris:n,html:e}
i<e.length&&r.push(e.substr(i))
return{prefix:a,uris:n,html:r.join("")}}
var Lb=function(e,t){return e.replace(new RegExp(t.prefix+"_[0-9]+","g"),(function(e){return Re(t.uris,e).getOr(e)}))}
var Ib=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e)
return t?A.some({type:t[1],data:decodeURIComponent(t[2])}):A.none()}
var Mb=["img","video"]
var Fb=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")}
var Ub=function(e,t){var r=z(e)?Y(Mb,t):e
return!r}
var zb=function(e,t,r){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?Ub(e.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))}
var jb=function(e,t,r){var n,a,o=1
var i=e.getShortEndedElements()
var u=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g
u.lastIndex=n=r
while(a=u.exec(t)){n=u.lastIndex
if("/"===a[1])o--
else if(!a[1]){if(a[2]in i)continue
o++}if(0===o)break}return n}
var Hb=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))}
var Vb=function(e,t,r){void 0===r&&(r=0)
var n=e.toLowerCase()
if(-1!==n.indexOf("[if ",r)&&Hb(n,r)){var a=n.indexOf("[endif]",r)
return n.indexOf(">",a)}if(t){var o=n.indexOf(">",r)
return-1!==o?o:n.length}var i=/--!?>/
i.lastIndex=r
var u=i.exec(e)
return u?u.index+u[0].length:n.length}
var qb=function(e,t){var r=e.exec(t)
if(r){var n=r[1]
var a=r[2]
return"string"===typeof n&&"data-mce-bogus"===n.toLowerCase()?a:null}return null}
function $b(e,t){void 0===t&&(t=vu())
var r=function(){}
e=e||{}
false!==e.fix_self_closing&&(e.fix_self_closing=true)
var n=e.comment?e.comment:r
var a=e.cdata?e.cdata:r
var o=e.text?e.text:r
var i=e.start?e.start:r
var u=e.end?e.end:r
var f=e.pi?e.pi:r
var c=e.doctype?e.doctype:r
var s=function(r,s){void 0===s&&(s="html")
var l=r.html
var d,v,m,p=0
var g=[]
var h,y,b,C
var w,x
var S,N,k,E,_,T
var A,R,D
var O,B,P=0
var L=ru.decode
var I=sr.makeMap("src,href,data,background,formaction,poster,xlink:href")
var M=/((java|vb)script|mhtml):/i
var F="html"===s?0:1
var U=function(e){var t,r
t=g.length
while(t--)if(g[t].name===e)break
if(t>=0){for(r=g.length-1;r>=t;r--){e=g[r]
e.valid&&u(e.name)}g.length=t}}
var z=function(e,t){return o(Lb(e,r),t)}
var j=function(t){if(""===t)return
">"===t.charAt(0)&&(t=" "+t)
e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t)
n(Lb(t,r))}
var H=function(e){return Re(r.uris,e).getOr(e)}
var V=function(e,t){var r=e||""
var n=!ft(r,"--")
var a=Vb(l,n,t)
e=l.substr(t,a-t)
j(n?r+e:e)
return a+1}
var q=function(t,r,n,a,o){var i,u
var f=/[\s\u0000-\u001F]+/g
r=r.toLowerCase()
n=H(r in Y?r:L(n||a||o||""))
if(G&&!w&&false===Fb(r)){i=_[r]
if(!i&&T){u=T.length
while(u--){i=T[u]
if(i.pattern.test(r))break}-1===u&&(i=null)}if(!i)return
if(i.validValues&&!(n in i.validValues))return}if(I[r]&&!e.allow_script_urls){var c=n.replace(f,"")
try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}if(M.test(c))return
if(zb(e,c,t))return}if(w&&(r in I||0===r.indexOf("on")))return
h.map[r]=n
h.push({name:r,value:n})}
var $=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g")
var W=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g
var K=t.getShortEndedElements()
var X=e.self_closing_elements||t.getSelfClosingElements()
var Y=t.getBoolAttrs()
var G=e.validate
var J=e.remove_internals
var Q=e.fix_self_closing
var Z=t.getSpecialElements()
var ee=l+">"
while(d=$.exec(ee)){var te=d[0]
p<d.index&&z(L(l.substr(p,d.index-p)))
if(v=d[7]){v=v.toLowerCase()
":"===v.charAt(0)&&(v=v.substr(1))
U(v)}else if(v=d[8]){if(d.index+te.length>l.length){z(L(l.substr(d.index)))
p=d.index+te.length
continue}v=v.toLowerCase()
":"===v.charAt(0)&&(v=v.substr(1))
x=v in K
Q&&X[v]&&g.length>0&&g[g.length-1].name===v&&U(v)
var re=qb(W,d[9])
if(null!==re){if("all"===re){p=jb(t,l,$.lastIndex)
$.lastIndex=p
continue}N=false}if(!G||(S=t.getElementRule(v))){N=true
if(G){_=S.attributes
T=S.attributePatterns}if(E=d[9]){w=-1!==E.indexOf("data-mce-type")
w&&J&&(N=false)
h=[]
h.map={}
E.replace(W,(function(e,t,r,n,a){q(v,t,r,n,a)
return""}))}else{h=[]
h.map={}}if(G&&!w){A=S.attributesRequired
R=S.attributesDefault
D=S.attributesForced
O=S.removeEmptyAttrs
O&&!h.length&&(N=false)
if(D){y=D.length
while(y--){k=D[y]
C=k.name
B=k.value
"{$uid}"===B&&(B="mce_"+P++)
h.map[C]=B
h.push({name:C,value:B})}}if(R){y=R.length
while(y--){k=R[y]
C=k.name
if(!(C in h.map)){B=k.value
"{$uid}"===B&&(B="mce_"+P++)
h.map[C]=B
h.push({name:C,value:B})}}}if(A){y=A.length
while(y--)if(A[y]in h.map)break;-1===y&&(N=false)}if(k=h.map["data-mce-bogus"]){if("all"===k){p=jb(t,l,$.lastIndex)
$.lastIndex=p
continue}N=false}}N&&i(v,h,x)}else N=false
if(m=Z[v]){m.lastIndex=p=d.index+te.length
if(d=m.exec(l)){N&&(b=l.substr(p,d.index-p))
p=d.index+d[0].length}else{b=l.substr(p)
p=l.length}if(N){b.length>0&&z(b,true)
u(v)}$.lastIndex=p
continue}x||(E&&E.indexOf("/")===E.length-1?N&&u(v):g.push({name:v,valid:N}))}else if(v=d[1])j(v)
else if(v=d[2]){var ne=1===F||e.preserve_cdata||g.length>0&&t.isValidChild(g[g.length-1].name,"#cdata")
if(!ne){p=V("",d.index+2)
$.lastIndex=p
continue}a(v)}else if(v=d[3])c(v)
else{if((v=d[4])||"<!"===te){p=V(v,d.index+te.length)
$.lastIndex=p
continue}if(v=d[5]){if(1!==F){p=V("?",d.index+2)
$.lastIndex=p
continue}f(v,d[6])}}p=d.index+te.length}p<l.length&&z(L(l.substr(p)))
for(y=g.length-1;y>=0;y--){v=g[y]
v.valid&&u(v.name)}}
var l=function(e,t){void 0===t&&(t="html")
s(Pb(e),t)}
return{parse:l}}(function(e){e.findEndTag=jb})($b||($b={}))
var Wb=$b
var Kb=function(e,t){var r=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi")
return t.replace(r,"")}
var Xb=function(e,t){var r=t
var n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g
var a,o,i,u
var f=e.schema
r=Kb(e.getTempAttrs(),r)
var c=f.getShortEndedElements()
while(u=n.exec(r)){o=n.lastIndex
i=u[0].length
a=c[u[1]]?o:Wb.findEndTag(f,r,o)
r=r.substring(0,o-i)+r.substring(a)
n.lastIndex=o-i}return Ho(r)}
var Yb=Xb
var Gb=function(e,t){var r=md(e)
var n=new RegExp("^(<"+r+"[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/"+r+">[\r\n]*|<br \\/>[\r\n]*)$")
return t.replace(n,"")}
var Jb=function(e,t,r,n){var a
t.format=r
t.get=true
t.getInner=true
t.no_events||e.fire("BeforeGetContent",t)
a="raw"===t.format?sr.trim(Yb(e.serializer,n.innerHTML)):"text"===t.format?e.dom.isEmpty(n)?"":Ho(n.innerText||n.textContent):"tree"===t.format?e.serializer.serialize(n,t):Gb(e,e.serializer.serialize(n,t))
Y(["text","tree"],t.format)||Po(gr.fromDom(n))?t.content=a:t.content=sr.trim(a)
t.no_events||e.fire("GetContent",t)
return t.content}
var Qb=function(e,t,r){return A.from(e.getBody()).fold(h("tree"===t.format?new Rb("body",11):""),(function(n){return Jb(e,t,r,n)}))}
var Zb=sr.each
var eC=function(e){this.compare=function(t,r){if(t.nodeName!==r.nodeName)return false
var n=function(t){var r={}
Zb(e.getAttribs(t),(function(n){var a=n.nodeName.toLowerCase()
0!==a.indexOf("_")&&"style"!==a&&0!==a.indexOf("data-")&&(r[a]=e.getAttrib(t,a))}))
return r}
var a=function(e,t){var r,n
for(n in e)if(e.hasOwnProperty(n)){r=t[n]
if("undefined"===typeof r)return false
if(e[n]!==r)return false
delete t[n]}for(n in t)if(t.hasOwnProperty(n))return false
return true}
if(!a(n(t),n(r)))return false
if(!a(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(r,"style"))))return false
return!sp(t)&&!sp(r)}}
var tC=function(e,t,r){return A.from(r.container()).filter(Yn).exists((function(n){var a=e?0:-1
return t(n.data.charAt(r.offset()+a))}))}
var rC=b(tC,true,vp)
var nC=b(tC,false,vp)
var aC=function(e){var t=e.container()
return Yn(t)&&(0===t.data.length||jo(t.data)&&Eg.isBookmarkNode(t.parentNode))}
var oC=function(e,t){return function(r){return A.from(Zv(e?0:-1,r)).filter(t).isSome()}}
var iC=function(e){return ea(e)&&"block"===ga(gr.fromDom(e),"display")}
var uC=function(e){return ra(e)&&!$n(e)}
var fC=oC(true,iC)
var cC=oC(false,iC)
var sC=oC(true,aa)
var lC=oC(false,aa)
var dC=oC(true,Wn)
var vC=oC(false,Wn)
var mC=oC(true,uC)
var pC=oC(false,uC)
var gC=function(e){var t=[]
var r=e.dom
while(r){t.push(gr.fromDom(r))
r=r.lastChild}return t}
var hC=function(e){var t=gs(e,"br")
var r=te(gC(e).slice(-1),To)
t.length===r.length&&Q(r,xn)}
var yC=function(e){wn(e)
hn(e,gr.fromHtml('<br data-mce-bogus="1">'))}
var bC=function(e){tn(e).each((function(t){Xr(t).each((function(r){ko(e)&&To(t)&&ko(r)&&xn(t)}))}))}
var CC=function(e){return e.slice(0,-1)}
var wC=function(e,t,r){return Or(t,e)?CC(Wr(e,(function(e){return r(e)||Ar(e,t)}))):[]}
var xC=function(e,t){return wC(e,t,S)}
var SC=function(e,t){return[e].concat(xC(e,t))}
var NC=function(e,t,r){return Lm(e,t,r,aC)}
var kC=function(e,t){return oe(SC(gr.fromDom(t.container()),e),ko)}
var EC=function(e,t,r){return NC(e,t.dom,r).forall((function(e){return kC(t,r).fold((function(){return false===Qv(e,r,t.dom)}),(function(n){return false===Qv(e,r,t.dom)&&Or(n,gr.fromDom(e.container()))}))}))}
var _C=function(e,t,r){return kC(t,r).fold((function(){return NC(e,t.dom,r).forall((function(e){return false===Qv(e,r,t.dom)}))}),(function(t){return NC(e,t.dom,r).isNone()}))}
var TC=b(_C,false)
var AC=b(_C,true)
var RC=b(EC,false)
var DC=b(EC,true)
var OC=function(e){return fm(e).exists(To)}
var BC=function(e,t,r){var n=te(SC(gr.fromDom(r.container()),t),ko)
var a=pe(n).getOr(t)
return Bm(e,a.dom,r).filter(OC)}
var PC=function(e,t){return fm(t).exists(To)||BC(true,e,t).isSome()}
var LC=function(e,t){return cm(t).exists(To)||BC(false,e,t).isSome()}
var IC=b(BC,false)
var MC=b(BC,true)
var FC=function(e){return xl.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()}
var UC=function(e,t){var r=te(SC(gr.fromDom(t.container()),e),ko)
return pe(r).getOr(e)}
var zC=function(e,t){return FC(t)?nC(t):nC(t)||Fm(UC(e,t).dom,t).exists(nC)}
var jC=function(e,t){return FC(t)?rC(t):rC(t)||Mm(UC(e,t).dom,t).exists(rC)}
var HC=function(e){return Y(["pre","pre-wrap"],e)}
var VC=function(e){return fm(e).bind((function(e){return Xa(e,Mr)})).exists((function(e){return HC(ga(e,"white-space"))}))}
var qC=function(e,t){return Fm(e.dom,t).isNone()}
var $C=function(e,t){return Mm(e.dom,t).isNone()}
var WC=function(e,t){return qC(e,t)||$C(e,t)||TC(e,t)||AC(e,t)||LC(e,t)||PC(e,t)}
var KC=function(e,t){return!VC(t)&&(WC(e,t)||zC(e,t)||jC(e,t))}
var XC=function(e,t){return!VC(t)&&(TC(e,t)||RC(e,t)||LC(e,t)||zC(e,t))}
var YC=function(e){var t=e.container()
var r=e.offset()
return Yn(t)&&r<t.data.length?xl(t,r+1):e}
var GC=function(e,t){return!VC(t)&&(AC(e,t)||DC(e,t)||PC(e,t)||jC(e,t))}
var JC=function(e,t){return XC(e,t)||GC(e,YC(t))}
var QC=function(e,t){return dp(e.charAt(t))}
var ZC=function(e){var t=e.container()
return Yn(t)&&ut(t.data,Mo)}
var ew=function(e){var t=e.split("")
return J(t,(function(e,r){return dp(e)&&r>0&&r<t.length-1&&mp(t[r-1])&&mp(t[r+1])?" ":e})).join("")}
var tw=function(e,t){var r=t.data
var n=xl(t,0)
if(QC(r,0)&&!JC(e,n)){t.data=" "+r.slice(1)
return true}return false}
var rw=function(e){var t=e.data
var r=ew(t)
if(r!==t){e.data=r
return true}return false}
var nw=function(e,t){var r=t.data
var n=xl(t,r.length-1)
if(QC(r,r.length-1)&&!JC(e,n)){t.data=r.slice(0,-1)+" "
return true}return false}
var aw=function(e,t){return A.some(t).filter(ZC).bind((function(t){var r=t.container()
var n=tw(e,r)||rw(r)||nw(e,r)
return n?A.some(t):A.none()}))}
var ow=function(e){var t=gr.fromDom(e.getBody())
e.selection.isCollapsed()&&aw(t,xl.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))}
var iw=function(e,t,r){var n=ne(e,(function(n,a){return vp(a)||dp(a)?n.previousCharIsSpace||""===n.str&&t||n.str.length===e.length-1&&r?{previousCharIsSpace:false,str:n.str+Mo}:{previousCharIsSpace:true,str:n.str+" "}:{previousCharIsSpace:false,str:n.str+a}}),{previousCharIsSpace:false,str:""})
return n.str}
var uw=function(e,t,r){if(0===r)return
var n=gr.fromDom(e)
var a=Ka(n,ko).getOr(n)
var o=e.data.slice(t,t+r)
var i=t+r>=e.data.length&&GC(a,Sl(e,e.data.length))
var u=0===t&&XC(a,Sl(e,0))
e.replaceData(t,r,iw(o,u,i))}
var fw=function(e,t){var r=e.data.slice(t)
var n=r.length-lt(r).length
return uw(e,t,n)}
var cw=function(e,t){var r=e.data.slice(0,t)
var n=r.length-dt(r).length
return uw(e,t-n,n)}
var sw=function(e,t,r,n){void 0===n&&(n=true)
var a=dt(e.data).length
var o=n?e:t
var i=n?t:e
n?o.appendData(i.data):o.insertData(0,i.data)
xn(gr.fromDom(i))
r&&fw(o,a)
return o}
var lw=function(e,t){var r=e.container()
var n=e.offset()
return false===Sl.isTextPosition(e)&&r===t.parentNode&&n>Sl.before(t).offset()}
var dw=function(e,t){return lw(t,e)?Sl(t.container(),t.offset()-1):t}
var vw=function(e){return Yn(e)?Sl(e,0):Sl.before(e)}
var mw=function(e){return Yn(e)?Sl(e,e.data.length):Sl.after(e)}
var pw=function(e){return vi(e.previousSibling)?A.some(mw(e.previousSibling)):e.previousSibling?zm(e.previousSibling):A.none()}
var gw=function(e){return vi(e.nextSibling)?A.some(vw(e.nextSibling)):e.nextSibling?Um(e.nextSibling):A.none()}
var hw=function(e,t){var r=Sl.before(t.previousSibling?t.previousSibling:t.parentNode)
return Fm(e,r).fold((function(){return Mm(e,Sl.after(t))}),A.some)}
var yw=function(e,t){return Mm(e,Sl.after(t)).fold((function(){return Fm(e,Sl.before(t))}),A.some)}
var bw=function(e,t){return pw(t).orThunk((function(){return gw(t)})).orThunk((function(){return hw(e,t)}))}
var Cw=function(e,t){return gw(t).orThunk((function(){return pw(t)})).orThunk((function(){return yw(e,t)}))}
var ww=function(e,t,r){return e?Cw(t,r):bw(t,r)}
var xw=function(e,t,r){return ww(e,t,r).map(b(dw,r))}
var Sw=function(e,t,r){r.fold((function(){e.focus()}),(function(r){e.selection.setRng(r.toRange(),t)}))}
var Nw=function(e){return function(t){return t.dom===e}}
var kw=function(e,t){return t&&De(e.schema.getBlockElements(),Br(t))}
var Ew=function(e){if(Ri(e)){var t=gr.fromHtml('<br data-mce-bogus="1">')
wn(e)
hn(e,t)
return A.some(Sl.before(t.dom))}return A.none()}
var _w=function(e,t,r){var n=Xr(e).filter(Fr)
var a=Yr(e).filter(Fr)
xn(e)
return zs(n,a,t,(function(e,t,n){var a=e.dom,o=t.dom
var i=a.data.length
sw(a,o,r)
return n.container()===o?Sl(a,i):n})).orThunk((function(){if(r){n.each((function(e){return cw(e.dom,e.dom.length)}))
a.each((function(e){return fw(e.dom,0)}))}return t}))}
var Tw=function(e,t){return De(e.schema.getTextInlineElements(),Br(t))}
var Aw=function(e,t,r,n){void 0===n&&(n=true)
var a=xw(t,e.getBody(),r.dom)
var o=Ka(r,b(kw,e),Nw(e.getBody()))
var i=_w(r,a,Tw(e,r))
if(e.dom.isEmpty(e.getBody())){e.setContent("")
e.selection.setCursorLocation()}else o.bind(Ew).fold((function(){n&&Sw(e,t,i)}),(function(r){n&&Sw(e,t,A.some(r))}))}
var Rw=function(e,t){return{start:e,end:t}}
var Dw=function(e,t,r){return{rng:e,table:t,cells:r}}
var Ow=qa.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}])
var Bw=function(e){return function(t){return Ar(e,t)}}
var Pw=function(e,t){return Za(gr.fromDom(e),"td,th",t)}
var Lw=function(e,t){return Ja(e,"table",t)}
var Iw=function(e){return!Ar(e.start,e.end)}
var Mw=function(e,t){return Lw(e.start,t).bind((function(r){return Lw(e.end,t).bind((function(e){return js(Ar(r,e),r)}))}))}
var Fw=function(e,t){return!Iw(e)&&Mw(e,t).exists((function(e){var t=e.dom.rows
return 1===t.length&&1===t[0].cells.length}))}
var Uw=function(e){return gs(e,"td,th")}
var zw=function(e,t){var r=Pw(e.startContainer,t)
var n=Pw(e.endContainer,t)
return Us(r,n,Rw)}
var jw=function(e,t){return Lw(e.start,t).bind((function(t){return ge(Uw(t)).map((function(t){return Rw(e.start,t)}))}))}
var Hw=function(e,t){var r=Pw(t.startContainer,e)
var n=Pw(t.endContainer,e)
return t.collapsed?A.none():Us(r,n,Rw).fold((function(){return r.fold((function(){return n.bind((function(t){return Lw(t,e).bind((function(e){return pe(Uw(e)).map((function(e){return Rw(e,t)}))}))}))}),(function(t){return Lw(t,e).bind((function(e){return ge(Uw(e)).map((function(e){return Rw(t,e)}))}))}))}),(function(t){return Vw(e,t)?A.none():jw(t,e)}))}
var Vw=function(e,t){return Mw(t,e).isSome()}
var qw=function(e,t){return Mw(e,t).map((function(t){return Dw(e,t,Uw(t))}))}
var $w=function(e,t,r){return e.filter((function(e){return Iw(e)&&Vw(r,e)})).orThunk((function(){return Hw(r,t)})).bind((function(e){return qw(e,r)}))}
var Ww=function(e,t){return ie(e,(function(e){return Ar(e,t)}))}
var Kw=function(e){return Us(Ww(e.cells,e.rng.start),Ww(e.cells,e.rng.end),(function(t,r){return e.cells.slice(t,r+1)}))}
var Xw=function(e,t,r){return e.filter((function(e){return Fw(e,r)&&sg(e.start,t)})).map((function(e){return e.start}))}
var Yw=function(e){return Kw(e).map((function(t){var r=e.cells
return t.length===r.length?Ow.removeTable(e.table):Ow.emptyCells(t)}))}
var Gw=function(e,t){var r=Bw(e)
var n=zw(t,r)
return Xw(n,t,r).map((function(e){return Ow.deleteCellSelection(t,e)})).orThunk((function(){return $w(n,t,r).bind(Yw)}))}
var Jw=function(e){var t=Ir(e)?Xr(e):tn(e)
return t.bind(Jw).orThunk((function(){return A.some(e)}))}
var Qw=function(e,t){Q(t,yC)
e.selection.setCursorLocation(t[0].dom,0)
return true}
var Zw=function(e,t,r){t.deleteContents()
var n=Jw(r).getOr(r)
var a=gr.fromDom(e.dom.getParent(n.dom,e.dom.isBlock))
if(Ri(a)){yC(a)
e.selection.setCursorLocation(a.dom,0)}if(!Ar(r,a)){var o=$r(a).is(r)?[]:Kr(a)
Q(o.concat(Qr(r)),(function(e){Ar(e,a)||Or(e,a)||xn(e)}))}return true}
var ex=function(e,t){Aw(e,false,t)
return true}
var tx=function(e,t,r){return Gw(t,r).map((function(t){return t.fold(b(ex,e),b(Qw,e),b(Zw,e))}))}
var rx=function(e,t){return fx(e,t)}
var nx=function(e,t,r,n){return ix(t,n).fold((function(){return tx(e,t,r)}),(function(t){return rx(e,t)})).getOr(false)}
var ax=function(e,t){var r=gr.fromDom(e.getBody())
var n=e.selection.getRng()
var a=og(e)
return 0!==a.length?Qw(e,a):nx(e,r,n,t)}
var ox=function(e,t){return oe(SC(t,e),Bo)}
var ix=function(e,t){return oe(SC(t,e),(function(e){return"caption"===Br(e)}))}
var ux=function(e,t,r,n,a){return Pm(r,e.getBody(),a).bind((function(e){return ox(t,gr.fromDom(e.getNode())).map((function(e){return false===Ar(e,n)}))}))}
var fx=function(e,t){yC(t)
e.selection.setCursorLocation(t.dom,0)
return A.some(true)}
var cx=function(e,t,r,n){return Um(e.dom).bind((function(a){return zm(e.dom).map((function(e){return t?r.isEqual(a)&&n.isEqual(e):r.isEqual(e)&&n.isEqual(a)}))})).getOr(true)}
var sx=function(e,t){return fx(e,t)}
var lx=function(e,t,r){return ix(e,gr.fromDom(r.getNode())).map((function(e){return false===Ar(e,t)}))}
var dx=function(e,t,r,n,a){return Pm(r,e.getBody(),a).bind((function(o){return cx(n,r,a,o)?sx(e,n):lx(t,n,o)})).or(A.some(true))}
var vx=function(e,t,r,n){var a=Sl.fromRangeStart(e.selection.getRng())
return ox(r,n).bind((function(n){return Ri(n)?fx(e,n):ux(e,r,t,n,a)})).getOr(false)}
var mx=function(e,t,r,n){var a=Sl.fromRangeStart(e.selection.getRng())
return Ri(n)?fx(e,n):dx(e,r,t,n,a)}
var px=function(e,t){return e?dC(t):vC(t)}
var gx=function(e,t){var r=Sl.fromRangeStart(e.selection.getRng())
return px(t,r)||Bm(t,e.getBody(),r).exists((function(e){return px(t,e)}))}
var hx=function(e,t,r){var n=gr.fromDom(e.getBody())
return ix(n,r).fold((function(){return vx(e,t,n,r)||gx(e,t)}),(function(r){return mx(e,t,n,r).getOr(false)}))}
var yx=function(e,t){var r=gr.fromDom(e.selection.getStart(true))
var n=og(e)
return e.selection.isCollapsed()&&0===n.length?hx(e,t,r):ax(e,r)}
var bx=function(e,t,r,n){var a=document.createRange()
a.setStart(e,t)
a.setEnd(r,n)
return a}
var Cx=function(e){var t=Sl.fromRangeStart(e)
var r=Sl.fromRangeEnd(e)
var n=e.commonAncestorContainer
return Bm(false,n,r).map((function(a){return!Qv(t,r,n)&&Qv(t,a,n)?bx(t.container(),t.offset(),a.container(),a.offset()):e})).getOr(e)}
var wx=function(e){return e.collapsed?e:Cx(e)}
var xx=function(e){return e.firstChild&&e.firstChild===e.lastChild}
var Sx=function(e){return"br"===e.name||e.value===Mo}
var Nx=function(e,t){var r=e.getBlockElements()
return r[t.name]&&xx(t)&&Sx(t.firstChild)}
var kx=function(e,t){var r=e.getNonEmptyElements()
return t&&(t.isEmpty(r)||Nx(e,t))}
var Ex=function(e,t){var r=t.firstChild
var n=t.lastChild
r&&"meta"===r.name&&(r=r.next)
n&&"mce_marker"===n.attr("id")&&(n=n.prev)
kx(e,n)&&(n=n.prev)
if(!r||r!==n)return false
return"ul"===r.name||"ol"===r.name}
var _x=function(e){var t=e.firstChild
var r=e.lastChild
t&&"META"===t.nodeName&&t.parentNode.removeChild(t)
r&&"mce_marker"===r.id&&r.parentNode.removeChild(r)
return e}
var Tx=function(e,t,r){var n=t.serialize(r)
var a=e.createFragment(n)
return _x(a)}
var Ax=function(e){return sr.grep(e.childNodes,(function(e){return"LI"===e.nodeName}))}
var Rx=function(e){return e.data===Mo||Zn(e)}
var Dx=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Rx(e.firstChild)}
var Ox=function(e){return!e.firstChild||Dx(e)}
var Bx=function(e){return e.length>0&&Ox(e[e.length-1])?e.slice(0,-1):e}
var Px=function(e,t){var r=e.getParent(t,e.isBlock)
return r&&"LI"===r.nodeName?r:null}
var Lx=function(e,t){return!!Px(e,t)}
var Ix=function(e,t){var r=t.cloneRange()
var n=t.cloneRange()
r.setStartBefore(e)
n.setEndAfter(e)
return[r.cloneContents(),n.cloneContents()]}
var Mx=function(e,t){var r=Sl.before(e)
var n=km(t)
var a=n.next(r)
return a?a.toRange():null}
var Fx=function(e,t){var r=Sl.after(e)
var n=km(t)
var a=n.prev(r)
return a?a.toRange():null}
var Ux=function(e,t,r,n){var a=Ix(e,n)
var o=e.parentNode
o.insertBefore(a[0],e)
sr.each(t,(function(t){o.insertBefore(t,e)}))
o.insertBefore(a[1],e)
o.removeChild(e)
return Fx(t[t.length-1],r)}
var zx=function(e,t,r){var n=e.parentNode
sr.each(t,(function(t){n.insertBefore(t,e)}))
return Mx(e,r)}
var jx=function(e,t,r,n){n.insertAfter(t.reverse(),e)
return Fx(t[0],r)}
var Hx=function(e,t,r,n){var a=Tx(t,e,n)
var o=Px(t,r.startContainer)
var i=Bx(Ax(a.firstChild))
var u=1,f=2
var c=t.getRoot()
var s=function(e){var n=Sl.fromRangeStart(r)
var a=km(t.getRoot())
var i=e===u?a.prev(n):a.next(n)
return!i||Px(t,i.getNode())!==o}
if(s(u))return zx(o,i,c)
if(s(f))return jx(o,i,c,t)
return Ux(o,i,c,r)}
var Vx=function(e,t,r){var n=gr.fromDom(e.getRoot())
r=XC(n,Sl.fromRangeStart(t))?r.replace(/^ /,"&nbsp;"):r.replace(/^&nbsp;/," ")
r=GC(n,Sl.fromRangeEnd(t))?r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r.replace(/&nbsp;(<br( \/)?>)?$/," ")
return r}
var qx=na
var $x=function(e,t,r){if(null!==r){var n=e.getParent(t.endContainer,qx)
return r===n&&sg(gr.fromDom(r),t)}return false}
var Wx=function(e,t,r){if("all"===r.getAttribute("data-mce-bogus"))r.parentNode.insertBefore(e.dom.createFragment(t),r)
else{var n=r.firstChild
var a=r.lastChild
!n||n===a&&"BR"===n.nodeName?e.dom.setHTML(r,t):e.selection.setContent(t)}}
var Kx=function(e,t){A.from(e.getParent(t,"td,th")).map(gr.fromDom).each(bC)}
var Xx=function(e,t){var r=e.schema.getTextInlineElements()
var n=e.dom
if(t){var a=e.getBody(),o=new eC(n)
sr.each(n.select("*[data-mce-fragment]"),(function(e){for(var t=e.parentNode;t&&t!==a;t=t.parentNode)r[e.nodeName.toLowerCase()]&&o.compare(t,e)&&n.remove(e,true)}))}}
var Yx=function(e){var t=e
while(t=t.walk())1===t.type&&t.attr("data-mce-fragment","1")}
var Gx=function(e){sr.each(e.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")}))}
var Jx=function(e){return!!e.getAttribute("data-mce-fragment")}
var Qx=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]}
var Zx=function(e,t){var r
var n=e.dom,a=e.selection
var o
var i=function(t){var r=e.getBody()
for(;t&&t!==r;t=t.parentNode)if("false"===n.getContentEditable(t))return t
return null}
if(!t)return
a.scrollIntoView(t)
var u=i(t)
if(u){n.remove(t)
a.select(u)
return}var f=n.createRng()
var c=t.previousSibling
if(c&&3===c.nodeType){f.setStart(c,c.nodeValue.length)
if(!Jt.ie){o=t.nextSibling
if(o&&3===o.nodeType){c.appendData(o.data)
o.parentNode.removeChild(o)}}}else{f.setStartBefore(t)
f.setEndBefore(t)}var s=function(t){var r=Sl.fromRangeStart(t)
var n=km(e.getBody())
r=n.next(r)
if(r)return r.toRange()}
var l=n.getParent(t,n.isBlock)
n.remove(t)
if(l&&n.isEmpty(l)){e.$(l).empty()
f.setStart(l,0)
f.setEnd(l,0)
if(qx(l)||Jx(l)||!(r=s(f)))n.add(l,n.create("br",{"data-mce-bogus":"1"}))
else{f=r
n.remove(l)}}a.setRng(f)}
var eS=function(e){var t=e.dom
var r=wx(e.selection.getRng())
e.selection.setRng(r)
var n=t.getParent(r.startContainer,qx)
$x(t,r,n)?Zw(e,r,gr.fromDom(n)):e.getDoc().execCommand("Delete",false,null)}
var tS=function(e,t,r){var n,a,o
var i,u,f
var c=e.selection,s=e.dom;/^ | $/.test(t)&&(t=Vx(s,c.getRng(),t))
var l=e.parser
var d=r.merge
var v=Bb({validate:Kd(e)},e.schema)
var m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>'
o={content:t,format:"html",selection:true,paste:r.paste}
o=e.fire("BeforeSetContent",o)
if(o.isDefaultPrevented()){e.fire("SetContent",{content:o.content,format:"html",selection:true,paste:r.paste})
return}t=o.content;-1===t.indexOf("{$caret}")&&(t+="{$caret}")
t=t.replace(/\{\$caret\}/,m)
u=c.getRng()
var p=u.startContainer||(u.parentElement?u.parentElement():null)
var g=e.getBody()
if(p===g&&c.isCollapsed()&&s.isBlock(g.firstChild)&&Qx(e,g.firstChild)&&s.isEmpty(g.firstChild)){u=s.createRng()
u.setStart(g.firstChild,0)
u.setEnd(g.firstChild,0)
c.setRng(u)}c.isCollapsed()||eS(e)
n=c.getNode()
var h={context:n.nodeName.toLowerCase(),data:r.data,insert:true}
var y=l.parse(t,h)
if(true===r.paste&&Ex(e.schema,y)&&Lx(s,n)){u=Hx(v,s,c.getRng(),y)
c.setRng(u)
e.fire("SetContent",o)
return}Yx(y)
f=y.lastChild
if("mce_marker"===f.attr("id")){i=f
for(f=f.prev;f;f=f.walk(true))if(3===f.type||!s.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(i,f,"br"===f.name)
break}}e._selectionOverrides.showBlockCaretContainer(n)
if(h.invalid){e.selection.setContent(m)
n=c.getNode()
a=e.getBody()
9===n.nodeType?n=f=a:f=n
while(f!==a){n=f
f=f.parentNode}t=n===a?a.innerHTML:s.getOuterHTML(n)
t=v.serialize(l.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return v.serialize(y)}))))
n===a?s.setHTML(a,t):s.setOuterHTML(n,t)}else{t=v.serialize(y)
Wx(e,t,n)}Xx(e,d)
Zx(e,s.get("mce_marker"))
Gx(e.getBody())
Kx(s,c.getStart())
e.fire("SetContent",o)
e.addVisual()}
var rS=function(e,t){t(e)
e.firstChild&&rS(e.firstChild,t)
e.next&&rS(e.next,t)}
var nS=function(e,t,r){var n={}
var a={}
var o=[]
r.firstChild&&rS(r.firstChild,(function(r){Q(e,(function(e){e.name===r.name&&(n[e.name]?n[e.name].nodes.push(r):n[e.name]={filter:e,nodes:[r]})}))
Q(t,(function(e){"string"===typeof r.attr(e.name)&&(a[e.name]?a[e.name].nodes.push(r):a[e.name]={filter:e,nodes:[r]})}))}))
for(var i in n)n.hasOwnProperty(i)&&o.push(n[i])
for(var u in a)a.hasOwnProperty(u)&&o.push(a[u])
return o}
var aS=function(e,t,r){var n=nS(e,t,r)
Q(n,(function(e){Q(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))}
var oS="html"
var iS=function(e){return e instanceof Rb}
var uS=function(e){Zy(e)&&Um(e.getBody()).each((function(t){var r=t.getNode()
var n=Wn(r)?Um(r).getOr(t):t
e.selection.setRng(n.toRange())}))}
var fS=function(e,t){e.dom.setHTML(e.getBody(),t)
uS(e)}
var cS=function(e,t,r,n){var a,o
if(0===r.length||/^\s+$/.test(r)){o='<br data-mce-bogus="1">'
"TABLE"===t.nodeName?r="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(r="<li>"+o+"</li>")
a=md(e)
if(a&&e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())){r=o
r=e.dom.createHTML(a,pd(e),r)}else r||(r='<br data-mce-bogus="1">')
fS(e,r)
e.fire("SetContent",n)}else{"raw"!==n.format&&(r=Bb({validate:e.validate},e.schema).serialize(e.parser.parse(r,{isRootContent:true,insert:true})))
n.content=Po(gr.fromDom(t))?r:sr.trim(r)
fS(e,n.content)
n.no_events||e.fire("SetContent",n)}return n.content}
var sS=function(e,t,r,n){aS(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),r)
var a=Bb({validate:e.validate},e.schema).serialize(r)
n.content=Po(gr.fromDom(t))?a:sr.trim(a)
fS(e,n.content)
n.no_events||e.fire("SetContent",n)
return r}
var lS=function(e,t,r){r.format=r.format?r.format:oS
r.set=true
r.content=iS(t)?"":t
r.no_events||e.fire("BeforeSetContent",r)
iS(t)||(t=r.content)
return A.from(e.getBody()).fold(h(t),(function(n){return iS(t)?sS(e,n,t,r):cS(e,n,t,r)}))}
var dS=function(e,t){var r=e.dom
var n=j(t)?t:e.getBody()
U(e.hasVisual)&&(e.hasVisual=mv(e))
Q(r.select("table,a",n),(function(t){switch(t.nodeName){case"TABLE":var n=pv(e)
var a=r.getAttrib(t,"border")
a&&"0"!==a||!e.hasVisual?r.removeClass(t,n):r.addClass(t,n)
break
case"A":if(!r.getAttrib(t,"href")){var o=r.getAttrib(t,"name")||t.id
var i=gv(e)
o&&e.hasVisual?r.addClass(t,i):r.removeClass(t,i)}}}))
e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})}
var vS=function(e,t){return Ya(e,t).isSome()}
var mS=zo,pS="_mce_caret"
var gS=function(e,t){return e.importNode(t,true)}
var hS=function(e){var t=[]
while(e){if(3===e.nodeType&&e.nodeValue!==mS||e.childNodes.length>1)return[]
1===e.nodeType&&t.push(e)
e=e.firstChild}return t}
var yS=function(e){return hS(e).length>0}
var bS=function(e){if(e){var t=new mo(e,e)
for(e=t.current();e;e=t.next())if(Yn(e))return e}return null}
var CS=function(e){var t=gr.fromTag("span")
fa(t,{id:pS,"data-mce-bogus":"1","data-mce-type":"format-caret"})
e&&hn(t,gr.fromText(mS))
return t}
var wS=function(e){var t=bS(e)
t&&t.nodeValue.charAt(0)===mS&&t.deleteData(0,1)
return t}
var xS=function(e,t,r){void 0===r&&(r=true)
var n=e.dom,a=e.selection
if(yS(t))Aw(e,false,gr.fromDom(t),r)
else{var o=a.getRng()
var i=n.getParent(t,n.isBlock)
var u=o.startContainer
var f=o.startOffset
var c=o.endContainer
var s=o.endOffset
var l=wS(t)
n.remove(t,true)
u===l&&f>0&&o.setStart(l,f-1)
c===l&&s>0&&o.setEnd(l,s-1)
i&&n.isEmpty(i)&&yC(gr.fromDom(i))
a.setRng(o)}}
var SS=function(e,t,r){void 0===r&&(r=true)
var n=e.dom,a=e.selection
if(t)xS(e,t,r)
else{t=Vm(e.getBody(),a.getStart())
if(!t)while(t=n.get(pS))xS(e,t,false)}}
var NS=function(e,t,r){var n=e.dom,a=n.getParent(r,b(bp,e))
if(a&&n.isEmpty(a))r.parentNode.replaceChild(t,r)
else{hC(gr.fromDom(r))
n.isEmpty(r)?r.parentNode.replaceChild(t,r):n.insertAfter(t,r)}}
var kS=function(e,t){e.appendChild(t)
return t}
var ES=function(e,t){var r=re(e,(function(e,t){return kS(e,t.cloneNode(false))}),t)
return kS(r,r.ownerDocument.createTextNode(mS))}
var _S=function(e,t,r,n,a,o){var i=e.formatter
var u=e.dom
var f=te(be(i.get()),(function(e){return e!==n&&!ut(e,"removeformat")}))
var c=kb(e,r,f)
var s=te(c,(function(t){return!Rp(e,t,n)}))
if(s.length>0){var l=r.cloneNode(false)
u.add(t,l)
i.remove(n,a,l,o)
u.remove(l)
return A.some(l)}return A.none()}
var TS=function(e,t,r){var n,a
var o=e.selection
var i=o.getRng()
var u=i.startOffset
var f=i.startContainer
var c=f.nodeValue
n=Vm(e.getBody(),o.getStart())
n&&(a=bS(n))
var s=/[^\s\u00a0\u00ad\u200b\ufeff]/
if(c&&u>0&&u<c.length&&s.test(c.charAt(u))&&s.test(c.charAt(u-1))){var l=o.getBookmark()
i.collapse(true)
var d=Yp(e,i,e.formatter.get(t))
d=ch(d)
e.formatter.apply(t,r,d)
o.moveToBookmark(l)}else{if(n&&a.nodeValue===mS)e.formatter.apply(t,r,n)
else{n=gS(e.getDoc(),CS(true).dom)
a=n.firstChild
i.insertNode(n)
u=1
e.formatter.apply(t,r,n)}o.setCursorLocation(a,u)}}
var AS=function(e,t,r,n){var a=e.dom
var o=e.selection
var i,u,f
var c=[]
var s=o.getRng()
var l=s.startContainer
var d=s.startOffset
u=l
if(3===l.nodeType){d!==l.nodeValue.length&&(i=true)
u=u.parentNode}while(u){if(Cb(e,u,t,r,n)){f=u
break}u.nextSibling&&(i=true)
c.push(u)
u=u.parentNode}if(!f)return
if(i){var v=o.getBookmark()
s.collapse(true)
var m=Yp(e,s,e.formatter.get(t),true)
m=ch(m)
e.formatter.remove(t,r,m,n)
o.moveToBookmark(v)}else{var p=Vm(e.getBody(),f)
var g=CS(false).dom
NS(e,g,null!==p?p:f)
var h=_S(e,g,f,t,r,n)
var y=ES(c.concat(h.toArray()),g)
xS(e,p,false)
o.setCursorLocation(y,1)
a.isEmpty(f)&&a.remove(f)}}
var RS=function(e,t){var r=e.selection,n=e.getBody()
SS(e,null,false)
8!==t&&46!==t||!r.isCollapsed()||r.getStart().innerHTML!==mS||SS(e,Vm(n,r.getStart()))
37!==t&&39!==t||SS(e,Vm(n,r.getStart()))}
var DS=function(e){e.on("mouseup keydown",(function(t){RS(e,t.keyCode)}))}
var OS=function(e,t){var r=CS(false)
var n=ES(t,r.dom)
mn(gr.fromDom(e),r)
xn(gr.fromDom(e))
return Sl(n,0)}
var BS=function(e,t){var r=e.schema.getTextInlineElements()
return r.hasOwnProperty(Br(t))&&!Hm(t.dom)&&!qn(t.dom)}
var PS=function(e){return Hm(e.dom)&&yS(e.dom)}
var LS={}
var IS=Fe
var MS=Ie
var FS=function(e,t){var r=LS[e]
r||(LS[e]=[])
LS[e].push(t)}
var US=function(e,t){MS(LS[e],(function(e){e(t)}))}
FS("pre",(function(e){var t=e.selection.getRng()
var r
var n=function(e){return o(e.previousSibling)&&-1!==Ue(r,e.previousSibling)}
var a=function(e,t){xc(t).remove()
xc(e).append("<br><br>").append(t.childNodes)}
var o=zn(["pre"])
if(!t.collapsed){r=e.selection.getSelectedBlocks()
MS(IS(IS(r,o),n),(function(e){a(e.previousSibling,e)}))}}))
var zS=sr.each
var jS=function(e){return Un(e)&&!sp(e)&&!Hm(e)&&!qn(e)}
var HS=function(e,t){var r
for(r=e;r;r=r[t]){if(Yn(r)&&0!==r.nodeValue.length)return e
if(Un(r)&&!sp(r))return r}return e}
var VS=function(e,t,r){var n,a
var o=new eC(e)
if(t&&r){t=HS(t,"previousSibling")
r=HS(r,"nextSibling")
if(o.compare(t,r)){for(n=t.nextSibling;n&&n!==r;){a=n
n=n.nextSibling
t.appendChild(a)}e.remove(r)
sr.each(sr.grep(r.childNodes),(function(e){t.appendChild(e)}))
return t}}return r}
var qS=function(e,t,r,n){if(n&&false!==t.merge_siblings){var a=VS(e,yp(n),n)
VS(e,a,yp(a,true))}}
var $S=function(e,t,r){if(t.clear_child_styles){var n=t.links?"*:not(a)":"*"
zS(e.select(n,r),(function(r){jS(r)&&zS(t.styles,(function(t,n){e.setStyle(r,n,"")}))}))}}
var WS=function(e,t,r){zS(e.childNodes,(function(e){if(jS(e)){t(e)&&r(e)
e.hasChildNodes()&&WS(e,t,r)}}))}
var KS=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,true)}
var XS=function(e,t){return function(r){return!!(r&&Ep(e,r,t))}}
var YS=function(e,t,r){return function(n){e.setStyle(n,t,r)
""===n.getAttribute("style")&&n.removeAttribute("style")
KS(e,n)}}
var GS=qa.generate([{keep:[]},{rename:["name"]},{removed:[]}])
var JS=/^(src|href|style)$/
var QS=sr.each
var ZS=Np
var eN=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)}
var tN=function(e,t,r){return e.isChildOf(t,r)&&t!==r&&!e.isBlock(r)}
var rN=function(e,t,r){var n,a
n=t[r?"startContainer":"endContainer"]
a=t[r?"startOffset":"endOffset"]
if(Un(n)){var o=n.childNodes.length-1
!r&&a&&a--
n=n.childNodes[a>o?o:a]}Yn(n)&&r&&a>=n.nodeValue.length&&(n=new mo(n,e.getBody()).next()||n)
Yn(n)&&!r&&0===a&&(n=new mo(n,e.getBody()).prev()||n)
return n}
var nN=function(e,t){var r=t?"firstChild":"lastChild"
if(eN(e)&&e[r]){var n=e[r]
return"TR"===e.nodeName&&n[r]||n}return e}
var aN=function(e,t,r,n){var a=e.create(r,n)
t.parentNode.insertBefore(a,t)
a.appendChild(t)
return a}
var oN=function(e,t,r,n,a){var o=gr.fromDom(t)
var i=gr.fromDom(e.create(n,a))
var u=r?Jr(o):Gr(o)
Cn(i,u)
if(r){mn(o,i)
gn(i,o)}else{pn(o,i)
hn(i,o)}return i.dom}
var iN=function(e,t,r){if(ZS(t,r.inline))return true
if(ZS(t,r.block))return true
if(r.selector)return Un(t)&&e.is(t,r.selector)}
var uN=function(e,t){return t.links&&"A"===e.nodeName}
var fN=function(e,t,r,n){t=yp(t,r,n)
return!t||"BR"===t.nodeName||e.isBlock(t)}
var cN=function(e,t,r){var n=t.parentNode
var a
var o=e.dom,i=md(e)
if(r.block)if(i)n===o.getRoot()&&(r.list_block&&ZS(t,r.list_block)||Q(he(t.childNodes),(function(t){if(Cp(e,i,t.nodeName.toLowerCase()))if(a)a.appendChild(t)
else{a=aN(o,t,i)
o.setAttribs(a,e.settings.forced_root_block_attrs)}else a=0})))
else if(o.isBlock(t)&&!o.isBlock(n)){fN(o,t,false)||fN(o,t.firstChild,true,true)||t.insertBefore(o.create("br"),t.firstChild)
fN(o,t,true)||fN(o,t.lastChild,false,true)||t.appendChild(o.create("br"))}if(r.selector&&r.inline&&!ZS(r.inline,t))return
o.remove(t,true)}
var sN=function(e,t,r,n,a){var o
var i=e.dom
if(!iN(i,n,t)&&!uN(n,t))return GS.keep()
var u=n
if(t.inline&&"all"===t.remove&&I(t.preserve_attributes)){var f=te(i.getAttribs(u),(function(e){return Y(t.preserve_attributes,e.name.toLowerCase())}))
i.removeAllAttribs(u)
Q(f,(function(e){return i.setAttrib(u,e.name,e.value)}))
if(f.length>0)return GS.rename("span")}if("all"!==t.remove){QS(t.styles,(function(e,n){e=kp(i,Sp(e,r),n+"")
if(V(n)){n=e
a=null}(t.remove_similar||!a||ZS(Ep(i,a,n),e))&&i.setStyle(u,n,"")
o=true}))
if(o&&""===i.getAttrib(u,"style")){u.removeAttribute("style")
u.removeAttribute("data-mce-style")}QS(t.attributes,(function(e,n){var o
e=Sp(e,r)
if(V(n)){n=e
a=null}if(t.remove_similar||!a||ZS(i.getAttrib(a,n),e)){if("class"===n){e=i.getAttrib(u,n)
if(e){o=""
Q(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}))
if(o){i.setAttrib(u,n,o)
return}}}"class"===n&&u.removeAttribute("className")
JS.test(n)&&u.removeAttribute("data-mce-"+n)
u.removeAttribute(n)}}))
QS(t.classes,(function(e){e=Sp(e,r)
a&&!i.hasClass(a,e)||i.removeClass(u,e)}))
var c=i.getAttribs(u)
for(var s=0;s<c.length;s++){var l=c[s].nodeName
if(0!==l.indexOf("_")&&0!==l.indexOf("data-"))return GS.keep()}}if("none"!==t.remove){cN(e,u,t)
return GS.removed()}return GS.keep()}
var lN=function(e,t,r,n,a){return sN(e,t,r,n,a).fold(S,(function(t){e.dom.rename(n,t)
return true}),N)}
var dN=function(e,t,r,n,a){var o
Q(Tp(e.dom,t.parentNode).reverse(),(function(t){if(!o&&"_start"!==t.id&&"_end"!==t.id){var i=Cb(e,t,r,n,a)
i&&false!==i.split&&(o=t)}}))
return o}
var vN=function(e,t,r,n){return sN(e,t,r,n,n).fold(h(n),(function(t){var r=e.dom.createFragment()
r.appendChild(n)
return e.dom.rename(n,t)}),h(null))}
var mN=function(e,t,r,n,a,o,i,u){var f,c,s
var l=e.dom
if(r){var d=r.parentNode
for(var v=n.parentNode;v&&v!==d;v=v.parentNode){f=l.clone(v,false)
for(var m=0;m<t.length;m++){f=vN(e,t[m],u,f)
if(null===f)break}if(f){c&&f.appendChild(c)
s||(s=f)
c=f}}!o||i.mixed&&l.isBlock(r)||(n=l.split(r,n))
if(c){a.parentNode.insertBefore(c,a)
s.appendChild(a)
i.inline&&qS(l,i,u,c)}}return n}
var pN=function(e,t,r,n,a){var o=e.formatter.get(t)
var i=o[0]
var u=true
var f=e.dom
var c=e.selection
var s=function(n){var u=dN(e,n,t,r,a)
return mN(e,o,u,n,n,true,i,r)}
var l=function(e){return sp(e)&&Un(e)&&("_start"===e.id||"_end"===e.id)}
var d=function(t){var n,a
if(Un(t)&&f.getContentEditable(t)){n=u
u="true"===f.getContentEditable(t)
a=true}var c=he(t.childNodes)
if(u&&!a)for(var s=0;s<o.length;s++)if(lN(e,o[s],r,t,t))break
if(i.deep&&c.length){for(s=0;s<c.length;s++)d(c[s])
a&&(u=n)}}
var v=function(e){var t=f.get(e?"_start":"_end")
var r=t[e?"firstChild":"lastChild"]
l(r)&&(r=r[e?"firstChild":"lastChild"])
Yn(r)&&0===r.data.length&&(r=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling)
f.remove(t,true)
return r}
var m=function(t){var r,n
var a=Yp(e,t,o,t.collapsed)
if(i.split){a=ch(a)
r=rN(e,a,true)
n=rN(e,a)
if(r!==n){r=nN(r,true)
n=nN(n,false)
if(tN(f,r,n)){var u=A.from(r.firstChild).getOr(r)
s(oN(f,u,true,"span",{id:"_start","data-mce-type":"bookmark"}))
v(true)
return}if(tN(f,n,r)){u=A.from(n.lastChild).getOr(n)
s(oN(f,u,false,"span",{id:"_end","data-mce-type":"bookmark"}))
v(false)
return}r=aN(f,r,"span",{id:"_start","data-mce-type":"bookmark"})
n=aN(f,n,"span",{id:"_end","data-mce-type":"bookmark"})
var c=f.createRng()
c.setStartAfter(r)
c.setEndBefore(n)
Qp(f,c,(function(e){Q(e,(function(e){sp(e)||sp(e.parentNode)||s(e)}))}))
s(r)
s(n)
r=v(true)
n=v()}else r=n=s(r)
a.startContainer=r.parentNode?r.parentNode:r
a.startOffset=f.nodeIndex(r)
a.endContainer=n.parentNode?n.parentNode:n
a.endOffset=f.nodeIndex(n)+1}Qp(f,a,(function(t){Q(t,(function(t){d(t)
var r=["underline","line-through","overline"]
Q(r,(function(r){Un(t)&&e.dom.getStyle(t,"text-decoration")===r&&t.parentNode&&_p(f,t.parentNode)===r&&lN(e,{deep:false,exact:true,inline:"span",styles:{textDecoration:r}},null,t)}))}))}))}
if(n){if(pp(n)){var p=f.createRng()
p.setStartBefore(n)
p.setEndAfter(n)
m(p)}else m(n)
return}if("false"===f.getContentEditable(c.getNode())){n=c.getNode()
for(var g=0;g<o.length;g++)if(o[g].ceFalseOverride&&lN(e,o[g],r,n,n))break
return}if(c.isCollapsed()&&i.inline&&!og(e).length)AS(e,t,r,a)
else{mg(c,true,(function(){vg(e,m)}))
i.inline&&wb(e,t,r,c.getStart())&&hp(f,c,c.getRng())
e.nodeChanged()}}
var gN=sr.each
var hN=function(e,t,r,n){var a=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var r=_p(e,t.parentNode)
e.getStyle(t,"color")&&r?e.setStyle(t,"text-decoration",r):e.getStyle(t,"text-decoration")===r&&e.setStyle(t,"text-decoration",null)}}
if(t.styles&&(t.styles.color||t.styles.textDecoration)){sr.walk(n,a,"childNodes")
a(n)}}
var yN=function(e,t,r,n){t.styles&&t.styles.backgroundColor&&WS(n,XS(e,"fontSize"),YS(e,"backgroundColor",Sp(t.styles.backgroundColor,r)))}
var bN=function(e,t,r,n){if("sub"===t.inline||"sup"===t.inline){WS(n,XS(e,"fontSize"),YS(e,"fontSize",""))
e.remove(e.select("sup"===t.inline?"sub":"sup",n),true)}}
var CN=function(e,t,r,n){gN(t,(function(t){gN(e.dom.select(t.inline,n),(function(n){if(!jS(n))return
lN(e,t,r,n,t.exact?n:null)}))
$S(e.dom,t,n)}))}
var wN=function(e,t,r,n,a){if(Cb(e,a.parentNode,r,n)&&lN(e,t,n,a))return
t.merge_with_parents&&e.dom.getParent(a.parentNode,(function(o){if(Cb(e,o,r,n)){lN(e,t,n,a)
return true}}))}
var xN=sr.each
var SN=function(e,t){return Oe(e,t)}
var NN=function(e){return e&&1===e.nodeType&&!sp(e)&&!Hm(e)&&!qn(e)}
var kN=function(e,t,r,n){if(Jd(e)&&Bp(t)){var a=Ve(Ve({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}})
var o=vS(gr.fromDom(r),(function(e){return Hm(e.dom)}))
return Oe(a,n)&&Ri(gr.fromDom(r.parentNode),false)&&!o}return false}
var EN=function(e,t,r,n){var a=e.formatter.get(t)
var o=a[0]
var i=!n&&e.selection.isCollapsed()
var u=e.dom
var f=e.selection
var c=function(e,t){t=t||o
if(e){t.onformat&&t.onformat(e,t,r,n)
xN(t.styles,(function(t,n){u.setStyle(e,n,Sp(t,r))}))
if(t.styles){var a=u.getAttrib(e,"style")
a&&u.setAttrib(e,"data-mce-style",a)}xN(t.attributes,(function(t,n){u.setAttrib(e,n,Sp(t,r))}))
xN(t.classes,(function(t){t=Sp(t,r)
u.hasClass(e,t)||u.addClass(e,t)}))}}
var s=function(e,t){var r=false
if(!Op(o))return false
xN(e,(function(e){if("collapsed"in e&&e.collapsed!==i)return
if(u.is(t,e.selector)&&!Hm(t)){c(t,e)
r=true
return false}}))
return r}
var l=function(n,i,u,f){var l=[]
var d=true
var v=o.inline||o.block
var m=n.create(v)
c(m)
Qp(n,i,(function(i){var u
var p=function(i){var g=false
var h=d
var y=i.nodeName.toLowerCase()
var b=i.parentNode.nodeName.toLowerCase()
if(Un(i)&&n.getContentEditable(i)){h=d
d="true"===n.getContentEditable(i)
g=true}if(Zn(i)&&!kN(e,o,i,b)){u=null
Dp(o)&&n.remove(i)
return}if(o.wrapper&&Cb(e,i,t,r)){u=null
return}if(d&&!g&&Dp(o)&&!o.wrapper&&bp(e,y)&&Cp(e,b,v)){var C=n.rename(i,v)
c(C)
l.push(C)
u=null
return}if(Op(o)){var w=s(a,i)
if(!SN(o,"inline")||w){u=null
return}}if(!d||g||!Cp(e,v,y)||!Cp(e,b,v)||!f&&3===i.nodeType&&1===i.nodeValue.length&&65279===i.nodeValue.charCodeAt(0)||Hm(i)||SN(o,"inline")&&n.isBlock(i)){u=null
xN(sr.grep(i.childNodes),p)
g&&(d=h)
u=null}else{if(!u){u=n.clone(m,false)
i.parentNode.insertBefore(u,i)
l.push(u)}u.appendChild(i)}}
xN(i,p)}))
true===o.links&&xN(l,(function(e){var t=function(e){"A"===e.nodeName&&c(e,o)
xN(sr.grep(e.childNodes),t)}
t(e)}))
xN(l,(function(i){var u=function(e){var t=0
xN(e.childNodes,(function(e){xp(e)||sp(e)||t++}))
return t}
var f=function(e){var t=false
xN(e.childNodes,(function(e){if(NN(e)){t=e
return false}}))
return t}
var s=function(e){var t
var r=f(e)
if(r&&!sp(r)&&yb(n,r,o)){t=n.clone(r,false)
c(t)
n.replace(t,e,true)
n.remove(r,true)}return t||e}
var d=u(i)
if((l.length>1||!n.isBlock(i))&&0===d){n.remove(i,true)
return}if(Bp(o)||o.wrapper){o.exact||1!==d||(i=s(i))
CN(e,a,r,i)
wN(e,o,t,r,i)
yN(n,o,r,i)
hN(n,o,r,i)
bN(n,o,r,i)
qS(n,o,r,i)}}))}
if("false"===u.getContentEditable(f.getNode())){n=f.getNode()
for(var d=0,v=a.length;d<v;d++){var m=a[d]
if(m.ceFalseOverride&&Op(m)&&u.is(n,m.selector)){c(n,m)
return}}return}if(o){if(n)if(pp(n)){if(!s(a,n)){var p=u.createRng()
p.setStartBefore(n)
p.setEndAfter(n)
l(u,Yp(e,p,a),null,true)}}else l(u,n,null,true)
else if(i&&Bp(o)&&!og(e).length)TS(e,t,r)
else{var g=f.getNode()
var h=a[0]
e.settings.forced_root_block||!h.defaultBlock||u.getParent(g,u.isBlock)||EN(e,h.defaultBlock)
f.setRng(wx(f.getRng()))
mg(f,true,(function(t){vg(e,(function(t,r){var n=r?t:Yp(e,t,a)
l(u,n)}))}))
hp(u,f,f.getRng())
e.nodeChanged()}US(t,e)}}
var _N=function(e,t){var r=zc({})
e.set({})
t.on("NodeChange",(function(n){TN(t,n.element,r,e.get())}))}
var TN=function(e,t,r,n){var a=be(r.get())
var o={}
var i={}
var u=te(Tp(e.dom,t),(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}))
we(n,(function(t,r){sr.each(u,(function(n){if(e.formatter.matchNode(n,r,{},t.similar)){if(-1===a.indexOf(r)){Q(t.callbacks,(function(e){e(true,{node:n,format:r,parents:u})}))
o[r]=t.callbacks}i[r]=t.callbacks
return false}if(gb(e,n,r))return false}))}))
var f=AN(r.get(),i,t,u)
r.set(Ve(Ve({},o),f))}
var AN=function(e,t,r,n){return Ee(e,(function(e,a){if(De(t,a))return true
Q(e,(function(e){e(false,{node:r,format:a,parents:n})}))
return false})).t}
var RN=function(e,t,r,n){var a=e.get()
Q(t.split(","),(function(e){a[e]||(a[e]={similar:n,callbacks:[]})
a[e].callbacks.push(r)}))
e.set(a)}
var DN=function(e,t,r){var n=e.get()
Q(t.split(","),(function(e){n[e].callbacks=te(n[e].callbacks,(function(e){return e!==r}))
0===n[e].callbacks.length&&delete n[e]}))
e.set(n)}
var ON=function(e,t,r,n,a){null===t.get()&&_N(t,e)
RN(t,r,n,a)
return{unbind:function(){return DN(t,r,n)}}}
var BN=function(e,t,r,n){var a=e.formatter.get(t)
!wb(e,t,r,n)||"toggle"in a[0]&&!a[0].toggle?EN(e,t,r,n):pN(e,t,r,n)}
var PN=function(e,t){var r=t||document
var n=r.createDocumentFragment()
Q(e,(function(e){n.appendChild(e.dom)}))
return gr.fromDom(n)}
var LN=function(e,t,r){return{element:e,width:t,rows:r}}
var IN=function(e,t){return{element:e,cells:t}}
var MN=function(e,t){return{x:e,y:t}}
var FN=function(e,t){var r=parseInt(ca(e,t),10)
return isNaN(r)?1:r}
var UN=function(e,t,r,n,a){var o=FN(a,"rowspan")
var i=FN(a,"colspan")
var u=e.rows
for(var f=r;f<r+o;f++){u[f]||(u[f]=IN(Ls(n),[]))
for(var c=t;c<t+i;c++){var s=u[f].cells
s[c]=f===r&&c===t?a:Ps(a)}}}
var zN=function(e,t,r){var n=e.rows
var a=n[r]?n[r].cells:[]
return!!a[t]}
var jN=function(e,t,r){while(zN(e,t,r))t++
return t}
var HN=function(e){return ne(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)}
var VN=function(e,t){var r=e.rows
for(var n=0;n<r.length;n++){var a=r[n].cells
for(var o=0;o<a.length;o++)if(Ar(a[o],t))return A.some(MN(o,n))}return A.none()}
var qN=function(e,t,r,n,a){var o=[]
var i=e.rows
for(var u=r;u<=a;u++){var f=i[u].cells
var c=t<n?f.slice(t,n+1):f.slice(n,t+1)
o.push(IN(i[u].element,c))}return o}
var $N=function(e,t,r){var n=t.x,a=t.y
var o=r.x,i=r.y
var u=a<i?qN(e,n,a,o,i):qN(e,n,i,o,a)
return LN(e.element,HN(u),u)}
var WN=function(e,t){var r=Ps(e.element)
var n=gr.fromTag("tbody")
Cn(n,t)
hn(r,n)
return r}
var KN=function(e){return J(e.rows,(function(e){var t=J(e.cells,(function(e){var t=Ls(e)
da(t,"colspan")
da(t,"rowspan")
return t}))
var r=Ps(e.element)
Cn(r,t)
return r}))}
var XN=function(e){var t=LN(Ps(e),0,[])
Q(gs(e,"tr"),(function(e,r){Q(gs(e,"td,th"),(function(n,a){UN(t,jN(t,a,r),r,e,n)}))}))
return LN(t.element,HN(t.rows),t.rows)}
var YN=function(e){return WN(e,KN(e))}
var GN=function(e,t,r){return VN(e,t).bind((function(t){return VN(e,r).map((function(r){return $N(e,t,r)}))}))}
var JN=function(e){return oe(e,(function(e){return"ul"===Br(e)||"ol"===Br(e)}))}
var QN=function(e,t){return oe(e,(function(e){return"li"===Br(e)&&sg(e,t)})).fold(h([]),(function(t){return JN(e).map((function(e){var t=gr.fromTag(Br(e))
var r=_e(ba(e),(function(e,t){return ft(t,"list-style")}))
pa(t,r)
return[gr.fromTag("li"),t]})).getOr([])}))}
var ZN=function(e,t){var r=ne(t,(function(e,t){hn(t,e)
return t}),e)
return t.length>0?PN([r]):r}
var ek=function(e){return Do(e)?$r(e).filter(Ro).fold(h([]),(function(t){return[e,t]})):Ro(e)?[e]:[]}
var tk=function(e,t){var r=gr.fromDom(t.commonAncestorContainer)
var n=SC(r,e)
var a=te(n,(function(e){return _o(e)||No(e)}))
var o=QN(n,t)
var i=a.concat(o.length?o:ek(r))
return J(i,Ps)}
var rk=function(){return PN([])}
var nk=function(e,t){return ZN(gr.fromDom(t.cloneContents()),tk(e,t))}
var ak=function(e,t){return Ja(t,"table",b(Ar,e))}
var ok=function(e,t){return ak(e,t[0]).bind((function(e){var r=t[0]
var n=t[t.length-1]
var a=XN(e)
return GN(a,r,n).map((function(e){return PN([YN(e)])}))})).getOrThunk(rk)}
var ik=function(e,t){return t.length>0&&t[0].collapsed?rk():nk(e,t[0])}
var uk=function(e,t){var r=ag(t,e)
return r.length>0?ok(e,r):ik(e,t)}
var fk=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")}
var ck=function(e,t){return t>=0&&t<e.length&&vp(e.charAt(t))}
var sk=function(e,t){var r=Ho(e.innerText)
return t?fk(r):r}
var lk=function(e){return e.map((function(e){return e.nodeName})).getOr("div").toLowerCase()}
var dk=function(e){return A.from(e.selection.getRng()).map((function(t){var r=A.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock))
var n=e.getBody()
var a=lk(r)
var o=Jt.browser.isIE()&&"pre"!==a
var i=e.dom.add(n,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents())
var u=sk(i,o)
var f=Ho(i.textContent)
e.dom.remove(i)
if(ck(f,0)||ck(f,f.length-1)){var c=r.getOr(n)
var s=sk(c,o)
var l=s.indexOf(u)
if(-1===l)return u
var d=ck(s,l-1)
var v=ck(s,l+u.length)
return(d?" ":"")+u+(v?" ":"")}return u})).getOr("")}
var vk=function(e,t){var r=e.selection.getRng(),n=e.dom.create("body")
var a=e.selection.getSel()
var o=lb(e,Zp(a))
var i=t.contextual?uk(gr.fromDom(e.getBody()),o).dom:r.cloneContents()
i&&n.appendChild(i)
return e.selection.serializer.serialize(n,t)}
var mk=function(e,t,r){void 0===r&&(r={})
r.get=true
r.format=t
r.selection=true
r=e.fire("BeforeGetContent",r)
if(r.isDefaultPrevented()){e.fire("GetContent",r)
return r.content}if("text"===r.format)return dk(e)
r.getInner=true
var n=vk(e,r)
if("tree"===r.format)return n
r.content=e.selection.isCollapsed()?"":n
e.fire("GetContent",r)
return r.content}
var pk=0,gk=1,hk=2
var yk=function(e,t){var r=e.length+t.length+2
var n=new Array(r)
var a=new Array(r)
var o=function(e,t,r){return{start:e,end:t,diag:r}}
var i=function(r,n,a,o,u){var c=f(r,n,a,o)
if(null===c||c.start===n&&c.diag===n-o||c.end===r&&c.diag===r-a){var s=r
var l=a
while(s<n||l<o)if(s<n&&l<o&&e[s]===t[l]){u.push([pk,e[s]]);++s;++l}else if(n-r>o-a){u.push([hk,e[s]]);++s}else{u.push([gk,t[l]]);++l}}else{i(r,c.start,a,c.start-c.diag,u)
for(var d=c.start;d<c.end;++d)u.push([pk,e[d]])
i(c.end,n,c.end-c.diag,o,u)}}
var u=function(r,n,a,i){var u=r
while(u-n<i&&u<a&&e[u]===t[u-n])++u
return o(r,u,n)}
var f=function(r,o,i,f){var c=o-r
var s=f-i
if(0===c||0===s)return null
var l=c-s
var d=s+c
var v=(d%2===0?d:d+1)/2
n[1+v]=r
a[1+v]=o+1
var m,p,g,h,y
for(m=0;m<=v;++m){for(p=-m;p<=m;p+=2){g=p+v
p===-m||p!==m&&n[g-1]<n[g+1]?n[g]=n[g+1]:n[g]=n[g-1]+1
h=n[g]
y=h-r+i-p
while(h<o&&y<f&&e[h]===t[y]){n[g]=++h;++y}if(l%2!==0&&l-m<=p&&p<=l+m&&a[g-l]<=n[g])return u(a[g-l],p+r-i,o,f)}for(p=l-m;p<=l+m;p+=2){g=p+v-l
p===l-m||p!==l+m&&a[g+1]<=a[g-1]?a[g]=a[g+1]-1:a[g]=a[g-1]
h=a[g]-1
y=h-r+i-p
while(h>=r&&y>=i&&e[h]===t[y]){a[g]=h--
y--}if(l%2===0&&-m<=p&&p<=m&&a[g]<=n[g+l])return u(a[g],p+r-i,o,f)}}}
var c=[]
i(0,e.length,0,t.length,c)
return c}
var bk=function(e){if(Un(e))return e.outerHTML
if(Yn(e))return ru.encodeRaw(e.data,false)
if(Gn(e))return"\x3c!--"+e.data+"--\x3e"
return""}
var Ck=function(e){var t
var r=document.createElement("div")
var n=document.createDocumentFragment()
e&&(r.innerHTML=e)
while(t=r.firstChild)n.appendChild(t)
return n}
var wk=function(e,t,r){var n=Ck(t)
if(e.hasChildNodes()&&r<e.childNodes.length){var a=e.childNodes[r]
a.parentNode.insertBefore(n,a)}else e.appendChild(n)}
var xk=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var r=e.childNodes[t]
r.parentNode.removeChild(r)}}
var Sk=function(e,t){var r=0
Q(e,(function(e){if(e[0]===pk)r++
else if(e[0]===gk){wk(t,e[1],r)
r++}else e[0]===hk&&xk(t,r)}))}
var Nk=function(e){return te(J(he(e.childNodes),bk),(function(e){return e.length>0}))}
var kk=function(e,t){var r=J(he(t.childNodes),bk)
Sk(yk(r,e),t)
return t}
var Ek=zc(A.none())
var _k=function(){return Ek.get().getOrThunk((function(){var e=document.implementation.createHTMLDocument("undo")
Ek.set(A.some(e))
return e}))}
var Tk=function(e){return-1!==e.indexOf("</iframe>")}
var Ak=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}
var Rk=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}
var Dk=function(e){var t=Nk(e.getBody())
var r=fe(t,(function(t){var r=Xb(e.serializer,t)
return r.length>0?[r]:[]}))
var n=r.join("")
return Tk(n)?Ak(r):Rk(n)}
var Ok=function(e,t,r){"fragmented"===t.type?kk(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"})
e.selection.moveToBookmark(r?t.beforeBookmark:t.bookmark)}
var Bk=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content}
var Pk=function(e){var t=gr.fromTag("body",_k())
Os(t,Bk(e))
Q(gs(t,"*[data-mce-bogus]"),Sn)
return Ds(t)}
var Lk=function(e,t){return Bk(e)===Bk(t)}
var Ik=function(e,t){return Pk(e)===Pk(t)}
var Mk=function(e,t){return!(!e||!t)&&(!!Lk(e,t)||Ik(e,t))}
var Fk=function(e){return 0===e.get()}
var Uk=function(e,t,r){Fk(r)&&(e.typing=t)}
var zk=function(e,t){if(e.typing){Uk(e,false,t)
e.add()}}
var jk=function(e){if(e.typing){e.typing=false
e.add()}}
var Hk=function(e,t,r){Fk(t)&&r.set(A.some(nd(e.selection)))}
var Vk=function(e,t,r,n,a,o,i){var u=Dk(e)
o=o||{}
o=sr.extend(o,u)
if(false===Fk(n)||e.removed)return null
var f=t.data[r.get()]
if(e.fire("BeforeAddUndo",{level:o,lastLevel:f,originalEvent:i}).isDefaultPrevented())return null
if(f&&Mk(f,o))return null
t.data[r.get()]&&a.get().each((function(e){t.data[r.get()].beforeBookmark=e}))
var c=uv(e)
if(c&&t.data.length>c){for(var s=0;s<t.data.length-1;s++)t.data[s]=t.data[s+1]
t.data.length--
r.set(t.data.length)}o.bookmark=nd(e.selection)
r.get()<t.data.length-1&&(t.data.length=r.get()+1)
t.data.push(o)
r.set(t.data.length-1)
var l={level:o,lastLevel:f,originalEvent:i}
if(r.get()>0){e.setDirty(true)
e.fire("AddUndo",l)
e.fire("change",l)}else e.fire("AddUndo",l)
return o}
var qk=function(e,t,r){t.data=[]
r.set(0)
t.typing=false
e.fire("ClearUndos")}
var $k=function(e,t,r,n,a){if(t.transact(n)){var o=t.data[r.get()].bookmark
var i=t.data[r.get()-1]
Ok(e,i,true)
t.transact(a)&&(t.data[r.get()-1].beforeBookmark=o)}}
var Wk=function(e,t,r){var n
if(t.get()<r.length-1){t.set(t.get()+1)
n=r[t.get()]
Ok(e,n,false)
e.setDirty(true)
e.fire("Redo",{level:n})}return n}
var Kk=function(e,t,r,n){var a
if(t.typing){t.add()
t.typing=false
Uk(t,false,r)}if(n.get()>0){n.set(n.get()-1)
a=t.data[n.get()]
Ok(e,a,true)
e.setDirty(true)
e.fire("Undo",{level:a})}return a}
var Xk=function(e){e.clear()
e.add()}
var Yk=function(e,t,r){return r.get()>0||t.typing&&t.data[0]&&!Mk(Dk(e),t.data[0])}
var Gk=function(e,t){return t.get()<e.data.length-1&&!e.typing}
var Jk=function(e,t,r){zk(e,t)
e.beforeChange()
e.ignore(r)
return e.add()}
var Qk=function(e,t){try{e.set(e.get()+1)
t()}finally{e.set(e.get()-1)}}
var Zk=function(e){return e instanceof Rb}
var eE=function(e,t){aS(e.serializer.getNodeFilters(),e.serializer.getAttributeFilters(),t)}
var tE=function(e){return A.from(e.selection.getStart(true)).map((function(e){return e.nodeName.toLowerCase()}))}
var rE=function(){return{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}}
var nE=function(e){return{undoManager:{beforeChange:function(t,r){return Hk(e,t,r)},addUndoLevel:function(t,r,n,a,o,i){return Vk(e,t,r,n,a,o,i)},undo:function(t,r,n){return Kk(e,t,r,n)},redo:function(t,r){return Wk(e,t,r)},clear:function(t,r){return qk(e,t,r)},reset:function(e){return Xk(e)},hasUndo:function(t,r){return Yk(e,t,r)},hasRedo:function(e,t){return Gk(e,t)},transact:function(e,t,r){return Jk(e,t,r)},ignore:function(e,t){return Qk(e,t)},extra:function(t,r,n,a){return $k(e,t,r,n,a)}},formatter:{match:function(t,r,n){return wb(e,t,r,n)},matchAll:function(t,r){return xb(e,t,r)},matchNode:function(t,r,n,a){return Cb(e,t,r,n,a)},canApply:function(t){return Nb(e,t)},closest:function(t){return Sb(e,t)},apply:function(t,r,n){return EN(e,t,r,n)},remove:function(t,r,n,a){return pN(e,t,r,n,a)},toggle:function(t,r,n){return BN(e,t,r,n)},formatChanged:function(t,r,n,a){return ON(e,t,r,n,a)}},editor:{getContent:function(t,r){return Qb(e,t,r)},setContent:function(t,r){return lS(e,t,r)},insertContent:function(t,r){return tS(e,t,r)},addVisual:function(t){return dS(e,t)}},selection:{getContent:function(t,r){return mk(e,t,r)}},raw:{getModel:function(){return A.none()}}}}
var aE=function(e,t){var r=function(e){return L(e)?e:{}}
var n=w("Unimplemented feature for rtc")
var a=m
return{undoManager:{beforeChange:a,addUndoLevel:n,undo:function(){t.undo()
return rE()},redo:function(){t.redo()
return rE()},clear:n,reset:n,hasUndo:function(){return t.hasUndo()},hasRedo:function(){return t.hasRedo()},transact:function(e,r,n){t.transact(n)
return rE()},ignore:n,extra:n},formatter:{match:function(e,n,a){return t.matchFormat(e,r(n))},matchAll:n,matchNode:n,canApply:function(e){return t.canApplyFormat(e)},closest:function(e){return t.closestFormat(e)},apply:function(e,n,a){return t.applyFormat(e,r(n))},remove:function(e,n,a,o){return t.removeFormat(e,r(n))},toggle:function(e,n,a){return t.toggleFormat(e,r(n))},formatChanged:function(e,r,n,a){return t.formatChanged(r,n,a)}},editor:{getContent:function(r,n){if("html"===n||"tree"===n){var a=t.getContent()
var o=Bb({inner:true})
eE(e,a)
return"tree"===n?a:o.serialize(a)}return nE(e).editor.getContent(r,n)},setContent:function(r,n){var a=Zk(r)?r:e.parser.parse(r,{isRootContent:true,insert:true})
t.setContent(a)
return r},insertContent:function(r,n){var a=tE(e).fold((function(){return{}}),(function(e){return{context:e}}))
var o=Zk(r)?r:e.parser.parse(r,Ve(Ve({},a),{insert:true}))
t.insertContent(o)},addVisual:function(e){}},selection:{getContent:function(r,n){if("html"===r||"tree"===r){var a=t.getSelectedContent()
var o=Bb({})
eE(e,a)
return"tree"===r?a:o.serialize(a)}return nE(e).selection.getContent(r,n)}},raw:{getModel:function(){return A.some(t.getRawModel())}}}}
var oE=function(e){return De(e.plugins,"rtc")}
var iE=function(e){var t=e
return Re(e.plugins,"rtc").fold((function(){t.rtcInstance=nE(e)
return A.none()}),(function(r){return A.some(r.setup().then((function(r){t.rtcInstance=aE(e,r)
return r.isRemote})))}))}
var uE=function(e){return e.rtcInstance?e.rtcInstance:nE(e)}
var fE=function(e){var t=e.rtcInstance
if(t)return t
throw new Error("Failed to get RTC instance not yet initialized.")}
var cE=function(e,t,r){fE(e).undoManager.beforeChange(t,r)}
var sE=function(e,t,r,n,a,o,i){return fE(e).undoManager.addUndoLevel(t,r,n,a,o,i)}
var lE=function(e,t,r,n){return fE(e).undoManager.undo(t,r,n)}
var dE=function(e,t,r){return fE(e).undoManager.redo(t,r)}
var vE=function(e,t,r){fE(e).undoManager.clear(t,r)}
var mE=function(e,t){fE(e).undoManager.reset(t)}
var pE=function(e,t,r){return fE(e).undoManager.hasUndo(t,r)}
var gE=function(e,t,r){return fE(e).undoManager.hasRedo(t,r)}
var hE=function(e,t,r,n){return fE(e).undoManager.transact(t,r,n)}
var yE=function(e,t,r){fE(e).undoManager.ignore(t,r)}
var bE=function(e,t,r,n,a){fE(e).undoManager.extra(t,r,n,a)}
var CE=function(e,t,r,n){return fE(e).formatter.match(t,r,n)}
var wE=function(e,t,r){return fE(e).formatter.matchAll(t,r)}
var xE=function(e,t,r,n,a){return fE(e).formatter.matchNode(t,r,n,a)}
var SE=function(e,t){return fE(e).formatter.canApply(t)}
var NE=function(e,t){return fE(e).formatter.closest(t)}
var kE=function(e,t,r,n){fE(e).formatter.apply(t,r,n)}
var EE=function(e,t,r,n,a){fE(e).formatter.remove(t,r,n,a)}
var _E=function(e,t,r,n){fE(e).formatter.toggle(t,r,n)}
var TE=function(e,t,r,n,a){void 0===a&&(a=false)
return fE(e).formatter.formatChanged(t,r,n,a)}
var AE=function(e,t,r){return uE(e).editor.getContent(t,r)}
var RE=function(e,t,r){return uE(e).editor.setContent(t,r)}
var DE=function(e,t,r){return uE(e).editor.insertContent(t,r)}
var OE=function(e,t,r){return fE(e).selection.getContent(t,r)}
var BE=function(e,t){return fE(e).editor.addVisual(t)}
var PE=function(e,t){void 0===t&&(t={})
var r=t.format?t.format:"html"
return OE(e,r,t)}
var LE=function(e){if(0===e.dom.length){xn(e)
return A.none()}return A.some(e)}
var IE=function(e,t){return e.filter((function(e){return Eg.isBookmarkNode(e.dom)})).bind(t?Yr:Xr)}
var ME=function(e,t,r,n){var a=e.dom
var o=t.dom
var i=n?a.length:o.length
if(n){sw(a,o,false,!n)
r.setStart(o,i)}else{sw(o,a,false,!n)
r.setEnd(o,i)}}
var FE=function(e,t){$r(e).each((function(r){var n=e.dom
t&&XC(r,Sl(n,0))?fw(n,0):!t&&GC(r,Sl(n,n.length))&&cw(n,n.length)}))}
var UE=function(e,t,r,n){e.bind((function(e){var a=n?cw:fw
a(e.dom,n?e.dom.length:0)
return t.filter(Fr).map((function(t){return ME(e,t,r,n)}))})).orThunk((function(){var e=IE(t,n).or(t).filter(Fr)
return e.map((function(e){return FE(e,n)}))}))}
var zE=function(e,t){var r=A.from(t.firstChild).map(gr.fromDom)
var n=A.from(t.lastChild).map(gr.fromDom)
e.deleteContents()
e.insertNode(t)
var a=r.bind(Xr).filter(Fr).bind(LE)
var o=n.bind(Yr).filter(Fr).bind(LE)
UE(a,r,e,true)
UE(o,n,e,false)
e.collapse(false)}
var jE=function(e,t){return Ve(Ve({format:"html"},e),{set:true,selection:true,content:t})}
var HE=function(e,t){if("raw"!==t.format){var r=e.selection.getRng()
var n=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock)
var a=n?{context:n.nodeName.toLowerCase()}:{}
var o=e.parser.parse(t.content,Ve(Ve({isRootContent:true,forced_root_block:false},a),t))
return Bb({validate:e.validate},e.schema).serialize(o)}return t.content}
var VE=function(e,t,r){void 0===r&&(r={})
var n=jE(r,t)
if(!n.no_events){n=e.fire("BeforeSetContent",n)
if(n.isDefaultPrevented()){e.fire("SetContent",n)
return}}r.content=HE(e,n)
var a=e.selection.getRng()
zE(a,a.createContextualFragment(r.content))
e.selection.setRng(a)
Hh(e,a)
n.no_events||e.fire("SetContent",n)}
var qE=function(e,t,r){if(e&&e.hasOwnProperty(t)){var n=te(e[t],(function(e){return e!==r}))
0===n.length?delete e[t]:e[t]=n}}
function $E(e,t){var r
var n
return{selectorChangedWithUnbind:function(a,o){if(!r){r={}
n={}
t.on("NodeChange",(function(t){var a=t.element,o=e.getParents(a,null,e.getRoot()),i={}
sr.each(r,(function(t,r){sr.each(o,(function(a){if(e.is(a,r)){if(!n[r]){sr.each(t,(function(e){e(true,{node:a,selector:r,parents:o})}))
n[r]=t}i[r]=t
return false}}))}))
sr.each(n,(function(e,t){if(!i[t]){delete n[t]
sr.each(e,(function(e){e(false,{node:a,selector:t,parents:o})}))}}))}))}r[a]||(r[a]=[])
r[a].push(o)
return{unbind:function(){qE(r,a,o)
qE(n,a,o)}}}}}var WE=function(e){return!!e.select}
var KE=function(e){return!!(e&&e.ownerDocument)&&Or(gr.fromDom(e.ownerDocument),gr.fromDom(e))}
var XE=function(e){return!!e&&(!!WE(e)||KE(e.startContainer)&&KE(e.endContainer))}
var YE=function(e,t,r,n){var a
var o
var i=$E(e,n).selectorChangedWithUnbind
var u=function(t,r){var a=e.createRng()
if(t){a.setStart(t,r)
a.setEnd(t,r)
b(a)
g(false)}else{lg(e,a,n.getBody(),true)
b(a)}}
var f=function(e){return PE(n,e)}
var c=function(e,t){return VE(n,e,t)}
var s=function(e){return ob(n.getBody(),y(),e)}
var l=function(e){return ib(n.getBody(),y(),e)}
var d=function(e,t){return O.getBookmark(e,t)}
var v=function(e){return O.moveToBookmark(e)}
var m=function(t,r){sb(e,t,r).each(b)
return t}
var p=function(){var e=y(),t=h()
if(!e||e.item)return false
if(e.compareEndPoints)return 0===e.compareEndPoints("StartToEnd",e)
return!t||e.collapsed}
var g=function(e){var t=y()
t.collapse(!!e)
b(t)}
var h=function(){return t.getSelection?t.getSelection():t.document.selection}
var y=function(){var r,i,u
var f=function(e,t,r){try{return t.compareBoundaryPoints(e,r)}catch(e){return-1}}
if(!t)return null
var c=t.document
if("undefined"===typeof c||null===c)return null
if(void 0!==n.bookmark&&false===Zy(n)){var s=ky(n)
if(s.isSome())return s.map((function(e){return lb(n,[e])[0]})).getOr(c.createRange())}try{if((r=h())&&!Fn(r.anchorNode)){i=r.rangeCount>0?r.getRangeAt(0):r.createRange?r.createRange():c.createRange()
i=lb(n,[i])[0]}}catch(e){}i||(i=c.createRange?c.createRange():c.body.createTextRange())
if(i.setStart&&9===i.startContainer.nodeType&&i.collapsed){u=e.getRoot()
i.setStart(u,0)
i.setEnd(u,0)}if(a&&o)if(0===f(i.START_TO_START,i,a)&&0===f(i.END_TO_END,i,a))i=o
else{a=null
o=null}return i}
var b=function(e,t){var r
if(!XE(e))return
var i=WE(e)?e:null
if(i){o=null
try{i.select()}catch(e){}return}var u=h()
var f=n.fire("SetSelectionRange",{range:e,forward:t})
e=f.range
if(u){o=e
try{u.removeAllRanges()
u.addRange(e)}catch(e){}if(false===t&&u.extend){u.collapse(e.endContainer,e.endOffset)
u.extend(e.startContainer,e.startOffset)}a=u.rangeCount>0?u.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&u.setBaseAndExtent&&!Jt.ie&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){r=e.startContainer.childNodes[e.startOffset]
if(r&&"IMG"===r.tagName){u.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset)
u.anchorNode===e.startContainer&&u.focusNode===e.endContainer||u.setBaseAndExtent(r,0,r,1)}}n.fire("AfterSetSelectionRange",{range:e,forward:t})}
var C=function(t){c(e.getOuterHTML(t))
return t}
var w=function(){return fb(n.getBody(),y())}
var x=function(t,r){return cb(e,y(),t,r)}
var S=function(){var t=h()
var r=null===t||void 0===t?void 0:t.anchorNode
var n=null===t||void 0===t?void 0:t.focusNode
if(!t||!r||!n||Fn(r)||Fn(n))return true
var a=e.createRng()
a.setStart(r,t.anchorOffset)
a.collapse(true)
var o=e.createRng()
o.setStart(n,t.focusOffset)
o.collapse(true)
return a.compareBoundaryPoints(a.START_TO_START,o)<=0}
var N=function(){var t=y()
var r=h()
if(!tg(r)&&dg(n)){var a=uh(e,t)
a.each((function(e){b(e,S())}))
return a.getOr(t)}return t}
var k=function(e,t){i(e,t)
return D}
var E=function(){var t
var r=e.getRoot()
while(r&&"BODY"!==r.nodeName){if(r.scrollHeight>r.clientHeight){t=r
break}r=r.parentNode}return t}
var _=function(e,t){return jh(n,e,t)}
var T=function(e,t){return b(Xg(e,t,n.getDoc()))}
var A=function(){var e=y()
return e.collapsed?Sl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()}
var R=function(){t=a=o=null
B.destroy()}
var D={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:r,editor:n,collapse:g,setCursorLocation:u,getContent:f,setContent:c,getBookmark:d,moveToBookmark:v,select:m,isCollapsed:p,isForward:S,setNode:C,getNode:w,getSel:h,setRng:b,getRng:y,getStart:s,getEnd:l,getSelectedBlocks:x,normalize:N,selectorChanged:k,selectorChangedWithUnbind:i,getScrollContainer:E,scrollIntoView:_,placeCaretAt:T,getBoundingClientRect:A,destroy:R}
var O=Eg(D)
var B=Vg(D,n)
D.bookmarkManager=O
D.controlSelection=B
return D}
var GE=function(e,t){Q(t,(function(t){e.attr(t,null)}))}
var JE=function(e,t,r){e.addNodeFilter("font",(function(e){Q(e,(function(e){var n=t.parse(e.attr("style"))
var a=e.attr("color")
var o=e.attr("face")
var i=e.attr("size")
a&&(n.color=a)
o&&(n["font-family"]=o)
i&&(n["font-size"]=r[parseInt(e.attr("size"),10)-1])
e.name="span"
e.attr("style",t.serialize(n))
GE(e,["color","face","size"])}))}))}
var QE=function(e,t){e.addNodeFilter("strike",(function(e){Q(e,(function(e){var r=t.parse(e.attr("style"))
r["text-decoration"]="line-through"
e.name="span"
e.attr("style",t.serialize(r))}))}))}
var ZE=function(e,t){var r=pu()
t.convert_fonts_to_spans&&JE(e,r,sr.explode(t.font_size_legacy_values))
QE(e,r)}
var e_=function(e,t){t.inline_styles&&ZE(e,t)}
var t_=function(e){return new to((function(t,r){var n=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")}
try{var a=new XMLHttpRequest
a.open("GET",e,true)
a.responseType="blob"
a.onload=function(){200===this.status?t(this.response):n()}
a.onerror=n
a.send()}catch(e){n()}}))}
var r_=function(e){var t
var r=decodeURIComponent(e).split(",")
var n=/data:([^;]+)/.exec(r[0])
n&&(t=n[1])
return{type:t,data:r[1]}}
var n_=function(e,t){var r
try{r=atob(t)}catch(e){return A.none()}var n=new Uint8Array(r.length)
for(var a=0;a<n.length;a++)n[a]=r.charCodeAt(a)
return A.some(new Blob([n],{type:e}))}
var a_=function(e){return new to((function(t){var r=r_(e),n=r.type,a=r.data
n_(n,a).fold((function(){return t(new Blob([]))}),t)}))}
var o_=function(e){if(0===e.indexOf("blob:"))return t_(e)
if(0===e.indexOf("data:"))return a_(e)
return null}
var i_=function(e){return new to((function(t){var r=new FileReader
r.onloadend=function(){t(r.result)}
r.readAsDataURL(e)}))}
var u_=0
var f_=function(e){return(e||"blobid")+u_++}
var c_=function(e,t,r,n){var a,o
if(0===t.src.indexOf("blob:")){o=e.getByUri(t.src)
o?r({image:t,blobInfo:o}):o_(t.src).then((function(n){i_(n).then((function(i){a=r_(i).data
o=e.create(f_(),n,a)
e.add(o)
r({image:t,blobInfo:o})}))}),(function(e){n(e)}))
return}var i=r_(t.src),u=i.data,f=i.type
a=u
o=e.getByData(a,f)
o?r({image:t,blobInfo:o}):o_(t.src).then((function(n){o=e.create(f_(),n,a)
e.add(o)
r({image:t,blobInfo:o})}),(function(e){n(e)}))}
var s_=function(e){return e?he(e.getElementsByTagName("img")):[]}
function l_(e,t){var r={}
var n=function(n,a){a||(a=N)
var o=te(s_(n),(function(t){var r=t.src
if(!Jt.fileApi)return false
if(t.hasAttribute("data-mce-bogus"))return false
if(t.hasAttribute("data-mce-placeholder"))return false
if(!r||r===Jt.transparentSrc)return false
if(0===r.indexOf("blob:"))return!e.isUploaded(r)&&a(t)
if(0===r.indexOf("data:"))return a(t)
return false}))
var i=J(o,(function(e){if(void 0!==r[e.src])return new to((function(t){r[e.src].then((function(r){if("string"===typeof r)return r
t({image:e,blobInfo:r.blobInfo})}))}))
var n=new to((function(r,n){c_(t,e,r,n)})).then((function(e){delete r[e.image.src]
return e})).catch((function(t){delete r[e.src]
return t}))
r[e.src]=n
return n}))
return to.all(i)}
return{findAll:n}}var d_=function(e,t,r,n){var a=e.padd_empty_with_br||t.insert
a&&r[n.name]?n.empty().append(new Rb("br",1)).shortEnded=true:n.empty().append(new Rb("#text",3)).value=Mo}
var v_=function(e){return m_(e,"#text")&&e.firstChild.value===Mo}
var m_=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t}
var p_=function(e,t){var r=e.getElementRule(t.name)
return r&&r.paddEmpty}
var g_=function(e,t,r,n){return n.isEmpty(t,r,(function(t){return p_(e,t)}))}
var h_=function(e,t){return e&&(t[e.name]||"br"===e.name)}
var y_=function(e){return e.attr("data-mce-bogus")}
var b_=function(e){return e.attr("src")===Jt.transparentSrc||e.attr("data-mce-placeholder")}
var C_=function(e,t){if(t.images_dataimg_filter){var r=new Image
r.src=e.attr("src")
we(e.attributes.map,(function(e,t){r.setAttribute(t,e)}))
return t.images_dataimg_filter(r)}return true}
var w_=function(e,t){var r=t.blob_cache
var n=function(e){var n=e.attr("src")
if(b_(e)||y_(e))return
Ib(n).filter((function(){return C_(e,t)})).bind((function(e){var t=e.type,n=e.data
return A.from(r.getByData(n,t)).orThunk((function(){return n_(t,n).map((function(e){var t=r.create(f_(),e,n)
r.add(t)
return t}))}))})).each((function(t){e.attr("src",t.blobUri())}))}
r&&e.addAttributeFilter("src",(function(e){return Q(e,n)}))}
var x_=function(e,t){var r=e.schema
t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,n,a){var o
var i=e.length
var u
var f=sr.extend({},r.getBlockElements())
var c=r.getNonEmptyElements()
var s,l,d,v
var m=r.getWhiteSpaceElements()
var p,g
f.body=1
for(o=0;o<i;o++){u=e[o]
s=u.parent
if(f[u.parent.name]&&u===s.lastChild){d=u.prev
while(d){v=d.name
if("span"!==v||"bookmark"!==d.attr("data-mce-type")){"br"===v&&(u=null)
break}d=d.prev}if(u){u.remove()
if(g_(r,c,m,s)){p=r.getElementRule(s.name)
p&&(p.removeEmpty?s.remove():p.paddEmpty&&d_(t,a,f,s))}}}else{l=u
while(s&&s.firstChild===l&&s.lastChild===l){l=s
if(f[s.name])break
s=s.parent}if(l===s&&true!==t.padd_empty_with_br){g=new Rb("#text",3)
g.value=Mo
u.replace(g)}}}}))
e.addAttributeFilter("href",(function(e){var r=e.length
var n=function(e){var t=e.split(" ").filter((function(e){return e.length>0}))
return t.concat(["noopener"]).sort().join(" ")}
var a=function(e){var t=e?sr.trim(e):""
return/\b(noopener)\b/g.test(t)?t:n(t)}
if(!t.allow_unsafe_link_target)while(r--){var o=e[r]
"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",a(o.attr("rel")))}}))
t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){var t,r,n,a,o=e.length
while(o--){a=e[o]
if("a"===a.name&&a.firstChild&&!a.attr("href")){n=a.parent
t=a.lastChild
do{r=t.prev
n.insert(t,a)
t=r}while(t)}}}))
t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){var t,r,n=e.length
while(n--){t=e[n]
r=t.parent
if("ul"===r.name||"ol"===r.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t)
else{var a=new Rb("li",1)
a.attr("style","list-style-type: none")
t.wrap(a)}}}))
t.validate&&r.getValidClasses()&&e.addAttributeFilter("class",(function(e){var t,n,a,o,i,u=e.length
var f=r.getValidClasses()
var c,s
while(u--){t=e[u]
n=t.attr("class").split(" ")
i=""
for(a=0;a<n.length;a++){o=n[a]
s=false
c=f["*"]
c&&c[o]&&(s=true)
c=f[t.name]
!s&&c&&c[o]&&(s=true)
if(s){i&&(i+=" ")
i+=o}}i.length||(i=null)
t.attr("class",i)}}))
w_(e,t)}
var S_=sr.makeMap,N_=sr.each,k_=sr.explode,E_=sr.extend
var __=function(e,t){void 0===t&&(t=vu())
var r={}
var n=[]
var a={}
var o={}
e=e||{}
e.validate=!("validate"in e)||e.validate
e.root_name=e.root_name||"body"
var i=function(e){var r,n,a,o,i,f,c,s,l
var d,v
var m=S_("tr,td,th,tbody,thead,tfoot,table")
var p=t.getNonEmptyElements()
var g=t.getWhiteSpaceElements()
var h=t.getTextBlockElements()
var y=t.getSpecialElements()
for(r=0;r<e.length;r++){n=e[r]
if(!n.parent||n.fixed)continue
if(h[n.name]&&"li"===n.parent.name){d=n.next
while(d){if(!h[d.name])break
d.name="li"
d.fixed=true
n.parent.insert(d,n.parent)
d=d.next}n.unwrap(n)
continue}o=[n]
for(a=n.parent;a&&!t.isValidChild(a.name,n.name)&&!m[a.name];a=a.parent)o.push(a)
if(a&&o.length>1){o.reverse()
i=f=u(o[0].clone())
for(l=0;l<o.length-1;l++){if(t.isValidChild(f.name,o[l].name)){c=u(o[l].clone())
f.append(c)}else c=f
for(s=o[l].firstChild;s&&s!==o[l+1];){v=s.next
c.append(s)
s=v}f=c}if(g_(t,p,g,i))a.insert(n,o[0],true)
else{a.insert(i,o[0],true)
a.insert(n,i)}a=o[0];(g_(t,p,g,a)||m_(a,"br"))&&a.empty().remove()}else if(n.parent){if("li"===n.name){d=n.prev
if(d&&("ul"===d.name||"ol"===d.name)){d.append(n)
continue}d=n.next
if(d&&("ul"===d.name||"ol"===d.name)){d.insert(n,d.firstChild,true)
continue}n.wrap(u(new Rb("ul",1)))
continue}t.isValidChild(n.parent.name,"div")&&t.isValidChild("div",n.name)?n.wrap(u(new Rb("div",1))):y[n.name]?n.empty().remove():n.unwrap()}}}
var u=function(e){var t,i,u
i=e.name
if(i in r){u=a[i]
u?u.push(e):a[i]=[e]}t=n.length
while(t--){i=n[t].name
if(i in e.attributes.map){u=o[i]
u?u.push(e):o[i]=[e]}}return e}
var f=function(e,t){N_(k_(e),(function(e){var n=r[e]
n||(r[e]=n=[])
n.push(t)}))}
var c=function(){var e=[]
for(var t in r)r.hasOwnProperty(t)&&e.push({name:t,callbacks:r[t]})
return e}
var s=function(e,t){N_(k_(e),(function(e){var r
for(r=0;r<n.length;r++)if(n[r].name===e){n[r].callbacks.push(t)
return}n.push({name:e,callbacks:[t]})}))}
var l=function(){return[].concat(n)}
var d=function(u,f){var c,s,l,d,v,m,p
var g=[]
var h
var y
var b=function(e){return false===e?"":true===e?"p":e}
f=f||{}
a={}
o={}
var C=E_(S_("script,style,head,html,body,title,meta,param"),t.getBlockElements())
var w=t.getNonEmptyElements()
var x=t.children
var S=e.validate
var N="forced_root_block"in f?f.forced_root_block:e.forced_root_block
var k=b(N)
var E=t.getWhiteSpaceElements()
var _=/^[ \t\r\n]+/
var T=/[ \t\r\n]+$/
var A=/[ \t\r\n]+/g
var R=/^[ \t\r\n]+$/
h=E.hasOwnProperty(f.context)||E.hasOwnProperty(e.root_name)
var D=function(){var r,n,a=I.firstChild
var o=function(e){if(e){a=e.firstChild
a&&3===a.type&&(a.value=a.value.replace(_,""))
a=e.lastChild
a&&3===a.type&&(a.value=a.value.replace(T,""))}}
if(!t.isValidChild(I.name,k.toLowerCase()))return
while(a){r=a.next
if(3===a.type||1===a.type&&"p"!==a.name&&!C[a.name]&&!a.attr("data-mce-type"))if(n)n.append(a)
else{n=O(k,1)
n.attr(e.forced_root_block_attrs)
I.insert(n,a)
n.append(a)}else{o(n)
n=null}a=r}o(n)}
var O=function(e,t){var n=new Rb(e,t)
var o
if(e in r){o=a[e]
o?o.push(n):a[e]=[n]}return n}
var B=function(e){var r,n,a,o
var i=t.getBlockElements()
for(r=e.prev;r&&3===r.type;){a=r.value.replace(T,"")
if(a.length>0){r.value=a
return}n=r.next
if(n){if(3===n.type&&n.value.length){r=r.prev
continue}if(!i[n.name]&&"script"!==n.name&&"style"!==n.name){r=r.prev
continue}}o=r.prev
r.remove()
r=o}}
var P=function(e){var t
var r={}
for(t in e)"li"!==t&&"p"!==t&&(r[t]=e[t])
return r}
var L=Wb({validate:S,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:P(t.getSelfClosingElements()),cdata:function(e){y.append(O("#cdata",4)).value=e},text:function(e,t){var r
if(!h){e=e.replace(A," ")
h_(y.lastChild,C)&&(e=e.replace(_,""))}if(0!==e.length){r=O("#text",3)
r.raw=!!t
y.append(r).value=e}},comment:function(e){y.append(O("#comment",8)).value=e},pi:function(e,t){y.append(O(e,7)).value=t
B(y)},doctype:function(e){var t=y.append(O("#doctype",10))
t.value=e
B(y)},start:function(e,r,a){var i,u,f,c
var s=S?t.getElementRule(e):{}
if(s){i=O(s.outputName||e,1)
i.attributes=r
i.shortEnded=a
y.append(i)
c=x[y.name]
c&&x[i.name]&&!c[i.name]&&g.push(i)
u=n.length
while(u--){f=n[u].name
if(f in r.map){m=o[f]
m?m.push(i):o[f]=[i]}}C[e]&&B(i)
a||(y=i)
!h&&E[e]&&(h=true)}},end:function(r){var n,a,o,i
var u=S?t.getElementRule(r):{}
if(u){if(C[r]&&!h){n=y.firstChild
if(n&&3===n.type){a=n.value.replace(_,"")
if(a.length>0){n.value=a
n=n.next}else{o=n.next
n.remove()
n=o
while(n&&3===n.type){a=n.value
o=n.next
if(0===a.length||R.test(a)){n.remove()
n=o}n=o}}}n=y.lastChild
if(n&&3===n.type){a=n.value.replace(T,"")
if(a.length>0){n.value=a
n=n.prev}else{o=n.prev
n.remove()
n=o
while(n&&3===n.type){a=n.value
o=n.prev
if(0===a.length||R.test(a)){n.remove()
n=o}n=o}}}}h&&E[r]&&(h=false)
if(u.removeEmpty&&g_(t,w,E,y)){i=y.parent
C[y.name]?y.empty().remove():y.unwrap()
y=i
return}u.paddEmpty&&(v_(y)||g_(t,w,E,y))&&d_(e,f,C,y)
y=y.parent}}},t)
var I=y=new Rb(f.context||e.root_name,11)
L.parse(u,f.format)
S&&g.length&&(f.context?f.invalid=true:i(g))
k&&("body"===I.name||f.isRootContent)&&D()
if(!f.invalid){for(p in a){if(!a.hasOwnProperty(p))continue
m=r[p]
c=a[p]
d=c.length
while(d--)c[d].parent||c.splice(d,1)
for(s=0,l=m.length;s<l;s++)m[s](c,p,f)}for(s=0,l=n.length;s<l;s++){m=n[s]
if(m.name in o){c=o[m.name]
d=c.length
while(d--)c[d].parent||c.splice(d,1)
for(d=0,v=m.callbacks.length;d<v;d++)m.callbacks[d](c,m.name,f)}}}return I}
var v={schema:t,addAttributeFilter:s,getAttributeFilters:l,addNodeFilter:f,getNodeFilters:c,filterNode:u,parse:d}
x_(v,e)
e_(v,e)
return v}
var T_=function(e,t,r){e.addAttributeFilter("data-mce-tabindex",(function(e,t){var r,n=e.length
while(n--){r=e[n]
r.attr("tabindex",r.attr("data-mce-tabindex"))
r.attr(t,null)}}))
e.addAttributeFilter("src,href,style",(function(e,n){var a,o,i=e.length
var u="data-mce-"+n
var f=t.url_converter
var c=t.url_converter_scope
while(i--){a=e[i]
o=a.attr(u)
if(void 0!==o){a.attr(n,o.length>0?o:null)
a.attr(u,null)}else{o=a.attr(n)
"style"===n?o=r.serializeStyle(r.parseStyle(o),a.name):f&&(o=f.call(c,o,n,a.name))
a.attr(n,o.length>0?o:null)}}}))
e.addAttributeFilter("class",(function(e){var t,r,n=e.length
while(n--){t=e[n]
r=t.attr("class")
if(r){r=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"")
t.attr("class",r.length>0?r:null)}}}))
e.addAttributeFilter("data-mce-type",(function(e,t,r){var n,a=e.length
while(a--){n=e[a]
if("bookmark"===n.attr("data-mce-type")&&!r.cleanup){var o=A.from(n.firstChild).exists((function(e){return!jo(e.value)}))
o?n.unwrap():n.remove()}}}))
e.addNodeFilter("noscript",(function(e){var t,r=e.length
while(r--){t=e[r].firstChild
t&&(t.value=ru.decode(t.value))}}))
e.addNodeFilter("script,style",(function(e,r){var n,a,o,i=e.length
var u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}
while(i--){n=e[i]
a=n.firstChild?n.firstChild.value:""
if("script"===r){o=n.attr("type")
o&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,""))
"xhtml"===t.element_format&&a.length>0&&(n.firstChild.value="// <![CDATA[\n"+u(a)+"\n// ]]>")}else"xhtml"===t.element_format&&a.length>0&&(n.firstChild.value="\x3c!--\n"+u(a)+"\n--\x3e")}}))
e.addNodeFilter("#comment",(function(e){var n,a=e.length
while(a--){n=e[a]
if(t.preserve_cdata&&0===n.value.indexOf("[CDATA[")){n.name="#cdata"
n.type=4
n.value=r.decode(n.value.replace(/^\[CDATA\[|\]\]$/g,""))}else if(0===n.value.indexOf("mce:protected ")){n.name="#text"
n.type=3
n.raw=true
n.value=unescape(n.value).substr(14)}}}))
e.addNodeFilter("xml:namespace,input",(function(e,t){var r,n=e.length
while(n--){r=e[n]
7===r.type?r.remove():1===r.type&&("input"!==t||r.attr("type")||r.attr("type","text"))}}))
e.addAttributeFilter("data-mce-type",(function(t){Q(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))}))
e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){var r=e.length
while(r--)e[r].attr(t,null)}))}
var A_=function(e){var t=function(e){return e&&"br"===e.name}
var r=e.lastChild
if(t(r)){var n=r.prev
if(t(n)){r.remove()
n.remove()}}}
var R_=function(e,t,r){var n,a
var o=e.dom
t=t.cloneNode(true)
var i=document.implementation
if(i.createHTMLDocument){n=i.createHTMLDocument("")
sr.each("BODY"===t.nodeName?t.childNodes:[t],(function(e){n.body.appendChild(n.importNode(e,true))}))
t="BODY"!==t.nodeName?n.body.firstChild:n.body
a=o.doc
o.doc=n}Ag(e,Ve(Ve({},r),{node:t}))
a&&(o.doc=a)
return t}
var D_=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events}
var O_=function(e,t,r){return D_(e,r)?R_(e,t,r):t}
var B_=function(e,t,r){if(-1===sr.inArray(t,r)){e.addAttributeFilter(r,(function(e,t){var r=e.length
while(r--)e[r].attr(t,null)}))
t.push(r)}}
var P_=function(e,t,r){if(!t.no_events&&e){var n=Rg(e,Ve(Ve({},t),{content:r}))
return n.content}return r}
var L_=function(e,t,r){var n=Ho(r.getInner?t.innerHTML:e.getOuterHTML(t))
return r.selection||Po(gr.fromDom(t))?n:sr.trim(n)}
var I_=function(e,t,r){var n=r.selection?Ve({forced_root_block:false},r):r
var a=e.parse(t,n)
A_(a)
return a}
var M_=function(e,t,r){var n=Bb(e,t)
return n.serialize(r)}
var F_=function(e,t,r,n,a){var o=M_(t,r,n)
return P_(e,a,o)}
var U_=function(e,t){var r=["data-mce-selected"]
var n=t&&t.dom?t.dom:Dc.DOM
var a=t&&t.schema?t.schema:vu(e)
e.entity_encoding=e.entity_encoding||"named"
e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs
var o=__(e,a)
T_(o,e,n)
var i=function(r,i){void 0===i&&(i={})
var u=Ve({format:"html"},i)
var f=O_(t,r,u)
var c=L_(n,f,u)
var s=I_(o,c,u)
return"tree"===u.format?s:F_(t,e,a,s,u)}
return{schema:a,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:i,addRules:function(e){a.addValidElements(e)},setRules:function(e){a.setValidElements(e)},addTempAttr:b(B_,o,r),getTempAttrs:function(){return r},getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters}}
var z_=function(e,t){var r=U_(e,t)
return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters}}
var j_="html"
var H_=function(e,t){void 0===t&&(t={})
var r=t.format?t.format:j_
return AE(e,t,r)}
var V_=function(e,t,r){void 0===r&&(r={})
return RE(e,t,r)}
var q_=Dc.DOM
var $_=function(e){q_.setStyle(e.id,"display",e.orgDisplay)}
var W_=function(e){return A.from(e).each((function(e){return e.destroy()}))}
var K_=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null
e.bodyElement=e.contentDocument=e.contentWindow=null
e.iframeElement=e.targetElm=null
e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)}
var X_=function(e){var t=e.formElement
if(t){if(t._mceOldSubmit){t.submit=t._mceOldSubmit
t._mceOldSubmit=null}q_.unbind(t,"submit reset",e.formEventDelegate)}}
var Y_=function(e){if(!e.removed){var t=e._selectionOverrides,r=e.editorUpload
var n=e.getBody()
var a=e.getElement()
n&&e.save({is_removing:true})
e.removed=true
e.unbindAllNativeEvents()
e.hasHiddenInput&&a&&q_.remove(a.nextSibling)
Dg(e)
e.editorManager.remove(e)
!e.inline&&n&&$_(e)
Og(e)
q_.remove(e.getContainer())
W_(t)
W_(r)
e.destroy()}}
var G_=function(e,t){var r=e.selection,n=e.dom
if(e.destroyed)return
if(!t&&!e.removed){e.remove()
return}if(!t){e.editorManager.off("beforeunload",e._beforeUnload)
e.theme&&e.theme.destroy&&e.theme.destroy()
W_(r)
W_(n)}X_(e)
K_(e)
e.destroyed=true}
var J_=Object.prototype.hasOwnProperty
var Q_=function(e,t){var r=L(e)&&L(t)
return r?eT(e,t):t}
var Z_=function(e){return function(){var t=new Array(arguments.length)
for(var r=0;r<t.length;r++)t[r]=arguments[r]
if(0===t.length)throw new Error("Can't merge zero objects")
var n={}
for(var a=0;a<t.length;a++){var o=t[a]
for(var i in o)J_.call(o,i)&&(n[i]=e(n[i],o[i]))}return n}}
var eT=Z_(Q_)
var tT=function(e,t){return{sections:h(e),settings:h(t)}}
var rT=Ht().deviceType
var nT=rT.isTouch()
var aT=rT.isPhone()
var oT=rT.isTablet()
var iT=["lists","autolink","autosave"]
var uT={table_grid:false,object_resizing:false,resize:false}
var fT=function(e){var t=I(e)?e.join(" "):e
var r=J(P(t)?t.split(" "):[],st)
return te(r,(function(e){return e.length>0}))}
var cT=function(e){return te(e,b(Y,iT))}
var sT=function(e,t){var r=Ee(t,(function(t,r){return Y(e,r)}))
return tT(r.t,r.f)}
var lT=function(e,t,r){void 0===r&&(r={})
var n=e.sections()
var a=n.hasOwnProperty(t)?n[t]:{}
return sr.extend({},r,a)}
var dT=function(e,t){return e.sections().hasOwnProperty(t)}
var vT=function(e,t,r){var n=e.sections()
return dT(e,t)&&n[t].theme===r}
var mT=function(e,t){return dT(e,t)?e.sections()[t]:{}}
var pT=function(e,t){return Re(e,"toolbar_mode").orThunk((function(){return Re(e,"toolbar_drawer").map((function(e){return false===e?"wrap":e}))})).getOr(t)}
var gT=function(e,t,r,n,a){var o={id:t,theme:"silver",toolbar_mode:pT(e,"floating"),plugins:"",document_base_url:r,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,inline_styles:true,convert_fonts_to_spans:true,indent:true,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a}
return Ve(Ve({},o),n?uT:{})}
var hT=function(e,t){var r={resize:false,toolbar_mode:pT(e,"scrolling"),toolbar_sticky:false}
var n={menubar:false}
return Ve(Ve(Ve({},uT),r),t?n:{})}
var yT=function(e,t){var r=t.external_plugins?t.external_plugins:{}
return e&&e.external_plugins?sr.extend({},e.external_plugins,r):r}
var bT=function(e,t){return[].concat(fT(e)).concat(fT(t))}
var CT=function(e,t,r,n){return e&&vT(t,"mobile","mobile")?cT(n):e&&dT(t,"mobile")?n:r}
var wT=function(e,t,r,n){var a=fT(r.forced_plugins)
var o=fT(n.plugins)
var i=mT(t,"mobile")
var u=i.plugins?fT(i.plugins):o
var f=CT(e,t,o,u)
var c=bT(a,f)
if(Jt.browser.isIE()&&Y(c,"rtc"))throw new Error("RTC plugin is not supported on IE 11.")
return sr.extend(n,{plugins:c.join(" ")})}
var xT=function(e,t){return e&&dT(t,"mobile")}
var ST=function(e,t,r,n,a){var o=e?{mobile:hT(a.mobile||{},t)}:{}
var i=sT(["mobile"],eT(o,a))
var u=sr.extend(r,n,i.settings(),xT(e,i)?lT(i,"mobile"):{},{validate:true,external_plugins:yT(n,i.settings())})
return wT(e,i,n,u)}
var NT=function(e,t,r,n,a){var o=gT(a,t,r,nT,e)
return ST(aT||oT,aT,o,n,a)}
var kT=function(e,t,r){return A.from(t.settings[r]).filter(e)}
var ET=function(e){var t={}
"string"===typeof e?Q(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var r=e.split("=")
r.length>1?t[sr.trim(r[0])]=sr.trim(r[1]):t[sr.trim(r[0])]=sr.trim(r[0])})):t=e
return t}
var _T=function(e){return function(t){return I(t)&&ce(t,e)}}
var TT=function(e,t,r,n){var a=t in e.settings?e.settings[t]:r
return"hash"===n?ET(a):"string"===n?kT(P,e,t).getOr(r):"number"===n?kT(V,e,t).getOr(r):"boolean"===n?kT(F,e,t).getOr(r):"object"===n?kT(L,e,t).getOr(r):"array"===n?kT(I,e,t).getOr(r):"string[]"===n?kT(_T(P),e,t).getOr(r):"function"===n?kT(H,e,t).getOr(r):a}
var AT=function(){var e={}
var t=function(t,r){e[t]=r}
var r=function(t){if(e[t])return e[t]
return{icons:{}}}
var n=function(t){return De(e,t)}
return{add:t,get:r,has:n}}
var RT=AT()
var DT=function(e,t){var r=t.dom
return r[e]}
var OT=function(e,t){return parseInt(ga(t,e),10)}
var BT=b(DT,"clientWidth")
var PT=b(DT,"clientHeight")
var LT=b(OT,"margin-top")
var IT=b(OT,"margin-left")
var MT=function(e){return e.dom.getBoundingClientRect()}
var FT=function(e,t,r){var n=BT(e)
var a=PT(e)
return t>=0&&r>=0&&t<=n&&r<=a}
var UT=function(e,t,r,n){var a=MT(t)
var o=e?a.left+t.dom.clientLeft+IT(t):0
var i=e?a.top+t.dom.clientTop+LT(t):0
var u=r-o
var f=n-i
return{x:u,y:f}}
var zT=function(e,t,r){var n=gr.fromDom(e.getBody())
var a=e.inline?n:Vr(n)
var o=UT(e.inline,a,t,r)
return FT(a,o.x,o.y)}
var jT=function(e){return A.from(e).map(gr.fromDom)}
var HT=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer()
return jT(t).map(Nn).getOr(false)}
function VT(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")}
return{open:e,close:e,reposition:e,getArgs:e}}function qT(e){var t=[]
var r=function(){var t=e.theme
return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():VT()}
var n=function(){return A.from(t[0])}
var a=function(e,t){return e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout}
var o=function(){t.length>0&&r().reposition(t)}
var i=function(e){t.push(e)}
var u=function(e){ie(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))}
var f=function(f,c){void 0===c&&(c=true)
if(e.removed||!HT(e))return
c&&e.fire("BeforeOpenNotification",{notification:f})
return oe(t,(function(e){return a(r().getArgs(e),f)})).getOrThunk((function(){e.editorManager.setActive(e)
var t=r().open(f,(function(){u(t)
o()
n().fold((function(){return e.focus()}),(function(e){return qh(gr.fromDom(e.getEl()))}))}))
i(t)
o()
e.fire("OpenNotification",Ve({},t))
return t}))}
var c=function(){n().each((function(e){r().close(e)
u(e)
o()}))}
var s=function(){return t}
var l=function(e){e.on("SkinLoaded",(function(){var t=$d(e)
t&&f({text:t,type:"warning",timeout:0},false)}))
e.on("ResizeEditor ResizeWindow NodeChange",(function(){co.requestAnimationFrame(o)}))
e.on("remove",(function(){Q(t.slice(),(function(e){r().close(e)}))}))}
l(e)
return{open:f,close:c,getNotifications:s}}var $T=ts.PluginManager
var WT=ts.ThemeManager
function KT(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")}
return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var XT=function(e){var t=[]
var r=function(){var t=e.theme
return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():KT()}
var n=function(e,t){return function(){return t?t.apply(e,arguments):void 0}}
var a=function(t){e.fire("OpenWindow",{dialog:t})}
var o=function(t){e.fire("CloseWindow",{dialog:t})}
var i=function(e){t.push(e)
a(e)}
var u=function(r){o(r)
t=te(t,(function(e){return e!==r}))
0===t.length&&e.focus()}
var f=function(){return A.from(t[t.length-1])}
var c=function(t){e.editorManager.setActive(e)
Sy(e)
var r=t()
i(r)
return r}
var s=function(e,t){return c((function(){return r().open(e,t,u)}))}
var l=function(e){return c((function(){return r().openUrl(e,u)}))}
var d=function(e,t,a){r().alert(e,n(a||this,t))}
var v=function(e,t,a){r().confirm(e,n(a||this,t))}
var m=function(){f().each((function(e){r().close(e)
u(e)}))}
e.on("remove",(function(){Q(t,(function(e){r().close(e)}))}))
return{open:s,openUrl:l,alert:d,confirm:v,close:m}}
var YT=function(e,t){e.notificationManager.open({type:"error",text:t})}
var GT=function(e,t){e._skinLoaded?YT(e,t):e.on("SkinLoaded",(function(){YT(e,t)}))}
var JT=function(e,t){GT(e,Zc.translate(["Failed to upload image: {0}",t]))}
var QT=function(e,t,r){zg(e,t,{message:r})
console.error(r)}
var ZT=function(e,t,r){return r?"Failed to load "+e+": "+r+" from url "+t:"Failed to load "+e+" url: "+t}
var eA=function(e,t,r){QT(e,"PluginLoadError",ZT("plugin",t,r))}
var tA=function(e,t,r){QT(e,"IconsLoadError",ZT("icons",t,r))}
var rA=function(e,t,r){QT(e,"LanguageLoadError",ZT("language",t,r))}
var nA=function(e,t,r){var n=Zc.translate(["Failed to initialize plugin: {0}",t])
aA(n,r)
GT(e,n)}
var aA=function(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
var n=window.console
n&&(n.error?n.error.apply(n,$e([e],t)):n.log.apply(n,$e([e],t)))}
var oA=function(e){return/^[a-z0-9\-]+$/i.test(e)}
var iA=function(e){var t=Fd(e)
var r=e.editorManager.baseURL+"/skins/content"
var n=e.editorManager.suffix
var a="content"+n+".css"
var o=true===e.inline
return J(t,(function(t){return oA(t)&&!o?r+"/"+t+"/"+a:e.documentBaseURI.toAbsolute(t)}))}
var uA=function(e){e.contentCSS=e.contentCSS.concat(iA(e))}
function fA(e,t){var r={}
var n=function(e,t){if(e)return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")
return t}
var a=function(e,r,a,o){var i=new XMLHttpRequest
i.open("POST",t.url)
i.withCredentials=t.credentials
i.upload.onprogress=function(e){o(e.loaded/e.total*100)}
i.onerror=function(){a("Image upload failed due to a XHR Transport error. Code: "+i.status)}
i.onload=function(){if(i.status<200||i.status>=300){a("HTTP Error: "+i.status)
return}var e=JSON.parse(i.responseText)
if(!e||"string"!==typeof e.location){a("Invalid JSON: "+i.responseText)
return}r(n(t.basePath,e.location))}
var u=new FormData
u.append("file",e.blob(),e.filename())
i.send(u)}
var o=function(){return new to((function(e){e([])}))}
var i=function(e,t){return{url:t,blobInfo:e,status:true}}
var u=function(e,t,r){return{url:"",blobInfo:e,status:false,error:{message:t,options:r}}}
var f=function(e,t){sr.each(r[e],(function(e){e(t)}))
delete r[e]}
var c=function(t,r,n){e.markPending(t.blobUri())
return new to((function(a){var o,c
var s=function(){}
try{var l=function(){if(o){o.close()
c=s}}
var d=function(r){l()
e.markUploaded(t.blobUri(),r)
f(t.blobUri(),i(t,r))
a(i(t,r))}
var v=function(r,n){var o=n||{}
l()
e.removeFailed(t.blobUri())
f(t.blobUri(),u(t,r,o))
a(u(t,r,o))}
c=function(e){if(e<0||e>100)return
o||(o=n())
o.progressBar.value(e)}
r(t,d,v,c)}catch(e){a(u(t,e.message,{}))}}))}
var s=function(e){return e===a}
var l=function(e){var t=e.blobUri()
return new to((function(e){r[t]=r[t]||[]
r[t].push(e)}))}
var d=function(r,n){r=sr.grep(r,(function(t){return!e.isUploaded(t.blobUri())}))
return to.all(sr.map(r,(function(r){return e.isPending(r.blobUri())?l(r):c(r,t.handler,n)})))}
var v=function(e,r){return!t.url&&s(t.handler)?o():d(e,r)}
false===H(t.handler)&&(t.handler=a)
return{upload:v}}function cA(){var e=1,t=2
var r={}
var n=function(e,t){return{status:e,resultUri:t}}
var a=function(e){return e in r}
var o=function(e){var t=r[e]
return t?t.resultUri:null}
var i=function(t){return!!a(t)&&r[t].status===e}
var u=function(e){return!!a(e)&&r[e].status===t}
var f=function(t){r[t]=n(e,null)}
var c=function(e,a){r[e]=n(t,a)}
var s=function(e){delete r[e]}
var l=function(){r={}}
return{hasBlobUri:a,getResultUri:o,isPending:i,isUploaded:u,markPending:f,markUploaded:c,removeFailed:s,destroy:l}}var sA=0
var lA=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)}
var t=(new Date).getTime()
return"s"+t.toString(36)+e()+e()+e()}
var dA=function(e){return e+sA+++lA()}
var vA=function(){var e=[]
var t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}
return t[e.toLowerCase()]||"dat"}
var r=function(e,t,r,a,o){if(P(e)){var i=e
return n({id:i,name:a,filename:o,blob:t,base64:r})}if(L(e))return n(e)
throw new Error("Unknown input type")}
var n=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")
var r=e.id||dA("blobid")
var n=e.name||r
var a=e.blob
return{id:h(r),name:h(n),filename:h(e.filename||n+"."+t(a.type)),blob:h(a),base64:h(e.base64),blobUri:h(e.blobUri||URL.createObjectURL(a)),uri:h(e.uri)}}
var a=function(t){i(t.id())||e.push(t)}
var o=function(t){return oe(e,t).getOrUndefined()}
var i=function(e){return o((function(t){return t.id()===e}))}
var u=function(e){return o((function(t){return t.blobUri()===e}))}
var f=function(e,t){return o((function(r){return r.base64()===e&&r.blob().type===t}))}
var c=function(t){e=te(e,(function(e){if(e.blobUri()===t){URL.revokeObjectURL(e.blobUri())
return false}return true}))}
var s=function(){Q(e,(function(e){URL.revokeObjectURL(e.blobUri())}))
e=[]}
return{create:r,add:a,get:i,getByUri:u,getByData:f,findFirst:o,removeByUri:c,destroy:s}}
var mA=function(e){var t=zc(null)
e.on("change AddUndo",(function(e){t.set(Ve({},e.level))}))
var r=function(){var r=e.undoManager.data
ge(r).filter((function(e){return!Mk(t.get(),e)})).each((function(t){e.setDirty(true)
e.fire("change",{level:t,lastLevel:me(r,r.length-2).getOrNull()})}))}
return{fireIfChanged:r}}
var pA=function(e){var t=vA()
var r,n
var a=cA()
var o=[]
var i=mA(e)
var u=function(t){return function(r){if(e.selection)return t(r)
return[]}}
var f=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()}
var c=function(e,t,r){var n=0
do{n=e.indexOf(t,n)
if(-1!==n){e=e.substring(0,n)+r+e.substr(n+t.length)
n+=r.length-t.length+1}}while(-1!==n)
return e}
var s=function(e,t,r){var n='src="'+r+'"'+(r===Jt.transparentSrc?' data-mce-placeholder="1"':"")
e=c(e,'src="'+t+'"',n)
e=c(e,'data-mce-src="'+t+'"','data-mce-src="'+r+'"')
return e}
var l=function(t,r){Q(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=J(e.fragments,(function(e){return s(e,t,r)})):e.content=s(e.content,t,r)}))}
var d=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true})}
var v=function(t,r){var n=e.convertURL(r,"src")
l(t.src,r)
e.$(t).attr({src:Nd(e)?f(r):r,"data-mce-src":n})}
var m=function(n){r||(r=fA(a,{url:Td(e),basePath:Ad(e),credentials:Rd(e),handler:Dd(e)}))
return y().then(u((function(a){var o=J(a,(function(e){return e.blobInfo}))
return r.upload(o,d).then(u((function(r){var o=[]
var u=J(r,(function(r,n){var i=a[n].blobInfo
var u=a[n].image
if(r.status&&kd(e)){t.removeByUri(u.src)
v(u,r.url)}else if(r.error){if(r.error.options.remove){l(u.getAttribute("src"),Jt.transparentSrc)
o.push(u)}JT(e,r.error.message)}return{element:u,status:r.status,uploadUri:r.url,blobInfo:i}}))
u.length>0&&i.fireIfChanged()
o.length>0&&(oE(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact((function(){Q(o,(function(r){e.dom.remove(r)
t.removeByUri(r.src)}))})))
n&&n(u)
return u})))})))}
var p=function(t){if(Sd(e))return m(t)}
var g=function(t){if(false===ce(o,(function(e){return e(t)})))return false
if(0===t.getAttribute("src").indexOf("data:")){var r=xd(e)
return r(t)}return true}
var h=function(e){o.push(e)}
var y=function(){n||(n=l_(a,t))
return n.findAll(e.getBody(),g).then(u((function(t){t=te(t,(function(t){if("string"===typeof t){GT(e,t)
return false}return true}))
Q(t,(function(e){l(e.image.src,e.blobInfo.blobUri())
e.image.src=e.blobInfo.blobUri()
e.image.removeAttribute("data-mce-src")}))
return t})))}
var b=function(){t.destroy()
a.destroy()
n=r=null}
var C=function(r){return r.replace(/src="(blob:[^"]+)"/g,(function(r,n){var o=a.getResultUri(n)
if(o)return'src="'+o+'"'
var i=t.getByUri(n)
i||(i=ne(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null))
if(i){var u=i.blob()
return'src="data:'+u.type+";base64,"+i.base64()+'"'}return r}))}
e.on("SetContent",(function(){Sd(e)?p():y()}))
e.on("RawSaveContent",(function(e){e.content=C(e.content)}))
e.on("GetContent",(function(e){if(e.source_view||"raw"===e.format||"tree"===e.format)return
e.content=C(e.content)}))
e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){Q(e,(function(e){var r=e.attr("src")
if(t.getByUri(r))return
var n=a.getResultUri(r)
n&&e.attr("src",n)}))}))}))
return{blobCache:t,addFilter:h,uploadImages:m,uploadImagesAuto:p,scanForImages:y,destroy:b}}
var gA=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:false,preview:false,defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:false,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true,preview:"font-family font-size"},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:false,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:false,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:"span",toggle:false,styles:{fontFamily:"%value"},clear_child_styles:true},fontsize:{inline:"span",toggle:false,styles:{fontSize:"%value"},clear_child_styles:true},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:true,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(e,t,r){return Un(e)&&e.hasAttribute("href")},onformat:function(t,r,n){sr.each(n,(function(r,n){e.setAttrib(t,n,r)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]}
sr.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}}))
return t}
function hA(e){var t={}
var r=function(e){return e?t[e]:t}
var n=function(e){return De(t,e)}
var a=function(e,r){if(e)if("string"!==typeof e)sr.each(e,(function(e,t){a(t,e)}))
else{I(r)||(r=[r])
sr.each(r,(function(e){"undefined"===typeof e.deep&&(e.deep=!e.selector)
"undefined"===typeof e.split&&(e.split=!e.selector||e.inline)
"undefined"===typeof e.remove&&e.selector&&!e.inline&&(e.remove="none")
if(e.selector&&e.inline){e.mixed=true
e.block_expand=true}"string"===typeof e.classes&&(e.classes=e.classes.split(/\s+/))}))
t[e]=r}}
var o=function(e){e&&t[e]&&delete t[e]
return t}
a(gA(e.dom))
a(Yd(e))
return{get:r,has:n,register:a,unregister:o}}var yA=sr.each
var bA=Dc.DOM
var CA=function(e,t){var r,n,a
var o=t&&t.schema||vu({})
var i=function(e,t){t.classes.length&&bA.addClass(e,t.classes.join(" "))
bA.setAttribs(e,t.attrs)}
var u=function(e){n="string"===typeof e?{name:e,classes:[],attrs:{}}:e
var t=bA.create(n.name)
i(t,n)
return t}
var f=function(e,t){var r="string"!==typeof e?e.nodeName.toLowerCase():e
var n=o.getElementRule(r)
var a=n&&n.parentsRequired
return!(!a||!a.length)&&(t&&-1!==sr.inArray(a,t)?t:a[0])}
var c=function(e,t,r){var n,a
var o=t.length>0&&t[0]
var i=o&&o.name
var s=f(e,i)
if(s)if(i===s){a=t[0]
t=t.slice(1)}else a=s
else if(o){a=t[0]
t=t.slice(1)}else if(!r)return e
if(a){n=u(a)
n.appendChild(e)}if(r){if(!n){n=bA.create("div")
n.appendChild(e)}sr.each(r,(function(t){var r=u(t)
n.insertBefore(r,e)}))}return c(n,t,a&&a.siblings)}
if(e&&e.length){n=e[0]
r=u(n)
a=bA.create("div")
a.appendChild(c(r,e.slice(1),n.siblings))
return a}return""}
var wA=function(e){var t
var r={classes:[],attrs:{}}
e=r.selector=sr.trim(e)
"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,n,a,o){switch(t){case"#":r.attrs.id=n
break
case".":r.classes.push(n)
break
case":":-1!==sr.inArray("checked disabled enabled read-only required".split(" "),n)&&(r.attrs[n]=n)}if("["===a){var i=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/)
i&&(r.attrs[i[1]]=i[2])}return""})))
r.name=t||"div"
return r}
var xA=function(e){if(!e||"string"!==typeof e)return[]
e=e.split(/\s*,\s*/)[0]
e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1")
return sr.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=sr.map(e.split(/(?:~\+|~|\+)/),wA)
var r=t.pop()
t.length&&(r.siblings=t)
return r})).reverse()}
var SA=function(e,t){var r,n
var a,o=""
var i=Gd(e)
if(""===i)return""
var u=function(e){return e.replace(/%(\w+)/g,"")}
if("string"===typeof t){t=e.formatter.get(t)
if(!t)return
t=t[0]}if("preview"in t){var f=Re(t,"preview")
if(f.is(false))return""
i=f.getOr(i)}r=t.block||t.inline||"span"
var c=xA(t.selector)
if(c.length){c[0].name||(c[0].name=r)
r=t.selector
n=CA(c,e)}else n=CA([r],e)
var s=bA.select(r,n)[0]||n.firstChild
yA(t.styles,(function(e,t){var r=u(e)
r&&bA.setStyle(s,t,r)}))
yA(t.attributes,(function(e,t){var r=u(e)
r&&bA.setAttrib(s,t,r)}))
yA(t.classes,(function(e){var t=u(e)
bA.hasClass(s,t)||bA.addClass(s,t)}))
e.fire("PreviewFormats")
bA.setStyles(n,{position:"absolute",left:-65535})
e.getBody().appendChild(n)
a=bA.getStyle(e.getBody(),"fontSize",true)
a=/px$/.test(a)?parseInt(a,10):0
yA(i.split(" "),(function(t){var r=bA.getStyle(s,t,true)
if("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(r)){r=bA.getStyle(e.getBody(),t,true)
if("#ffffff"===bA.toHex(r).toLowerCase())return}if("color"===t&&"#000000"===bA.toHex(r).toLowerCase())return
if("font-size"===t&&/em|%$/.test(r)){if(0===a)return
var n=parseFloat(r)/(/%$/.test(r)?100:1)
r=n*a+"px"}"border"===t&&r&&(o+="padding:0 2px;")
o+=t+":"+r+";"}))
e.fire("AfterPreviewFormats")
bA.remove(n)
return o}
var NA=function(e){e.addShortcut("meta+b","","Bold")
e.addShortcut("meta+i","","Italic")
e.addShortcut("meta+u","","Underline")
for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",false,"h"+t])
e.addShortcut("access+7","",["FormatBlock",false,"p"])
e.addShortcut("access+8","",["FormatBlock",false,"div"])
e.addShortcut("access+9","",["FormatBlock",false,"address"])}
var kA=function(e){var t=hA(e)
var r=zc(null)
NA(e)
DS(e)
return{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,r,n){kE(e,t,r,n)},remove:function(t,r,n,a){EE(e,t,r,n,a)},toggle:function(t,r,n){_E(e,t,r,n)},match:function(t,r,n){return CE(e,t,r,n)},closest:function(t){return NE(e,t)},matchAll:function(t,r){return wE(e,t,r)},matchNode:function(t,r,n,a){return xE(e,t,r,n,a)},canApply:function(t){return SE(e,t)},formatChanged:function(t,n,a){return TE(e,r,t,n,a)},getCssText:b(SA,e)}}
var EA=function(e,t,r){var n=zc(false)
var a=function(e){Uk(t,false,r)
t.add({},e)}
e.on("init",(function(){t.add()}))
e.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase()
if("undo"!==n&&"redo"!==n&&"mcerepaint"!==n){zk(t,r)
t.beforeChange()}}))
e.on("ExecCommand",(function(e){var t=e.command.toLowerCase()
"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&a(e)}))
e.on("ObjectResizeStart cut",(function(){t.beforeChange()}))
e.on("SaveContent ObjectResized blur",a)
e.on("dragend",a)
e.on("keyup",(function(r){var o=r.keyCode
if(r.isDefaultPrevented())return
if(o>=33&&o<=36||o>=37&&o<=40||45===o||r.ctrlKey){a()
e.nodeChanged()}46!==o&&8!==o||e.nodeChanged()
if(n.get()&&t.typing&&false===Mk(Dk(e),t.data[0])){if(false===e.isDirty()){e.setDirty(true)
e.fire("change",{level:t.data[0],lastLevel:null})}e.fire("TypingUndo")
n.set(false)
e.nodeChanged()}}))
e.on("keydown",(function(e){var o=e.keyCode
if(e.isDefaultPrevented())return
if(o>=33&&o<=36||o>=37&&o<=40||45===o){t.typing&&a(e)
return}var i=e.ctrlKey&&!e.altKey||e.metaKey
if((o<16||o>20)&&224!==o&&91!==o&&!t.typing&&!i){t.beforeChange()
Uk(t,true,r)
t.add({},e)
n.set(true)}}))
e.on("mousedown",(function(e){t.typing&&a(e)}))
var o=function(e){return"insertReplacementText"===e.inputType}
var i=function(e){return"insertText"===e.inputType&&null===e.data}
var u=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType}
e.on("input",(function(e){e.inputType&&(o(e)||i(e)||u(e))&&a(e)}))
e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))}
var _A=function(e){e.addShortcut("meta+z","","Undo")
e.addShortcut("meta+y,meta+shift+z","","Redo")}
var TA=function(e){var t=zc(A.none())
var r=zc(0)
var n=zc(0)
var a={data:[],typing:false,beforeChange:function(){cE(e,r,t)},add:function(o,i){return sE(e,a,n,r,t,o,i)},undo:function(){return lE(e,a,r,n)},redo:function(){return dE(e,n,a.data)},clear:function(){vE(e,a,n)},reset:function(){mE(e,a)},hasUndo:function(){return pE(e,a,n)},hasRedo:function(){return gE(e,a,n)},transact:function(t){return hE(e,a,r,t)},ignore:function(t){yE(e,r,t)},extra:function(t,r){bE(e,a,n,t,r)}}
oE(e)||EA(e,a,r)
_A(e)
return a}
var AA=[9,27,jg.HOME,jg.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,jg.DOWN,jg.UP,jg.LEFT,jg.RIGHT].concat(Jt.browser.isFirefox()?[224]:[])
var RA="data-mce-placeholder"
var DA=function(e){return"keydown"===e.type||"keyup"===e.type}
var OA=function(e){var t=e.keyCode
return t===jg.BACKSPACE||t===jg.DELETE}
var BA=function(e){if(DA(e)){var t=e.keyCode
return!OA(e)&&(jg.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Y(AA,t))}return false}
var PA=function(e){return DA(e)&&!(OA(e)||"keyup"===e.type&&229===e.keyCode)}
var LA=function(e,t,r){if(Ri(gr.fromDom(t),false)){var n=""===r
var a=t.firstElementChild
return!a||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(n?!e.isBlock(a):r===a.nodeName.toLowerCase())}return false}
var IA=function(e){var t=e.dom
var r=md(e)
var n=Vd(e)
var a=function(o,i){if(BA(o))return
var u=e.getBody()
var f=!PA(o)&&LA(t,u,r)
var c=""!==t.getAttrib(u,RA)
if(c!==f||i){t.setAttrib(u,RA,f?n:null)
t.setAttrib(u,"aria-placeholder",f?n:null)
Ug(e,f)
e.on(f?"keydown":"keyup",a)
e.off(f?"keyup":"keydown",a)}}
n&&e.on("init",(function(t){a(t,true)
e.on("change SetContent ExecCommand",a)
e.on("paste",(function(t){return co.setEditorTimeout(e,(function(){return a(t)}))}))}))}
var MA=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/
var FA=function(e){return MA.test(e)}
var UA=function(e,t){return kr(gr.fromDom(t),zd(e))}
var zA=function(e){return"rtl"===Dc.DOM.getStyle(e,"direction",true)||FA(e.textContent)}
var jA=function(e,t,r){return te(Dc.DOM.getParents(r.container(),"*",t),e)}
var HA=function(e,t,r){var n=jA(e,t,r)
return A.from(n[n.length-1])}
var VA=function(e,t,r){var n=Jv(t,e)
var a=Jv(r,e)
return n&&n===a}
var qA=function(e){return Go(e)||Jo(e)}
var $A=function(e,t){if(!t)return t
var r=t.container(),n=t.offset()
return e?Wo(r)?Yn(r.nextSibling)?Sl(r.nextSibling,0):Sl.after(r):Go(t)?Sl(r,n+1):t:Wo(r)?Yn(r.previousSibling)?Sl(r.previousSibling,r.previousSibling.data.length):Sl.before(r):Jo(t)?Sl(r,n-1):t}
var WA=b($A,true)
var KA=b($A,false)
var XA=function(e){return function(t){return Ar(e,gr.fromDom(t.dom.parentNode))}}
var YA=function(e,t){return Or(e,t)?Xa(t,(function(e){return Ao(e)||Do(e)}),XA(e)):A.none()}
var GA=function(e){var t=e.getBody()
var r=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t
e.selection.setCursorLocation(r,0)}
var JA=function(e){if(e.dom.isEmpty(e.getBody())){e.setContent("")
GA(e)}}
var QA=function(e,t,r){return Us(Um(r),zm(r),(function(n,a){var o=$A(true,n)
var i=$A(false,a)
var u=$A(false,t)
return e?Mm(r,u).exists((function(e){return e.isEqual(i)&&t.isEqual(o)})):Fm(r,u).exists((function(e){return e.isEqual(o)&&t.isEqual(i)}))})).getOr(true)}
var ZA=function(e,t){return{block:e,position:t}}
var eR=function(e,t){return{from:e,to:t}}
var tR=function(e,t){var r=gr.fromDom(e)
var n=gr.fromDom(t.container())
return YA(r,n).map((function(e){return ZA(e,t)}))}
var rR=function(e){return false===Ar(e.from.block,e.to.block)}
var nR=function(e){return $r(e.from.block).bind((function(t){return $r(e.to.block).filter((function(e){return Ar(t,e)}))})).isSome()}
var aR=function(e){return false===ra(e.from.block.dom)&&false===ra(e.to.block.dom)}
var oR=function(e,t,r){return Zn(r.position.getNode())&&false===Ri(r.block)?Im(false,r.block.dom).bind((function(n){return n.isEqual(r.position)?Bm(t,e,n).bind((function(t){return tR(e,t)})):A.some(r)})).getOr(r):r}
var iR=function(e,t,r){var n=tR(e,Sl.fromRangeStart(r))
var a=n.bind((function(r){return Bm(t,e,r.position).bind((function(r){return tR(e,r).map((function(r){return oR(e,t,r)}))}))}))
return Us(n,a,eR).filter((function(e){return rR(e)&&nR(e)&&aR(e)}))}
var uR=function(e,t,r){return r.collapsed?iR(e,t,r):A.none()}
var fR=function(e){var t=Qr(e)
return ie(t,ko).fold((function(){return t}),(function(e){return t.slice(0,e)}))}
var cR=function(e){var t=fR(e)
Q(t,xn)
return t}
var sR=function(e,t){var r=SC(t,e)
return oe(r.reverse(),(function(e){return Ri(e)})).each(xn)}
var lR=function(e){return 0===te(Gr(e),(function(e){return!Ri(e)})).length}
var dR=function(e,t,r,n){if(Ri(r)){yC(r)
return Um(r.dom)}lR(n)&&Ri(t)&&mn(n,gr.fromTag("br"))
var a=Fm(r.dom,Sl.before(n.dom))
Q(cR(t),(function(e){mn(n,e)}))
sR(e,t)
return a}
var vR=function(e,t,r){if(Ri(r)){xn(r)
Ri(t)&&yC(t)
return Um(t.dom)}var n=zm(r.dom)
Q(cR(t),(function(e){hn(r,e)}))
sR(e,t)
return n}
var mR=function(e,t){var r=SC(t,e)
return A.from(r[r.length-1])}
var pR=function(e,t){return Or(t,e)?mR(t,e):A.none()}
var gR=function(e,t){Im(e,t.dom).map((function(e){return e.getNode()})).map(gr.fromDom).filter(To).each(xn)}
var hR=function(e,t,r){gR(true,t)
gR(false,r)
return pR(t,r).fold(b(vR,e,t,r),b(dR,e,t,r))}
var yR=function(e,t,r,n){return t?hR(e,n,r):hR(e,r,n)}
var bR=function(e,t){var r=gr.fromDom(e.getBody())
var n=uR(r.dom,t,e.selection.getRng()).bind((function(e){return yR(r,t,e.from.block,e.to.block)}))
n.each((function(t){e.selection.setRng(t.toRange())}))
return n.isSome()}
var CR=function(e,t){var r=t.getRng()
return Us(YA(e,gr.fromDom(r.startContainer)),YA(e,gr.fromDom(r.endContainer)),(function(n,a){if(false===Ar(n,a)){r.deleteContents()
yR(e,true,n,a).each((function(e){t.setRng(e.toRange())}))
return true}return false})).getOr(false)}
var wR=function(e,t){var r=gr.fromDom(t)
var n=b(Ar,e)
return Ka(r,Bo,n).isSome()}
var xR=function(e,t){return wR(e,t.startContainer)||wR(e,t.endContainer)}
var SR=function(e,t){var r=Fm(e.dom,Sl.fromRangeStart(t)).isNone()
var n=Mm(e.dom,Sl.fromRangeEnd(t)).isNone()
return!xR(e,t)&&r&&n}
var NR=function(e){e.setContent("")
e.selection.setCursorLocation()
return true}
var kR=function(e){var t=gr.fromDom(e.getBody())
var r=e.selection.getRng()
return SR(t,r)?NR(e):CR(t,e.selection)}
var ER=function(e,t){return!e.selection.isCollapsed()&&kR(e)}
var _R=ta
var TR=ra
var AR=function(e,t,r,n,a){return A.from(t._selectionOverrides.showCaret(e,r,n,a))}
var RR=function(e){var t=e.ownerDocument.createRange()
t.selectNode(e)
return t}
var DR=function(e,t){var r=e.fire("BeforeObjectSelected",{target:t})
if(r.isDefaultPrevented())return A.none()
return A.some(RR(t))}
var OR=function(e,t,r){var n=om(1,e.getBody(),t)
var a=Sl.fromRangeStart(n)
var o=a.getNode()
if(Fv(o))return AR(1,e,o,!a.isAtEnd(),false)
var i=a.getNode(true)
if(Fv(i))return AR(1,e,i,false,false)
var u=e.dom.getParent(a.getNode(),(function(e){return TR(e)||_R(e)}))
if(Fv(u))return AR(1,e,u,false,r)
return A.none()}
var BR=function(e,t,r){return t.collapsed?OR(e,t,r).getOr(t):t}
var PR=function(e){return mC(e)||sC(e)}
var LR=function(e){return pC(e)||lC(e)}
var IR=function(e,t){Yn(t)&&0===t.data.length&&e.remove(t)}
var MR=function(e,t,r,n,a,o){AR(n,e,o.getNode(!a),a,true).each((function(r){if(t.collapsed){var n=t.cloneRange()
a?n.setEnd(r.startContainer,r.startOffset):n.setStart(r.endContainer,r.endOffset)
n.deleteContents()}else t.deleteContents()
e.selection.setRng(r)}))
IR(e.dom,r)
return true}
var FR=function(e,t){var r=e.selection.getRng()
if(!Yn(r.commonAncestorContainer))return false
var n=t?dm.Forwards:dm.Backwards
var a=km(e.getBody())
var o=b(sm,t?a.next:a.prev)
var i=t?PR:LR
var u=um(n,e.getBody(),r)
var f=$A(t,o(u))
if(!f||!lm(u,f))return false
if(i(f))return MR(e,r,u.getNode(),n,t,f)
var c=o(f)
if(c&&i(c)&&lm(f,c))return MR(e,r,u.getNode(),n,t,c)
return false}
var UR=function(e,t){return FR(e,t)}
var zR=function(e){return Bo(gr.fromDom(e))||Do(gr.fromDom(e))}
var jR=qa.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}])
var HR=function(e,t){var r=t.getNode(false===e)
var n=e?"after":"before"
return Un(r)&&r.getAttribute("data-mce-caret")===n}
var VR=function(e,t,r,n){var a=function(t){return _o(gr.fromDom(t))&&!Qv(r,n,e)}
return im(!t,r).fold((function(){return im(t,n).fold(S,a)}),a)}
var qR=function(e,t,r,n){var a=n.getNode(false===t)
return YA(gr.fromDom(e),gr.fromDom(r.getNode())).map((function(e){return Ri(e)?jR.remove(e.dom):jR.moveToElement(a)})).orThunk((function(){return A.some(jR.moveToElement(a))}))}
var $R=function(e,t,r){return Bm(t,e,r).bind((function(n){return zR(n.getNode())||VR(e,t,r,n)?A.none():t&&ra(n.getNode())||false===t&&ra(n.getNode(true))?qR(e,t,r,n):t&&pC(r)||false===t&&mC(r)?A.some(jR.moveToPosition(n)):A.none()}))}
var WR=function(e,t){return e&&ra(t.nextSibling)?A.some(jR.moveToElement(t.nextSibling)):false===e&&ra(t.previousSibling)?A.some(jR.moveToElement(t.previousSibling)):A.none()}
var KR=function(e,t,r){return r.fold((function(e){return A.some(jR.remove(e))}),(function(e){return A.some(jR.moveToElement(e))}),(function(r){return Qv(t,r,e)?A.none():A.some(jR.moveToPosition(r))}))}
var XR=function(e,t,r){return HR(t,r)?WR(t,r.getNode(false===t)).fold((function(){return $R(e,t,r)}),A.some):$R(e,t,r).bind((function(t){return KR(e,r,t)}))}
var YR=function(e,t,r){var n=om(t?1:-1,e,r)
var a=Sl.fromRangeStart(n)
var o=gr.fromDom(e)
return false===t&&pC(a)?A.some(jR.remove(a.getNode(true))):t&&mC(a)?A.some(jR.remove(a.getNode())):false===t&&mC(a)&&LC(o,a)?IC(o,a).map((function(e){return jR.remove(e.getNode())})):t&&pC(a)&&PC(o,a)?MC(o,a).map((function(e){return jR.remove(e.getNode())})):XR(e,t,a)}
var GR=function(e,t){return function(r){e._selectionOverrides.hideFakeCaret()
Aw(e,t,gr.fromDom(r))
return true}}
var JR=function(e,t){return function(r){var n=t?Sl.before(r):Sl.after(r)
e.selection.setRng(n.toRange())
return true}}
var QR=function(e){return function(t){e.selection.setRng(t.toRange())
return true}}
var ZR=function(e,t){return A.from(_g(e.getBody(),t))}
var eD=function(e,t){var r=e.selection.getNode()
return ZR(e,r).filter(ra).fold((function(){return YR(e.getBody(),t,e.selection.getRng()).exists((function(r){return r.fold(GR(e,t),JR(e,t),QR(e))}))}),N)}
var tD=function(e){Q(gs(e,".mce-offscreen-selection"),xn)}
var rD=function(e,t){var r=e.selection.getNode()
if(ra(r)){var n=ZR(e,r.parentNode).filter(ra)
return n.fold((function(){tD(gr.fromDom(e.getBody()))
Aw(e,t,gr.fromDom(e.selection.getNode()))
JA(e)
return true}),(function(){return true}))}return false}
var nD=function(e){var t=e.dom,r=e.selection
var n=_g(e.getBody(),r.getNode())
if(ta(n)&&t.isBlock(n)&&t.isEmpty(n)){var a=t.create("br",{"data-mce-bogus":"1"})
t.setHTML(n,"")
n.appendChild(a)
r.setRng(Sl.before(a).toRange())}return true}
var aD=function(e,t){return e.selection.isCollapsed()?eD(e,t):rD(e,t)}
var oD=function(e,t){var r=Sl.fromRangeStart(e.selection.getRng())
return Bm(t,e.getBody(),r).filter((function(e){return t?fC(e):cC(e)})).bind((function(e){return A.from(Zv(t?0:-1,e))})).exists((function(t){e.selection.select(t)
return true}))}
var iD=function(e,t){return!!e.selection.isCollapsed()&&oD(e,t)}
var uD=Yn
var fD=function(e){return uD(e)&&e.data[0]===zo}
var cD=function(e){return uD(e)&&e.data[e.data.length-1]===zo}
var sD=function(e){return e.ownerDocument.createTextNode(zo)}
var lD=function(e){if(uD(e.previousSibling)){if(cD(e.previousSibling))return e.previousSibling
e.previousSibling.appendData(zo)
return e.previousSibling}if(uD(e)){if(fD(e))return e
e.insertData(0,zo)
return e}var t=sD(e)
e.parentNode.insertBefore(t,e)
return t}
var dD=function(e){if(uD(e.nextSibling)){if(fD(e.nextSibling))return e.nextSibling
e.nextSibling.insertData(0,zo)
return e.nextSibling}if(uD(e)){if(cD(e))return e
e.appendData(zo)
return e}var t=sD(e)
e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)
return t}
var vD=function(e,t){return e?lD(t):dD(t)}
var mD=b(vD,true)
var pD=b(vD,false)
var gD=function(e,t){return Yn(e.container())?vD(t,e.container()):vD(t,e.getNode())}
var hD=function(e,t){var r=t.get()
return r&&e.container()===r&&Wo(r)}
var yD=function(e,t){return t.fold((function(t){Tv(e.get())
var r=mD(t)
e.set(r)
return A.some(Sl(r,r.length-1))}),(function(t){return Um(t).map((function(t){if(hD(t,e))return Sl(e.get(),1)
Tv(e.get())
var r=gD(t,true)
e.set(r)
return Sl(r,1)}))}),(function(t){return zm(t).map((function(t){if(hD(t,e))return Sl(e.get(),e.get().length-1)
Tv(e.get())
var r=gD(t,false)
e.set(r)
return Sl(r,r.length-1)}))}),(function(t){Tv(e.get())
var r=pD(t)
e.set(r)
return A.some(Sl(r,1))}))}
var bD=function(e,t){for(var r=0;r<e.length;r++){var n=e[r].apply(null,t)
if(n.isSome())return n}return A.none()}
var CD=qa.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}])
var wD=function(e,t){var r=Jv(t,e)
return r||e}
var xD=function(e,t,r){var n=WA(r)
var a=wD(t,n.container())
return HA(e,a,n).fold((function(){return Mm(a,n).bind(b(HA,e,a)).map((function(e){return CD.before(e)}))}),A.none)}
var SD=function(e,t){return null===Vm(e,t)}
var ND=function(e,t,r){return HA(e,t,r).filter(b(SD,t))}
var kD=function(e,t,r){var n=KA(r)
return ND(e,t,n).bind((function(e){var t=Fm(e,n)
return t.isNone()?A.some(CD.start(e)):A.none()}))}
var ED=function(e,t,r){var n=WA(r)
return ND(e,t,n).bind((function(e){var t=Mm(e,n)
return t.isNone()?A.some(CD.end(e)):A.none()}))}
var _D=function(e,t,r){var n=KA(r)
var a=wD(t,n.container())
return HA(e,a,n).fold((function(){return Fm(a,n).bind(b(HA,e,a)).map((function(e){return CD.after(e)}))}),A.none)}
var TD=function(e){return false===zA(RD(e))}
var AD=function(e,t,r){var n=bD([xD,kD,ED,_D],[e,t,r])
return n.filter(TD)}
var RD=function(e){return e.fold(y,y,y,y)}
var DD=function(e){return e.fold(h("before"),h("start"),h("end"),h("after"))}
var OD=function(e){return e.fold(CD.before,CD.before,CD.after,CD.after)}
var BD=function(e){return e.fold(CD.start,CD.start,CD.end,CD.end)}
var PD=function(e,t){return DD(e)===DD(t)&&RD(e)===RD(t)}
var LD=function(e,t,r,n,a,o){return Us(HA(t,r,n),HA(t,r,a),(function(t,n){return t!==n&&VA(r,t,n)?CD.after(e?t:n):o})).getOr(o)}
var ID=function(e,t){return e.fold(N,(function(e){return!PD(e,t)}))}
var MD=function(e,t,r,n,a){var o=$A(e,a)
var i=Bm(e,r,o).map(b($A,e))
var u=i.fold((function(){return n.map(OD)}),(function(a){return AD(t,r,a).map(b(LD,e,t,r,o,a)).filter(b(ID,n))}))
return u.filter(TD)}
var FD=function(e,t){return e?t.fold(p(A.some,CD.start),A.none,p(A.some,CD.after),A.none):t.fold(A.none,p(A.some,CD.before),A.none,p(A.some,CD.end))}
var UD=function(e,t,r,n){var a=$A(e,n)
var o=AD(t,r,a)
return AD(t,r,a).bind(b(FD,e)).orThunk((function(){return MD(e,t,r,o,n)}))}
b(UD,false)
b(UD,true)
var zD=function(e){return H(e.selection.getSel().modify)}
var jD=function(e,t,r){var n=e?1:-1
t.setRng(Sl(r.container(),r.offset()+n).toRange())
t.getSel().modify("move",e?"forward":"backward","word")
return true}
var HD=function(e,t){var r=t.selection.getRng()
var n=e?Sl.fromRangeEnd(r):Sl.fromRangeStart(r)
return!!zD(t)&&(e&&Go(n)?jD(true,t.selection,n):!(e||!Jo(n))&&jD(false,t.selection,n))}
var VD=function(e,t){var r=e.dom.createRng()
r.setStart(t.container(),t.offset())
r.setEnd(t.container(),t.offset())
e.selection.setRng(r)}
var qD=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")}
var $D=function(e,t,r){return yD(t,r).map((function(t){VD(e,t)
return r}))}
var WD=function(e,t,r){var n=e.getBody()
var a=Sl.fromRangeStart(e.selection.getRng())
var o=b(UA,e)
var i=UD(r,o,n,a)
return i.bind((function(r){return $D(e,t,r)}))}
var KD=function(e,t,r){var n=J(gs(gr.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom}))
var a=te(n,e)
var o=te(r,e)
Q(le(a,o),b(qD,false))
Q(le(o,a),b(qD,true))}
var XD=function(e,t){if(e.selection.isCollapsed()&&true!==e.composing&&t.get()){var r=Sl.fromRangeStart(e.selection.getRng())
if(Sl.isTextPosition(r)&&false===qA(r)){VD(e,_v(t.get(),r))
t.set(null)}}}
var YD=function(e,t,r,n){if(t.selection.isCollapsed()){var a=te(n,e)
Q(a,(function(n){var a=Sl.fromRangeStart(t.selection.getRng())
AD(e,t.getBody(),a).bind((function(e){return $D(t,r,e)}))}))}}
var GD=function(e,t,r){return!!Xd(e)&&WD(e,t,r).isSome()}
var JD=function(e,t,r){return!!Xd(t)&&HD(e,t)}
var QD=function(e){var t=zc(null)
var r=b(UA,e)
e.on("NodeChange",(function(n){if(Xd(e)&&!(Jt.browser.isIE()&&n.initial)){KD(r,e.dom,n.parents)
XD(e,t)
YD(r,e,t,n.parents)}}))
return t}
var ZD=b(JD,true)
var eO=b(JD,false)
var tO=function(e,t){var r=document.createRange()
r.setStart(e.container(),e.offset())
r.setEnd(t.container(),t.offset())
return r}
var rO=function(e){return Us(Um(e),zm(e),(function(t,r){var n=$A(true,t)
var a=$A(false,r)
return Mm(e,n).forall((function(e){return e.isEqual(a)}))})).getOr(true)}
var nO=function(e,t){return function(r){return yD(t,r).exists((function(t){VD(e,t)
return true}))}}
var aO=function(e,t,r,n){var a=e.getBody()
var o=b(UA,e)
e.undoManager.ignore((function(){e.selection.setRng(tO(r,n))
e.execCommand("Delete")
AD(o,a,Sl.fromRangeStart(e.selection.getRng())).map(BD).map(nO(e,t))}))
e.nodeChanged()}
var oO=function(e,t){var r=Jv(t,e)
return r||e}
var iO=function(e,t,r,n){var a=oO(e.getBody(),n.container())
var o=b(UA,e)
var i=AD(o,a,n)
return i.bind((function(e){return r?e.fold(h(A.some(BD(e))),A.none,h(A.some(OD(e))),A.none):e.fold(A.none,h(A.some(OD(e))),A.none,h(A.some(BD(e))))})).map(nO(e,t)).getOrThunk((function(){var u=Pm(r,a,n)
var f=u.bind((function(e){return AD(o,a,e)}))
return Us(i,f,(function(){return HA(o,a,n).exists((function(t){if(rO(t)){Aw(e,r,gr.fromDom(t))
return true}return false}))})).orThunk((function(){return f.bind((function(a){return u.map((function(a){r?aO(e,t,n,a):aO(e,t,a,n)
return true}))}))})).getOr(false)}))}
var uO=function(e,t,r){if(e.selection.isCollapsed()&&Xd(e)){var n=Sl.fromRangeStart(e.selection.getRng())
return iO(e,t,r,n)}return false}
var fO=function(e,t){var r=SC(t,e)
return ie(r,ko).fold(h(r),(function(e){return r.slice(0,e)}))}
var cO=function(e){return 1===Qr(e).length}
var sO=function(e,t,r,n){var a=b(BS,t)
var o=J(te(n,a),(function(e){return e.dom}))
if(0===o.length)Aw(t,e,r)
else{var i=OS(r.dom,o)
t.selection.setRng(i.toRange())}}
var lO=function(e,t){var r=gr.fromDom(e.getBody())
var n=gr.fromDom(e.selection.getStart())
var a=te(fO(r,n),cO)
return ge(a).exists((function(r){var n=Sl.fromRangeStart(e.selection.getRng())
if(QA(t,n,r.dom)&&!PS(r)){sO(t,e,r,a)
return true}return false}))}
var dO=function(e,t){return!!e.selection.isCollapsed()&&lO(e,t)}
var vO=function(e,t,r){e._selectionOverrides.hideFakeCaret()
Aw(e,t,gr.fromDom(r))
return true}
var mO=function(e,t){var r=t?sC:lC
var n=t?dm.Forwards:dm.Backwards
var a=um(n,e.getBody(),e.selection.getRng())
return r(a)?vO(e,t,a.getNode(!t)):A.from($A(t,a)).filter((function(e){return r(e)&&lm(a,e)})).exists((function(r){return vO(e,t,r.getNode(!t))}))}
var pO=function(e,t){var r=e.selection.getNode()
return!!aa(r)&&vO(e,t,r)}
var gO=function(e,t){return e.selection.isCollapsed()?mO(e,t):pO(e,t)}
var hO=function(e){return Xa(e,(function(e){return ta(e.dom)||ra(e.dom)})).exists((function(e){return ta(e.dom)}))}
var yO=function(e){var t=parseInt(e,10)
return isNaN(t)?0:t}
var bO=function(e,t){var r=e||Eo(t)?"margin":"padding"
var n="rtl"===ga(t,"direction")?"-right":"-left"
return r+n}
var CO=function(e,t,r,n,a,o){var i=bO(r,gr.fromDom(o))
if("outdent"===t){var u=Math.max(0,yO(o.style[i])-n)
e.setStyle(o,i,u?u+a:"")}else{u=yO(o.style[i])+n+a
e.setStyle(o,i,u)}}
var wO=function(e,t){return ce(t,(function(t){var r=bO(Id(e),t)
var n=ya(t,r).map(yO).getOr(0)
var a=e.dom.getContentEditable(t.dom)
return"false"!==a&&n>0}))}
var xO=function(e){var t=kO(e)
return!e.mode.isReadOnly()&&(t.length>1||wO(e,t))}
var SO=function(e){return Ro(e)||Do(e)}
var NO=function(e){return $r(e).map(SO).getOr(false)}
var kO=function(e){return te(J(e.selection.getSelectedBlocks(),gr.fromDom),(function(e){return!SO(e)&&!NO(e)&&hO(e)}))}
var EO=function(e,t){var r=e.dom,n=e.selection,a=e.formatter
var o=Md(e)
var i=/[a-z%]+$/i.exec(o)[0]
var u=parseInt(o,10)
var f=Id(e)
var c=md(e)
e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||r.getParent(n.getNode(),r.isBlock)||a.apply("div")
Q(kO(e),(function(e){CO(r,t,f,u,i,e.dom)}))}
var _O=function(e,t){if(e.selection.isCollapsed()&&xO(e)){var r=e.dom
var n=e.selection.getRng()
var a=Sl.fromRangeStart(n)
var o=r.getParent(n.startContainer,r.isBlock)
if(null!==o&&TC(gr.fromDom(o),a)){EO(e,"outdent")
return true}}return false}
var TO=function(e,t){e.getDoc().execCommand(t,false,null)}
var AO=function(e,t){if(_O(e))return
if(aD(e,false))return
if(UR(e,false))return
if(uO(e,t,false))return
if(bR(e,false))return
if(yx(e))return
if(iD(e,false))return
if(gO(e,false))return
if(ER(e))return
if(dO(e,false))return
TO(e,"Delete")
JA(e)}
var RO=function(e,t){if(aD(e,true))return
if(UR(e,true))return
if(uO(e,t,true))return
if(bR(e,true))return
if(yx(e))return
if(iD(e,true))return
if(gO(e,true))return
if(ER(e))return
if(dO(e,true))return
TO(e,"ForwardDelete")}
var DO=function(e,t){e.addCommand("delete",(function(){AO(e,t)}))
e.addCommand("forwardDelete",(function(){RO(e,t)}))}
var OO=5
var BO=400
var PO=function(e){if(void 0===e.touches||1!==e.touches.length)return A.none()
return A.some(e.touches[0])}
var LO=function(e,t){var r=Math.abs(e.clientX-t.x)
var n=Math.abs(e.clientY-t.y)
return r>OO||n>OO}
var IO=function(e){var t=zc(A.none())
var r=zc(false)
var n=ns((function(t){e.fire("longpress",Ve(Ve({},t),{type:"longpress"}))
r.set(true)}),BO)
e.on("touchstart",(function(e){PO(e).each((function(a){n.cancel()
var o={x:a.clientX,y:a.clientY,target:e.target}
n.throttle(e)
r.set(false)
t.set(A.some(o))}))}),true)
e.on("touchmove",(function(a){n.cancel()
PO(a).each((function(n){t.get().each((function(a){if(LO(n,a)){t.set(A.none())
r.set(false)
e.fire("longpresscancel")}}))}))}),true)
e.on("touchend touchcancel",(function(a){n.cancel()
if("touchcancel"===a.type)return
t.get().filter((function(e){return e.target.isEqualNode(a.target)})).each((function(){r.get()?a.preventDefault():e.fire("tap",Ve(Ve({},a),{type:"tap"}))}))}),true)}
var MO=function(e,t){return e.hasOwnProperty(t.nodeName)}
var FO=function(e,t){return!!Yn(t)||!!Un(t)&&(!MO(e,t)&&!sp(t))}
var UO=function(e,t,r){return G(xC(gr.fromDom(r),gr.fromDom(t)),(function(t){return MO(e,t.dom)}))}
var zO=function(e,t){if(Yn(t)){if(0===t.nodeValue.length)return true
if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||MO(e,t.nextSibling)))return true}return false}
var jO=function(e){var t=e.dom,r=e.selection
var n=e.schema,a=n.getBlockElements()
var o=r.getStart()
var i=e.getBody()
var u,f,c
var s=md(e)
if(!o||!Un(o)||!s)return
var l=i.nodeName.toLowerCase()
if(!n.isValidChild(l,s.toLowerCase())||UO(a,i,o))return
var d=r.getRng()
var v=d.startContainer
var m=d.startOffset
var p=d.endContainer
var g=d.endOffset
var h=Zy(e)
o=i.firstChild
while(o)if(FO(a,o)){if(zO(a,o)){f=o
o=o.nextSibling
t.remove(f)
continue}if(!u){u=t.create(s,pd(e))
o.parentNode.insertBefore(u,o)
c=true}f=o
o=o.nextSibling
u.appendChild(f)}else{u=null
o=o.nextSibling}if(c&&h){d.setStart(v,m)
d.setEnd(p,g)
r.setRng(d)
e.nodeChanged()}}
var HO=function(e){md(e)&&e.on("NodeChange",b(jO,e))}
var VO=function(e){return Qa(gr.fromDom(e.getBody()),"*[data-mce-caret]").fold(h(null),(function(e){return e.dom}))}
var qO=function(e){e.selection.setRng(e.selection.getRng())}
var $O=function(e,t){if(t.hasAttribute("data-mce-caret")){ni(t)
qO(e)
e.selection.scrollIntoView(t)}}
var WO=function(e,t){var r=VO(e)
if(!r)return
if("compositionstart"===t.type){t.preventDefault()
t.stopPropagation()
$O(e,r)
return}if(Xo(r)){$O(e,r)
e.undoManager.add()}}
var KO=function(e){e.on("keyup compositionstart",b(WO,e))}
var XO;(function(e){e[e["Br"]=0]="Br"
e[e["Block"]=1]="Block"
e[e["Wrap"]=2]="Wrap"
e[e["Eol"]=3]="Eol"})(XO||(XO={}))
var YO=function(e,t){return e===dm.Backwards?se(t):t}
var GO=function(e,t,r){return e===dm.Forwards?t.next(r):t.prev(r)}
var JO=function(e,t,r,n){return Zn(n.getNode(t===dm.Forwards))?XO.Br:false===Qv(r,n)?XO.Block:XO.Wrap}
var QO=function(e,t,r,n){var a=km(r)
var o,i=n
var u=[]
while(i){o=GO(t,a,i)
if(!o)break
if(Zn(o.getNode(false)))return t===dm.Forwards?{positions:YO(t,u).concat([o]),breakType:XO.Br,breakAt:A.some(o)}:{positions:YO(t,u),breakType:XO.Br,breakAt:A.some(o)}
if(!o.isVisible()){i=o
continue}if(e(i,o)){var f=JO(r,t,i,o)
return{positions:YO(t,u),breakType:f,breakAt:A.some(o)}}u.push(o)
i=o}return{positions:YO(t,u),breakType:XO.Eol,breakAt:A.none()}}
var ZO=function(e,t,r,n){return t(r,n).breakAt.map((function(n){var a=t(r,n).positions
return e===dm.Backwards?a.concat(n):[n].concat(a)})).getOr([])}
var eB=function(e,t){return ne(e,(function(e,r){return e.fold((function(){return A.some(r)}),(function(n){return Us(pe(n.getClientRects()),pe(r.getClientRects()),(function(e,a){var o=Math.abs(t-e.left)
var i=Math.abs(t-a.left)
return i<=o?r:n})).or(e)}))}),A.none())}
var tB=function(e,t){return pe(t.getClientRects()).bind((function(t){return eB(e,t.left)}))}
var rB=b(QO,xl.isAbove,-1)
var nB=b(QO,xl.isBelow,1)
var aB=function(e,t){return rB(e,t).breakAt.isNone()}
var oB=function(e,t){return nB(e,t).breakAt.isNone()}
var iB=b(ZO,-1,rB)
var uB=b(ZO,1,nB)
var fB=function(e){return Um(e).map((function(t){return[t].concat(nB(e,t).positions)})).getOr([])}
var cB=function(e){return zm(e).map((function(t){return rB(e,t).positions.concat(t)})).getOr([])}
var sB=function(e){var t=function(t){return J(t,(function(t){t=Vs(t)
t.node=e
return t}))}
if(Un(e))return t(e.getClientRects())
if(Yn(e)){var r=e.ownerDocument.createRange()
r.setStart(e,0)
r.setEnd(e,e.data.length)
return t(r.getClientRects())}}
var lB=function(e){return fe(e,sB)}
var dB;(function(e){e[e["Up"]=-1]="Up"
e[e["Down"]=1]="Down"})(dB||(dB={}))
var vB=function(e,t,r,n){while(n=Gv(n,e,bi,t))if(r(n))return}
var mB=function(e,t,r,n,a,o){var i=0
var u=[]
var f=function(n){var o,f,s
s=lB([n]);-1===e&&(s=s.reverse())
for(o=0;o<s.length;o++){f=s[o]
if(r(f,c))continue
u.length>0&&t(f,He(u))&&i++
f.line=i
if(a(f))return true
u.push(f)}}
var c=He(o.getClientRects())
if(!c)return u
var s=o.getNode()
f(s)
vB(e,n,f,s)
return u}
var pB=function(e,t){return t.line>e}
var gB=function(e,t){return t.line===e}
var hB=b(mB,dB.Up,Ks,Xs)
var yB=b(mB,dB.Down,Xs,Ks)
var bB=function(e,t,r,n){var a=km(t)
var o,i,u,f
var c=[]
var s,l=0
var d=function(t){if(1===e)return He(t.getClientRects())
return He(t.getClientRects())}
if(1===e){o=a.next
i=Xs
u=Ks
f=Sl.after(n)}else{o=a.prev
i=Ks
u=Xs
f=Sl.before(n)}var v=d(f)
do{if(!f.isVisible())continue
s=d(f)
if(u(s,v))continue
c.length>0&&i(s,He(c))&&l++
s=Vs(s)
s.position=f
s.line=l
if(r(s))return c
c.push(s)}while(f=o(f))
return c}
var CB=function(e){return function(t){return pB(e,t)}}
var wB=function(e){return function(t){return gB(e,t)}}
var xB=ra
var SB=Gv
var NB=function(e,t){return Math.abs(e.left-t)}
var kB=function(e,t){return Math.abs(e.right-t)}
var EB=function(e,t){return e>=t.left&&e<=t.right}
var _B=function(e,t){return e>=t.top&&e<=t.bottom}
var TB=function(e,t){return ze(e,(function(e,r){var n=Math.min(NB(e,t),kB(e,t))
var a=Math.min(NB(r,t),kB(r,t))
if(EB(t,r))return r
if(EB(t,e))return e
if(a===n&&xB(r.node))return r
if(a<n)return r
return e}))}
var AB=function(e,t,r,n,a){var o=SB(n,e,bi,t,!a)
do{if(!o||r(o))return}while(o=SB(o,e,bi,t))}
var RB=function(e,t,r){void 0===r&&(r=true)
var n=[]
var a=function(e,r){var a=te(lB([r]),(function(r){return!e(r,t)}))
n=n.concat(a)
return 0===a.length}
n.push(t)
AB(dB.Up,e,b(a,Ks),t.node,r)
AB(dB.Down,e,b(a,Xs),t.node,r)
return n}
var DB=function(e){return te(he(e.getElementsByTagName("*")),Uv)}
var OB=function(e,t){return{node:e.node,before:NB(e,t)<kB(e,t)}}
var BB=function(e,t,r){var n=lB(DB(e))
var a=te(n,b(_B,r))
var o=TB(a,t)
if(o){var i=!Wn(o.node)&&!aa(o.node)
o=TB(RB(e,o,i),t)
if(o&&Uv(o.node))return OB(o,t)}return null}
var PB=function(e,t){e.selection.setRng(t)
Hh(e,e.selection.getRng())}
var LB=function(e,t,r){return A.some(BR(e,t,r))}
var IB=function(e,t,r,n,a,o){var i=t===dm.Forwards
var u=km(e.getBody())
var f=b(sm,i?u.next:u.prev)
var c=i?n:a
if(!r.collapsed){var s=Gs(r)
if(o(s))return AR(t,e,s,t===dm.Backwards,false)}var l=um(t,e.getBody(),r)
if(c(l))return DR(e,l.getNode(!i))
var d=$A(i,f(l))
var v=ai(r)
if(!d)return v?A.some(r):A.none()
if(c(d))return AR(t,e,d.getNode(!i),i,false)
var m=f(d)
if(m&&c(m)&&lm(d,m))return AR(t,e,m.getNode(!i),i,false)
if(v)return LB(e,d.toRange(),false)
return A.none()}
var MB=function(e,t,r,n,a,o){var i=um(t,e.getBody(),r)
var u=He(i.getClientRects())
var f=t===dB.Down
if(!u)return A.none()
var c=f?yB:hB
var s=c(e.getBody(),CB(1),i)
var l=te(s,wB(1))
var d=u.left
var v=TB(l,d)
if(v&&o(v.node)){var m=Math.abs(d-v.left)
var p=Math.abs(d-v.right)
return AR(t,e,v.node,m<p,false)}var g
g=n(i)?i.getNode():a(i)?i.getNode(true):Gs(r)
if(g){var h=bB(t,e.getBody(),CB(1),g)
var y=TB(te(h,wB(1)),d)
if(y)return LB(e,y.position.toRange(),false)
y=He(te(h,wB(0)))
if(y)return LB(e,y.position.toRange(),false)}if(0===l.length)return FB(e,f).filter(f?a:n).map((function(t){return BR(e,t.toRange(),false)}))
return A.none()}
var FB=function(e,t){var r=e.selection.getRng()
var n=e.getBody()
if(t){var a=Sl.fromRangeEnd(r)
var o=nB(n,a)
return ge(o.positions)}a=Sl.fromRangeStart(r)
o=rB(n,a)
return pe(o.positions)}
var UB=function(e,t,r){return FB(e,t).filter(r).exists((function(t){e.selection.setRng(t.toRange())
return true}))}
var zB=ra
var jB=function(e,t,r){return IB(t,e,r,mC,pC,zB)}
var HB=function(e,t,r){var n=function(e){return mC(e)||dC(e)}
var a=function(e){return pC(e)||vC(e)}
return MB(t,e,r,n,a,zB)}
var VB=function(e){var t=e.dom.create(md(e));(!Jt.ie||Jt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">')
return t}
var qB=function(e,t,r){var n=km(e.getBody())
var a=b(sm,1===t?n.next:n.prev)
if(r.collapsed&&iv(e)){var o=e.dom.getParent(r.startContainer,"PRE")
if(!o)return
var i=a(Sl.fromRangeStart(r))
if(!i){var u=VB(e)
1===t?e.$(o).after(u):e.$(o).before(u)
e.selection.select(u,true)
e.selection.collapse()}}}
var $B=function(e,t){var r=t?dm.Forwards:dm.Backwards
var n=e.selection.getRng()
return jB(r,e,n).orThunk((function(){qB(e,r,n)
return A.none()}))}
var WB=function(e,t){var r=t?1:-1
var n=e.selection.getRng()
return HB(r,e,n).orThunk((function(){qB(e,r,n)
return A.none()}))}
var KB=function(e,t){return $B(e,t).exists((function(t){PB(e,t)
return true}))}
var XB=function(e,t){return WB(e,t).exists((function(t){PB(e,t)
return true}))}
var YB=function(e,t){var r=t?pC:mC
return UB(e,t,r)}
var GB=function(e){return Y(["figcaption"],Br(e))}
var JB=function(e){var t=document.createRange()
t.setStartBefore(e.dom)
t.setEndBefore(e.dom)
return t}
var QB=function(e,t,r){r?hn(e,t):gn(e,t)}
var ZB=function(e,t){var r=gr.fromTag("br")
QB(e,r,t)
return JB(r)}
var eP=function(e,t,r,n){var a=gr.fromTag(r)
var o=gr.fromTag("br")
fa(a,n)
hn(a,o)
QB(e,a,t)
return JB(o)}
var tP=function(e,t,r,n){return""===t?ZB(e,n):eP(e,n,t,r)}
var rP=function(e,t){var r=b(Ar,t)
return Xa(gr.fromDom(e.container()),ko,r).filter(GB)}
var nP=function(e,t,r){return t?oB(e.dom,r):aB(e.dom,r)}
var aP=function(e,t){var r=gr.fromDom(e.getBody())
var n=Sl.fromRangeStart(e.selection.getRng())
var a=md(e)
var o=pd(e)
return rP(n,r).exists((function(){if(nP(r,t,n)){var i=tP(r,a,o,t)
e.selection.setRng(i)
return true}return false}))}
var oP=function(e,t){return!!e.selection.isCollapsed()&&aP(e,t)}
var iP=function(e){return J(e,(function(e){return Ve({shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0,action:m},e)}))}
var uP=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey}
var fP=function(e,t){return fe(iP(e),(function(e){return uP(e,t)?[e]:[]}))}
var cP=function(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
return function(){return e.apply(null,t)}}
var sP=function(e,t){return oe(fP(e,t),(function(e){return e.action()}))}
var lP=function(e,t){var r=t?dm.Forwards:dm.Backwards
var n=e.selection.getRng()
return IB(e,r,n,sC,lC,aa).exists((function(t){PB(e,t)
return true}))}
var dP=function(e,t){var r=t?1:-1
var n=e.selection.getRng()
return MB(e,r,n,sC,lC,aa).exists((function(t){PB(e,t)
return true}))}
var vP=function(e,t){var r=t?lC:sC
return UB(e,t,r)}
var mP=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}}
var pP=function(e,t){return fe(t,(function(t){var r=mP(Vs(t.getBoundingClientRect()),-1)
return[{x:r.left,y:e(r),cell:t},{x:r.right,y:e(r),cell:t}]}))}
var gP=function(e,t,r){return ne(e,(function(e,n){return e.fold((function(){return A.some(n)}),(function(e){var a=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-r))
var o=Math.sqrt(Math.abs(n.x-t)+Math.abs(n.y-r))
return A.some(o<a?n:e)}))}),A.none())}
var hP=function(e,t,r,n,a){var o=gs(gr.fromDom(r),"td,th,caption").map((function(e){return e.dom}))
var i=te(pP(e,o),(function(e){return t(e,a)}))
return gP(i,n,a).map((function(e){return e.cell}))}
var yP=function(e){return e.bottom}
var bP=function(e){return e.top}
var CP=function(e,t){return e.y<t}
var wP=function(e,t){return e.y>t}
var xP=b(hP,yP,CP)
var SP=b(hP,bP,wP)
var NP=function(e,t){return pe(t.getClientRects()).bind((function(t){return xP(e,t.left,t.top)})).bind((function(e){return tB(cB(e),t)}))}
var kP=function(e,t){return ge(t.getClientRects()).bind((function(t){return SP(e,t.left,t.top)})).bind((function(e){return tB(fB(e),t)}))}
var EP=function(e,t,r){return r.breakAt.exists((function(r){return e(t,r).breakAt.isSome()}))}
var _P=function(e){return e.breakType===XO.Wrap&&0===e.positions.length}
var TP=function(e){return e.breakType===XO.Br&&1===e.positions.length}
var AP=function(e,t,r){var n=e(t,r)
return _P(n)||!Zn(r.getNode())&&TP(n)?!EP(e,t,n):n.breakAt.isNone()}
var RP=b(AP,rB)
var DP=b(AP,nB)
var OP=function(e,t,r){var n=Sl.fromRangeStart(t)
return Im(!e,r).exists((function(e){return e.isEqual(n)}))}
var BP=function(e,t,r,n){var a=e.selection.getRng()
var o=t?1:-1
if(Mv()&&OP(t,a,r)){AR(o,e,r,!t,false).each((function(t){PB(e,t)}))
return true}return false}
var PP=function(e,t,r){return NP(t,r).orThunk((function(){return pe(r.getClientRects()).bind((function(r){return eB(iB(e,Sl.before(t)),r.left)}))})).getOr(Sl.before(t))}
var LP=function(e,t,r){return kP(t,r).orThunk((function(){return pe(r.getClientRects()).bind((function(r){return eB(uB(e,Sl.after(t)),r.left)}))})).getOr(Sl.after(t))}
var IP=function(e,t){var r=t.getNode(e)
return Un(r)&&"TABLE"===r.nodeName?A.some(r):A.none()}
var MP=function(e,t,r,n){var a=md(t)
a?t.undoManager.transact((function(){var n=gr.fromTag(a)
fa(n,pd(t))
hn(n,gr.fromTag("br"))
e?pn(gr.fromDom(r),n):mn(gr.fromDom(r),n)
var o=t.dom.createRng()
o.setStart(n.dom,0)
o.setEnd(n.dom,0)
PB(t,o)})):PB(t,n.toRange())}
var FP=function(e,t,r){var n=IP(!!t,r)
var a=false===t
n.fold((function(){return PB(e,r.toRange())}),(function(n){return Im(a,e.getBody()).filter((function(e){return e.isEqual(r)})).fold((function(){return PB(e,r.toRange())}),(function(a){return MP(t,e,n,r)}))}))}
var UP=function(e,t,r,n){var a=e.selection.getRng()
var o=Sl.fromRangeStart(a)
var i=e.getBody()
if(!t&&RP(n,o)){var u=PP(i,r,o)
FP(e,t,u)
return true}if(t&&DP(n,o)){u=LP(i,r,o)
FP(e,t,u)
return true}return false}
var zP=function(e,t,r){return A.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(n){return A.from(e.dom.getParent(n,"table")).map((function(a){return r(e,t,a,n)}))})).getOr(false)}
var jP=function(e,t){return zP(e,t,BP)}
var HP=function(e,t){return zP(e,t,UP)}
var VP=function(e,t,r){var n=Ht().os
sP([{keyCode:jg.RIGHT,action:cP(KB,e,true)},{keyCode:jg.LEFT,action:cP(KB,e,false)},{keyCode:jg.UP,action:cP(XB,e,false)},{keyCode:jg.DOWN,action:cP(XB,e,true)},{keyCode:jg.RIGHT,action:cP(jP,e,true)},{keyCode:jg.LEFT,action:cP(jP,e,false)},{keyCode:jg.UP,action:cP(HP,e,false)},{keyCode:jg.DOWN,action:cP(HP,e,true)},{keyCode:jg.RIGHT,action:cP(lP,e,true)},{keyCode:jg.LEFT,action:cP(lP,e,false)},{keyCode:jg.UP,action:cP(dP,e,false)},{keyCode:jg.DOWN,action:cP(dP,e,true)},{keyCode:jg.RIGHT,action:cP(GD,e,t,true)},{keyCode:jg.LEFT,action:cP(GD,e,t,false)},{keyCode:jg.RIGHT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:cP(ZD,e,t)},{keyCode:jg.LEFT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:cP(eO,e,t)},{keyCode:jg.UP,action:cP(oP,e,false)},{keyCode:jg.DOWN,action:cP(oP,e,true)}],r).each((function(e){r.preventDefault()}))}
var qP=function(e,t){e.on("keydown",(function(r){false===r.isDefaultPrevented()&&VP(e,t,r)}))}
var $P=function(e,t,r){sP([{keyCode:jg.BACKSPACE,action:cP(_O,e,false)},{keyCode:jg.BACKSPACE,action:cP(aD,e,false)},{keyCode:jg.DELETE,action:cP(aD,e,true)},{keyCode:jg.BACKSPACE,action:cP(UR,e,false)},{keyCode:jg.DELETE,action:cP(UR,e,true)},{keyCode:jg.BACKSPACE,action:cP(uO,e,t,false)},{keyCode:jg.DELETE,action:cP(uO,e,t,true)},{keyCode:jg.BACKSPACE,action:cP(yx,e,false)},{keyCode:jg.DELETE,action:cP(yx,e,true)},{keyCode:jg.BACKSPACE,action:cP(iD,e,false)},{keyCode:jg.DELETE,action:cP(iD,e,true)},{keyCode:jg.BACKSPACE,action:cP(gO,e,false)},{keyCode:jg.DELETE,action:cP(gO,e,true)},{keyCode:jg.BACKSPACE,action:cP(ER,e,false)},{keyCode:jg.DELETE,action:cP(ER,e,true)},{keyCode:jg.BACKSPACE,action:cP(bR,e,false)},{keyCode:jg.DELETE,action:cP(bR,e,true)},{keyCode:jg.BACKSPACE,action:cP(dO,e,false)},{keyCode:jg.DELETE,action:cP(dO,e,true)}],r).each((function(e){r.preventDefault()}))}
var WP=function(e,t){sP([{keyCode:jg.BACKSPACE,action:cP(nD,e)},{keyCode:jg.DELETE,action:cP(nD,e)}],t)}
var KP=function(e,t){e.on("keydown",(function(r){false===r.isDefaultPrevented()&&$P(e,t,r)}))
e.on("keyup",(function(t){false===t.isDefaultPrevented()&&WP(e,t)}))}
var XP=function(e){while(e){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e
e=e.nextSibling}}
var YP=function(e,t){var r,n=t
var a=e.dom
var o=e.schema.getMoveCaretBeforeOnEnterElements()
if(!t)return
if(/^(LI|DT|DD)$/.test(t.nodeName)){var i=XP(t.firstChild)
i&&/^(UL|OL|DL)$/.test(i.nodeName)&&t.insertBefore(a.doc.createTextNode(Mo),t.firstChild)}var u=a.createRng()
t.normalize()
if(t.hasChildNodes()){var f=new mo(t,t)
while(r=f.current()){if(Yn(r)){u.setStart(r,0)
u.setEnd(r,0)
break}if(o[r.nodeName.toLowerCase()]){u.setStartBefore(r)
u.setEndBefore(r)
break}n=r
r=f.next()}if(!r){u.setStart(n,0)
u.setEnd(n,0)}}else if(Zn(t))if(t.nextSibling&&a.isBlock(t.nextSibling)){u.setStartBefore(t)
u.setEndBefore(t)}else{u.setStartAfter(t)
u.setEndAfter(t)}else{u.setStart(t,0)
u.setEnd(t,0)}e.selection.setRng(u)
Hh(e,u)}
var GP=function(e,t){var r=e.getRoot()
var n,a
n=t
while(n!==r&&"false"!==e.getContentEditable(n)){"true"===e.getContentEditable(n)&&(a=n)
n=n.parentNode}return n!==r?a:r}
var JP=function(e){return A.from(e.dom.getParent(e.selection.getStart(true),e.dom.isBlock))}
var QP=function(e){return JP(e).fold(h(""),(function(e){return e.nodeName.toUpperCase()}))}
var ZP=function(e){return JP(e).filter((function(e){return Do(gr.fromDom(e))})).isSome()}
var eL=function(e,t){return e.firstChild&&e.firstChild.nodeName===t}
var tL=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}
var rL=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)}
var nL=function(e){return rL(e)&&rL(e.parentNode)}
var aL=function(e){var t=e.parentNode
if(/^(LI|DT|DD)$/.test(t.nodeName))return t
return e}
var oL=function(e,t,r){var n=e[r?"firstChild":"lastChild"]
while(n){if(Un(n))break
n=n[r?"nextSibling":"previousSibling"]}return n===t}
var iL=function(e,t,r,n,a){var o=e.dom
var i=e.selection.getRng()
if(r===e.getBody())return
nL(r)&&(a="LI")
var u=a?t(a):o.create("BR")
if(oL(r,n,true)&&oL(r,n,false))tL(r,"LI")?o.insertAfter(u,aL(r)):o.replace(u,r)
else if(oL(r,n,true))if(tL(r,"LI")){o.insertAfter(u,aL(r))
u.appendChild(o.doc.createTextNode(" "))
u.appendChild(r)}else r.parentNode.insertBefore(u,r)
else if(oL(r,n,false))o.insertAfter(u,aL(r))
else{r=aL(r)
var f=i.cloneRange()
f.setStartAfter(n)
f.setEndAfter(r)
var c=f.extractContents()
if("LI"===a&&eL(c,"LI")){u=c.firstChild
o.insertAfter(c,r)}else{o.insertAfter(c,r)
o.insertAfter(u,r)}}o.remove(n)
YP(e,u)}
var uL=function(e){Q(ps(gr.fromDom(e),Fr),(function(e){var t=e.dom
t.nodeValue=Ho(t.nodeValue)}))}
var fL=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)}
var cL=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}
var sL=function(e){e.innerHTML='<br data-mce-bogus="1">'}
var lL=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t}
var dL=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)}
var vL=function(e,t,r){var n=r
var a=[]
var o
if(!n)return
while(n=n.firstChild){if(e.isBlock(n))return
Un(n)&&!t[n.nodeName.toLowerCase()]&&a.push(n)}o=a.length
while(o--){n=a[o];(!n.hasChildNodes()||n.firstChild===n.lastChild&&""===n.firstChild.nodeValue||fL(e,n))&&e.remove(n)}}
var mL=function(e,t,r){return false===Yn(t)?r:e?1===r&&t.data.charAt(r-1)===zo?0:r:r===t.data.length-1&&t.data.charAt(r)===zo?t.data.length:r}
var pL=function(e){var t=e.cloneRange()
t.setStart(e.startContainer,mL(true,e.startContainer,e.startOffset))
t.setEnd(e.endContainer,mL(false,e.endContainer,e.endOffset))
return t}
var gL=function(e){do{Yn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,""))
e=e.firstChild}while(e)}
var hL=function(e,t){var r=e.getRoot()
var n,a
n=t
while(n!==r&&"false"!==e.getContentEditable(n)){"true"===e.getContentEditable(n)&&(a=n)
n=n.parentNode}return n!==r?a:r}
var yL=function(e,t,r){var n=e.dom
A.from(r.style).map(n.parseStyle).each((function(e){var r=ba(gr.fromDom(t))
var a=Ve(Ve({},r),e)
n.setStyles(t,a)}))
var a=A.from(r.class).map((function(e){return e.split(/\s+/)}))
var o=A.from(t.className).map((function(e){return te(e.split(/\s+/),(function(e){return""!==e}))}))
Us(a,o,(function(e,r){var a=te(r,(function(t){return!Y(e,t)}))
var o=$e(e,a)
n.setAttrib(t,"class",o.join(" "))}))
var i=["style","class"]
var u=_e(r,(function(e,t){return!Y(i,t)}))
n.setAttribs(t,u)}
var bL=function(e,t){var r=md(e)
if(r&&r.toLowerCase()===t.tagName.toLowerCase()){var n=pd(e)
yL(e,t,n)}}
var CL=function(e,t,r,n,a){var o,i,u,f,c,s
var l=t||"P"
var d=e.dom,v=hL(d,n)
i=d.getParent(n,d.isBlock)
if(!i||!dL(d,i)){i=i||v
s=i===e.getBody()||cL(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase()
if(!i.hasChildNodes()){o=d.create(l)
bL(e,o)
i.appendChild(o)
r.setStart(o,0)
r.setEnd(o,0)
return o}f=n
while(f.parentNode!==i)f=f.parentNode
while(f&&!d.isBlock(f)){u=f
f=f.previousSibling}if(u&&e.schema.isValidChild(s,l.toLowerCase())){o=d.create(l)
bL(e,o)
u.parentNode.insertBefore(o,u)
f=u
while(f&&!d.isBlock(f)){c=f.nextSibling
o.appendChild(f)
f=c}r.setStart(n,a)
r.setEnd(n,a)}}return n}
var wL=function(e,t){t.normalize()
var r=t.lastChild
r&&!/^(left|right)$/gi.test(e.getStyle(r,"float",true))||e.add(t,"br")}
var xL=function(e,t){var r,n,a,o
var i,u,f,c,s,l
var d=e.dom
var v=e.schema,m=v.getNonEmptyElements()
var p=e.selection.getRng()
var g=function(t){var r,a,i,u=n
var f=v.getTextInlineElements()
r=t||"TABLE"===c||"HR"===c?d.create(t||s):o.cloneNode(false)
i=r
if(false===yd(e)){d.setAttrib(r,"style",null)
d.setAttrib(r,"class",null)}else do{if(f[u.nodeName]){if(Hm(u)||sp(u))continue
a=u.cloneNode(false)
d.setAttrib(a,"id","")
if(r.hasChildNodes()){a.appendChild(r.firstChild)
r.appendChild(a)}else{i=a
r.appendChild(a)}}}while((u=u.parentNode)&&u!==w)
bL(e,r)
sL(i)
return r}
var h=function(e){var t,r
var i=mL(e,n,a)
if(Yn(n)&&(e?i>0:i<n.nodeValue.length))return false
if(n.parentNode===o&&l&&!e)return true
if(e&&Un(n)&&n===o.firstChild)return true
if(lL(n,"TABLE")||lL(n,"HR"))return l&&!e||!l&&e
var u=new mo(n,o)
Yn(n)&&(e&&0===i?u.prev():e||i!==n.nodeValue.length||u.next())
while(t=u.current()){if(Un(t)){if(!t.getAttribute("data-mce-bogus")){r=t.nodeName.toLowerCase()
if(m[r]&&"br"!==r)return false}}else if(Yn(t)&&!wi(t.nodeValue))return false
e?u.prev():u.next()}return true}
var y=function(){i=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==x?g(s):g()
bd(e)&&dL(d,f)&&d.isEmpty(o)?i=d.split(f,o):d.insertAfter(i,o)
YP(e,i)}
uh(d,p).each((function(e){p.setStart(e.startContainer,e.startOffset)
p.setEnd(e.endContainer,e.endOffset)}))
n=p.startContainer
a=p.startOffset
s=md(e)
var b=!!(t&&t.shiftKey)
var C=!!(t&&t.ctrlKey)
if(Un(n)&&n.hasChildNodes()){l=a>n.childNodes.length-1
n=n.childNodes[Math.min(a,n.childNodes.length-1)]||n
a=l&&Yn(n)?n.nodeValue.length:0}var w=hL(d,n)
if(!w)return;(s&&!b||!s&&b)&&(n=CL(e,s,p,n,a))
o=d.getParent(n,d.isBlock)
f=o?d.getParent(o.parentNode,d.isBlock):null
c=o?o.nodeName.toUpperCase():""
var x=f?f.nodeName.toUpperCase():""
if("LI"===x&&!C){o=f
f=f.parentNode
c=x}if(/^(LI|DT|DD)$/.test(c)&&d.isEmpty(o)){iL(e,g,f,o,s)
return}if(s&&o===e.getBody())return
s=s||"P"
if($o(o)){i=ni(o)
d.isEmpty(o)&&sL(o)
bL(e,i)
YP(e,i)}else if(h())y()
else if(h(true)){i=o.parentNode.insertBefore(g(),o)
YP(e,lL(o,"HR")?i:o)}else{r=pL(p).cloneRange()
r.setEndAfter(o)
u=r.extractContents()
uL(u)
gL(u)
i=u.firstChild
d.insertAfter(u,o)
vL(d,m,i)
wL(d,o)
d.isEmpty(o)&&sL(o)
i.normalize()
if(d.isEmpty(i)){d.remove(i)
y()}else{bL(e,i)
YP(e,i)}}d.setAttrib(i,"id","")
e.fire("NewBlock",{newBlock:i})}
var SL=function(e,t,r){var n=new mo(t,r)
var a
var o=e.getNonEmptyElements()
while(a=n.next())if(o[a.nodeName.toLowerCase()]||a.length>0)return true}
var NL=function(e,t,r){var n=e.create("span",{},"&nbsp;")
r.parentNode.insertBefore(n,r)
t.scrollIntoView(n)
e.remove(n)}
var kL=function(e,t,r,n){var a=e.createRng()
if(n){a.setStartBefore(r)
a.setEndBefore(r)}else{a.setStartAfter(r)
a.setEndAfter(r)}t.setRng(a)}
var EL=function(e,t){var r=e.selection
var n=e.dom
var a=r.getRng()
var o
var i
uh(n,a).each((function(e){a.setStart(e.startContainer,e.startOffset)
a.setEnd(e.endContainer,e.endOffset)}))
var u=a.startOffset
var f=a.startContainer
if(1===f.nodeType&&f.hasChildNodes()){var c=u>f.childNodes.length-1
f=f.childNodes[Math.min(u,f.childNodes.length-1)]||f
u=c&&3===f.nodeType?f.nodeValue.length:0}var s=n.getParent(f,n.isBlock)
var l=s?n.getParent(s.parentNode,n.isBlock):null
var d=l?l.nodeName.toUpperCase():""
var v=!!(t&&t.ctrlKey)
"LI"!==d||v||(s=l)
if(f&&3===f.nodeType&&u>=f.nodeValue.length&&!SL(e.schema,f,s)){o=n.create("br")
a.insertNode(o)
a.setStartAfter(o)
a.setEndAfter(o)
i=true}o=n.create("br")
_l(n,a,o)
NL(n,r,o)
kL(n,r,o,i)
e.undoManager.add()}
var _L=function(e,t){var r=gr.fromTag("br")
mn(gr.fromDom(t),r)
e.undoManager.add()}
var TL=function(e,t){RL(e.getBody(),t)||pn(gr.fromDom(t),gr.fromTag("br"))
var r=gr.fromTag("br")
pn(gr.fromDom(t),r)
NL(e.dom,e.selection,r.dom)
kL(e.dom,e.selection,r.dom,false)
e.undoManager.add()}
var AL=function(e){return Zn(e.getNode())}
var RL=function(e,t){return!!AL(Sl.after(t))||Mm(e,Sl.after(t)).map((function(e){return Zn(e.getNode())})).getOr(false)}
var DL=function(e){return e&&"A"===e.nodeName&&"href"in e}
var OL=function(e){return e.fold(S,DL,DL,S)}
var BL=function(e){var t=b(UA,e)
var r=Sl.fromRangeStart(e.selection.getRng())
return AD(t,e.getBody(),r).filter(OL)}
var PL=function(e,t){t.fold(m,b(_L,e),b(TL,e),m)}
var LL=function(e,t){var r=BL(e)
r.isSome()?r.each(b(PL,e)):EL(e,t)}
var IL=function(e,t){return JP(e).filter((function(e){return t.length>0&&kr(gr.fromDom(e),t)})).isSome()}
var ML=function(e){return IL(e,gd(e))}
var FL=function(e){return IL(e,hd(e))}
var UL=qa.generate([{br:[]},{block:[]},{none:[]}])
var zL=function(e,t){return FL(e)}
var jL=function(e){return function(t,r){var n=""===md(t)
return n===e}}
var HL=function(e){return function(t,r){return ZP(t)===e}}
var VL=function(e,t){return function(r,n){var a=QP(r)===e.toUpperCase()
return a===t}}
var qL=function(e){return VL("pre",e)}
var $L=function(){return VL("summary",true)}
var WL=function(e){return function(t,r){return vd(t)===e}}
var KL=function(e,t){return ML(e)}
var XL=function(e,t){return t}
var YL=function(e){var t=md(e)
var r=GP(e.dom,e.selection.getStart())
return r&&e.schema.isValidChild(r.nodeName,t||"P")}
var GL=function(e,t){return function(r,n){var a=ne(e,(function(e,t){return e&&t(r,n)}),true)
return a?A.some(t):A.none()}}
var JL=function(e,t){return bD([GL([zL],UL.none()),GL([$L()],UL.br()),GL([qL(true),WL(false),XL],UL.br()),GL([qL(true),WL(false)],UL.block()),GL([qL(true),WL(true),XL],UL.block()),GL([qL(true),WL(true)],UL.br()),GL([HL(true),XL],UL.br()),GL([HL(true)],UL.block()),GL([jL(true),XL,YL],UL.block()),GL([jL(true)],UL.br()),GL([KL],UL.br()),GL([jL(false),XL],UL.br()),GL([YL],UL.block())],[e,!!(t&&t.shiftKey)]).getOr(UL.none())}
var QL=function(e,t){JL(e,t).fold((function(){LL(e,t)}),(function(){xL(e,t)}),m)}
var ZL=function(e,t){if(t.isDefaultPrevented())return
t.preventDefault()
jk(e.undoManager)
e.undoManager.transact((function(){false===e.selection.isCollapsed()&&e.execCommand("Delete")
QL(e,t)}))}
var eI=function(e){e.on("keydown",(function(t){t.keyCode===jg.ENTER&&ZL(e,t)}))}
var tI=function(e,t){sP([{keyCode:jg.END,action:cP(YB,e,true)},{keyCode:jg.HOME,action:cP(YB,e,false)},{keyCode:jg.END,action:cP(vP,e,true)},{keyCode:jg.HOME,action:cP(vP,e,false)}],t).each((function(e){t.preventDefault()}))}
var rI=function(e){e.on("keydown",(function(t){false===t.isDefaultPrevented()&&tI(e,t)}))}
var nI=Ht().browser
var aI=function(e){var t=rs((function(){e.composing||ow(e)}),0)
if(nI.isIE()){e.on("keypress",(function(e){t.throttle()}))
e.on("remove",(function(e){t.cancel()}))}}
var oI=function(e){aI(e)
e.on("input",(function(t){false===t.isComposing&&ow(e)}))}
var iI=function(e,t){var r=t.container()
var n=t.offset()
if(Yn(r)){r.insertData(n,e)
return A.some(xl(r,n+e.length))}return fm(t).map((function(r){var n=gr.fromText(e)
t.isAtEnd()?pn(r,n):mn(r,n)
return xl(n.dom,e.length)}))}
var uI=b(iI,Mo)
var fI=b(iI," ")
var cI=function(e){return function(t){return t.fold((function(t){return Fm(e.dom,Sl.before(t))}),(function(e){return Um(e)}),(function(e){return zm(e)}),(function(t){return Mm(e.dom,Sl.after(t))}))}}
var sI=function(e,t){return function(r){return KC(e,r)?uI(t):fI(t)}}
var lI=function(e){return function(t){e.selection.setRng(t.toRange())
e.nodeChanged()
return true}}
var dI=function(e){var t=Sl.fromRangeStart(e.selection.getRng())
var r=gr.fromDom(e.getBody())
if(e.selection.isCollapsed()){var n=b(UA,e)
var a=Sl.fromRangeStart(e.selection.getRng())
return AD(n,e.getBody(),a).bind(cI(r)).bind(sI(r,t)).exists(lI(e))}return false}
var vI=function(e,t){sP([{keyCode:jg.SPACEBAR,action:cP(dI,e)}],t).each((function(e){t.preventDefault()}))}
var mI=function(e){e.on("keydown",(function(t){false===t.isDefaultPrevented()&&vI(e,t)}))}
var pI=function(e){var t=QD(e)
KO(e)
qP(e,t)
KP(e,t)
eI(e)
mI(e)
oI(e)
rI(e)
return t}
var gI=function(e){return oE(e)?zc(null):pI(e)}
var hI=function(){function e(e){this.lastPath=[]
this.editor=e
var t
var r=this
"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(r){var n=e.selection.getRng()
var a={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset}
"nodechange"!==r.type&&Yg(a,t)||e.fire("SelectionChange")
t=a}))
e.on("contextmenu",(function(){e.fire("SelectionChange")}))
e.on("SelectionChange",(function(){var t=e.selection.getStart(true)
if(!t||!Jt.range&&e.selection.isCollapsed())return
dg(e)&&!r.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:true})}))
e.on("mouseup",(function(t){!t.isDefaultPrevented()&&dg(e)&&("IMG"===e.selection.getNode().nodeName?co.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}e.prototype.nodeChanged=function(e){var t=this.editor.selection
var r,n,a
if(this.editor.initialized&&t&&!fv(this.editor)&&!this.editor.mode.isReadOnly()){a=this.editor.getBody()
r=t.getStart(true)||a
r.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,a)||(r=a)
n=[]
this.editor.dom.getParent(r,(function(e){if(e===a)return true
n.push(e)}))
e=e||{}
e.element=r
e.parents=n
this.editor.fire("NodeChange",e)}}
e.prototype.isSameElementPath=function(e){var t
var r=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e)
if(r.length===this.lastPath.length){for(t=r.length;t>=0;t--)if(r[t]!==this.lastPath[t])break
if(-1===t){this.lastPath=r
return true}}this.lastPath=r
return false}
return e}()
var yI=function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))}
var bI=function(e){e.parser.addNodeFilter("details",(function(e){Q(e,(function(e){e.attr("data-mce-open",e.attr("open"))
e.attr("open","open")}))}))
e.serializer.addNodeFilter("details",(function(e){Q(e,(function(e){var t=e.attr("data-mce-open")
e.attr("open",P(t)?t:null)
e.attr("data-mce-open",null)}))}))}
var CI=function(e){yI(e)
bI(e)}
var wI=function(e){return Un(e)&&Ao(gr.fromDom(e))}
var xI=function(e){var t=e.selection.getRng()
var r=xl.fromRangeStart(t)
var n=xl.fromRangeEnd(t)
if(xl.isElementPosition(r)){var a=r.container()
wI(a)&&Um(a).each((function(e){return t.setStart(e.container(),e.offset())}))}if(xl.isElementPosition(n)){a=r.container()
wI(a)&&zm(a).each((function(e){return t.setEnd(e.container(),e.offset())}))}e.selection.setRng(wx(t))}
var SI=function(e){e.on("click",(function(t){t.detail>=3&&xI(e)}))}
var NI=function(){var e=zc(A.none())
var t=function(){return e.set(A.none())}
var r=function(t){return e.set(A.some(t))}
var n=function(){return e.get().isSome()}
var a=function(t){return e.get().each(t)}
return{clear:t,set:r,isSet:n,on:a}}
var kI=function(e){var t=e.getBoundingClientRect()
var r=e.ownerDocument
var n=r.documentElement
var a=r.defaultView
return{top:t.top+a.pageYOffset-n.clientTop,left:t.left+a.pageXOffset-n.clientLeft}}
var EI=function(e){return e.inline?kI(e.getBody()):{left:0,top:0}}
var _I=function(e){var t=e.getBody()
return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}
var TI=function(e){var t=e.getBody(),r=e.getDoc().documentElement
var n={left:t.scrollLeft,top:t.scrollTop}
var a={left:t.scrollLeft||r.scrollLeft,top:t.scrollTop||r.scrollTop}
return e.inline?n:a}
var AI=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var r=kI(e.getContentAreaContainer())
var n=TI(e)
return{left:t.pageX-r.left+n.left,top:t.pageY-r.top+n.top}}return{left:t.pageX,top:t.pageY}}
var RI=function(e,t,r){return{pageX:r.left-e.left+t.left,pageY:r.top-e.top+t.top}}
var DI=function(e,t){return RI(EI(e),_I(e),AI(e,t))}
var OI=ra,BI=ta
var PI=function(e,t){return OI(t)&&t!==e}
var LI=function(e,t,r){if(t===r||e.dom.isChildOf(t,r))return false
return!OI(t)}
var II=function(e){var t=e.cloneNode(true)
t.removeAttribute("data-mce-selected")
return t}
var MI=function(e,t,r,n){var a=e.dom
var o=t.cloneNode(true)
a.setStyles(o,{width:r,height:n})
a.setAttrib(o,"data-mce-selected",null)
var i=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"})
a.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:n})
a.setStyles(o,{margin:0,boxSizing:"border-box"})
i.appendChild(o)
return i}
var FI=function(e,t){e.parentNode!==t&&t.appendChild(e)}
var UI=function(e,t,r,n,a,o){var i=0,u=0
e.style.left=t.pageX+"px"
e.style.top=t.pageY+"px"
t.pageX+r>a&&(i=t.pageX+r-a)
t.pageY+n>o&&(u=t.pageY+n-o)
e.style.width=r-i+"px"
e.style.height=n-u+"px"}
var zI=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}
var jI=function(e){return 0===e.button}
var HI=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}
var VI=function(e,t){return function(r){if(jI(r)){var n=oe(t.dom.getParents(r.target),el(OI,BI)).getOr(null)
if(PI(t.getBody(),n)){var a=t.dom.getPos(n)
var o=t.getBody()
var i=t.getDoc().documentElement
e.set({element:n,dragging:false,screenX:r.screenX,screenY:r.screenY,maxX:(t.inline?o.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?o.scrollHeight:i.offsetHeight)-2,relX:r.pageX-a.x,relY:r.pageY-a.y,width:n.offsetWidth,height:n.offsetHeight,ghost:MI(t,n,n.offsetWidth,n.offsetHeight)})}}}}
var qI=function(e,t){var r=co.throttle((function(e,r){t._selectionOverrides.hideFakeCaret()
t.selection.placeCaretAt(e,r)}),0)
t.on("remove",r.stop)
return function(n){return e.on((function(e){var a=Math.max(Math.abs(n.screenX-e.screenX),Math.abs(n.screenY-e.screenY))
if(!e.dragging&&a>10){var o=t.fire("dragstart",{target:e.element})
if(o.isDefaultPrevented())return
e.dragging=true
t.focus()}if(e.dragging){var i=HI(e,DI(t,n))
FI(e.ghost,t.getBody())
UI(e.ghost,i,e.width,e.height,e.maxX,e.maxY)
r(n.clientX,n.clientY)}}))}}
var $I=function(e){var t=e.getSel().getRangeAt(0)
var r=t.startContainer
return 3===r.nodeType?r.parentNode:r}
var WI=function(e,t){return function(r){e.on((function(e){if(e.dragging&&LI(t,$I(t.selection),e.element)){var n=II(e.element)
var a=t.fire("drop",{clientX:r.clientX,clientY:r.clientY})
a.isDefaultPrevented()||t.undoManager.transact((function(){zI(e.element)
t.insertContent(t.dom.getOuterHTML(n))
t._selectionOverrides.hideFakeCaret()}))}}))
XI(e)}}
var KI=function(e,t){return function(){e.on((function(e){e.dragging&&t.fire("dragend")}))
XI(e)}}
var XI=function(e){e.on((function(e){zI(e.ghost)}))
e.clear()}
var YI=function(e){var t=NI()
var r=Dc.DOM
var n=document
var a=VI(t,e)
var o=qI(t,e)
var i=WI(t,e)
var u=KI(t,e)
e.on("mousedown",a)
e.on("mousemove",o)
e.on("mouseup",i)
r.bind(n,"mousemove",o)
r.bind(n,"mouseup",u)
e.on("remove",(function(){r.unbind(n,"mousemove",o)
r.unbind(n,"mouseup",u)}))}
var GI=function(e){e.on("drop",(function(t){var r="undefined"!==typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(OI(r)||"false"===e.dom.getContentEditableParent(r))&&t.preventDefault()}))}
var JI=function(e){var t=function(t){if(!t.defaultPrevented){var r=t.dataTransfer
if(r&&(Y(r.types,"Files")||r.files.length>0)){t.preventDefault()
"drop"===t.type&&GT(e,"Dropped file type is not supported")}}}
var r=function(r){Uy(e,r.target)&&t(r)}
var n=function(){var n=Dc.DOM
var a=e.dom
var o=document
var i=e.inline?e.getBody():e.getDoc()
var u=["drop","dragover"]
Q(u,(function(e){n.bind(o,e,r)
a.bind(i,e,t)}))
e.on("remove",(function(){Q(u,(function(e){n.unbind(o,e,r)
a.unbind(i,e,t)}))}))}
e.on("init",(function(){co.setEditorTimeout(e,n,0)}))}
var QI=function(e){YI(e)
GI(e)
vv(e)&&JI(e)}
var ZI=function(e){var t=rs((function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng()
if(t.collapsed){var r=BR(e,t,false)
e.selection.setRng(r)}}}),0)
e.on("focus",(function(){t.throttle()}))
e.on("blur",(function(){t.cancel()}))}
var eM=function(e){e.on("init",(function(){e.on("focusin",(function(t){var r=t.target
if(aa(r)){var n=_g(e.getBody(),r)
var a=ra(n)?n:r
e.selection.getNode()!==a&&DR(e,a).each((function(t){return e.selection.setRng(t)}))}}))}))}
var tM=ta
var rM=ra
var nM=function(e,t){return _g(e.getBody(),t)}
var aM=function(e){var t=e.selection,r=e.dom
var n=r.isBlock
var a=e.getBody()
var o=Iv(e,a,n,(function(){return Zy(e)}))
var i="sel-"+r.uniqueId()
var u="data-mce-selected"
var f
var c=function(e){return r.hasClass(e,"mce-offscreen-selection")}
var s=function(e){return e!==a&&(rM(e)||aa(e))&&r.isChildOf(e,a)}
var l=function(e){return mC(e)||pC(e)||sC(e)||lC(e)}
var d=function(){var e=r.get(i)
return e?e.getElementsByTagName("*")[0]:e}
var v=function(e){e&&t.setRng(e)}
var m=t.getRng
var p=function(r,n,a,i){void 0===i&&(i=true)
var u=e.fire("ShowCaret",{target:n,direction:r,before:a})
if(u.isDefaultPrevented())return null
i&&t.scrollIntoView(n,-1===r)
return o.show(a,n)}
var g=function(e){if(e.hasAttribute("data-mce-caret")){ni(e)
v(m())
t.scrollIntoView(e)}}
var h=function(){e.on("mouseup",(function(t){var r=m()
r.collapsed&&zT(e,t.clientX,t.clientY)&&OR(e,r,false).each(v)}))
e.on("click",(function(n){var a=nM(e,n.target)
if(a){if(rM(a)){n.preventDefault()
e.focus()}tM(a)&&r.isChildOf(a,t.getNode())&&N()}}))
e.on("blur NewBlock",N)
e.on("ResizeWindow FullscreenStateChanged",o.reposition)
var i=function(e){var t=km(e)
if(!e.firstChild)return false
var r=Sl.before(e.firstChild)
var n=t.next(r)
return n&&!l(n)}
var u=function(e,t){var a=r.getParent(e,n)
var o=r.getParent(t,n)
return a===o}
var g=function(t,a){var o=r.getParent(t,n)
var f=r.getParent(a,n)
if(o&&t!==f&&r.isChildOf(o,f)&&false===rM(nM(e,o)))return true
return o&&!u(o,f)&&i(o)}
e.on("tap",(function(t){var r=t.target
var n=nM(e,r)
if(rM(n)){t.preventDefault()
DR(e,n).each(S)}else s(r)&&DR(e,r).each(S)}),true)
e.on("mousedown",(function(n){var o=n.target
if(o!==a&&"HTML"!==o.nodeName&&!r.isChildOf(o,a))return
if(false===zT(e,n.clientX,n.clientY))return
var i=nM(e,o)
if(i)if(rM(i)){n.preventDefault()
DR(e,i).each(S)}else{N()
if(!(tM(i)&&n.shiftKey)&&!Tg(n.clientX,n.clientY,t.getRng())){E()
t.placeCaretAt(n.clientX,n.clientY)}}else if(s(o))DR(e,o).each(S)
else if(false===Uv(o)){N()
E()
var u=BB(a,n.clientX,n.clientY)
if(u&&!g(o,u.node)){n.preventDefault()
var f=p(1,u.node,u.before,false)
e.getBody().focus()
v(f)}}}))
e.on("keypress",(function(e){if(jg.modifierPressed(e))return
rM(t.getNode())&&e.preventDefault()}))
e.on("GetSelectionRange",(function(e){var t=e.range
if(f){if(!f.parentNode){f=null
return}t=t.cloneRange()
t.selectNode(f)
e.range=t}}))
e.on("SetSelectionRange",(function(e){e.range=C(e.range)
var t=S(e.range,e.forward)
t&&(e.range=t)}))
var h=function(e){return"mcepastebin"===e.id}
e.on("AfterSetSelectionRange",(function(e){var t=e.range
var r=t.startContainer.parentNode
b(t)||h(r)||E()
c(r)||N()}))
e.on("copy",(function(e){var t=e.clipboardData
if(!e.isDefaultPrevented()&&e.clipboardData&&!Jt.ie){var r=d()
if(r){e.preventDefault()
t.clearData()
t.setData("text/html",r.outerHTML)
t.setData("text/plain",r.outerText||r.innerText)}}}))
QI(e)
ZI(e)
eM(e)}
var y=function(e){return Ko(e)||ei(e)||ti(e)}
var b=function(e){return y(e.startContainer)||y(e.endContainer)}
var C=function(t){var n=e.schema.getShortEndedElements()
var a=r.createRng()
var o=t.startContainer
var i=t.startOffset
var u=t.endContainer
var f=t.endOffset
De(n,o.nodeName.toLowerCase())?0===i?a.setStartBefore(o):a.setStartAfter(o):a.setStart(o,i)
De(n,u.nodeName.toLowerCase())?0===f?a.setEndBefore(u):a.setEndAfter(u):a.setEnd(u,f)
return a}
var w=function(n,a,o){var u=e.$
var f=Qa(gr.fromDom(e.getBody()),"#"+i).fold((function(){return u([])}),(function(e){return u([e.dom])}))
if(0===f.length){f=u('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i)
f.appendTo(e.getBody())}var c=r.createRng()
if(a===o&&Jt.ie){f.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(a)
c.setStartAfter(f[0].firstChild.firstChild)
c.setEndAfter(a)}else{f.empty().append(Mo).append(a).append(Mo)
c.setStart(f[0].firstChild,1)
c.setEnd(f[0].lastChild,0)}f.css({top:r.getPos(n,e.getBody()).y})
f[0].focus()
var s=t.getSel()
s.removeAllRanges()
s.addRange(c)
return c}
var x=function(t){var n=t.cloneNode(true)
var a=e.fire("ObjectSelected",{target:t,targetClone:n})
if(a.isDefaultPrevented())return null
var o=w(t,a.targetClone,n)
var i=gr.fromDom(t)
Q(gs(gr.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){Ar(i,e)||da(e,u)}))
r.getAttrib(t,u)||t.setAttribute(u,"1")
f=t
E()
return o}
var S=function(e,t){if(!e)return null
if(e.collapsed){if(!b(e)){var n=t?1:-1
var o=um(n,a,e)
var i=o.getNode(!t)
if(Uv(i))return p(n,i,!!t&&!o.isAtEnd(),false)
var u=o.getNode(t)
if(Uv(u))return p(n,u,!t&&!o.isAtEnd(),false)}return null}var f=e.startContainer
var c=e.startOffset
var l=e.endOffset
if(3===f.nodeType&&0===c&&rM(f.parentNode)){f=f.parentNode
c=r.nodeIndex(f)
f=f.parentNode}if(1!==f.nodeType)return null
if(l===c+1&&f===e.endContainer){var d=f.childNodes[c]
if(s(d))return x(d)}return null}
var N=function(){f&&f.removeAttribute(u)
Qa(gr.fromDom(e.getBody()),"#"+i).each(xn)
f=null}
var k=function(){o.destroy()
f=null}
var E=function(){o.hide()}
Jt.ceFalse&&h()
return{showCaret:p,showBlockCaretContainer:g,hideFakeCaret:E,destroy:k}}
var oM=function(e){var t=sr.each
var r=jg.BACKSPACE,n=jg.DELETE,a=e.dom,o=e.selection,i=e.parser
var u=Jt.gecko,f=Jt.ie,c=Jt.webkit
var s="data:text/mce-internal,"
var l=f?"Text":"URL"
var d=function(t,r){try{e.getDoc().execCommand(t,false,r)}catch(e){}}
var v=function(e){return e.isDefaultPrevented()}
var m=function(t){var r,n
if(t.dataTransfer){e.selection.isCollapsed()&&"IMG"===t.target.tagName&&o.select(t.target)
r=e.selection.getContent()
if(r.length>0){n=s+escape(e.id)+","+escape(r)
t.dataTransfer.setData(l,n)}}}
var p=function(e){var t
if(e.dataTransfer){t=e.dataTransfer.getData(l)
if(t&&t.indexOf(s)>=0){t=t.substr(s.length).split(",")
return{id:unescape(t[0]),html:unescape(t[1])}}}return null}
var g=function(t,r){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",false,{content:t,internal:r}):e.execCommand("mceInsertContent",false,t)}
var h=function(){var t=function(e){var t=a.create("body")
var r=e.cloneContents()
t.appendChild(r)
return o.serializer.serialize(t,{format:"html"})}
var i=function(r){var n=t(r)
var o=a.createRng()
o.selectNode(e.getBody())
var i=t(o)
return n===i}
e.on("keydown",(function(t){var o=t.keyCode
var u,f
if(!v(t)&&(o===n||o===r)){u=e.selection.isCollapsed()
f=e.getBody()
if(u&&!a.isEmpty(f))return
if(!u&&!i(e.selection.getRng()))return
t.preventDefault()
e.setContent("")
f.firstChild&&a.isBlock(f.firstChild)?e.selection.setCursorLocation(f.firstChild,0):e.selection.setCursorLocation(f,0)
e.nodeChanged()}}))}
var y=function(){e.shortcuts.add("meta+a",null,"SelectAll")}
var b=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",(function(t){var r
if(t.target===e.getDoc().documentElement){r=o.getRng()
e.getBody().focus()
if("mousedown"===t.type){if(Ko(r.startContainer))return
o.placeCaretAt(t.clientX,t.clientY)}else o.setRng(r)}}))}
var C=function(){e.on("keydown",(function(t){if(!v(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return
if(o.isCollapsed()&&0===o.getRng().startOffset){var n=o.getNode()
var i=n.previousSibling
if("HR"===n.nodeName){a.remove(n)
t.preventDefault()
return}if(i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()){a.remove(i)
t.preventDefault()}}}}))}
var w=function(){Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!v(t)&&"HTML"===t.target.nodeName){var r=e.getBody()
r.blur()
co.setEditorTimeout(e,(function(){r.focus()}))}}))}
var x=function(){e.on("click",(function(t){var r=t.target
if(/^(IMG|HR)$/.test(r.nodeName)&&"false"!==a.getContentEditableParent(r)){t.preventDefault()
e.selection.select(r)
e.nodeChanged()}if("A"===r.nodeName&&a.hasClass(r,"mce-item-anchor")){t.preventDefault()
o.select(r)}}))}
var S=function(){var r=function(){var r=a.getAttribs(o.getStart().cloneNode(false))
return function(){var n=o.getStart()
if(n!==e.getBody()){a.setAttrib(n,"style",null)
t(r,(function(e){n.setAttributeNode(e.cloneNode(true))}))}}}
var n=function(){return!o.isCollapsed()&&a.getParent(o.getStart(),a.isBlock)!==a.getParent(o.getEnd(),a.isBlock)}
e.on("keypress",(function(t){var a
if(!v(t)&&(8===t.keyCode||46===t.keyCode)&&n()){a=r()
e.getDoc().execCommand("delete",false,null)
a()
t.preventDefault()
return false}}))
a.bind(e.getDoc(),"cut",(function(t){var a
if(!v(t)&&n()){a=r()
co.setEditorTimeout(e,(function(){a()}))}}))}
var N=function(){e.on("keydown",(function(e){if(!v(e)&&e.keyCode===r&&o.isCollapsed()&&0===o.getRng().startOffset){var t=o.getNode().previousSibling
if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase()){e.preventDefault()
return false}}}))}
var k=function(){e.on("keydown",(function(t){var r,n
if(v(t)||t.keyCode!==jg.BACKSPACE)return
r=o.getRng()
var i=r.startContainer
var u=r.startOffset
var f=a.getRoot()
n=i
if(!r.collapsed||0!==u)return
while(n&&n.parentNode&&n.parentNode.firstChild===n&&n.parentNode!==f)n=n.parentNode
if("BLOCKQUOTE"===n.tagName){e.formatter.toggle("blockquote",null,n)
r=a.createRng()
r.setStart(i,0)
r.setEnd(i,0)
o.setRng(r)}}))}
var E=function(){var t=function(){d("StyleWithCSS",false)
d("enableInlineTableEditing",false)
jd(e)||d("enableObjectResizing",false)}
cv(e)||e.on("BeforeExecCommand mousedown",t)}
var _=function(){var r=function(){t(a.select("a"),(function(e){var t=e.parentNode
var r=a.getRoot()
if(t.lastChild===e){while(t&&!a.isBlock(t)){if(t.parentNode.lastChild!==t||t===r)return
t=t.parentNode}a.add(t,"br",{"data-mce-bogus":1})}}))}
e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||r()}))}
var T=function(){md(e)&&e.on("init",(function(){d("DefaultParagraphSeparator",md(e))}))}
var A=function(){e.on("keyup focusin mouseup",(function(e){jg.modifierPressed(e)||o.normalize()}),true)}
var R=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}
var D=function(){e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()}))}
var O=function(){if(!e.inline){e.contentStyles.push("body {min-height: 150px}")
e.on("click",(function(t){var r
if("HTML"===t.target.nodeName){if(Jt.ie>11){e.getBody().focus()
return}r=e.selection.getRng()
e.getBody().focus()
e.selection.setRng(r)
e.selection.normalize()
e.nodeChanged()}}))}}
var B=function(){Jt.mac&&e.on("keydown",(function(t){if(jg.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault()
var r=e.selection.getSel()
r.modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))}
var P=function(){d("AutoUrlDetect",false)}
var L=function(){e.on("click",(function(e){var t=e.target
do{if("A"===t.tagName){e.preventDefault()
return}}while(t=t.parentNode)}))
e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}
var I=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))}
var M=function(){i.addNodeFilter("br",(function(e){var t=e.length
while(t--)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}))}
var F=function(){e.on("dragstart",(function(e){m(e)}))
e.on("drop",(function(t){if(!v(t)){var r=p(t)
if(r&&r.id!==e.id){t.preventDefault()
var n=Xg(t.x,t.y,e.getDoc())
o.setRng(n)
g(r.html,true)}}}))}
var U=function(){}
var z=function(){if(!u||e.removed)return false
var t=e.selection.getSel()
return!t||!t.rangeCount||0===t.rangeCount}
k()
h()
Jt.windowsPhone||A()
if(c){b()
x()
T()
I()
N()
M()
if(Jt.iOS){D()
O()
L()}else y()}if(Jt.ie>=11){O()
N()}if(Jt.ie){y()
P()
F()}if(u){C()
w()
S()
E()
_()
R()
B()
N()}return{refreshContentEditable:U,isHidden:z}}
var iM=Dc.DOM
var uM=function(e,t){var r=gr.fromDom(e.getBody())
var n=cn(fn(r))
var a=gr.fromTag("style")
ua(a,"type","text/css")
hn(a,gr.fromText(t))
hn(n,a)
e.on("remove",(function(){xn(a)}))}
var fM=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0}
var cM=function(e){return _e(e,(function(e){return false===U(e)}))}
var sM=function(e){var t=e.settings
var r=e.editorUpload.blobCache
return cM({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:fM(e),validate:true,blob_cache:r,images_dataimg_filter:t.images_dataimg_filter})}
var lM=function(e){var t=e.settings
return Ve(Ve({},sM(e)),cM({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))}
var dM=function(e){var t=__(sM(e),e.schema)
t.addAttributeFilter("src,href,style,tabindex",(function(t,r){var n,a,o=t.length
var i=e.dom
var u="data-mce-"+r
while(o--){n=t[o]
a=n.attr(r)
if(a&&!n.attr(u)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue
if("style"===r){a=i.serializeStyle(i.parseStyle(a),n.name)
a.length||(a=null)
n.attr(u,a)
n.attr(r,a)}else if("tabindex"===r){n.attr(u,a)
n.attr(r,null)}else n.attr(u,e.convertURL(a,r,n.name))}}}))
t.addNodeFilter("script",(function(e){var t=e.length
while(t--){var r=e[t]
var n=r.attr("type")||"no/type"
0!==n.indexOf("mce-")&&r.attr("type","mce-"+n)}}))
e.settings.preserve_cdata&&t.addNodeFilter("#cdata",(function(t){var r=t.length
while(r--){var n=t[r]
n.type=8
n.name="#comment"
n.value="[CDATA["+e.dom.encode(n.value)+"]]"}}))
t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){var r=t.length
var n=e.schema.getNonEmptyElements()
while(r--){var a=t[r]
a.isEmpty(n)&&0===a.getAll("br").length&&(a.append(new Rb("br",1)).shortEnded=true)}}))
return t}
var vM=function(e){e.settings.auto_focus&&co.setEditorTimeout(e,(function(){var t
t=true===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)
t.destroyed||t.focus()}),100)}
var mM=function(e){var t=e.dom.getRoot()
e.inline||dg(e)&&e.selection.getStart(true)!==t||Um(t).each((function(t){var r=t.getNode()
var n=Wn(r)?Um(r).getOr(t):t
Jt.browser.isIE()?Ny(e,n.toRange()):e.selection.setRng(n.toRange())}))}
var pM=function(e){e.bindPendingEventDelegates()
e.initialized=true
Fg(e)
e.focus(true)
mM(e)
e.nodeChanged({initial:true})
e.execCallback("init_instance_callback",e)
vM(e)}
var gM=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader}
var hM=function(e,t){var r=gM(e)
var n=function(){e.on("remove",(function(){return r.unloadAll(t)}))
pM(e)}
r.loadAll(t,n,n)}
var yM=function(e,t){var r=e.settings,n=e.getDoc(),a=e.getBody()
if(!r.browser_spellcheck&&!r.gecko_spellcheck){n.body.spellcheck=false
iM.setAttrib(a,"spellcheck","false")}e.quirks=oM(e)
Mg(e)
var o=Ud(e)
void 0!==o&&(a.dir=o)
r.protect&&e.on("BeforeSetContent",(function(e){sr.each(r.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))}))
e.on("SetContent",(function(){e.addVisual(e.getBody())}))
false===t&&e.load({initial:true,format:"html"})
e.startContent=e.getContent({format:"raw"})
e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type}))
if(e.contentStyles.length>0){var i=""
sr.each(e.contentStyles,(function(e){i+=e+"\r\n"}))
e.dom.addStyle(i)}hM(e,e.contentCSS)
r.content_style&&uM(e,r.content_style)}
var bM=function(e,t){var r=e.settings
var n=e.getElement()
var a=e.getDoc()
r.inline||(e.getElement().style.visibility=e.orgVisibility)
if(!t&&!e.inline){a.open()
a.write(e.iframeHTML)
a.close()}if(e.inline){iM.addClass(n,"mce-content-body")
e.contentDocument=a=document
e.contentWindow=window
e.bodyElement=n
e.contentAreaContainer=n}var o=e.getBody()
o.disabled=true
e.readonly=!!r.readonly
if(!e.readonly){e.inline&&"static"===iM.getStyle(o,"position",true)&&(o.style.position="relative")
o.contentEditable=e.getParam("content_editable_state",true)}o.disabled=false
e.editorUpload=pA(e)
e.schema=vu(r)
e.dom=Dc(a,{keep_values:true,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:true,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Od(e),referrerPolicy:Bd(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}})
e.parser=dM(e)
e.serializer=z_(lM(e),e)
e.selection=YE(e.dom,e.getWin(),e.serializer,e)
e.annotator=Ng(e)
e.formatter=kA(e)
e.undoManager=TA(e)
e._nodeChangeDispatcher=new hI(e)
e._selectionOverrides=aM(e)
IO(e)
CI(e)
oE(e)||SI(e)
var i=gI(e)
DO(e,i)
HO(e)
IA(e)
Ig(e)
iE(e).fold((function(){yM(e,false)}),(function(t){e.setProgressState(true)
t.then((function(t){e.setProgressState(false)
yM(e,t)}))}))}
var CM=Dc.DOM
var wM=function(e,t){if(document.domain!==window.location.hostname&&Jt.browser.isIE()){var r=dA("mce")
e[r]=function(){bM(e)}
var n='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()"
CM.setAttrib(t,"src",n)
return true}return false}
var xM=function(e,t,r,n){var a=gr.fromTag("iframe")
fa(a,n)
fa(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t})
ls(a,"tox-edit-area__iframe")
return a}
var SM=function(e){var t=fd(e)+"<html><head>"
cd(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />')
t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />'
var r=sd(e)
var n=ld(e)
dd(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+dd(e)+'" />')
t+='</head><body id="'+r+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'
return t}
var NM=function(e,t){var r=e.editorManager.translate("Rich Text Area. Press ALT-0 for help.")
var n=xM(e.id,r,t.height,ud(e)).dom
n.onload=function(){n.onload=null
e.fire("load")}
var a=wM(e,n)
e.contentAreaContainer=t.iframeContainer
e.iframeElement=n
e.iframeHTML=SM(e)
CM.add(t.iframeContainer,n)
return a}
var kM=function(e,t){var r=NM(e,t)
if(t.editorContainer){CM.get(t.editorContainer).style.display=e.orgDisplay
e.hidden=CM.isHidden(t.editorContainer)}e.getElement().style.display="none"
CM.setAttrib(e.id,"aria-hidden","true")
r||bM(e)}
var EM=Dc.DOM
var _M=function(e,t,r){var n=$T.get(r)
var a=$T.urls[r]||e.documentBaseUrl.replace(/\/$/,"")
r=sr.trim(r)
if(n&&-1===sr.inArray(t,r)){sr.each($T.dependencies(r),(function(r){_M(e,t,r)}))
if(e.plugins[r])return
try{var o=new n(e,a,e.$)
e.plugins[r]=o
if(o.init){o.init(e,a)
t.push(r)}}catch(t){nA(e,r,t)}}}
var TM=function(e){return e.replace(/^\-/,"")}
var AM=function(e){var t=[]
sr.each(lv(e).split(/[ ,]/),(function(r){_M(e,t,TM(r))}))}
var RM=function(e){var t=sr.trim(Ed(e))
var r=e.ui.registry.getAll().icons
var n=Ve(Ve({},RT.get("default").icons),RT.get(t).icons)
we(n,(function(t,n){De(r,n)||e.ui.registry.addIcon(n,t)}))}
var DM=function(e){var t=Wd(e)
if(P(t)){e.settings.theme=TM(t)
var r=WT.get(t)
e.theme=new r(e,WT.urls[t])
e.theme.init&&e.theme.init(e,WT.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}}
var OM=function(e){return e.theme.renderUI()}
var BM=function(e){var t=e.getElement()
var r=Wd(e)
var n=r(e,t)
n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent")
n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer")
n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight
return n}
var PM=function(e){return{editorContainer:e,iframeContainer:e,api:{}}}
var LM=function(e){var t=EM.create("div")
EM.insertAfter(t,e)
return PM(t)}
var IM=function(e){var t=e.getElement()
return e.inline?PM(null):LM(t)}
var MM=function(e){var t=e.getElement()
e.orgDisplay=t.style.display
return P(Wd(e))?OM(e):H(Wd(e))?BM(e):IM(e)}
var FM=function(e,t){var r={show:A.from(t.show).getOr(m),hide:A.from(t.hide).getOr(m),disable:A.from(t.disable).getOr(m),isDisabled:A.from(t.isDisabled).getOr(S),enable:function(){e.mode.isReadOnly()||A.from(t.enable).map(x)}}
e.ui=Ve(Ve({},e.ui),r)}
var UM=function(e){e.fire("ScriptsLoaded")
RM(e)
DM(e)
AM(e)
var t=MM(e)
FM(e,A.from(t.api).getOr({}))
var r={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer}
e.editorContainer=r.editorContainer?r.editorContainer:null
uA(e)
return e.inline?bM(e):kM(e,r)}
var zM=Dc.DOM
var jM=function(e){return"-"===e.charAt(0)}
var HM=function(e,t){var r=Pd(t)
var n=Ld(t)
if(false===Zc.hasCode(r)&&"en"!==r){var a=""!==n?n:t.editorManager.baseURL+"/langs/"+r+".js"
e.add(a,m,void 0,(function(){rA(t,a,r)}))}}
var VM=function(e,t,r,n){var a=Wd(t)
if(P(a)){if(!jM(a)&&!WT.urls.hasOwnProperty(a)){var o=Zd(t)
o?WT.load(a,t.documentBaseURI.toAbsolute(o)):WT.load(a,"themes/"+a+"/theme"+r+".js")}e.loadQueue((function(){WT.waitFor(a,n)}))}else n()}
var qM=function(e){return A.from(_d(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:A.none()}}))}
var $M=function(e,t,r){return A.from(t).filter((function(e){return e.length>0&&!RT.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+r+".js",name:A.some(t)}}))}
var WM=function(e,t,r){var n=$M(t,"default",r)
var a=qM(t).orThunk((function(){return $M(t,Ed(t),"")}))
Q(Fs([n,a]),(function(r){e.add(r.url,m,void 0,(function(){tA(t,r.url,r.name.getOrUndefined())}))}))}
var KM=function(e,t){sr.each(dv(e),(function(t,r){$T.load(r,t,m,void 0,(function(){eA(e,t,r)}))
e.settings.plugins+=" "+r}))
sr.each(lv(e).split(/[ ,]/),(function(r){r=sr.trim(r)
if(r&&!$T.urls[r])if(jM(r)){r=r.substr(1,r.length)
var n=$T.dependencies(r)
sr.each(n,(function(r){var n={prefix:"plugins/",resource:r,suffix:"/plugin"+t+".js"}
var a=$T.createUrl(n,r)
$T.load(a.resource,a,m,void 0,(function(){eA(e,a.prefix+a.resource+a.suffix,a.resource)}))}))}else{var a={prefix:"plugins/",resource:r,suffix:"/plugin"+t+".js"}
$T.load(r,a,m,void 0,(function(){eA(e,a.prefix+a.resource+a.suffix,r)}))}}))}
var XM=function(e,t){var r=Uc.ScriptLoader
VM(r,e,t,(function(){HM(r,e)
WM(r,e,t)
KM(e,t)
r.loadQueue((function(){e.removed||UM(e)}),e,(function(){e.removed||UM(e)}))}))}
var YM=function(e,t){return vo.forElement(e,{contentCssCors:sv(t),referrerPolicy:Bd(t)})}
var GM=function(e){var t=e.id
Zc.setCode(Pd(e))
var r=function(){zM.unbind(window,"ready",r)
e.render()}
if(!_u.Event.domLoaded){zM.bind(window,"ready",r)
return}if(!e.getElement())return
if(!Jt.contentEditable)return
var n=gr.fromDom(e.getElement())
var a=va(n)
e.on("remove",(function(){Z(n.dom.attributes,(function(e){return da(n,e.name)}))
fa(n,a)}))
e.ui.styleSheetLoader=YM(n,e)
if(ev(e))e.inline=true
else{e.orgVisibility=e.getElement().style.visibility
e.getElement().style.visibility="hidden"}var o=e.getElement().form||zM.getParent(t,"form")
if(o){e.formElement=o
if(tv(e)&&!Xn(e.getElement())){zM.insertAfter(zM.create("input",{type:"hidden",name:t}),t)
e.hasHiddenInput=true}e.formEventDelegate=function(t){e.fire(t.type,t)}
zM.bind(o,"submit reset",e.formEventDelegate)
e.on("reset",(function(){e.resetContent()}))
if(rv(e)&&!o.submit.nodeType&&!o.submit.length&&!o._mceOldSubmit){o._mceOldSubmit=o.submit
o.submit=function(){e.editorManager.triggerSave()
e.setDirty(false)
return o._mceOldSubmit(o)}}}e.windowManager=XT(e)
e.notificationManager=qT(e)
nv(e)&&e.on("GetContent",(function(e){e.save&&(e.content=zM.encode(e.content))}))
av(e)&&e.on("submit",(function(){e.initialized&&e.save()}))
if(ov(e)){e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:true,set_dirty:false})}
e.editorManager.on("BeforeUnload",e._beforeUnload)}e.editorManager.add(e)
XM(e,e.suffix)}
var JM=function(e,t){return BE(e,t)}
var QM={"font-size":"size","font-family":"face"}
var ZM=function(e,t,r){var n=function(t){return ya(t,e).orThunk((function(){return"font"===Br(t)?Re(QM,e).bind((function(e){return sa(t,e)})):A.none()}))}
var a=function(e){return Ar(gr.fromDom(t),e)}
return mb(gr.fromDom(r),(function(e){return n(e)}),a)}
var eF=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}
var tF=function(e,t){return A.from(Dc.DOM.getStyle(t,e,true))}
var rF=function(e){return function(t,r){return A.from(r).map(gr.fromDom).filter(Mr).bind((function(r){return ZM(e,t,r.dom).or(tF(e,r.dom))})).getOr("")}}
var nF=rF("font-size")
var aF=p(eF,rF("font-family"))
var oF=function(e){return Um(e.getBody()).map((function(e){var t=e.container()
return Yn(t)?t.parentNode:t}))}
var iF=function(e){return A.from(e.selection.getRng()).bind((function(t){var r=e.getBody()
var n=t.startContainer===r&&0===t.startOffset
return n?A.none():A.from(e.selection.getStart(true))}))}
var uF=function(e,t){return iF(e).orThunk(b(oF,e)).map(gr.fromDom).filter(Mr).map(t)}
var fF=function(e,t){if(/^[0-9.]+$/.test(t)){var r=parseInt(t,10)
if(r>=1&&r<=7){var n=Cd(e)
var a=wd(e)
return a?a[r-1]||t:n[r-1]||t}return t}return t}
var cF=function(e){var t=e.split(/\s*,\s*/)
return J(t,(function(e){return-1===e.indexOf(" ")||ft(e,'"')||ft(e,"'")?e:"'"+e+"'"})).join(",")}
var sF=function(e,t){var r=fF(e,t)
e.formatter.toggle("fontname",{value:cF(r)})
e.nodeChanged()}
var lF=function(e){return uF(e,(function(t){return aF(e.getBody(),t.dom)})).getOr("")}
var dF=function(e,t){e.formatter.toggle("fontsize",{value:fF(e,t)})
e.nodeChanged()}
var vF=function(e){return uF(e,(function(t){return nF(e.getBody(),t.dom)})).getOr("")}
var mF=function(e){return uF(e,(function(t){var r=gr.fromDom(e.getBody())
var n=mb(t,(function(e){return ya(e,"line-height")}),b(Ar,r))
var a=function(){var e=parseFloat(ga(t,"line-height"))
var r=parseFloat(ga(t,"font-size"))
return String(e/r)}
return n.getOrThunk(a)})).getOr("")}
var pF=function(e,t){e.undoManager.transact((function(){e.formatter.toggle("lineheight",{value:String(t)})
e.nodeChanged()}))}
var gF=function(e){var t
if("string"!==typeof e){t=sr.extend({paste:e.paste,data:{paste:e.paste}},e)
return{content:e.content,details:t}}return{content:e,details:{}}}
var hF=function(e,t){var r=gF(t)
DE(e,r.content,r.details)}
var yF=sr.each
var bF=sr.map,CF=sr.inArray
var wF=function(){function e(e){this.commands={state:{},exec:{},value:{}}
this.editor=e
this.setupCommands(e)}e.prototype.execCommand=function(e,t,r,n){var a,o=false
var i=this
if(i.editor.removed)return;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||n&&n.skip_focus?Ey(i.editor):i.editor.focus()
n=i.editor.fire("BeforeExecCommand",{command:e,ui:t,value:r})
if(n.isDefaultPrevented())return false
var u=e.toLowerCase()
if(a=i.commands.exec[u]){a(u,t,r)
i.editor.fire("ExecCommand",{command:e,ui:t,value:r})
return true}yF(this.editor.plugins,(function(n){if(n.execCommand&&n.execCommand(e,t,r)){i.editor.fire("ExecCommand",{command:e,ui:t,value:r})
o=true
return false}}))
if(o)return o
if(i.editor.theme&&i.editor.theme.execCommand&&i.editor.theme.execCommand(e,t,r)){i.editor.fire("ExecCommand",{command:e,ui:t,value:r})
return true}try{o=i.editor.getDoc().execCommand(e,t,r)}catch(e){}if(o){i.editor.fire("ExecCommand",{command:e,ui:t,value:r})
return true}return false}
e.prototype.queryCommandState=function(e){var t
if(this.editor.quirks.isHidden()||this.editor.removed)return
e=e.toLowerCase()
if(t=this.commands.state[e])return t(e)
try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return false}
e.prototype.queryCommandValue=function(e){var t
if(this.editor.quirks.isHidden()||this.editor.removed)return
e=e.toLowerCase()
if(t=this.commands.value[e])return t(e)
try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}
e.prototype.addCommands=function(e,t){void 0===t&&(t="exec")
var r=this
yF(e,(function(e,n){yF(n.toLowerCase().split(","),(function(n){r.commands[t][n]=e}))}))}
e.prototype.addCommand=function(e,t,r){var n=this
e=e.toLowerCase()
this.commands.exec[e]=function(e,a,o,i){return t.call(r||n.editor,a,o,i)}}
e.prototype.queryCommandSupported=function(e){e=e.toLowerCase()
if(this.commands.exec[e])return true
try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return false}
e.prototype.addQueryStateHandler=function(e,t,r){var n=this
e=e.toLowerCase()
this.commands.state[e]=function(){return t.call(r||n.editor)}}
e.prototype.addQueryValueHandler=function(e,t,r){var n=this
e=e.toLowerCase()
this.commands.value[e]=function(){return t.call(r||n.editor)}}
e.prototype.hasCustomCommand=function(e){e=e.toLowerCase()
return!!this.commands.exec[e]}
e.prototype.execNativeCommand=function(e,t,r){void 0===t&&(t=false)
void 0===r&&(r=null)
return this.editor.getDoc().execCommand(e,t,r)}
e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)}
e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0)
this.editor.nodeChanged()}
e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)}
e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)}
e.prototype.setupCommands=function(e){var t=this
this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(r){var n=e.getDoc()
var a
try{t.execNativeCommand(r)}catch(e){a=true}"paste"!==r||n.queryCommandEnabled(r)||(a=true)
if(a||!n.queryCommandSupported(r)){var o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")
Jt.mac&&(o=o.replace(/Ctrl\+/g,"â+"))
e.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a")
t&&e.dom.remove(t,true)
return}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(r){var n=r.substring(7)
"full"===n&&(n="justify")
yF("left,center,right,justify".split(","),(function(t){n!==t&&e.formatter.remove("align"+t)}))
"none"!==n&&t.toggleFormat("align"+n)},"InsertUnorderedList,InsertOrderedList":function(r){var n
t.execNativeCommand(r)
var a=e.dom.getParent(e.selection.getNode(),"ol,ul")
if(a){n=a.parentNode
if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)){t.storeSelection()
e.dom.split(n,a)
t.restoreSelection()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,r,n){t.toggleFormat(e,n)},FontName:function(t,r,n){sF(e,n)},FontSize:function(t,r,n){dF(e,n)},LineHeight:function(t,r,n){pF(e,n)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,r,n){return t.toggleFormat(n||"p")},mceCleanup:function(){var t=e.selection.getBookmark()
e.setContent(e.getContent())
e.selection.moveToBookmark(t)},mceRemoveNode:function(r,n,a){var o=a||e.selection.getNode()
if(o!==e.getBody()){t.storeSelection()
e.dom.remove(o,true)
t.restoreSelection()}},mceSelectNodeDepth:function(t,r,n){var a=0
e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&a++===n){e.selection.select(t)
return false}}),e.getBody())},mceSelectNode:function(t,r,n){e.selection.select(n)},mceInsertContent:function(t,r,n){hF(e,n)},mceInsertRawHTML:function(t,r,n){e.selection.setContent("tiny_mce_marker")
var a=e.getContent()
e.setContent(a.replace(/tiny_mce_marker/g,(function(){return n})))},mceInsertNewLine:function(t,r,n){QL(e,n)},mceToggleFormat:function(e,r,n){t.toggleFormat(n)},mceSetContent:function(t,r,n){e.setContent(n)},"Indent,Outdent":function(t){EO(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual
e.addVisual()},mceReplaceContent:function(t,r,n){e.execCommand("mceInsertContent",false,n.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,r,n){"string"===typeof n&&(n={href:n})
var a=e.dom.getParent(e.selection.getNode(),"a")
n.href=n.href.replace(/ /g,"%20")
a&&n.href||e.formatter.remove("link")
n.href&&e.formatter.apply("link",n,a)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),ta)
if(t){var r=e.dom.createRng()
r.selectNodeContents(t)
e.selection.setRng(r)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,r,n){LL(e,n)
return true}})
var r=function(t){return function(){var r=e.selection
var n=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks()
var a=bF(n,(function(r){return!!e.formatter.matchNode(r,t)}))
return-1!==CF(a,true)}}
t.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return xO(e)},"InsertUnorderedList,InsertOrderedList":function(t){var r=e.dom.getParent(e.selection.getNode(),"ul,ol")
return r&&("insertunorderedlist"===t&&"UL"===r.tagName||"insertorderedlist"===t&&"OL"===r.tagName)}},"state")
t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})
t.addQueryValueHandler("FontName",(function(){return lF(e)}),this)
t.addQueryValueHandler("FontSize",(function(){return vF(e)}),this)
t.addQueryValueHandler("LineHeight",(function(){return mF(e)}),this)}
return e}()
var xF="data-mce-contenteditable"
var SF=function(e,t,r){ms(e,t)&&false===r?vs(e,t):r&&ls(e,t)}
var NF=function(e,t,r){try{e.getDoc().execCommand(t,false,String(r))}catch(e){}}
var kF=function(e,t){e.dom.contentEditable=t?"true":"false"}
var EF=function(e){Q(gs(e,'*[contenteditable="true"]'),(function(e){ua(e,xF,"true")
kF(e,false)}))}
var _F=function(e){Q(gs(e,"*["+xF+'="true"]'),(function(e){da(e,xF)
kF(e,true)}))}
var TF=function(e){A.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))}
var AF=function(e){e.selection.setRng(e.selection.getRng())}
var RF=function(e,t){var r=gr.fromDom(e.getBody())
SF(r,"mce-content-readonly",t)
if(t){e.selection.controlSelection.hideResizeRect()
e._selectionOverrides.hideFakeCaret()
TF(e)
e.readonly=true
kF(r,false)
EF(r)}else{e.readonly=false
kF(r,true)
_F(r)
NF(e,"StyleWithCSS",false)
NF(e,"enableInlineTableEditing",false)
NF(e,"enableObjectResizing",false)
eb(e)&&e.focus()
AF(e)
e.nodeChanged()}}
var DF=function(e){return e.readonly}
var OF=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){DF(e)&&Q(t,(function(e){e.attr(xF,e.attr("contenteditable"))
e.attr("contenteditable","false")}))}))
e.serializer.addAttributeFilter(xF,(function(t){DF(e)&&Q(t,(function(e){e.attr("contenteditable",e.attr(xF))}))}))
e.serializer.addTempAttr(xF)}
var BF=function(e){e.serializer?OF(e):e.on("PreInit",(function(){OF(e)}))}
var PF=function(e){return"click"===e.type}
var LF=function(e,t){var r=function(t){return Ar(t,gr.fromDom(e.getBody()))}
return Za(t,"a",r).bind((function(e){return sa(e,"href")}))}
var IF=function(e,t){if(PF(t)&&!jg.metaKeyPressed(t)){var r=gr.fromDom(t.target)
LF(e,r).each((function(r){t.preventDefault()
if(/^#/.test(r)){var n=e.dom.select(r+',[name="'+it(r,"#")+'"]')
n.length&&e.selection.scrollIntoView(n[0],true)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}}
var MF=function(e){e.on("ShowCaret",(function(t){DF(e)&&t.preventDefault()}))
e.on("ObjectSelected",(function(t){DF(e)&&t.preventDefault()}))}
var FF=sr.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ")
var UF=function(){function e(e){this.bindings={}
this.settings=e||{}
this.scope=this.settings.scope||this
this.toggleEvent=this.settings.toggleEvent||S}e.isNative=function(e){return!!FF[e.toLowerCase()]}
e.prototype.fire=function(e,t){var r=e.toLowerCase()
var n=t||{}
n.type=r
n.target||(n.target=this.scope)
if(!n.preventDefault){n.preventDefault=function(){n.isDefaultPrevented=N}
n.stopPropagation=function(){n.isPropagationStopped=N}
n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=N}
n.isDefaultPrevented=S
n.isPropagationStopped=S
n.isImmediatePropagationStopped=S}this.settings.beforeFire&&this.settings.beforeFire(n)
var a=this.bindings[r]
if(a)for(var o=0,i=a.length;o<i;o++){var u=a[o]
u.once&&this.off(r,u.func)
if(n.isImmediatePropagationStopped()){n.stopPropagation()
return n}if(false===u.func.call(this.scope,n)){n.preventDefault()
return n}}return n}
e.prototype.on=function(e,t,r,n){false===t&&(t=S)
if(t){var a={func:t}
n&&sr.extend(a,n)
var o=e.toLowerCase().split(" ")
var i=o.length
while(i--){var u=o[i]
var f=this.bindings[u]
if(!f){f=this.bindings[u]=[]
this.toggleEvent(u,true)}r?f.unshift(a):f.push(a)}}return this}
e.prototype.off=function(e,t){var r=this
if(e){var n=e.toLowerCase().split(" ")
var a=n.length
while(a--){var o=n[a]
var i=this.bindings[o]
if(!o){we(this.bindings,(function(e,t){r.toggleEvent(t,false)
delete r.bindings[t]}))
return this}if(i){if(t){var u=i.length
while(u--)if(i[u].func===t){i=i.slice(0,u).concat(i.slice(u+1))
this.bindings[o]=i}}else i.length=0
if(!i.length){this.toggleEvent(e,false)
delete this.bindings[o]}}}}else{we(this.bindings,(function(e,t){r.toggleEvent(t,false)}))
this.bindings={}}return this}
e.prototype.once=function(e,t,r){return this.on(e,t,r,{once:true})}
e.prototype.has=function(e){e=e.toLowerCase()
return!(!this.bindings[e]||0===this.bindings[e].length)}
return e}()
var zF=function(e){e._eventDispatcher||(e._eventDispatcher=new UF({scope:e,toggleEvent:function(t,r){UF.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,r)}}))
return e._eventDispatcher}
var jF={fire:function(e,t,r){var n=this
if(n.removed&&"remove"!==e&&"detach"!==e)return t
var a=zF(n).fire(e,t)
if(false!==r&&n.parent){var o=n.parent()
while(o&&!a.isPropagationStopped()){o.fire(e,a,false)
o=o.parent()}}return a},on:function(e,t,r){return zF(this).on(e,t,r)},off:function(e,t){return zF(this).off(e,t)},once:function(e,t){return zF(this).once(e,t)},hasEventListeners:function(e){return zF(this).has(e)}}
var HF=Dc.DOM
var VF
var qF=function(e,t){if("selectionchange"===t)return e.getDoc()
if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement
var r=qd(e)
if(r){e.eventRoot||(e.eventRoot=HF.select(r)[0])
return e.eventRoot}return e.getBody()}
var $F=function(e){return!e.hidden&&!DF(e)}
var WF=function(e,t,r){$F(e)?e.fire(t,r):DF(e)&&IF(e,r)}
var KF=function(e,t){var r
e.delegates||(e.delegates={})
if(e.delegates[t]||e.removed)return
var n=qF(e,t)
if(qd(e)){if(!VF){VF={}
e.editorManager.on("removeEditor",(function(){if(!e.editorManager.activeEditor&&VF){we(VF,(function(t,r){e.dom.unbind(qF(e,r))}))
VF=null}}))}if(VF[t])return
r=function(r){var n=r.target
var a=e.editorManager.get()
var o=a.length
while(o--){var i=a[o].getBody();(i===n||HF.isChildOf(n,i))&&WF(a[o],t,r)}}
VF[t]=r
HF.bind(n,t,r)}else{r=function(r){WF(e,t,r)}
HF.bind(n,t,r)
e.delegates[t]=r}}
var XF=Ve(Ve({},jF),{bindPendingEventDelegates:function(){var e=this
sr.each(e._pendingNativeEvents,(function(t){KF(e,t)}))},toggleNativeEvent:function(e,t){var r=this
if("focus"===e||"blur"===e)return
if(t)r.initialized?KF(r,e):r._pendingNativeEvents?r._pendingNativeEvents.push(e):r._pendingNativeEvents=[e]
else if(r.initialized){r.dom.unbind(qF(r,e),e,r.delegates[e])
delete r.delegates[e]}},unbindAllNativeEvents:function(){var e=this
var t=e.getBody()
var r=e.dom
if(e.delegates){we(e.delegates,(function(t,r){e.dom.unbind(qF(e,r),r,t)}))
delete e.delegates}if(!e.inline&&t&&r){t.onload=null
r.unbind(e.getWin())
r.unbind(e.getDoc())}if(r){r.unbind(t)
r.unbind(e.getContainer())}}})
var YF=["design","readonly"]
var GF=function(e,t,r,n){var a=r[t.get()]
var o=r[n]
try{o.activate()}catch(e){console.error("problem while activating editor mode "+n+":",e)
return}a.deactivate()
a.editorReadOnly!==o.editorReadOnly&&RF(e,o.editorReadOnly)
t.set(n)
Bg(e,n)}
var JF=function(e,t,r,n){if(n===r.get())return
if(!De(t,n))throw new Error("Editor mode '"+n+"' is invalid")
e.initialized?GF(e,r,t,n):e.on("init",(function(){return GF(e,r,t,n)}))}
var QF=function(e,t,r){var n
if(Y(YF,t))throw new Error("Cannot override default mode "+t)
return Ve(Ve({},e),(n={},n[t]=Ve(Ve({},r),{deactivate:function(){try{r.deactivate()}catch(e){console.error("problem while deactivating editor mode "+t+":",e)}}}),n))}
var ZF=function(e){var t=zc("design")
var r=zc({design:{activate:m,deactivate:m,editorReadOnly:false},readonly:{activate:m,deactivate:m,editorReadOnly:true}})
BF(e)
MF(e)
return{isReadOnly:function(){return DF(e)},set:function(n){return JF(e,r.get(),t,n)},get:function(){return t.get()},register:function(e,t){r.set(QF(r.get(),e,t))}}}
var eU=sr.each,tU=sr.explode
var rU={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}
var nU=sr.makeMap("alt,ctrl,shift,meta,access")
var aU=function(){function e(e){this.shortcuts={}
this.pendingPatterns=[]
this.editor=e
var t=this
e.on("keyup keypress keydown",(function(e){if((t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()){eU(t.shortcuts,(function(r){if(t.matchShortcut(e,r)){t.pendingPatterns=r.subpatterns.slice(0)
"keydown"===e.type&&t.executeShortcutAction(r)
return true}}))
if(t.matchShortcut(e,t.pendingPatterns[0])){1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0])
t.pendingPatterns.shift()}}}))}e.prototype.add=function(e,t,r,n){var a=this
var o=a.normalizeCommandFunc(r)
eU(tU(sr.trim(e)),(function(e){var r=a.createShortcut(e,t,o,n)
a.shortcuts[r.id]=r}))
return true}
e.prototype.remove=function(e){var t=this.createShortcut(e)
if(this.shortcuts[t.id]){delete this.shortcuts[t.id]
return true}return false}
e.prototype.normalizeCommandFunc=function(e){var t=this
var r=e
return"string"===typeof r?function(){t.editor.execCommand(r,false,null)}:sr.isArray(r)?function(){t.editor.execCommand(r[0],r[1],r[2])}:r}
e.prototype.parseShortcut=function(e){var t
var r={}
eU(tU(e.toLowerCase(),"+"),(function(e){if(e in nU)r[e]=true
else if(/^[0-9]{2,}$/.test(e))r.keyCode=parseInt(e,10)
else{r.charCode=e.charCodeAt(0)
r.keyCode=rU[e]||e.toUpperCase().charCodeAt(0)}}))
var n=[r.keyCode]
for(t in nU)r[t]?n.push(t):r[t]=false
r.id=n.join(",")
if(r.access){r.alt=true
Jt.mac?r.ctrl=true:r.shift=true}if(r.meta)if(Jt.mac)r.meta=true
else{r.ctrl=true
r.meta=false}return r}
e.prototype.createShortcut=function(e,t,r,n){var a=sr.map(tU(e,">"),this.parseShortcut)
a[a.length-1]=sr.extend(a[a.length-1],{func:r,scope:n||this.editor})
return sr.extend(a[0],{desc:this.editor.translate(t),subpatterns:a.slice(1)})}
e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey}
e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}
e.prototype.matchShortcut=function(e,t){if(!t)return false
if(t.ctrl!==e.ctrlKey||t.meta!==e.metaKey)return false
if(t.alt!==e.altKey||t.shift!==e.shiftKey)return false
if(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode){e.preventDefault()
return true}return false}
e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null}
return e}()
var oU=function(){var e={}
var t={}
var r={}
var n={}
var a={}
var o={}
var i={}
var u=function(e,t){return function(r,n){return e[r.toLowerCase()]=Ve(Ve({},n),{type:t})}}
var f=function(e,t){return n[e.toLowerCase()]=t}
return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(r,"autocompleter"),addContextMenu:u(a,"contextmenu"),addContextToolbar:u(o,"contexttoolbar"),addContextForm:u(o,"contextform"),addSidebar:u(i,"sidebar"),addIcon:f,getAll:function(){return{buttons:e,menuItems:t,icons:n,popups:r,contextMenus:a,contextToolbars:o,sidebars:i}}}}
var iU=function(){var e=oU()
return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}}
var uU=sr.each,fU=sr.trim
var cU="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ")
var sU={ftp:21,http:80,https:443,mailto:25}
var lU=function(){function e(t,r){t=fU(t)
this.settings=r||{}
var n=this.settings.base_uri
var a=this
if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t
return}var o=0===t.indexOf("//")
0!==t.indexOf("/")||o||(t=(n&&n.protocol||"http")+"://mce_host"+t)
if(!/^[\w\-]*:?\/\//.test(t)){var i=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory
if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+a.toAbsPath(i,t)
else{var u=/([^#?]*)([#?]?.*)/.exec(t)
t=(n&&n.protocol||"http")+"://mce_host"+a.toAbsPath(i,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)")
var f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t)
uU(cU,(function(e,t){var r=f[t]
r&&(r=r.replace(/\(mce_at\)/g,"@@"))
a[e]=r}))
if(n){a.protocol||(a.protocol=n.protocol)
a.userInfo||(a.userInfo=n.userInfo)
a.port||"mce_host"!==a.host||(a.port=n.port)
a.host&&"mce_host"!==a.host||(a.host=n.host)
a.source=""}o&&(a.protocol="")}e.parseDataUri=function(e){var t
var r=decodeURIComponent(e).split(",")
var n=/data:([^;]+)/.exec(r[0])
n&&(t=n[1])
return{type:t,data:r[1]}}
e.getDocumentBaseUrl=function(e){var t
t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname
if(/^[^:]+:\/\/\/?[^\/]+\//.test(t)){t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(t)||(t+="/")}return t}
e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e)
this.path=t[0]
this.directory=t[1]
this.file=t[2]
this.source=""
this.getURI()}
e.prototype.toRelative=function(t){var r
if("./"===t)return t
var n=new e(t,{base_uri:this})
if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI()
var a=this.getURI(),o=n.getURI()
if(a===o||"/"===a.charAt(a.length-1)&&a.substr(0,a.length-1)===o)return a
r=this.toRelPath(this.path,n.path)
n.query&&(r+="?"+n.query)
n.anchor&&(r+="#"+n.anchor)
return r}
e.prototype.toAbsolute=function(t,r){var n=new e(t,{base_uri:this})
return n.getURI(r&&this.isSameOrigin(n))}
e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return true
var t=sU[this.protocol]
if(t&&(this.port||t)==(e.port||t))return true}return false}
e.prototype.toRelPath=function(e,t){var r,n,a=0,o=""
var i=e.substring(0,e.lastIndexOf("/")).split("/")
var u=t.split("/")
if(i.length>=u.length)for(r=0,n=i.length;r<n;r++)if(r>=u.length||i[r]!==u[r]){a=r+1
break}if(i.length<u.length)for(r=0,n=u.length;r<n;r++)if(r>=i.length||i[r]!==u[r]){a=r+1
break}if(1===a)return t
for(r=0,n=i.length-(a-1);r<n;r++)o+="../"
for(r=a-1,n=u.length;r<n;r++)o+=r!==a-1?"/"+u[r]:u[r]
return o}
e.prototype.toAbsPath=function(e,t){var r,n,a=0,o=[]
var i=/\/$/.test(t)?"/":""
var u=e.split("/")
var f=t.split("/")
uU(u,(function(e){e&&o.push(e)}))
u=o
for(r=f.length-1,o=[];r>=0;r--){if(0===f[r].length||"."===f[r])continue
if(".."===f[r]){a++
continue}if(a>0){a--
continue}o.push(f[r])}r=u.length-a
n=r<=0?se(o).join("/"):u.slice(0,r).join("/")+"/"+se(o).join("/")
0!==n.indexOf("/")&&(n="/"+n)
i&&n.lastIndexOf("/")!==n.length-1&&(n+=i)
return n}
e.prototype.getURI=function(e){void 0===e&&(e=false)
var t
if(!this.source||e){t=""
if(!e){this.protocol?t+=this.protocol+"://":t+="//"
this.userInfo&&(t+=this.userInfo+"@")
this.host&&(t+=this.host)
this.port&&(t+=":"+this.port)}this.path&&(t+=this.path)
this.query&&(t+="?"+this.query)
this.anchor&&(t+="#"+this.anchor)
this.source=t}return this.source}
return e}()
var dU=Dc.DOM
var vU=sr.extend,mU=sr.each
var pU=sr.resolve
var gU=Jt.ie
var hU=function(){function e(e,t,r){var n=this
this.plugins={}
this.contentCSS=[]
this.contentStyles=[]
this.loadedCSS={}
this.isNotDirty=false
this.editorManager=r
this.documentBaseUrl=r.documentBaseURL
vU(this,XF)
this.settings=NT(this,e,this.documentBaseUrl,r.defaultSettings,t)
this.settings.suffix&&(r.suffix=this.settings.suffix)
this.suffix=r.suffix
this.settings.base_url&&r._setBaseUrl(this.settings.base_url)
this.baseUri=r.baseURI
if(this.settings.referrer_policy){Uc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy)
Dc.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)}ts.languageLoad=this.settings.language_load
ts.baseURL=r.baseURL
this.id=e
this.setDirty(false)
this.documentBaseURI=new lU(this.settings.document_base_url,{base_uri:this.baseUri})
this.baseURI=this.baseUri
this.inline=!!this.settings.inline
this.shortcuts=new aU(this)
this.editorCommands=new wF(this)
this.settings.cache_suffix&&(Jt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,""))
this.ui={registry:iU(),styleSheetLoader:void 0,show:m,hide:m,enable:m,disable:m,isDisabled:S}
var a=this
var o=ZF(a)
this.mode=o
this.setMode=o.set
r.fire("SetupEditor",{editor:this})
this.execCallback("setup",this)
this.$=xc.overrideDefaults((function(){return{context:n.inline?n.getBody():n.getDoc(),element:n.getBody()}}))}e.prototype.render=function(){GM(this)}
e.prototype.focus=function(e){nb(this,e)}
e.prototype.hasFocus=function(){return Zy(this)}
e.prototype.execCallback=function(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
var n=this
var a,o=n.settings[e]
if(!o)return
if(n.callbackLookup&&(a=n.callbackLookup[e])){o=a.func
a=a.scope}if("string"===typeof o){a=o.replace(/\.\w+$/,"")
a=a?pU(a):0
o=pU(o)
n.callbackLookup=n.callbackLookup||{}
n.callbackLookup[e]={func:o,scope:a}}return o.apply(a||n,t)}
e.prototype.translate=function(e){return Zc.translate(e)}
e.prototype.getParam=function(e,t,r){return TT(this,e,t,r)}
e.prototype.hasPlugin=function(e,t){var r=Y(lv(this).split(/[ ,]/),e)
return!!r&&(!t||void 0!==$T.get(e))}
e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)}
e.prototype.addCommand=function(e,t,r){this.editorCommands.addCommand(e,t,r)}
e.prototype.addQueryStateHandler=function(e,t,r){this.editorCommands.addQueryStateHandler(e,t,r)}
e.prototype.addQueryValueHandler=function(e,t,r){this.editorCommands.addQueryValueHandler(e,t,r)}
e.prototype.addShortcut=function(e,t,r,n){this.shortcuts.add(e,t,r,n)}
e.prototype.execCommand=function(e,t,r,n){return this.editorCommands.execCommand(e,t,r,n)}
e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)}
e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)}
e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)}
e.prototype.show=function(){var e=this
if(e.hidden){e.hidden=false
if(e.inline)e.getBody().contentEditable="true"
else{dU.show(e.getContainer())
dU.hide(e.id)}e.load()
e.fire("show")}}
e.prototype.hide=function(){var e=this,t=e.getDoc()
if(!e.hidden){gU&&t&&!e.inline&&t.execCommand("SelectAll")
e.save()
if(e.inline){e.getBody().contentEditable="false"
e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)}else{dU.hide(e.getContainer())
dU.setStyle(e.id,"display",e.orgDisplay)}e.hidden=true
e.fire("hide")}}
e.prototype.isHidden=function(){return!!this.hidden}
e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})}
e.prototype.load=function(e){var t=this
var r,n=t.getElement()
if(t.removed)return""
if(n){e=e||{}
e.load=true
var a=Xn(n)?n.value:n.innerHTML
r=t.setContent(a,e)
e.element=n
e.no_events||t.fire("LoadContent",e)
e.element=n=null
return r}}
e.prototype.save=function(e){var t=this
var r,n,a=t.getElement()
if(!a||!t.initialized||t.removed)return
e=e||{}
e.save=true
e.element=a
r=e.content=t.getContent(e)
e.no_events||t.fire("SaveContent",e)
"raw"===e.format&&t.fire("RawSaveContent",e)
r=e.content
if(Xn(a))a.value=r
else{!e.is_removing&&t.inline||(a.innerHTML=r);(n=dU.getParent(t.id,"form"))&&mU(n.elements,(function(e){if(e.name===t.id){e.value=r
return false}}))}e.element=a=null
false!==e.set_dirty&&t.setDirty(false)
return r}
e.prototype.setContent=function(e,t){return V_(this,e,t)}
e.prototype.getContent=function(e){return H_(this,e)}
e.prototype.insertContent=function(e,t){t&&(e=vU({content:e},t))
this.execCommand("mceInsertContent",false,e)}
e.prototype.resetContent=function(e){void 0===e?V_(this,this.startContent,{format:"raw"}):V_(this,e)
this.undoManager.reset()
this.setDirty(false)
this.nodeChanged()}
e.prototype.isDirty=function(){return!this.isNotDirty}
e.prototype.setDirty=function(e){var t=!this.isNotDirty
this.isNotDirty=!e
e&&e!==t&&this.fire("dirty")}
e.prototype.getContainer=function(){var e=this
e.container||(e.container=dU.get(e.editorContainer||e.id+"_parent"))
return e.container}
e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer}
e.prototype.getElement=function(){this.targetElm||(this.targetElm=dU.get(this.id))
return this.targetElm}
e.prototype.getWin=function(){var e=this
var t
if(!e.contentWindow){t=e.iframeElement
t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}
e.prototype.getDoc=function(){var e=this
var t
if(!e.contentDocument){t=e.getWin()
t&&(e.contentDocument=t.document)}return e.contentDocument}
e.prototype.getBody=function(){var e=this.getDoc()
return this.bodyElement||(e?e.body:null)}
e.prototype.convertURL=function(e,t,r){var n=this,a=n.settings
if(a.urlconverter_callback)return n.execCallback("urlconverter_callback",e,r,true,t)
if(!a.convert_urls||r&&"LINK"===r.nodeName||0===e.indexOf("file:")||0===e.length)return e
if(a.relative_urls)return n.documentBaseURI.toRelative(e)
e=n.documentBaseURI.toAbsolute(e,a.remove_script_host)
return e}
e.prototype.addVisual=function(e){JM(this,e)}
e.prototype.remove=function(){Y_(this)}
e.prototype.destroy=function(e){G_(this,e)}
e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)}
e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()}
e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")}
e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")}
e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")}
e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")}
return e}()
var yU=Dc.DOM
var bU=sr.explode,CU=sr.each,wU=sr.extend
var xU=0,SU=false
var NU
var kU=[]
var EU=[]
var _U=function(e){return"length"!==e}
var TU=function(e){var t=e.type
CU(BU.get(),(function(r){switch(t){case"scroll":r.fire("ScrollWindow",e)
break
case"resize":r.fire("ResizeWindow",e)}}))}
var AU=function(e){if(e!==SU){e?xc(window).on("resize scroll",TU):xc(window).off("resize scroll",TU)
SU=e}}
var RU=function(e){var t=EU
delete kU[e.id]
for(var r=0;r<kU.length;r++)if(kU[r]===e){kU.splice(r,1)
break}EU=te(EU,(function(t){return e!==t}))
BU.activeEditor===e&&(BU.activeEditor=EU.length>0?EU[0]:null)
BU.focusedEditor===e&&(BU.focusedEditor=null)
return t.length!==EU.length}
var DU=function(e){if(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode){RU(e)
e.unbindAllNativeEvents()
e.destroy(true)
e.removed=true
e=null}return e}
var OU="CSS1Compat"!==document.compatMode
var BU=Ve(Ve({},jF),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:xc,majorVersion:"5",minorVersion:"6.2",releaseDate:"2020-12-08",editors:kU,i18n:Zc,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this
var t,r,n=""
r=lU.getDocumentBaseUrl(document.location)
if(/^[^:]+:\/\/\/?[^\/]+\//.test(r)){r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(r)||(r+="/")}var a=window.tinymce||window.tinyMCEPreInit
if(a){t=a.base||a.baseURL
n=a.suffix}else{var o=document.getElementsByTagName("script")
for(var i=0;i<o.length;i++){var u=o[i].src||""
if(""===u)continue
var f=u.substring(u.lastIndexOf("/"))
if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==f.indexOf(".min")&&(n=".min")
t=u.substring(0,u.lastIndexOf("/"))
break}}if(!t&&document.currentScript){u=document.currentScript.src;-1!==u.indexOf(".min")&&(n=".min")
t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new lU(r).toAbsolute(t)
e.documentBaseURL=r
e.baseURI=new lU(e.baseURL)
e.suffix=n
Vy(e)},overrideDefaults:function(e){var t=e.base_url
t&&this._setBaseUrl(t)
var r=e.suffix
e.suffix&&(this.suffix=r)
this.defaultSettings=e
var n=e.plugin_base_urls
void 0!==n&&we(n,(function(e,t){ts.PluginManager.urls[t]=e}))},init:function(e){var t=this
var r
var n=sr.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ")
var a=function(e,t){return e.inline&&t.tagName.toLowerCase()in n}
var o=function(e){var t=e.id
if(!t){t=Re(e,"name").filter((function(e){return!yU.get(e)})).getOrThunk(yU.uniqueId)
e.setAttribute("id",t)}return t}
var i=function(r){var n=e[r]
if(!n)return
return n.apply(t,Array.prototype.slice.call(arguments,2))}
var u=function(e,t){return t.constructor===RegExp?t.test(e.className):yU.hasClass(e,t)}
var f=function(e){var t=[]
if(Jt.browser.isIE()&&Jt.browser.version.major<11){aA("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/")
return[]}if(OU){aA("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode.")
return[]}if(e.types){CU(e.types,(function(e){t=t.concat(yU.select(e.selector))}))
return t}if(e.selector)return yU.select(e.selector)
if(e.target)return[e.target]
switch(e.mode){case"exact":var r=e.elements||""
r.length>0&&CU(bU(r),(function(e){var r=yU.get(e)
r?t.push(r):CU(document.forms,(function(r){CU(r.elements,(function(r){if(r.name===e){e="mce_editor_"+xU++
yU.setAttrib(r,"id",e)
t.push(r)}}))}))}))
break
case"textareas":case"specific_textareas":CU(yU.select("textarea"),(function(r){if(e.editor_deselector&&u(r,e.editor_deselector))return
e.editor_selector&&!u(r,e.editor_selector)||t.push(r)}))}return t}
var c=function(e){r=e}
var s=function(){var r=0
var n=[]
var u
var l=function(e,a,o){var i=new hU(e,a,t)
n.push(i)
i.on("init",(function(){++r===u.length&&c(n)}))
i.targetElm=i.targetElm||o
i.render()}
yU.unbind(window,"ready",s)
i("onpageload")
u=xc.unique(f(e))
if(e.types){CU(e.types,(function(t){sr.each(u,(function(r){if(yU.is(r,t.selector)){l(o(r),wU({},e,t),r)
return false}return true}))}))
return}sr.each(u,(function(e){DU(t.get(e.id))}))
u=sr.grep(u,(function(e){return!t.get(e.id)}))
0===u.length?c([]):CU(u,(function(t){a(e,t)?aA("Could not initialize inline editor on invalid inline target element",t):l(o(t),e,t)}))}
t.settings=e
yU.bind(window,"ready",s)
return new to((function(e){r?e(r):c=function(t){e(t)}}))},get:function(e){return 0===arguments.length?EU.slice(0):P(e)?oe(EU,(function(t){return t.id===e})).getOr(null):V(e)&&EU[e]?EU[e]:null},add:function(e){var t=this
var r=kU[e.id]
if(r===e)return e
if(null===t.get(e.id)){_U(e.id)&&(kU[e.id]=e)
kU.push(e)
EU.push(e)}AU(true)
t.activeEditor=e
t.fire("AddEditor",{editor:e})
if(!NU){NU=function(e){var r=t.fire("BeforeUnload")
if(r.returnValue){e.preventDefault()
e.returnValue=r.returnValue
return r.returnValue}}
window.addEventListener("beforeunload",NU)}return e},createEditor:function(e,t){return this.add(new hU(e,t,this))},remove:function(e){var t=this
var r,n
if(!e){for(r=EU.length-1;r>=0;r--)t.remove(EU[r])
return}if(P(e)){CU(yU.select(e),(function(e){n=t.get(e.id)
n&&t.remove(n)}))
return}n=e
if(M(t.get(n.id)))return null
RU(n)&&t.fire("RemoveEditor",{editor:n})
0===EU.length&&window.removeEventListener("beforeunload",NU)
n.remove()
AU(EU.length>0)
return n},execCommand:function(e,t,r){var n=this,a=n.get(r)
switch(e){case"mceAddEditor":n.get(r)||new hU(r,n.settings,n).render()
return true
case"mceRemoveEditor":a&&a.remove()
return true
case"mceToggleEditor":if(!a){n.execCommand("mceAddEditor",0,r)
return true}a.isHidden()?a.show():a.hide()
return true}if(n.activeEditor)return n.activeEditor.execCommand(e,t,r)
return false},triggerSave:function(){CU(EU,(function(e){e.save()}))},addI18n:function(e,t){Zc.add(e,t)},translate:function(e){return Zc.translate(e)},setActive:function(e){var t=this.activeEditor
if(this.activeEditor!==e){t&&t.fire("deactivate",{relatedTarget:e})
e.fire("activate",{relatedTarget:t})}this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new lU(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,""))
this.baseURI=new lU(this.baseURL)}})
BU.setup()
var PU=Math.min,LU=Math.max,IU=Math.round
var MU=function(e,t,r){var n=t.x
var a=t.y
var o=e.w
var i=e.h
var u=t.w
var f=t.h
var c=(r||"").split("")
"b"===c[0]&&(a+=f)
"r"===c[1]&&(n+=u)
"c"===c[0]&&(a+=IU(f/2))
"c"===c[1]&&(n+=IU(u/2))
"b"===c[3]&&(a-=i)
"r"===c[4]&&(n-=o)
"c"===c[3]&&(a-=IU(i/2))
"c"===c[4]&&(n-=IU(o/2))
return HU(n,a,o,i)}
var FU=function(e,t,r,n){var a,o
for(o=0;o<n.length;o++){a=MU(e,t,n[o])
if(a.x>=r.x&&a.x+a.w<=r.w+r.x&&a.y>=r.y&&a.y+a.h<=r.h+r.y)return n[o]}return null}
var UU=function(e,t,r){return HU(e.x-t,e.y-r,e.w+2*t,e.h+2*r)}
var zU=function(e,t){var r=LU(e.x,t.x)
var n=LU(e.y,t.y)
var a=PU(e.x+e.w,t.x+t.w)
var o=PU(e.y+e.h,t.y+t.h)
if(a-r<0||o-n<0)return null
return HU(r,n,a-r,o-n)}
var jU=function(e,t,r){var n=e.x
var a=e.y
var o=e.x+e.w
var i=e.y+e.h
var u=t.x+t.w
var f=t.y+t.h
var c=LU(0,t.x-n)
var s=LU(0,t.y-a)
var l=LU(0,o-u)
var d=LU(0,i-f)
n+=c
a+=s
if(r){o+=c
i+=s
n-=l
a-=d}o-=l
i-=d
return HU(n,a,o-n,i-a)}
var HU=function(e,t,r,n){return{x:e,y:t,w:r,h:n}}
var VU=function(e){return HU(e.left,e.top,e.width,e.height)}
var qU={inflate:UU,relativePosition:MU,findBestRelativePosition:FU,intersect:zU,clamp:jU,create:HU,fromClientRect:VU}
var $U=function(e,t,r){void 0===r&&(r=1e3)
var n=false
var a=null
var o=function(e){return function(){var t=[]
for(var r=0;r<arguments.length;r++)t[r]=arguments[r]
if(!n){n=true
if(null!==a){clearTimeout(a)
a=null}e.apply(null,t)}}}
var i=o(e)
var u=o(t)
var f=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
n||null!==a||(a=setTimeout((function(){return u.apply(null,e)}),r))}
return{start:f,resolve:i,reject:u}}
var WU=function(){var e={}
var t={}
var r=function(r,n){var a='Script at URL "'+n+'" failed to load'
var o='Script at URL "'+n+"\" did not call `tinymce.Resource.add('"+r+"', data)` within 1 second"
if(void 0!==e[r])return e[r]
var i=new to((function(e,i){var u=$U(e,i)
t[r]=u.resolve
Uc.ScriptLoader.loadScript(n,(function(){return u.start(o)}),(function(){return u.reject(a)}))}))
e[r]=i
return i}
var n=function(r,n){if(void 0!==t[r]){t[r](n)
delete t[r]}e[r]=to.resolve(n)}
return{load:r,add:n}}
var KU=WU()
var XU=sr.each,YU=sr.extend
var GU,JU
var QU=function(){}
QU.extend=GU=function(e){var t=this
var r=t.prototype
var n=function(){var e,t,r
var n=this
if(!JU){n.init&&n.init.apply(n,arguments)
t=n.Mixins
if(t){e=t.length
while(e--){r=t[e]
r.init&&r.init.apply(n,arguments)}}}}
var a=function(){return this}
var o=function(e,t){return function(){var n=this
var a=n._super
n._super=r[e]
var o=t.apply(n,arguments)
n._super=a
return o}}
JU=true
var i=new t
JU=false
if(e.Mixins){XU(e.Mixins,(function(t){for(var r in t)"init"!==r&&(e[r]=t[r])}))
r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))}e.Methods&&XU(e.Methods.split(","),(function(t){e[t]=a}))
e.Properties&&XU(e.Properties.split(","),(function(t){var r="_"+t
e[t]=function(e){var t=this
if(void 0!==e){t[r]=e
return t}return t[r]}}))
e.Statics&&XU(e.Statics,(function(e,t){n[t]=e}))
e.Defaults&&r.Defaults&&(e.Defaults=YU({},r.Defaults,e.Defaults))
we(e,(function(e,t){"function"===typeof e&&r[t]?i[t]=o(t,e):i[t]=e}))
n.prototype=i
n.constructor=n
n.extend=GU
return n}
var ZU=Math.min,ez=Math.max,tz=Math.round
var rz=function(e){var t={}
var r=0,n=0,a=0
var o=function(e,t,r){var n,a,o
n=0
a=0
o=0
e/=255
t/=255
r/=255
var i=ZU(e,ZU(t,r))
var u=ez(e,ez(t,r))
if(i===u){o=i
return{h:0,s:0,v:100*o}}var f=e===i?t-r:r===i?e-t:r-e
n=e===i?3:r===i?1:5
n=60*(n-f/(u-i))
a=(u-i)/u
o=u
return{h:tz(n),s:tz(100*a),v:tz(100*o)}}
var i=function(e,t,o){e=(parseInt(e,10)||0)%360
t=parseInt(t,10)/100
o=parseInt(o,10)/100
t=ez(0,ZU(t,1))
o=ez(0,ZU(o,1))
if(0===t){r=n=a=tz(255*o)
return}var i=e/60
var u=o*t
var f=u*(1-Math.abs(i%2-1))
var c=o-u
switch(Math.floor(i)){case 0:r=u
n=f
a=0
break
case 1:r=f
n=u
a=0
break
case 2:r=0
n=u
a=f
break
case 3:r=0
n=f
a=u
break
case 4:r=f
n=0
a=u
break
case 5:r=u
n=0
a=f
break
default:r=n=a=0}r=tz(255*(r+c))
n=tz(255*(n+c))
a=tz(255*(a+c))}
var u=function(){var e=function(e){e=parseInt(e,10).toString(16)
return e.length>1?e:"0"+e}
return"#"+e(r)+e(n)+e(a)}
var f=function(){return{r:r,g:n,b:a}}
var c=function(){return o(r,n,a)}
var s=function(e){var o
if("object"===typeof e)if("r"in e){r=e.r
n=e.g
a=e.b}else"v"in e&&i(e.h,e.s,e.v)
else if(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)){r=parseInt(o[1],10)
n=parseInt(o[2],10)
a=parseInt(o[3],10)}else if(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)){r=parseInt(o[1],16)
n=parseInt(o[2],16)
a=parseInt(o[3],16)}else if(o=/#([0-F])([0-F])([0-F])/gi.exec(e)){r=parseInt(o[1]+o[1],16)
n=parseInt(o[2]+o[2],16)
a=parseInt(o[3]+o[3],16)}r=r<0?0:r>255?255:r
n=n<0?0:n>255?255:n
a=a<0?0:a>255?255:a
return t}
e&&s(e)
t.toRgb=f
t.toHsv=c
t.toHex=u
t.parse=s
return t}
var nz=function(e){var t=JSON.stringify(e)
if(!P(t))return t
return t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16)
return"\\u"+"0000".substring(t.length)+t}))}
var az={serialize:nz,parse:function(e){try{return JSON.parse(e)}catch(e){}}}
var oz={callbacks:{},count:0,send:function(e){var t=this,r=Dc.DOM,n=void 0!==e.count?e.count:t.count
var a="tinymce_jsonp_"+n
t.callbacks[n]=function(o){r.remove(a)
delete t.callbacks[n]
e.callback(o)}
r.add(r.doc.body,"script",{id:a,src:e.url,type:"text/javascript"})
t.count++}}
var iz=Ve(Ve({},jF),{send:function(e){var t,r=0
var n=function(){if(!e.async||4===t.readyState||r++>1e4){e.success&&r<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e)
t=null}else co.setTimeout(n,10)}
e.scope=e.scope||this
e.success_scope=e.success_scope||e.scope
e.error_scope=e.error_scope||e.scope
e.async=false!==e.async
e.data=e.data||""
iz.fire("beforeInitialize",{settings:e})
t=new XMLHttpRequest
t.overrideMimeType&&t.overrideMimeType(e.content_type)
t.open(e.type||(e.data?"POST":"GET"),e.url,e.async)
e.crossDomain&&(t.withCredentials=true)
e.content_type&&t.setRequestHeader("Content-Type",e.content_type)
e.requestheaders&&sr.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)}))
t.setRequestHeader("X-Requested-With","XMLHttpRequest")
t=iz.fire("beforeSend",{xhr:t,settings:e}).xhr
t.send(e.data)
if(!e.async)return n()
co.setTimeout(n,10)}})
var uz=sr.extend
var fz=function(){function e(e){this.settings=uz({},e)
this.count=0}e.sendRPC=function(t){return(new e).send(t)}
e.prototype.send=function(e){var t=e.error,r=e.success
var n=uz(this.settings,e)
n.success=function(e,a){e=az.parse(e)
"undefined"===typeof e&&(e={error:"JSON Parse error."})
e.error?t.call(n.error_scope||n.scope,e.error,a):r.call(n.success_scope||n.scope,e.result)}
n.error=function(e,r){t&&t.call(n.error_scope||n.scope,e,r)}
n.data=az.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params})
n.content_type="application/json"
iz.send(n)}
return e}()
var cz=function(){return function(){var e={}
var t=[]
var r={getItem:function(t){var r=e[t]
return r||null},setItem:function(r,n){t.push(r)
e[r]=String(n)},key:function(e){return t[e]},removeItem:function(r){t=t.filter((function(e){return e===r}))
delete e[r]},clear:function(){t=[]
e={}},length:0}
Object.defineProperty(r,"length",{get:function(){return t.length},configurable:false,enumerable:false})
return r}()}
var sz
try{var lz="__storage_test__"
sz=window.localStorage
sz.setItem(lz,lz)
sz.removeItem(lz)}catch(e){sz=cz()}var dz=sz
var vz={geom:{Rect:qU},util:{Promise:to,Delay:co,Tools:sr,VK:jg,URI:lU,Class:QU,EventDispatcher:UF,Observable:jF,I18n:Zc,XHR:iz,JSON:az,JSONRequest:fz,JSONP:oz,LocalStorage:dz,Color:rz},dom:{EventUtils:_u,Sizzle:Rf,DomQuery:xc,TreeWalker:mo,TextSeeker:Ms,DOMUtils:Dc,ScriptLoader:Uc,RangeUtils:lh,Serializer:z_,StyleSheetLoader:so,ControlSelection:Vg,BookmarkManager:Eg,Selection:YE,Event:_u.Event},html:{Styles:pu,Entities:ru,Node:Rb,Schema:vu,SaxParser:Wb,DomParser:__,Writer:Ob,Serializer:Bb},Env:Jt,AddOnManager:ts,Annotator:Ng,Formatter:kA,UndoManager:TA,EditorCommands:wF,WindowManager:XT,NotificationManager:qT,EditorObservable:XF,Shortcuts:aU,Editor:hU,FocusManager:Ty,EditorManager:BU,DOM:Dc.DOM,ScriptLoader:Uc.ScriptLoader,PluginManager:$T,ThemeManager:WT,IconManager:RT,Resource:KU,trim:sr.trim,isArray:sr.isArray,is:sr.is,toArray:sr.toArray,makeMap:sr.makeMap,each:sr.each,map:sr.map,grep:sr.grep,inArray:sr.inArray,extend:sr.extend,create:sr.create,walk:sr.walk,createNS:sr.createNS,resolve:sr.resolve,explode:sr.explode,_addCacheSuffix:sr._addCacheSuffix,isOpera:Jt.opera,isWebKit:Jt.webkit,isIE:Jt.ie,isGecko:Jt.gecko,isMac:Jt.mac}
var mz=sr.extend(BU,vz)
var pz=function(t){try{e.exports=t}catch(e){}}
var gz=function(e){window.tinymce=e
window.tinyMCE=e}
gz(mz)
pz(mz)})()}).call(this,r("yLpj"),r("URgk").setImmediate)},URgk:function(e,t,r){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window
var a=Function.prototype.apply
t.setTimeout=function(){return new o(a.call(setTimeout,n,arguments),clearTimeout)}
t.setInterval=function(){return new o(a.call(setInterval,n,arguments),clearInterval)}
t.clearTimeout=t.clearInterval=function(e){e&&e.close()}
function o(e,t){this._id=e
this._clearFn=t}o.prototype.unref=o.prototype.ref=function(){}
o.prototype.close=function(){this._clearFn.call(n,this._id)}
t.enroll=function(e,t){clearTimeout(e._idleTimeoutId)
e._idleTimeout=t}
t.unenroll=function(e){clearTimeout(e._idleTimeoutId)
e._idleTimeout=-1}
t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId)
var t=e._idleTimeout
t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))}
r("YBdB")
t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate
t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r("yLpj"))},YBdB:function(e,t,r){(function(e,t){(function(e,r){"use strict"
if(e.setImmediate)return
var n=1
var a={}
var o=false
var i=e.document
var u
function f(e){"function"!==typeof e&&(e=new Function(""+e))
var t=new Array(arguments.length-1)
for(var r=0;r<t.length;r++)t[r]=arguments[r+1]
var o={callback:e,args:t}
a[n]=o
u(n)
return n++}function c(e){delete a[e]}function s(e){var t=e.callback
var n=e.args
switch(n.length){case 0:t()
break
case 1:t(n[0])
break
case 2:t(n[0],n[1])
break
case 3:t(n[0],n[1],n[2])
break
default:t.apply(r,n)}}function l(e){if(o)setTimeout(l,0,e)
else{var t=a[e]
if(t){o=true
try{s(t)}finally{c(e)
o=false}}}}function d(){u=function(e){t.nextTick((function(){l(e)}))}}function v(){if(e.postMessage&&!e.importScripts){var t=true
var r=e.onmessage
e.onmessage=function(){t=false}
e.postMessage("","*")
e.onmessage=r
return t}}function m(){var t="setImmediate$"+Math.random()+"$"
var r=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))}
e.addEventListener?e.addEventListener("message",r,false):e.attachEvent("onmessage",r)
u=function(r){e.postMessage(t+r,"*")}}function p(){var e=new MessageChannel
e.port1.onmessage=function(e){var t=e.data
l(t)}
u=function(t){e.port2.postMessage(t)}}function g(){var e=i.documentElement
u=function(t){var r=i.createElement("script")
r.onreadystatechange=function(){l(t)
r.onreadystatechange=null
e.removeChild(r)
r=null}
e.appendChild(r)}}function h(){u=function(e){setTimeout(l,0,e)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e)
y=y&&y.setTimeout?y:e
"[object process]"==={}.toString.call(e.process)?d():v()?m():e.MessageChannel?p():i&&"onreadystatechange"in i.createElement("script")?g():h()
y.setImmediate=f
y.clearImmediate=c})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,r("yLpj"),r("8oxB"))}}])

//# sourceMappingURL=170-c-2a18f57558.js.map